{"version":3,"file":"requestactions.min.js","sources":["../src/requestactions.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * Request actions.\r\n *\r\n * @module     tool_dataprivacy/requestactions\r\n * @copyright  2018 Jun Pataleta\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\ndefine([\r\n    'jquery',\r\n    'core/ajax',\r\n    'core/notification',\r\n    'core/str',\r\n    'core/modal_save_cancel',\r\n    'core/modal_events',\r\n    'core/templates',\r\n    'tool_dataprivacy/data_request_modal',\r\n    'tool_dataprivacy/events',\r\n    'tool_dataprivacy/selectedcourses'\r\n], function(\r\n    $, Ajax, Notification, Str, ModalSaveCancel, ModalEvents, Templates, ModalDataRequest, DataPrivacyEvents, SelectedCourses\r\n) {\r\n\r\n    /**\r\n     * List of action selectors.\r\n     *\r\n     * @type {{APPROVE_REQUEST: string}}\r\n     * @type {{DENY_REQUEST: string}}\r\n     * @type {{VIEW_REQUEST: string}}\r\n     * @type {{MARK_COMPLETE: string}}\r\n     * @type {{CHANGE_BULK_ACTION: string}}\r\n     * @type {{CONFIRM_BULK_ACTION: string}}\r\n     * @type {{SELECT_ALL: string}}\r\n     */\r\n    var ACTIONS = {\r\n        APPROVE_REQUEST: '[data-action=\"approve\"]',\r\n        DENY_REQUEST: '[data-action=\"deny\"]',\r\n        VIEW_REQUEST: '[data-action=\"view\"]',\r\n        MARK_COMPLETE: '[data-action=\"complete\"]',\r\n        CHANGE_BULK_ACTION: '[id=\"bulk-action\"]',\r\n        CONFIRM_BULK_ACTION: '[id=\"confirm-bulk-action\"]',\r\n        SELECT_ALL: '[data-action=\"selectall\"]',\r\n        APPROVE_REQUEST_SELECT_COURSE: '[data-action=\"approve-selected-courses\"]',\r\n    };\r\n\r\n    /**\r\n     * List of available bulk actions.\r\n     *\r\n     * @type {{APPROVE: number}}\r\n     * @type {{DENY: number}}\r\n     */\r\n    var BULK_ACTIONS = {\r\n        APPROVE: 1,\r\n        DENY: 2\r\n    };\r\n\r\n    /**\r\n     * List of selectors.\r\n     *\r\n     * @type {{SELECT_REQUEST: string}}\r\n     */\r\n    var SELECTORS = {\r\n        SELECT_REQUEST: '.selectrequests'\r\n    };\r\n\r\n    /**\r\n     * RequestActions class.\r\n     */\r\n    var RequestActions = function() {\r\n        this.registerEvents();\r\n    };\r\n\r\n    /**\r\n     * Register event listeners.\r\n     */\r\n    RequestActions.prototype.registerEvents = function() {\r\n        $(ACTIONS.VIEW_REQUEST).click(function(e) {\r\n            e.preventDefault();\r\n\r\n            var requestId = $(this).data('requestid');\r\n            var contextId = $(this).data('contextid');\r\n\r\n            // Cancel the request.\r\n            var params = {\r\n                'requestid': requestId\r\n            };\r\n\r\n            var request = {\r\n                methodname: 'tool_dataprivacy_get_data_request',\r\n                args: params\r\n            };\r\n\r\n            var promises = Ajax.call([request]);\r\n            $.when(promises[0]).then(function(data) {\r\n                if (data.result) {\r\n                    return data.result;\r\n                }\r\n                // Fail.\r\n                Notification.addNotification({\r\n                    message: data.warnings[0].message,\r\n                    type: 'error'\r\n                });\r\n                return false;\r\n\r\n            }).then(function(data) {\r\n                var body = Templates.render('tool_dataprivacy/request_details', data);\r\n                var templateContext = {\r\n                    approvedeny: data.approvedeny,\r\n                    canmarkcomplete: data.canmarkcomplete,\r\n                    allowfiltering: data.allowfiltering\r\n                };\r\n                return ModalDataRequest.create({\r\n                    title: data.typename,\r\n                    body: body,\r\n                    large: true,\r\n                    templateContext: templateContext\r\n                });\r\n\r\n            }).then(function(modal) {\r\n                // Handle approve event.\r\n                modal.getRoot().on(DataPrivacyEvents.approve, function() {\r\n                    showConfirmation(DataPrivacyEvents.approve, approveEventWsData(requestId));\r\n                });\r\n\r\n                // Handle deny event.\r\n                modal.getRoot().on(DataPrivacyEvents.deny, function() {\r\n                    showConfirmation(DataPrivacyEvents.deny, denyEventWsData(requestId));\r\n                });\r\n\r\n                // Handle send event.\r\n                modal.getRoot().on(DataPrivacyEvents.complete, function() {\r\n                    var params = {\r\n                        'requestid': requestId\r\n                    };\r\n                    handleSave('tool_dataprivacy_mark_complete', params);\r\n                });\r\n\r\n                // Handle hidden event.\r\n                modal.getRoot().on(ModalEvents.hidden, function() {\r\n                    // Destroy when hidden.\r\n                    modal.destroy();\r\n                });\r\n\r\n                modal.getRoot().on(DataPrivacyEvents.approveSelectCourses, function() {\r\n                    new SelectedCourses(contextId, requestId);\r\n                });\r\n\r\n                // Show the modal!\r\n                modal.show();\r\n\r\n                return;\r\n\r\n            }).catch(Notification.exception);\r\n        });\r\n\r\n        $(ACTIONS.APPROVE_REQUEST_SELECT_COURSE).click(function(e) {\r\n            e.preventDefault();\r\n\r\n            var requestId = $(this).data('requestid');\r\n            var contextId = $(this).data('contextid');\r\n\r\n            new SelectedCourses(contextId, requestId);\r\n        });\r\n\r\n        $(ACTIONS.APPROVE_REQUEST).click(function(e) {\r\n            e.preventDefault();\r\n\r\n            var requestId = $(this).data('requestid');\r\n            showConfirmation(DataPrivacyEvents.approve, approveEventWsData(requestId));\r\n        });\r\n\r\n        $(ACTIONS.DENY_REQUEST).click(function(e) {\r\n            e.preventDefault();\r\n\r\n            var requestId = $(this).data('requestid');\r\n            showConfirmation(DataPrivacyEvents.deny, denyEventWsData(requestId));\r\n        });\r\n\r\n        $(ACTIONS.MARK_COMPLETE).click(function(e) {\r\n            e.preventDefault();\r\n\r\n            var requestId = $(this).data('requestid');\r\n            showConfirmation(DataPrivacyEvents.complete, completeEventWsData(requestId));\r\n        });\r\n\r\n        $(ACTIONS.CONFIRM_BULK_ACTION).click(function() {\r\n            var requestIds = [];\r\n            var actionEvent = '';\r\n            var wsdata = {};\r\n            var bulkActionKeys = [\r\n                {\r\n                    key: 'selectbulkaction',\r\n                    component: 'tool_dataprivacy'\r\n                },\r\n                {\r\n                    key: 'selectdatarequests',\r\n                    component: 'tool_dataprivacy'\r\n                },\r\n                {\r\n                    key: 'ok'\r\n                }\r\n            ];\r\n\r\n            var bulkaction = parseInt($('#bulk-action').val());\r\n\r\n            if (bulkaction != BULK_ACTIONS.APPROVE && bulkaction != BULK_ACTIONS.DENY) {\r\n                Str.get_strings(bulkActionKeys).done(function(langStrings) {\r\n                    Notification.alert('', langStrings[0], langStrings[2]);\r\n                }).fail(Notification.exception);\r\n\r\n                return;\r\n            }\r\n\r\n            $(\".selectrequests:checked\").each(function() {\r\n                requestIds.push($(this).val());\r\n            });\r\n\r\n            if (requestIds.length < 1) {\r\n                Str.get_strings(bulkActionKeys).done(function(langStrings) {\r\n                    Notification.alert('', langStrings[1], langStrings[2]);\r\n                }).fail(Notification.exception);\r\n\r\n                return;\r\n            }\r\n\r\n            switch (bulkaction) {\r\n                case BULK_ACTIONS.APPROVE:\r\n                    actionEvent = DataPrivacyEvents.bulkApprove;\r\n                    wsdata = bulkApproveEventWsData(requestIds);\r\n                    break;\r\n                case BULK_ACTIONS.DENY:\r\n                    actionEvent = DataPrivacyEvents.bulkDeny;\r\n                    wsdata = bulkDenyEventWsData(requestIds);\r\n            }\r\n\r\n            showConfirmation(actionEvent, wsdata);\r\n        });\r\n\r\n        $(ACTIONS.SELECT_ALL).change(function(e) {\r\n            e.preventDefault();\r\n\r\n            var selectAll = $(this).is(':checked');\r\n            $(SELECTORS.SELECT_REQUEST).prop('checked', selectAll);\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Return the webservice data for the approve request action.\r\n     *\r\n     * @param {Number} requestId The ID of the request.\r\n     * @return {Object}\r\n     */\r\n    function approveEventWsData(requestId) {\r\n        return {\r\n            'wsfunction': 'tool_dataprivacy_approve_data_request',\r\n            'wsparams': {'requestid': requestId}\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Return the webservice data for the bulk approve request action.\r\n     *\r\n     * @param {Array} requestIds The array of request ID's.\r\n     * @return {Object}\r\n     */\r\n    function bulkApproveEventWsData(requestIds) {\r\n        return {\r\n            'wsfunction': 'tool_dataprivacy_bulk_approve_data_requests',\r\n            'wsparams': {'requestids': requestIds}\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Return the webservice data for the deny request action.\r\n     *\r\n     * @param {Number} requestId The ID of the request.\r\n     * @return {Object}\r\n     */\r\n    function denyEventWsData(requestId) {\r\n        return {\r\n            'wsfunction': 'tool_dataprivacy_deny_data_request',\r\n            'wsparams': {'requestid': requestId}\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Return the webservice data for the bulk deny request action.\r\n     *\r\n     * @param {Array} requestIds The array of request ID's.\r\n     * @return {Object}\r\n     */\r\n    function bulkDenyEventWsData(requestIds) {\r\n        return {\r\n            'wsfunction': 'tool_dataprivacy_bulk_deny_data_requests',\r\n            'wsparams': {'requestids': requestIds}\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Return the webservice data for the complete request action.\r\n     *\r\n     * @param {Number} requestId The ID of the request.\r\n     * @return {Object}\r\n     */\r\n    function completeEventWsData(requestId) {\r\n        return {\r\n            'wsfunction': 'tool_dataprivacy_mark_complete',\r\n            'wsparams': {'requestid': requestId}\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Show the confirmation dialogue.\r\n     *\r\n     * @param {String} action The action name.\r\n     * @param {Object} wsdata Object containing ws data.\r\n     */\r\n    function showConfirmation(action, wsdata) {\r\n        var keys = [];\r\n\r\n        switch (action) {\r\n            case DataPrivacyEvents.approve:\r\n                keys = [\r\n                    {\r\n                        key: 'approverequest',\r\n                        component: 'tool_dataprivacy'\r\n                    },\r\n                    {\r\n                        key: 'confirmapproval',\r\n                        component: 'tool_dataprivacy'\r\n                    }\r\n                ];\r\n                break;\r\n            case DataPrivacyEvents.bulkApprove:\r\n                keys = [\r\n                    {\r\n                        key: 'bulkapproverequests',\r\n                        component: 'tool_dataprivacy'\r\n                    },\r\n                    {\r\n                        key: 'confirmbulkapproval',\r\n                        component: 'tool_dataprivacy'\r\n                    }\r\n                ];\r\n                break;\r\n            case DataPrivacyEvents.deny:\r\n                keys = [\r\n                    {\r\n                        key: 'denyrequest',\r\n                        component: 'tool_dataprivacy'\r\n                    },\r\n                    {\r\n                        key: 'confirmdenial',\r\n                        component: 'tool_dataprivacy'\r\n                    }\r\n                ];\r\n                break;\r\n            case DataPrivacyEvents.bulkDeny:\r\n                keys = [\r\n                    {\r\n                        key: 'bulkdenyrequests',\r\n                        component: 'tool_dataprivacy'\r\n                    },\r\n                    {\r\n                        key: 'confirmbulkdenial',\r\n                        component: 'tool_dataprivacy'\r\n                    }\r\n                ];\r\n                break;\r\n            case DataPrivacyEvents.complete:\r\n                keys = [\r\n                    {\r\n                        key: 'markcomplete',\r\n                        component: 'tool_dataprivacy'\r\n                    },\r\n                    {\r\n                        key: 'confirmcompletion',\r\n                        component: 'tool_dataprivacy'\r\n                    }\r\n                ];\r\n                break;\r\n        }\r\n\r\n        var modalTitle = '';\r\n        Str.get_strings(keys).then(function(langStrings) {\r\n            modalTitle = langStrings[0];\r\n            var confirmMessage = langStrings[1];\r\n            return ModalSaveCancel.create({\r\n                title: modalTitle,\r\n                body: confirmMessage,\r\n            });\r\n        }).then(function(modal) {\r\n            modal.setSaveButtonText(modalTitle);\r\n\r\n            // Handle save event.\r\n            modal.getRoot().on(ModalEvents.save, function() {\r\n                handleSave(wsdata.wsfunction, wsdata.wsparams);\r\n            });\r\n\r\n            // Handle hidden event.\r\n            modal.getRoot().on(ModalEvents.hidden, function() {\r\n                // Destroy when hidden.\r\n                modal.destroy();\r\n            });\r\n\r\n            modal.show();\r\n\r\n            return;\r\n\r\n        }).catch(Notification.exception);\r\n    }\r\n\r\n    /**\r\n     * Calls a web service function and reloads the page on success and shows a notification.\r\n     * Displays an error notification, otherwise.\r\n     *\r\n     * @param {String} wsfunction The web service function to call.\r\n     * @param {Object} params The parameters for the web service functoon.\r\n     */\r\n    function handleSave(wsfunction, params) {\r\n        // Confirm the request.\r\n        var request = {\r\n            methodname: wsfunction,\r\n            args: params\r\n        };\r\n\r\n        Ajax.call([request])[0].done(function(data) {\r\n            if (data.result) {\r\n                // On success, reload the page so that the data request table will be updated.\r\n                // TODO: Probably in the future, better to reload the table or the target data request via AJAX.\r\n                window.location.reload();\r\n            } else {\r\n                // Add the notification.\r\n                Notification.addNotification({\r\n                    message: data.warnings[0].message,\r\n                    type: 'error'\r\n                });\r\n            }\r\n        }).fail(Notification.exception);\r\n    }\r\n\r\n    return RequestActions;\r\n});\r\n"],"names":["define","$","Ajax","Notification","Str","ModalSaveCancel","ModalEvents","Templates","ModalDataRequest","DataPrivacyEvents","SelectedCourses","ACTIONS","BULK_ACTIONS","SELECTORS","RequestActions","registerEvents","approveEventWsData","requestId","denyEventWsData","showConfirmation","action","wsdata","keys","approve","key","component","bulkApprove","deny","bulkDeny","complete","modalTitle","get_strings","then","langStrings","confirmMessage","create","title","body","modal","setSaveButtonText","getRoot","on","save","handleSave","wsfunction","wsparams","hidden","destroy","show","catch","exception","params","request","methodname","args","call","done","data","result","window","location","reload","addNotification","message","warnings","type","fail","prototype","click","e","preventDefault","this","contextId","promises","when","render","templateContext","approvedeny","canmarkcomplete","allowfiltering","typename","large","approveSelectCourses","completeEventWsData","requestIds","actionEvent","bulkActionKeys","bulkaction","parseInt","val","each","push","length","alert","bulkApproveEventWsData","bulkDenyEventWsData","change","selectAll","is","prop"],"mappings":";;;;;;;AAsBAA,yCAAO,CACH,SACA,YACA,oBACA,WACA,yBACA,oBACA,iBACA,sCACA,0BACA,qCACD,SACCC,EAAGC,KAAMC,aAAcC,IAAKC,gBAAiBC,YAAaC,UAAWC,iBAAkBC,kBAAmBC,qBActGC,wBACiB,0BADjBA,qBAEc,uBAFdA,qBAGc,uBAHdA,sBAIe,2BAJfA,4BAMqB,6BANrBA,mBAOY,4BAPZA,sCAQ+B,2CAS/BC,qBACS,EADTA,kBAEM,EAQNC,yBACgB,kBAMhBC,eAAiB,gBACZC,2BAuLAC,mBAAmBC,iBACjB,YACW,iDACF,WAAcA,qBAuBzBC,gBAAgBD,iBACd,YACW,8CACF,WAAcA,qBAoCzBE,iBAAiBC,OAAQC,YAC1BC,KAAO,UAEHF,aACCX,kBAAkBc,QACnBD,KAAO,CACH,CACIE,IAAK,iBACLC,UAAW,oBAEf,CACID,IAAK,kBACLC,UAAW,gCAIlBhB,kBAAkBiB,YACnBJ,KAAO,CACH,CACIE,IAAK,sBACLC,UAAW,oBAEf,CACID,IAAK,sBACLC,UAAW,gCAIlBhB,kBAAkBkB,KACnBL,KAAO,CACH,CACIE,IAAK,cACLC,UAAW,oBAEf,CACID,IAAK,gBACLC,UAAW,gCAIlBhB,kBAAkBmB,SACnBN,KAAO,CACH,CACIE,IAAK,mBACLC,UAAW,oBAEf,CACID,IAAK,oBACLC,UAAW,gCAIlBhB,kBAAkBoB,SACnBP,KAAO,CACH,CACIE,IAAK,eACLC,UAAW,oBAEf,CACID,IAAK,oBACLC,UAAW,yBAMvBK,WAAa,GACjB1B,IAAI2B,YAAYT,MAAMU,MAAK,SAASC,aAChCH,WAAaG,YAAY,OACrBC,eAAiBD,YAAY,UAC1B5B,gBAAgB8B,OAAO,CAC1BC,MAAON,WACPO,KAAMH,oBAEXF,MAAK,SAASM,OACbA,MAAMC,kBAAkBT,YAGxBQ,MAAME,UAAUC,GAAGnC,YAAYoC,MAAM,WACjCC,WAAWtB,OAAOuB,WAAYvB,OAAOwB,aAIzCP,MAAME,UAAUC,GAAGnC,YAAYwC,QAAQ,WAEnCR,MAAMS,aAGVT,MAAMU,UAIPC,MAAM9C,aAAa+C,oBAUjBP,WAAWC,WAAYO,YAExBC,QAAU,CACVC,WAAYT,WACZU,KAAMH,QAGVjD,KAAKqD,KAAK,CAACH,UAAU,GAAGI,MAAK,SAASC,MAC9BA,KAAKC,OAGLC,OAAOC,SAASC,SAGhB1D,aAAa2D,gBAAgB,CACzBC,QAASN,KAAKO,SAAS,GAAGD,QAC1BE,KAAM,aAGfC,KAAK/D,aAAa+C,kBA3WzBpC,eAAeqD,UAAUpD,eAAiB,WACtCd,EAAEU,sBAAsByD,OAAM,SAASC,GACnCA,EAAEC,qBAEErD,UAAYhB,EAAEsE,MAAMd,KAAK,aACzBe,UAAYvE,EAAEsE,MAAMd,KAAK,aAOzBL,QAAU,CACVC,WAAY,oCACZC,KANS,WACIrC,YAQbwD,SAAWvE,KAAKqD,KAAK,CAACH,UAC1BnD,EAAEyE,KAAKD,SAAS,IAAIzC,MAAK,SAASyB,aAC1BA,KAAKC,OACED,KAAKC,QAGhBvD,aAAa2D,gBAAgB,CACzBC,QAASN,KAAKO,SAAS,GAAGD,QAC1BE,KAAM,WAEH,MAERjC,MAAK,SAASyB,UACTpB,KAAO9B,UAAUoE,OAAO,mCAAoClB,MAC5DmB,gBAAkB,CAClBC,YAAapB,KAAKoB,YAClBC,gBAAiBrB,KAAKqB,gBACtBC,eAAgBtB,KAAKsB,uBAElBvE,iBAAiB2B,OAAO,CAC3BC,MAAOqB,KAAKuB,SACZ3C,KAAMA,KACN4C,OAAO,EACPL,gBAAiBA,qBAGtB5C,MAAK,SAASM,OAEbA,MAAME,UAAUC,GAAGhC,kBAAkBc,SAAS,WAC1CJ,iBAAiBV,kBAAkBc,QAASP,mBAAmBC,eAInEqB,MAAME,UAAUC,GAAGhC,kBAAkBkB,MAAM,WACvCR,iBAAiBV,kBAAkBkB,KAAMT,gBAAgBD,eAI7DqB,MAAME,UAAUC,GAAGhC,kBAAkBoB,UAAU,WAI3Cc,WAAW,iCAHE,WACI1B,eAMrBqB,MAAME,UAAUC,GAAGnC,YAAYwC,QAAQ,WAEnCR,MAAMS,aAGVT,MAAME,UAAUC,GAAGhC,kBAAkByE,sBAAsB,eACnDxE,gBAAgB8D,UAAWvD,cAInCqB,MAAMU,UAIPC,MAAM9C,aAAa+C,cAG1BjD,EAAEU,uCAAuCyD,OAAM,SAASC,GACpDA,EAAEC,qBAEErD,UAAYhB,EAAEsE,MAAMd,KAAK,aACzBe,UAAYvE,EAAEsE,MAAMd,KAAK,iBAEzB/C,gBAAgB8D,UAAWvD,cAGnChB,EAAEU,yBAAyByD,OAAM,SAASC,GACtCA,EAAEC,qBAEErD,UAAYhB,EAAEsE,MAAMd,KAAK,aAC7BtC,iBAAiBV,kBAAkBc,QAASP,mBAAmBC,eAGnEhB,EAAEU,sBAAsByD,OAAM,SAASC,GACnCA,EAAEC,qBAEErD,UAAYhB,EAAEsE,MAAMd,KAAK,aAC7BtC,iBAAiBV,kBAAkBkB,KAAMT,gBAAgBD,eAG7DhB,EAAEU,uBAAuByD,OAAM,SAASC,GACpCA,EAAEC,qBAEErD,UAAYhB,EAAEsE,MAAMd,KAAK,aAC7BtC,iBAAiBV,kBAAkBoB,kBA0HdZ,iBAClB,YACW,0CACF,WAAcA,YA7HmBkE,CAAoBlE,eAGrEhB,EAAEU,6BAA6ByD,OAAM,eAC7BgB,WAAa,GACbC,YAAc,GACdhE,OAAS,GACTiE,eAAiB,CACjB,CACI9D,IAAK,mBACLC,UAAW,oBAEf,CACID,IAAK,qBACLC,UAAW,oBAEf,CACID,IAAK,OAIT+D,WAAaC,SAASvF,EAAE,gBAAgBwF,UAExCF,YAAc3E,sBAAwB2E,YAAc3E,qBAQxDX,EAAE,2BAA2ByF,MAAK,WAC9BN,WAAWO,KAAK1F,EAAEsE,MAAMkB,UAGxBL,WAAWQ,OAAS,EACpBxF,IAAI2B,YAAYuD,gBAAgB9B,MAAK,SAASvB,aAC1C9B,aAAa0F,MAAM,GAAI5D,YAAY,GAAIA,YAAY,OACpDiC,KAAK/D,aAAa+C,uBAKjBqC,iBACC3E,qBACDyE,YAAc5E,kBAAkBiB,YAChCL,gBAqCgB+D,kBACrB,YACW,uDACF,YAAeA,aAxCVU,CAAuBV,uBAE/BxE,kBACDyE,YAAc5E,kBAAkBmB,SAChCP,gBA2Da+D,kBAClB,YACW,oDACF,YAAeA,aA9DVW,CAAoBX,YAGrCjE,iBAAiBkE,YAAahE,aA7B1BjB,IAAI2B,YAAYuD,gBAAgB9B,MAAK,SAASvB,aAC1C9B,aAAa0F,MAAM,GAAI5D,YAAY,GAAIA,YAAY,OACpDiC,KAAK/D,aAAa+C,cA8B7BjD,EAAEU,oBAAoBqF,QAAO,SAAS3B,GAClCA,EAAEC,qBAEE2B,UAAYhG,EAAEsE,MAAM2B,GAAG,YAC3BjG,EAAEY,0BAA0BsF,KAAK,UAAWF,eAuM7CnF"}