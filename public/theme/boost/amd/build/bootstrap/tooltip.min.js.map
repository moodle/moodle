{"version":3,"file":"tooltip.min.js","sources":["../../src/bootstrap/tooltip.js"],"sourcesContent":["/**\r\n * --------------------------------------------------------------------------\r\n * Bootstrap tooltip.js\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\nimport * as Popper from 'core/popper2'\r\nimport BaseComponent from './base-component'\r\nimport EventHandler from './dom/event-handler'\r\nimport Manipulator from './dom/manipulator'\r\nimport {\r\n  defineJQueryPlugin, execute, findShadowRoot, getElement, getUID, isRTL, noop\r\n} from './util/index'\r\nimport { DefaultAllowlist } from './util/sanitizer'\r\nimport TemplateFactory from './util/template-factory'\r\n\r\n/**\r\n * Constants\r\n */\r\n\r\nconst NAME = 'tooltip'\r\nconst DISALLOWED_ATTRIBUTES = new Set(['sanitize', 'allowList', 'sanitizeFn'])\r\n\r\nconst CLASS_NAME_FADE = 'fade'\r\nconst CLASS_NAME_MODAL = 'modal'\r\nconst CLASS_NAME_SHOW = 'show'\r\n\r\nconst SELECTOR_TOOLTIP_INNER = '.tooltip-inner'\r\nconst SELECTOR_MODAL = `.${CLASS_NAME_MODAL}`\r\n\r\nconst EVENT_MODAL_HIDE = 'hide.bs.modal'\r\n\r\nconst TRIGGER_HOVER = 'hover'\r\nconst TRIGGER_FOCUS = 'focus'\r\nconst TRIGGER_CLICK = 'click'\r\nconst TRIGGER_MANUAL = 'manual'\r\n\r\nconst EVENT_HIDE = 'hide'\r\nconst EVENT_HIDDEN = 'hidden'\r\nconst EVENT_SHOW = 'show'\r\nconst EVENT_SHOWN = 'shown'\r\nconst EVENT_INSERTED = 'inserted'\r\nconst EVENT_CLICK = 'click'\r\nconst EVENT_FOCUSIN = 'focusin'\r\nconst EVENT_FOCUSOUT = 'focusout'\r\nconst EVENT_MOUSEENTER = 'mouseenter'\r\nconst EVENT_MOUSELEAVE = 'mouseleave'\r\n\r\nconst AttachmentMap = {\r\n  AUTO: 'auto',\r\n  TOP: 'top',\r\n  RIGHT: isRTL() ? 'left' : 'right',\r\n  BOTTOM: 'bottom',\r\n  LEFT: isRTL() ? 'right' : 'left'\r\n}\r\n\r\nconst Default = {\r\n  allowList: DefaultAllowlist,\r\n  animation: true,\r\n  boundary: 'clippingParents',\r\n  container: false,\r\n  customClass: '',\r\n  delay: 0,\r\n  fallbackPlacements: ['top', 'right', 'bottom', 'left'],\r\n  html: false,\r\n  offset: [0, 6],\r\n  placement: 'top',\r\n  popperConfig: null,\r\n  sanitize: true,\r\n  sanitizeFn: null,\r\n  selector: false,\r\n  template: '<div class=\"tooltip\" role=\"tooltip\">' +\r\n            '<div class=\"tooltip-arrow\"></div>' +\r\n            '<div class=\"tooltip-inner\"></div>' +\r\n            '</div>',\r\n  title: '',\r\n  trigger: 'hover focus'\r\n}\r\n\r\nconst DefaultType = {\r\n  allowList: 'object',\r\n  animation: 'boolean',\r\n  boundary: '(string|element)',\r\n  container: '(string|element|boolean)',\r\n  customClass: '(string|function)',\r\n  delay: '(number|object)',\r\n  fallbackPlacements: 'array',\r\n  html: 'boolean',\r\n  offset: '(array|string|function)',\r\n  placement: '(string|function)',\r\n  popperConfig: '(null|object|function)',\r\n  sanitize: 'boolean',\r\n  sanitizeFn: '(null|function)',\r\n  selector: '(string|boolean)',\r\n  template: 'string',\r\n  title: '(string|element|function)',\r\n  trigger: 'string'\r\n}\r\n\r\n/**\r\n * Class definition\r\n */\r\n\r\nclass Tooltip extends BaseComponent {\r\n  constructor(element, config) {\r\n    if (typeof Popper === 'undefined') {\r\n      throw new TypeError('Bootstrap\\'s tooltips require Popper (https://popper.js.org)')\r\n    }\r\n\r\n    super(element, config)\r\n\r\n    // Private\r\n    this._isEnabled = true\r\n    this._timeout = 0\r\n    this._isHovered = null\r\n    this._activeTrigger = {}\r\n    this._popper = null\r\n    this._templateFactory = null\r\n    this._newContent = null\r\n\r\n    // Protected\r\n    this.tip = null\r\n\r\n    this._setListeners()\r\n\r\n    if (!this._config.selector) {\r\n      this._fixTitle()\r\n    }\r\n  }\r\n\r\n  // Getters\r\n  static get Default() {\r\n    return Default\r\n  }\r\n\r\n  static get DefaultType() {\r\n    return DefaultType\r\n  }\r\n\r\n  static get NAME() {\r\n    return NAME\r\n  }\r\n\r\n  // Public\r\n  enable() {\r\n    this._isEnabled = true\r\n  }\r\n\r\n  disable() {\r\n    this._isEnabled = false\r\n  }\r\n\r\n  toggleEnabled() {\r\n    this._isEnabled = !this._isEnabled\r\n  }\r\n\r\n  toggle() {\r\n    if (!this._isEnabled) {\r\n      return\r\n    }\r\n\r\n    this._activeTrigger.click = !this._activeTrigger.click\r\n    if (this._isShown()) {\r\n      this._leave()\r\n      return\r\n    }\r\n\r\n    this._enter()\r\n  }\r\n\r\n  dispose() {\r\n    clearTimeout(this._timeout)\r\n\r\n    EventHandler.off(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler)\r\n\r\n    if (this._element.getAttribute('data-bs-original-title')) {\r\n      this._element.setAttribute('title', this._element.getAttribute('data-bs-original-title'))\r\n    }\r\n\r\n    this._disposePopper()\r\n    super.dispose()\r\n  }\r\n\r\n  show() {\r\n    if (this._element.style.display === 'none') {\r\n      throw new Error('Please use show on visible elements')\r\n    }\r\n\r\n    if (!(this._isWithContent() && this._isEnabled)) {\r\n      return\r\n    }\r\n\r\n    const showEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOW))\r\n    const shadowRoot = findShadowRoot(this._element)\r\n    const isInTheDom = (shadowRoot || this._element.ownerDocument.documentElement).contains(this._element)\r\n\r\n    if (showEvent.defaultPrevented || !isInTheDom) {\r\n      return\r\n    }\r\n\r\n    // TODO: v6 remove this or make it optional\r\n    this._disposePopper()\r\n\r\n    const tip = this._getTipElement()\r\n\r\n    this._element.setAttribute('aria-describedby', tip.getAttribute('id'))\r\n\r\n    const { container } = this._config\r\n\r\n    if (!this._element.ownerDocument.documentElement.contains(this.tip)) {\r\n      container.append(tip)\r\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_INSERTED))\r\n    }\r\n\r\n    this._popper = this._createPopper(tip)\r\n\r\n    tip.classList.add(CLASS_NAME_SHOW)\r\n\r\n    // If this is a touch-enabled device we add extra\r\n    // empty mouseover listeners to the body's immediate children;\r\n    // only needed because of broken event delegation on iOS\r\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\r\n    if ('ontouchstart' in document.documentElement) {\r\n      for (const element of [].concat(...document.body.children)) {\r\n        EventHandler.on(element, 'mouseover', noop)\r\n      }\r\n    }\r\n\r\n    const complete = () => {\r\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOWN))\r\n\r\n      if (this._isHovered === false) {\r\n        this._leave()\r\n      }\r\n\r\n      this._isHovered = false\r\n    }\r\n\r\n    this._queueCallback(complete, this.tip, this._isAnimated())\r\n  }\r\n\r\n  hide() {\r\n    if (!this._isShown()) {\r\n      return\r\n    }\r\n\r\n    const hideEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDE))\r\n    if (hideEvent.defaultPrevented) {\r\n      return\r\n    }\r\n\r\n    const tip = this._getTipElement()\r\n    tip.classList.remove(CLASS_NAME_SHOW)\r\n\r\n    // If this is a touch-enabled device we remove the extra\r\n    // empty mouseover listeners we added for iOS support\r\n    if ('ontouchstart' in document.documentElement) {\r\n      for (const element of [].concat(...document.body.children)) {\r\n        EventHandler.off(element, 'mouseover', noop)\r\n      }\r\n    }\r\n\r\n    this._activeTrigger[TRIGGER_CLICK] = false\r\n    this._activeTrigger[TRIGGER_FOCUS] = false\r\n    this._activeTrigger[TRIGGER_HOVER] = false\r\n    this._isHovered = null // it is a trick to support manual triggering\r\n\r\n    const complete = () => {\r\n      if (this._isWithActiveTrigger()) {\r\n        return\r\n      }\r\n\r\n      if (!this._isHovered) {\r\n        this._disposePopper()\r\n      }\r\n\r\n      this._element.removeAttribute('aria-describedby')\r\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDDEN))\r\n    }\r\n\r\n    this._queueCallback(complete, this.tip, this._isAnimated())\r\n  }\r\n\r\n  update() {\r\n    if (this._popper) {\r\n      this._popper.update()\r\n    }\r\n  }\r\n\r\n  // Protected\r\n  _isWithContent() {\r\n    return Boolean(this._getTitle())\r\n  }\r\n\r\n  _getTipElement() {\r\n    if (!this.tip) {\r\n      this.tip = this._createTipElement(this._newContent || this._getContentForTemplate())\r\n    }\r\n\r\n    return this.tip\r\n  }\r\n\r\n  _createTipElement(content) {\r\n    const tip = this._getTemplateFactory(content).toHtml()\r\n\r\n    // TODO: remove this check in v6\r\n    if (!tip) {\r\n      return null\r\n    }\r\n\r\n    tip.classList.remove(CLASS_NAME_FADE, CLASS_NAME_SHOW)\r\n    // TODO: v6 the following can be achieved with CSS only\r\n    tip.classList.add(`bs-${this.constructor.NAME}-auto`)\r\n\r\n    const tipId = getUID(this.constructor.NAME).toString()\r\n\r\n    tip.setAttribute('id', tipId)\r\n\r\n    if (this._isAnimated()) {\r\n      tip.classList.add(CLASS_NAME_FADE)\r\n    }\r\n\r\n    return tip\r\n  }\r\n\r\n  setContent(content) {\r\n    this._newContent = content\r\n    if (this._isShown()) {\r\n      this._disposePopper()\r\n      this.show()\r\n    }\r\n  }\r\n\r\n  _getTemplateFactory(content) {\r\n    if (this._templateFactory) {\r\n      this._templateFactory.changeContent(content)\r\n    } else {\r\n      this._templateFactory = new TemplateFactory({\r\n        ...this._config,\r\n        // the `content` var has to be after `this._config`\r\n        // to override config.content in case of popover\r\n        content,\r\n        extraClass: this._resolvePossibleFunction(this._config.customClass)\r\n      })\r\n    }\r\n\r\n    return this._templateFactory\r\n  }\r\n\r\n  _getContentForTemplate() {\r\n    return {\r\n      [SELECTOR_TOOLTIP_INNER]: this._getTitle()\r\n    }\r\n  }\r\n\r\n  _getTitle() {\r\n    return this._resolvePossibleFunction(this._config.title) || this._element.getAttribute('data-bs-original-title')\r\n  }\r\n\r\n  // Private\r\n  _initializeOnDelegatedTarget(event) {\r\n    return this.constructor.getOrCreateInstance(event.delegateTarget, this._getDelegateConfig())\r\n  }\r\n\r\n  _isAnimated() {\r\n    return this._config.animation || (this.tip && this.tip.classList.contains(CLASS_NAME_FADE))\r\n  }\r\n\r\n  _isShown() {\r\n    return this.tip && this.tip.classList.contains(CLASS_NAME_SHOW)\r\n  }\r\n\r\n  _createPopper(tip) {\r\n    const placement = execute(this._config.placement, [this, tip, this._element])\r\n    const attachment = AttachmentMap[placement.toUpperCase()]\r\n    return Popper.createPopper(this._element, tip, this._getPopperConfig(attachment))\r\n  }\r\n\r\n  _getOffset() {\r\n    const { offset } = this._config\r\n\r\n    if (typeof offset === 'string') {\r\n      return offset.split(',').map(value => Number.parseInt(value, 10))\r\n    }\r\n\r\n    if (typeof offset === 'function') {\r\n      return popperData => offset(popperData, this._element)\r\n    }\r\n\r\n    return offset\r\n  }\r\n\r\n  _resolvePossibleFunction(arg) {\r\n    return execute(arg, [this._element])\r\n  }\r\n\r\n  _getPopperConfig(attachment) {\r\n    const defaultBsPopperConfig = {\r\n      placement: attachment,\r\n      modifiers: [\r\n        {\r\n          name: 'flip',\r\n          options: {\r\n            fallbackPlacements: this._config.fallbackPlacements\r\n          }\r\n        },\r\n        {\r\n          name: 'offset',\r\n          options: {\r\n            offset: this._getOffset()\r\n          }\r\n        },\r\n        {\r\n          name: 'preventOverflow',\r\n          options: {\r\n            boundary: this._config.boundary\r\n          }\r\n        },\r\n        {\r\n          name: 'arrow',\r\n          options: {\r\n            element: `.${this.constructor.NAME}-arrow`\r\n          }\r\n        },\r\n        {\r\n          name: 'preSetPlacement',\r\n          enabled: true,\r\n          phase: 'beforeMain',\r\n          fn: data => {\r\n            // Pre-set Popper's placement attribute in order to read the arrow sizes properly.\r\n            // Otherwise, Popper mixes up the width and height dimensions since the initial arrow style is for top placement\r\n            this._getTipElement().setAttribute('data-popper-placement', data.state.placement)\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\n    return {\r\n      ...defaultBsPopperConfig,\r\n      ...execute(this._config.popperConfig, [defaultBsPopperConfig])\r\n    }\r\n  }\r\n\r\n  _setListeners() {\r\n    const triggers = this._config.trigger.split(' ')\r\n\r\n    for (const trigger of triggers) {\r\n      if (trigger === 'click') {\r\n        EventHandler.on(this._element, this.constructor.eventName(EVENT_CLICK), this._config.selector, event => {\r\n          const context = this._initializeOnDelegatedTarget(event)\r\n          context.toggle()\r\n        })\r\n      } else if (trigger !== TRIGGER_MANUAL) {\r\n        const eventIn = trigger === TRIGGER_HOVER ?\r\n          this.constructor.eventName(EVENT_MOUSEENTER) :\r\n          this.constructor.eventName(EVENT_FOCUSIN)\r\n        const eventOut = trigger === TRIGGER_HOVER ?\r\n          this.constructor.eventName(EVENT_MOUSELEAVE) :\r\n          this.constructor.eventName(EVENT_FOCUSOUT)\r\n\r\n        EventHandler.on(this._element, eventIn, this._config.selector, event => {\r\n          const context = this._initializeOnDelegatedTarget(event)\r\n          context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true\r\n          context._enter()\r\n        })\r\n        EventHandler.on(this._element, eventOut, this._config.selector, event => {\r\n          const context = this._initializeOnDelegatedTarget(event)\r\n          context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] =\r\n            context._element.contains(event.relatedTarget)\r\n\r\n          context._leave()\r\n        })\r\n      }\r\n    }\r\n\r\n    this._hideModalHandler = () => {\r\n      if (this._element) {\r\n        this.hide()\r\n      }\r\n    }\r\n\r\n    EventHandler.on(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler)\r\n  }\r\n\r\n  _fixTitle() {\r\n    const title = this._element.getAttribute('title')\r\n\r\n    if (!title) {\r\n      return\r\n    }\r\n\r\n    if (!this._element.getAttribute('aria-label') && !this._element.textContent.trim()) {\r\n      this._element.setAttribute('aria-label', title)\r\n    }\r\n\r\n    this._element.setAttribute('data-bs-original-title', title) // DO NOT USE IT. Is only for backwards compatibility\r\n    this._element.removeAttribute('title')\r\n  }\r\n\r\n  _enter() {\r\n    if (this._isShown() || this._isHovered) {\r\n      this._isHovered = true\r\n      return\r\n    }\r\n\r\n    this._isHovered = true\r\n\r\n    this._setTimeout(() => {\r\n      if (this._isHovered) {\r\n        this.show()\r\n      }\r\n    }, this._config.delay.show)\r\n  }\r\n\r\n  _leave() {\r\n    if (this._isWithActiveTrigger()) {\r\n      return\r\n    }\r\n\r\n    this._isHovered = false\r\n\r\n    this._setTimeout(() => {\r\n      if (!this._isHovered) {\r\n        this.hide()\r\n      }\r\n    }, this._config.delay.hide)\r\n  }\r\n\r\n  _setTimeout(handler, timeout) {\r\n    clearTimeout(this._timeout)\r\n    this._timeout = setTimeout(handler, timeout)\r\n  }\r\n\r\n  _isWithActiveTrigger() {\r\n    return Object.values(this._activeTrigger).includes(true)\r\n  }\r\n\r\n  _getConfig(config) {\r\n    const dataAttributes = Manipulator.getDataAttributes(this._element)\r\n\r\n    for (const dataAttribute of Object.keys(dataAttributes)) {\r\n      if (DISALLOWED_ATTRIBUTES.has(dataAttribute)) {\r\n        delete dataAttributes[dataAttribute]\r\n      }\r\n    }\r\n\r\n    config = {\r\n      ...dataAttributes,\r\n      ...(typeof config === 'object' && config ? config : {})\r\n    }\r\n    config = this._mergeConfigObj(config)\r\n    config = this._configAfterMerge(config)\r\n    this._typeCheckConfig(config)\r\n    return config\r\n  }\r\n\r\n  _configAfterMerge(config) {\r\n    config.container = config.container === false ? document.body : getElement(config.container)\r\n\r\n    if (typeof config.delay === 'number') {\r\n      config.delay = {\r\n        show: config.delay,\r\n        hide: config.delay\r\n      }\r\n    }\r\n\r\n    if (typeof config.title === 'number') {\r\n      config.title = config.title.toString()\r\n    }\r\n\r\n    if (typeof config.content === 'number') {\r\n      config.content = config.content.toString()\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  _getDelegateConfig() {\r\n    const config = {}\r\n\r\n    for (const [key, value] of Object.entries(this._config)) {\r\n      if (this.constructor.Default[key] !== value) {\r\n        config[key] = value\r\n      }\r\n    }\r\n\r\n    config.selector = false\r\n    config.trigger = 'manual'\r\n\r\n    // In the future can be replaced with:\r\n    // const keysWithDifferentValues = Object.entries(this._config).filter(entry => this.constructor.Default[entry[0]] !== this._config[entry[0]])\r\n    // `Object.fromEntries(keysWithDifferentValues)`\r\n    return config\r\n  }\r\n\r\n  _disposePopper() {\r\n    if (this._popper) {\r\n      this._popper.destroy()\r\n      this._popper = null\r\n    }\r\n\r\n    if (this.tip) {\r\n      this.tip.remove()\r\n      this.tip = null\r\n    }\r\n  }\r\n\r\n  // Static\r\n  static jQueryInterface(config) {\r\n    return this.each(function () {\r\n      const data = Tooltip.getOrCreateInstance(this, config)\r\n\r\n      if (typeof config !== 'string') {\r\n        return\r\n      }\r\n\r\n      if (typeof data[config] === 'undefined') {\r\n        throw new TypeError(`No method named \"${config}\"`)\r\n      }\r\n\r\n      data[config]()\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * jQuery\r\n */\r\n\r\ndefineJQueryPlugin(Tooltip)\r\n\r\nexport default Tooltip\r\n"],"names":["DISALLOWED_ATTRIBUTES","Set","SELECTOR_MODAL","AttachmentMap","AUTO","TOP","RIGHT","BOTTOM","LEFT","Default","allowList","DefaultAllowlist","animation","boundary","container","customClass","delay","fallbackPlacements","html","offset","placement","popperConfig","sanitize","sanitizeFn","selector","template","title","trigger","DefaultType","Tooltip","BaseComponent","constructor","element","config","Popper","TypeError","_isEnabled","_timeout","_isHovered","_activeTrigger","_popper","_templateFactory","_newContent","tip","_setListeners","this","_config","_fixTitle","NAME","enable","disable","toggleEnabled","toggle","click","_isShown","_leave","_enter","dispose","clearTimeout","off","_element","closest","_hideModalHandler","getAttribute","setAttribute","_disposePopper","show","style","display","Error","_isWithContent","showEvent","EventHandler","eventName","isInTheDom","ownerDocument","documentElement","contains","defaultPrevented","_getTipElement","append","_createPopper","classList","add","document","concat","body","children","on","noop","_queueCallback","_isAnimated","hide","remove","_isWithActiveTrigger","removeAttribute","update","Boolean","_getTitle","_createTipElement","_getContentForTemplate","content","_getTemplateFactory","toHtml","tipId","toString","setContent","changeContent","TemplateFactory","extraClass","_resolvePossibleFunction","_initializeOnDelegatedTarget","event","getOrCreateInstance","delegateTarget","_getDelegateConfig","attachment","toUpperCase","createPopper","_getPopperConfig","_getOffset","split","map","value","Number","parseInt","popperData","arg","defaultBsPopperConfig","modifiers","name","options","enabled","phase","fn","data","state","triggers","eventIn","eventOut","context","type","relatedTarget","textContent","trim","_setTimeout","handler","timeout","setTimeout","Object","values","includes","_getConfig","dataAttributes","Manipulator","getDataAttributes","dataAttribute","keys","has","_mergeConfigObj","_configAfterMerge","_typeCheckConfig","key","entries","destroy","each"],"mappings":"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"}