define ("theme_boost/bootstrap/modal",["exports","jquery","./util"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;b=d(b);c=d(c);function d(a){return a&&a.__esModule?a:{default:a}}function e(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){e=function(a){return typeof a}}else{e=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return e(a)}function f(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);if(b)d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable});c.push.apply(c,d)}return c}function g(a){for(var b=1,c;b<arguments.length;b++){c=null!=arguments[b]?arguments[b]:{};if(b%2){f(Object(c),!0).forEach(function(b){h(a,b,c[b])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(a,Object.getOwnPropertyDescriptors(c))}else{f(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}}return a}function h(a,b,c){if(b in a){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0})}else{a[b]=c}return a}function i(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function j(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;if("value"in d)d.writable=!0;Object.defineProperty(a,d.key,d)}}function k(a,b,c){if(b)j(a.prototype,b);if(c)j(a,c);return a}var l="bs.modal",m=".".concat(l),n=b.default.fn.modal,o=27,p={backdrop:!0,keyboard:!0,focus:!0,show:!0},q={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},r="hide".concat(m),s="hidePrevented".concat(m),t="hidden".concat(m),u="show".concat(m),v="shown".concat(m),w="focusin".concat(m),x="resize".concat(m),y="click.dismiss".concat(m),z="keydown.dismiss".concat(m),A="mouseup.dismiss".concat(m),B="mousedown.dismiss".concat(m),C="click".concat(m).concat(".data-api"),D="modal-open",E="fade",F="show",G="modal-static",H=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",I=".sticky-top",J=function(){function a(b,c){i(this,a);this._config=this._getConfig(c);this._element=b;this._dialog=b.querySelector(".modal-dialog");this._backdrop=null;this._isShown=!1;this._isBodyOverflowing=!1;this._ignoreBackdropClick=!1;this._isTransitioning=!1;this._scrollbarWidth=0}k(a,[{key:"toggle",value:function toggle(a){return this._isShown?this.hide():this.show(a)}},{key:"show",value:function show(a){var c=this;if(this._isShown||this._isTransitioning){return}if((0,b.default)(this._element).hasClass(E)){this._isTransitioning=!0}var d=b.default.Event(u,{relatedTarget:a});(0,b.default)(this._element).trigger(d);if(this._isShown||d.isDefaultPrevented()){return}this._isShown=!0;this._checkScrollbar();this._setScrollbar();this._adjustDialog();this._setEscapeEvent();this._setResizeEvent();(0,b.default)(this._element).on(y,"[data-dismiss=\"modal\"]",function(a){return c.hide(a)});(0,b.default)(this._dialog).on(B,function(){(0,b.default)(c._element).one(A,function(a){if((0,b.default)(a.target).is(c._element)){c._ignoreBackdropClick=!0}})});this._showBackdrop(function(){return c._showElement(a)})}},{key:"hide",value:function hide(a){var d=this;if(a){a.preventDefault()}if(!this._isShown||this._isTransitioning){return}var e=b.default.Event(r);(0,b.default)(this._element).trigger(e);if(!this._isShown||e.isDefaultPrevented()){return}this._isShown=!1;var f=(0,b.default)(this._element).hasClass(E);if(f){this._isTransitioning=!0}this._setEscapeEvent();this._setResizeEvent();(0,b.default)(document).off(w);(0,b.default)(this._element).removeClass(F);(0,b.default)(this._element).off(y);(0,b.default)(this._dialog).off(B);if(f){var g=c.default.getTransitionDurationFromElement(this._element);(0,b.default)(this._element).one(c.default.TRANSITION_END,function(a){return d._hideModal(a)}).emulateTransitionEnd(g)}else{this._hideModal()}}},{key:"dispose",value:function dispose(){[window,this._element,this._dialog].forEach(function(a){return(0,b.default)(a).off(m)});(0,b.default)(document).off(w);b.default.removeData(this._element,l);this._config=null;this._element=null;this._dialog=null;this._backdrop=null;this._isShown=null;this._isBodyOverflowing=null;this._ignoreBackdropClick=null;this._isTransitioning=null;this._scrollbarWidth=null}},{key:"handleUpdate",value:function handleUpdate(){this._adjustDialog()}},{key:"_getConfig",value:function _getConfig(a){a=g({},p,{},a);c.default.typeCheckConfig("modal",a,q);return a}},{key:"_triggerBackdropTransition",value:function _triggerBackdropTransition(){var a=this,d=b.default.Event(s);(0,b.default)(this._element).trigger(d);if(d.isDefaultPrevented()){return}var e=this._element.scrollHeight>document.documentElement.clientHeight;if(!e){this._element.style.overflowY="hidden"}this._element.classList.add(G);var f=c.default.getTransitionDurationFromElement(this._dialog);(0,b.default)(this._element).off(c.default.TRANSITION_END);(0,b.default)(this._element).one(c.default.TRANSITION_END,function(){a._element.classList.remove(G);if(!e){(0,b.default)(a._element).one(c.default.TRANSITION_END,function(){a._element.style.overflowY=""}).emulateTransitionEnd(a._element,f)}}).emulateTransitionEnd(f);this._element.focus()}},{key:"_showElement",value:function _showElement(a){var d=this,e=(0,b.default)(this._element).hasClass(E),f=this._dialog?this._dialog.querySelector(".modal-body"):null;if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE){document.body.appendChild(this._element)}this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.setAttribute("aria-modal",!0);this._element.setAttribute("role","dialog");if((0,b.default)(this._dialog).hasClass("modal-dialog-scrollable")&&f){f.scrollTop=0}else{this._element.scrollTop=0}if(e){c.default.reflow(this._element)}(0,b.default)(this._element).addClass(F);if(this._config.focus){this._enforceFocus()}var g=b.default.Event(v,{relatedTarget:a}),h=function(){if(d._config.focus){d._element.focus()}d._isTransitioning=!1;(0,b.default)(d._element).trigger(g)};if(e){var i=c.default.getTransitionDurationFromElement(this._dialog);(0,b.default)(this._dialog).one(c.default.TRANSITION_END,h).emulateTransitionEnd(i)}else{h()}}},{key:"_enforceFocus",value:function _enforceFocus(){var a=this;(0,b.default)(document).off(w).on(w,function(c){if(document!==c.target&&a._element!==c.target&&0===(0,b.default)(a._element).has(c.target).length){a._element.focus()}})}},{key:"_setEscapeEvent",value:function _setEscapeEvent(){var a=this;if(this._isShown){(0,b.default)(this._element).on(z,function(b){if(a._config.keyboard&&b.which===o){b.preventDefault();a.hide()}else if(!a._config.keyboard&&b.which===o){a._triggerBackdropTransition()}})}else if(!this._isShown){(0,b.default)(this._element).off(z)}}},{key:"_setResizeEvent",value:function _setResizeEvent(){var a=this;if(this._isShown){(0,b.default)(window).on(x,function(b){return a.handleUpdate(b)})}else{(0,b.default)(window).off(x)}}},{key:"_hideModal",value:function _hideModal(){var a=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._element.removeAttribute("aria-modal");this._element.removeAttribute("role");this._isTransitioning=!1;this._showBackdrop(function(){(0,b.default)(document.body).removeClass(D);a._resetAdjustments();a._resetScrollbar();(0,b.default)(a._element).trigger(t)})}},{key:"_removeBackdrop",value:function _removeBackdrop(){if(this._backdrop){(0,b.default)(this._backdrop).remove();this._backdrop=null}}},{key:"_showBackdrop",value:function _showBackdrop(a){var d=this,e=(0,b.default)(this._element).hasClass(E)?E:"";if(this._isShown&&this._config.backdrop){this._backdrop=document.createElement("div");this._backdrop.className="modal-backdrop";if(e){this._backdrop.classList.add(e)}(0,b.default)(this._backdrop).appendTo(document.body);(0,b.default)(this._element).on(y,function(a){if(d._ignoreBackdropClick){d._ignoreBackdropClick=!1;return}if(a.target!==a.currentTarget){return}if("static"===d._config.backdrop){d._triggerBackdropTransition()}else{d.hide()}});if(e){c.default.reflow(this._backdrop)}(0,b.default)(this._backdrop).addClass(F);if(!a){return}if(!e){a();return}var f=c.default.getTransitionDurationFromElement(this._backdrop);(0,b.default)(this._backdrop).one(c.default.TRANSITION_END,a).emulateTransitionEnd(f)}else if(!this._isShown&&this._backdrop){(0,b.default)(this._backdrop).removeClass(F);var g=function(){d._removeBackdrop();if(a){a()}};if((0,b.default)(this._element).hasClass(E)){var h=c.default.getTransitionDurationFromElement(this._backdrop);(0,b.default)(this._backdrop).one(c.default.TRANSITION_END,g).emulateTransitionEnd(h)}else{g()}}else if(a){a()}}},{key:"_adjustDialog",value:function _adjustDialog(){var a=this._element.scrollHeight>document.documentElement.clientHeight;if(!this._isBodyOverflowing&&a){this._element.style.paddingLeft="".concat(this._scrollbarWidth,"px")}if(this._isBodyOverflowing&&!a){this._element.style.paddingRight="".concat(this._scrollbarWidth,"px")}}},{key:"_resetAdjustments",value:function _resetAdjustments(){this._element.style.paddingLeft="";this._element.style.paddingRight=""}},{key:"_checkScrollbar",value:function _checkScrollbar(){var a=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(a.left+a.right)<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()}},{key:"_setScrollbar",value:function _setScrollbar(){var a=this;if(this._isBodyOverflowing){var c=[].slice.call(document.querySelectorAll(H)),d=[].slice.call(document.querySelectorAll(I));(0,b.default)(c).each(function(c,d){var e=d.style.paddingRight,f=(0,b.default)(d).css("padding-right");(0,b.default)(d).data("padding-right",e).css("padding-right","".concat(parseFloat(f)+a._scrollbarWidth,"px"))});(0,b.default)(d).each(function(c,d){var e=d.style.marginRight,f=(0,b.default)(d).css("margin-right");(0,b.default)(d).data("margin-right",e).css("margin-right","".concat(parseFloat(f)-a._scrollbarWidth,"px"))});var e=document.body.style.paddingRight,f=(0,b.default)(document.body).css("padding-right");(0,b.default)(document.body).data("padding-right",e).css("padding-right","".concat(parseFloat(f)+this._scrollbarWidth,"px"))}(0,b.default)(document.body).addClass(D)}},{key:"_resetScrollbar",value:function _resetScrollbar(){var a=[].slice.call(document.querySelectorAll(H));(0,b.default)(a).each(function(a,c){var d=(0,b.default)(c).data("padding-right");(0,b.default)(c).removeData("padding-right");c.style.paddingRight=d?d:""});var c=[].slice.call(document.querySelectorAll("".concat(I)));(0,b.default)(c).each(function(a,c){var d=(0,b.default)(c).data("margin-right");if("undefined"!=typeof d){(0,b.default)(c).css("margin-right",d).removeData("margin-right")}});var d=(0,b.default)(document.body).data("padding-right");(0,b.default)(document.body).removeData("padding-right");document.body.style.paddingRight=d?d:""}},{key:"_getScrollbarWidth",value:function _getScrollbarWidth(){var a=document.createElement("div");a.className="modal-scrollbar-measure";document.body.appendChild(a);var b=a.getBoundingClientRect().width-a.clientWidth;document.body.removeChild(a);return b}}],[{key:"_jQueryInterface",value:function _jQueryInterface(c,d){return this.each(function(){var f=(0,b.default)(this).data(l),h=g({},p,{},(0,b.default)(this).data(),{},"object"===e(c)&&c?c:{});if(!f){f=new a(this,h);(0,b.default)(this).data(l,f)}if("string"==typeof c){if("undefined"==typeof f[c]){throw new TypeError("No method named \"".concat(c,"\""))}f[c](d)}else if(h.show){f.show(d)}})}},{key:"VERSION",get:function get(){return"4.6.0"}},{key:"Default",get:function get(){return p}}]);return a}();(0,b.default)(document).on(C,"[data-toggle=\"modal\"]",function(a){var d=this,e,f=c.default.getSelectorFromElement(this);if(f){e=document.querySelector(f)}var h=(0,b.default)(e).data(l)?"toggle":g({},(0,b.default)(e).data(),{},(0,b.default)(this).data());if("A"===this.tagName||"AREA"===this.tagName){a.preventDefault()}var i=(0,b.default)(e).one(u,function(a){if(a.isDefaultPrevented()){return}i.one(t,function(){if((0,b.default)(d).is(":visible")){d.focus()}})});J._jQueryInterface.call((0,b.default)(e),h,this)});b.default.fn.modal=J._jQueryInterface;b.default.fn.modal.Constructor=J;b.default.fn.modal.noConflict=function(){b.default.fn.modal=n;return J._jQueryInterface};a.default=J;return a.default});
//# sourceMappingURL=modal.min.js.map
