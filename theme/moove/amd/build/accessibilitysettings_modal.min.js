/**
 * Theme settings modal js.
 *
 * @package
 * @copyright  2020 Willian Mano - http://conecti.me
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("theme_moove/accessibilitysettings_modal",["jquery","core/notification","core/custom_interaction_events","core/modal","core/modal_registry","core/ajax"],(function(jQuery,Notification,CustomEvents,Modal,ModalRegistry,Ajax){var registered=!1,SELECTORS_SAVE_BUTTON='[data-action="save"]',SELECTORS_CANCEL_BUTTON='[data-action="cancel"]',AccessibilityModal=function(root){Modal.call(this,root),Ajax.call([{methodname:"theme_moove_getthemesettings",args:{}}])[0].done((function(result){document.getElementById("fonttype").value=result.fonttype,result.enableaccessibilitytoolbar&&(document.getElementById("enableaccessibilitytoolbar").checked=!0)}))};return AccessibilityModal.TYPE="theme_moove-themesettings_modal",(AccessibilityModal.prototype=Object.create(Modal.prototype)).constructor=AccessibilityModal,AccessibilityModal.prototype.registerEventListeners=function(){Modal.prototype.registerEventListeners.call(this),this.getModal().on(CustomEvents.events.activate,SELECTORS_SAVE_BUTTON,function(){Ajax.call([{methodname:"theme_moove_savethemesettings",args:{formdata:this.getFormData()}}])[0].done((function(){document.location.reload(!0)})).fail(function(error){var message=error.message;message||(message=error.error),Notification.addNotification({message:message,type:"error"}),this.hide(),this.destroy()}.bind(this))}.bind(this)),this.getModal().on(CustomEvents.events.activate,SELECTORS_CANCEL_BUTTON,function(){this.hide(),this.destroy()}.bind(this))},AccessibilityModal.prototype.getFormData=function(){return this.getForm().serialize()},AccessibilityModal.prototype.getForm=function(){return this.getBody().find("form")},registered||(ModalRegistry.register(AccessibilityModal.TYPE,AccessibilityModal,"theme_moove/accessibilitysettings_modal"),registered=!0),AccessibilityModal}));

//# sourceMappingURL=accessibilitysettings_modal.min.js.map