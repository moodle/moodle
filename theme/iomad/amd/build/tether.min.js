function _typeof(a){if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}(function(a,b){if("function"==typeof define&&define.amd){define ("theme_iomad/tether",b)}else if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))){module.exports=b(require,exports,module)}else{a.Tether=b()}})(this,function(){'use strict';var u=function(){function a(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;if("value"in d)d.writable=!0;Object.defineProperty(a,d.key,d)}}return function(b,c,d){if(c)a(b.prototype,c);if(d)a(b,d);return b}}();function a(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}var v;if("undefined"==typeof v){v={modules:[]}}var w=null;function b(a){var c=a.getBoundingClientRect(),d={};for(var e in c){d[e]=c[e]}if(a.ownerDocument!==document){var f=a.ownerDocument.defaultView.frameElement;if(f){var g=b(f);d.top+=g.top;d.bottom+=g.top;d.left+=g.left;d.right+=g.left}}return d}function c(a){var b=getComputedStyle(a)||{},c=b.position,d=[];if("fixed"===c){return[a]}var e=a;while((e=e.parentNode)&&e&&1===e.nodeType){var f=void 0;try{f=getComputedStyle(e)}catch(a){}if("undefined"==typeof f||null===f){d.push(e);return d}var g=f,h=g.overflow,i=g.overflowX,j=g.overflowY;if(/(auto|scroll)/.test(h+j+i)){if("absolute"!==c||0<=["relative","absolute","fixed"].indexOf(f.position)){d.push(e)}}}d.push(a.ownerDocument.body);if(a.ownerDocument!==document){d.push(a.ownerDocument.defaultView)}return d}var x=function(){var a=0;return function(){return++a}}(),y={},z=function(){var a=w;if(!a){a=document.createElement("div");a.setAttribute("data-tether-id",x());h(a.style,{top:0,left:0,position:"absolute"});document.body.appendChild(a);w=a}var c=a.getAttribute("data-tether-id");if("undefined"==typeof y[c]){y[c]=b(a);B(function(){delete y[c]})}return y[c]};function d(){if(w){document.body.removeChild(w)}w=null}function e(a){var c;if(a===document){c=document;a=document.documentElement}else{c=a.ownerDocument}var d=c.documentElement,e=b(a),f=z();e.top-=f.top;e.left-=f.left;if("undefined"==typeof e.width){e.width=document.body.scrollWidth-e.left-e.right}if("undefined"==typeof e.height){e.height=document.body.scrollHeight-e.top-e.bottom}e.top=e.top-d.clientTop;e.left=e.left-d.clientLeft;e.right=c.body.clientWidth-e.width-e.left;e.bottom=c.body.clientHeight-e.height-e.top;return e}function f(a){return a.offsetParent||document.documentElement}function g(){var a=document.createElement("div");a.style.width="100%";a.style.height="200px";var b=document.createElement("div");h(b.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"});b.appendChild(a);document.body.appendChild(b);var c=a.offsetWidth;b.style.overflow="scroll";var d=a.offsetWidth;if(c===d){d=b.clientWidth}document.body.removeChild(b);var e=c-d;return{width:e,height:e}}function h(){var a=0>=arguments.length||arguments[0]===void 0?{}:arguments[0],b=[];Array.prototype.push.apply(b,arguments);b.slice(1).forEach(function(b){if(b){for(var c in b){if({}.hasOwnProperty.call(b,c)){a[c]=b[c]}}}});return a}function i(a,b){if("undefined"!=typeof a.classList){b.split(" ").forEach(function(b){if(b.trim()){a.classList.remove(b)}})}else{var c=new RegExp("(^| )"+b.split(" ").join("|")+"( |$)","gi"),d=l(a).replace(c," ");m(a,d)}}function j(a,b){if("undefined"!=typeof a.classList){b.split(" ").forEach(function(b){if(b.trim()){a.classList.add(b)}})}else{i(a,b);var c=l(a)+(" "+b);m(a,c)}}function k(a,b){if("undefined"!=typeof a.classList){return a.classList.contains(b)}var c=l(a);return new RegExp("(^| )"+b+"( |$)","gi").test(c)}function l(a){if(a.className instanceof a.ownerDocument.defaultView.SVGAnimatedString){return a.className.baseVal}return a.className}function m(a,b){a.setAttribute("class",b)}function n(a,b,c){c.forEach(function(c){if(-1===b.indexOf(c)&&k(a,c)){i(a,c)}});b.forEach(function(b){if(!k(a,b)){j(a,b)}})}var A=[],B=function(a){A.push(a)},C=function(){var a;while(a=A.pop()){a()}},D=function(){function b(){a(this,b)}u(b,[{key:"on",value:function(a,b,c){var d=3>=arguments.length||arguments[3]===void 0?!1:arguments[3];if("undefined"==typeof this.bindings){this.bindings={}}if("undefined"==typeof this.bindings[a]){this.bindings[a]=[]}this.bindings[a].push({handler:b,ctx:c,once:d})}},{key:"once",value:function(a,b,c){this.on(a,b,c,!0)}},{key:"off",value:function(a,b){if("undefined"==typeof this.bindings||"undefined"==typeof this.bindings[a]){return}if("undefined"==typeof b){delete this.bindings[a]}else{var c=0;while(c<this.bindings[a].length){if(this.bindings[a][c].handler===b){this.bindings[a].splice(c,1)}else{++c}}}}},{key:"trigger",value:function(a){if("undefined"!=typeof this.bindings&&this.bindings[a]){for(var b=0,c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++){d[e-1]=arguments[e]}while(b<this.bindings[a].length){var f=this.bindings[a][b],g=f.handler,h=f.ctx,j=f.once,k=h;if("undefined"==typeof k){k=this}g.apply(k,d);if(j){this.bindings[a].splice(b,1)}else{++b}}}}}]);return b}();v.Utils={getActualBoundingClientRect:b,getScrollParents:c,getBounds:e,getOffsetParent:f,extend:h,addClass:j,removeClass:i,hasClass:k,updateClasses:n,defer:B,flush:C,uniqueId:x,Evented:D,getScrollBarSize:g,removeUtilElements:d};var E=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done);d=!0){c.push(h.value);if(b&&c.length===b)break}}catch(a){e=!0;f=a}finally{try{if(!d&&g["return"])g["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b)){return b}else if(Symbol.iterator in Object(b)){return a(b,c)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}(),u=function(){function a(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;if("value"in d)d.writable=!0;Object.defineProperty(a,d.key,d)}}return function(b,c,d){if(c)a(b.prototype,c);if(d)a(b,d);return b}}(),F=function(a,b,c){var d=!0;_function:while(d){var e=a,f=b,g=c;d=!1;if(null===e)e=Function.prototype;var h=Object.getOwnPropertyDescriptor(e,f);if(h===void 0){var i=Object.getPrototypeOf(e);if(null===i){return}else{a=i;b=f;c=g;d=!0;h=i=void 0;continue _function}}else if("value"in h){return h.value}else{var j=h.get;if(j===void 0){return}return j.call(g)}}};function a(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function o(a,b){if("function"!=typeof b&&null!==b){throw new TypeError("Super expression must either be null or a function, not "+_typeof(b))}a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});if(b)Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b}if("undefined"==typeof v){throw new Error("You must include the utils.js file before tether.js")}var G=v.Utils,c=G.getScrollParents,e=G.getBounds,f=G.getOffsetParent,h=G.extend,j=G.addClass,i=G.removeClass,n=G.updateClasses,B=G.defer,C=G.flush,g=G.getScrollBarSize,d=G.removeUtilElements;function p(c,a){var b=2>=arguments.length||arguments[2]===void 0?1:arguments[2];return c+b>=a&&a>=c-b}var H=function(){if("undefined"==typeof document){return""}for(var a=document.createElement("div"),b=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],c=0,d;c<b.length;++c){d=b[c];if(a.style[d]!==void 0){return d}}}(),I=[],J=function(){I.forEach(function(a){a.position(!1)});C()};function q(){if("undefined"!=typeof performance&&"undefined"!=typeof performance.now){return performance.now()}return+new Date}(function(){var a=null,b=null,c=null,d=function d(){if("undefined"!=typeof b&&16<b){b=Math.min(b-16,250);c=setTimeout(d,250);return}if("undefined"!=typeof a&&10>q()-a){return}if(null!=c){clearTimeout(c);c=null}a=q();J();b=q()-a};if("undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){["resize","scroll","touchmove"].forEach(function(a){window.addEventListener(a,d)})}})();var K={center:"center",left:"right",right:"left"},L={middle:"middle",top:"bottom",bottom:"top"},M={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},N=function(a,b){var c=a.left,d=a.top;if("auto"===c){c=K[b.left]}if("auto"===d){d=L[b.top]}return{left:c,top:d}},O=function(a){var b=a.left,c=a.top;if("undefined"!=typeof M[a.left]){b=M[a.left]}if("undefined"!=typeof M[a.top]){c=M[a.top]}return{left:b,top:c}};function r(){for(var a={top:0,left:0},b=arguments.length,c=Array(b),d=0;d<b;d++){c[d]=arguments[d]}c.forEach(function(b){var c=b.top,d=b.left;if("string"==typeof c){c=parseFloat(c,10)}if("string"==typeof d){d=parseFloat(d,10)}a.top+=c;a.left+=d});return a}function s(a,b){if("string"==typeof a.left&&-1!==a.left.indexOf("%")){a.left=parseFloat(a.left,10)/100*b.width}if("string"==typeof a.top&&-1!==a.top.indexOf("%")){a.top=parseFloat(a.top,10)/100*b.height}return a}var P=function(a){var b=a.split(" "),c=E(b,2),d=c[0],e=c[1];return{top:d,left:e}},Q=P,R=function(b){o(k,b);function k(b){var c=this;a(this,k);F(Object.getPrototypeOf(k.prototype),"constructor",this).call(this);this.position=this.position.bind(this);I.push(this);this.history=[];this.setOptions(b,!1);v.modules.forEach(function(a){if("undefined"!=typeof a.initialize){a.initialize.call(c)}});this.position()}u(k,[{key:"getClass",value:function(){var a=0>=arguments.length||arguments[0]===void 0?"":arguments[0],b=this.options.classes;if("undefined"!=typeof b&&b[a]){return this.options.classes[a]}else if(this.options.classPrefix){return this.options.classPrefix+"-"+a}else{return a}}},{key:"setOptions",value:function(a){var b=this,d=1>=arguments.length||arguments[1]===void 0?!0:arguments[1];this.options=h({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},a);var e=this.options,f=e.element,g=e.target,i=e.targetModifier;this.element=f;this.target=g;this.targetModifier=i;if("viewport"===this.target){this.target=document.body;this.targetModifier="visible"}else if("scroll-handle"===this.target){this.target=document.body;this.targetModifier="scroll-handle"}["element","target"].forEach(function(a){if("undefined"==typeof b[a]){throw new Error("Tether Error: Both element and target must be defined")}if("undefined"!=typeof b[a].jquery){b[a]=b[a][0]}else if("string"==typeof b[a]){b[a]=document.querySelector(b[a])}});j(this.element,this.getClass("element"));if(!(!1===this.options.addTargetClasses)){j(this.target,this.getClass("target"))}if(!this.options.attachment){throw new Error("Tether Error: You must provide an attachment")}this.targetAttachment=Q(this.options.targetAttachment);this.attachment=Q(this.options.attachment);this.offset=P(this.options.offset);this.targetOffset=P(this.options.targetOffset);if("undefined"!=typeof this.scrollParents){this.disable()}if("scroll-handle"===this.targetModifier){this.scrollParents=[this.target]}else{this.scrollParents=c(this.target)}if(!(!1===this.options.enabled)){this.enable(d)}}},{key:"getTargetBounds",value:function(){if("undefined"!=typeof this.targetModifier){if("visible"===this.targetModifier){if(this.target===document.body){return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}}else{var a=e(this.target),b={height:a.height,width:a.width,top:a.top,left:a.left};b.height=Math.min(b.height,a.height-(pageYOffset-a.top));b.height=Math.min(b.height,a.height-(a.top+a.height-(pageYOffset+innerHeight)));b.height=Math.min(innerHeight,b.height);b.height-=2;b.width=Math.min(b.width,a.width-(pageXOffset-a.left));b.width=Math.min(b.width,a.width-(a.left+a.width-(pageXOffset+innerWidth)));b.width=Math.min(innerWidth,b.width);b.width-=2;if(b.top<pageYOffset){b.top=pageYOffset}if(b.left<pageXOffset){b.left=pageXOffset}return b}}else if("scroll-handle"===this.targetModifier){var a=void 0,c=this.target;if(c===document.body){c=document.documentElement;a={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}}else{a=e(c)}var d=getComputedStyle(c),f=c.scrollWidth>c.clientWidth||0<=[d.overflow,d.overflowX].indexOf("scroll")||this.target!==document.body,g=0;if(f){g=15}var h=a.height-parseFloat(d.borderTopWidth)-parseFloat(d.borderBottomWidth)-g,b={width:15,height:.975*h*(h/c.scrollHeight),left:a.left+a.width-parseFloat(d.borderLeftWidth)-15},i=0;if(408>h&&this.target===document.body){i=-11e-5*Math.pow(h,2)-.00727*h+22.58}if(this.target!==document.body){b.height=Math.max(b.height,24)}var j=this.target.scrollTop/(c.scrollHeight-h);b.top=j*(h-b.height-i)+a.top+parseFloat(d.borderTopWidth);if(this.target===document.body){b.height=Math.max(b.height,24)}return b}}else{return e(this.target)}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(a,b){if("undefined"==typeof this._cache){this._cache={}}if("undefined"==typeof this._cache[a]){this._cache[a]=b.call(this)}return this._cache[a]}},{key:"enable",value:function(){var a=this,b=0>=arguments.length||arguments[0]===void 0?!0:arguments[0];if(!(!1===this.options.addTargetClasses)){j(this.target,this.getClass("enabled"))}j(this.element,this.getClass("enabled"));this.enabled=!0;this.scrollParents.forEach(function(b){if(b!==a.target.ownerDocument){b.addEventListener("scroll",a.position)}});if(b){this.position()}}},{key:"disable",value:function(){var a=this;i(this.target,this.getClass("enabled"));i(this.element,this.getClass("enabled"));this.enabled=!1;if("undefined"!=typeof this.scrollParents){this.scrollParents.forEach(function(b){b.removeEventListener("scroll",a.position)})}}},{key:"destroy",value:function(){var a=this;this.disable();I.forEach(function(b,c){if(b===a){I.splice(c,1)}});if(0===I.length){d()}}},{key:"updateAttachClasses",value:function(a,b){var c=this;a=a||this.attachment;b=b||this.targetAttachment;if("undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length){this._addAttachClasses.splice(0,this._addAttachClasses.length)}if("undefined"==typeof this._addAttachClasses){this._addAttachClasses=[]}var d=this._addAttachClasses;if(a.top){d.push(this.getClass("element-attached")+"-"+a.top)}if(a.left){d.push(this.getClass("element-attached")+"-"+a.left)}if(b.top){d.push(this.getClass("target-attached")+"-"+b.top)}if(b.left){d.push(this.getClass("target-attached")+"-"+b.left)}var e=[];["left","top","bottom","right","middle","center"].forEach(function(a){e.push(c.getClass("element-attached")+"-"+a);e.push(c.getClass("target-attached")+"-"+a)});B(function(){if(!("undefined"!=typeof c._addAttachClasses)){return}n(c.element,c._addAttachClasses,e);if(!(!1===c.options.addTargetClasses)){n(c.target,c._addAttachClasses,e)}delete c._addAttachClasses})}},{key:"position",value:function(){var a=this,b=0>=arguments.length||arguments[0]===void 0?!0:arguments[0];if(!this.enabled){return}this.clearCache();var c=N(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,c);var d=this.cache("element-bounds",function(){return e(a.element)}),h=d.width,j=d.height;if(0===h&&0===j&&"undefined"!=typeof this.lastSize){var k=this.lastSize;h=k.width;j=k.height}else{this.lastSize={width:h,height:j}}var l=this.cache("target-bounds",function(){return a.getTargetBounds()}),m=l,n=s(O(this.attachment),{width:h,height:j}),o=s(O(c),m),p=s(this.offset,{width:h,height:j}),q=s(this.targetOffset,m);n=r(n,p);o=r(o,q);for(var t=l.left+o.left-n.left,u=l.top+o.top-n.top,w=0;w<v.modules.length;++w){var x=v.modules[w],y=x.position.call(this,{left:t,top:u,targetAttachment:c,targetPos:l,elementPos:d,offset:n,targetOffset:o,manualOffset:p,manualTargetOffset:q,scrollbarSize:D,attachment:this.attachment});if(!1===y){return!1}else if("undefined"==typeof y||"object"!==_typeof(y)){continue}else{u=y.top;t=y.left}}var z={page:{top:u,left:t},viewport:{top:u-pageYOffset,bottom:pageYOffset-u-j+innerHeight,left:t-pageXOffset,right:pageXOffset-t-h+innerWidth}},A=this.target.ownerDocument,B=A.defaultView,D=void 0;if(A.body.scrollWidth>B.innerWidth){D=this.cache("scrollbar-size",g);z.viewport.bottom-=D.height}if(A.body.scrollHeight>B.innerHeight){D=this.cache("scrollbar-size",g);z.viewport.right-=D.width}if(-1===["","static"].indexOf(A.body.style.position)||-1===["","static"].indexOf(A.body.parentElement.style.position)){z.page.bottom=A.body.scrollHeight-u-j;z.page.right=A.body.scrollWidth-t-h}if("undefined"!=typeof this.options.optimizations&&!1!==this.options.optimizations.moveElement&&!("undefined"!=typeof this.targetModifier)){(function(){var b=a.cache("target-offsetparent",function(){return f(a.target)}),c=a.cache("target-offsetparent-bounds",function(){return e(b)}),d=getComputedStyle(b),g=c,h={};["Top","Left","Bottom","Right"].forEach(function(a){h[a.toLowerCase()]=parseFloat(d["border"+a+"Width"])});c.right=A.body.scrollWidth-c.left-g.width+h.right;c.bottom=A.body.scrollHeight-c.top-g.height+h.bottom;if(z.page.top>=c.top+h.top&&z.page.bottom>=c.bottom){if(z.page.left>=c.left+h.left&&z.page.right>=c.right){var i=b.scrollTop,j=b.scrollLeft;z.offset={top:z.page.top-c.top+i-h.top,left:z.page.left-c.left+j-h.left}}}})()}this.move(z);this.history.unshift(z);if(3<this.history.length){this.history.pop()}if(b){C()}return!0}},{key:"move",value:function(a){var b=this;if(!("undefined"!=typeof this.element.parentNode)){return}var c={};for(var d in a){c[d]={};for(var e in a[d]){for(var g=!1,j=0,k;j<this.history.length;++j){k=this.history[j];if("undefined"!=typeof k[d]&&!p(k[d][e],a[d][e])){g=!0;break}}if(!g){c[d][e]=!0}}}var l={top:"",left:"",right:"",bottom:""},m=function(a,c){var d="undefined"!=typeof b.options.optimizations,e=d?b.options.optimizations.gpu:null;if(!1!==e){var f,g;if(a.top){l.top=0;f=c.top}else{l.bottom=0;f=-c.bottom}if(a.left){l.left=0;g=c.left}else{l.right=0;g=-c.right}l[H]="translateX("+Math.round(g)+"px) translateY("+Math.round(f)+"px)";if("msTransform"!==H){l[H]+=" translateZ(0)"}}else{if(a.top){l.top=c.top+"px"}else{l.bottom=c.bottom+"px"}if(a.left){l.left=c.left+"px"}else{l.right=c.right+"px"}}},n=!1;if((c.page.top||c.page.bottom)&&(c.page.left||c.page.right)){l.position="absolute";m(c.page,a.page)}else if((c.viewport.top||c.viewport.bottom)&&(c.viewport.left||c.viewport.right)){l.position="fixed";m(c.viewport,a.viewport)}else if("undefined"!=typeof c.offset&&c.offset.top&&c.offset.left){(function(){l.position="absolute";var d=b.cache("target-offsetparent",function(){return f(b.target)});if(f(b.element)!==d){B(function(){b.element.parentNode.removeChild(b.element);d.appendChild(b.element)})}m(c.offset,a.offset);n=!0})()}else{l.position="absolute";m({top:!0,left:!0},a.page)}if(!n){var o=!0,q=this.element.parentNode;while(q&&1===q.nodeType&&"BODY"!==q.tagName){if("static"!==getComputedStyle(q).position){o=!1;break}q=q.parentNode}if(!o){this.element.parentNode.removeChild(this.element);this.element.ownerDocument.body.appendChild(this.element)}}var r={},s=!1;for(var e in l){var t=l[e],u=this.element.style[e];if(u!==t){s=!0;r[e]=t}}if(s){B(function(){h(b.element.style,r)})}}}]);return k}(D);R.modules=[];v.position=J;var S=h(R,v);var E=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done);d=!0){c.push(h.value);if(b&&c.length===b)break}}catch(a){e=!0;f=a}finally{try{if(!d&&g["return"])g["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b)){return b}else if(Symbol.iterator in Object(b)){return a(b,c)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}(),G=v.Utils,e=G.getBounds,h=G.extend,n=G.updateClasses,B=G.defer,T=["left","top","right","bottom"];function t(a,b){if("scrollParent"===b){b=a.scrollParents[0]}else if("window"===b){b=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]}if(b===document){b=b.documentElement}if("undefined"!=typeof b.nodeType){(function(){var a=b,c=e(b),d=c,f=getComputedStyle(b);b=[d.left,d.top,c.width+d.left,c.height+d.top];if(a.ownerDocument!==document){var g=a.ownerDocument.defaultView;b[0]+=g.pageXOffset;b[1]+=g.pageYOffset;b[2]+=g.pageXOffset;b[3]+=g.pageYOffset}T.forEach(function(a,c){a=a[0].toUpperCase()+a.substr(1);if("Top"===a||"Left"===a){b[c]+=parseFloat(f["border"+a+"Width"])}else{b[c]-=parseFloat(f["border"+a+"Width"])}})})()}return b}v.modules.push({position:function(a){var b=this,c=a.top,d=a.left,f=a.targetAttachment;if(!this.options.constraints){return!0}var g=this.cache("element-bounds",function(){return e(b.element)}),i=g.height,j=g.width;if(0===j&&0===i&&"undefined"!=typeof this.lastSize){var k=this.lastSize;j=k.width;i=k.height}var l=this.cache("target-bounds",function(){return b.getTargetBounds()}),m=l.height,o=l.width,p=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(a){var b=a.outOfBoundsClass,c=a.pinnedClass;if(b){p.push(b)}if(c){p.push(c)}});p.forEach(function(a){["left","top","right","bottom"].forEach(function(b){p.push(a+"-"+b)})});var q=[],r=h({},f),s=h({},this.attachment);this.options.constraints.forEach(function(a){var e=a.to,g=a.attachment,h=a.pin;if("undefined"==typeof g){g=""}var k,l;if(0<=g.indexOf(" ")){var n=g.split(" "),p=E(n,2);l=p[0];k=p[1]}else{k=l=g}var u=t(b,e);if("target"===l||"both"===l){if(c<u[1]&&"top"===r.top){c+=m;r.top="bottom"}if(c+i>u[3]&&"bottom"===r.top){c-=m;r.top="top"}}if("together"===l){if("top"===r.top){if("bottom"===s.top&&c<u[1]){c+=m;r.top="bottom";c+=i;s.top="top"}else if("top"===s.top&&c+i>u[3]&&c-(i-m)>=u[1]){c-=i-m;r.top="bottom";s.top="bottom"}}if("bottom"===r.top){if("top"===s.top&&c+i>u[3]){c-=m;r.top="top";c-=i;s.top="bottom"}else if("bottom"===s.top&&c<u[1]&&c+(2*i-m)<=u[3]){c+=i-m;r.top="top";s.top="top"}}if("middle"===r.top){if(c+i>u[3]&&"top"===s.top){c-=i;s.top="bottom"}else if(c<u[1]&&"bottom"===s.top){c+=i;s.top="top"}}}if("target"===k||"both"===k){if(d<u[0]&&"left"===r.left){d+=o;r.left="right"}if(d+j>u[2]&&"right"===r.left){d-=o;r.left="left"}}if("together"===k){if(d<u[0]&&"left"===r.left){if("right"===s.left){d+=o;r.left="right";d+=j;s.left="left"}else if("left"===s.left){d+=o;r.left="right";d-=j;s.left="right"}}else if(d+j>u[2]&&"right"===r.left){if("left"===s.left){d-=o;r.left="left";d-=j;s.left="right"}else if("right"===s.left){d-=o;r.left="left";d+=j;s.left="left"}}else if("center"===r.left){if(d+j>u[2]&&"left"===s.left){d-=j;s.left="right"}else if(d<u[0]&&"right"===s.left){d+=j;s.left="left"}}}if("element"===l||"both"===l){if(c<u[1]&&"bottom"===s.top){c+=i;s.top="top"}if(c+i>u[3]&&"top"===s.top){c-=i;s.top="bottom"}}if("element"===k||"both"===k){if(d<u[0]){if("right"===s.left){d+=j;s.left="left"}else if("center"===s.left){d+=j/2;s.left="left"}}if(d+j>u[2]){if("left"===s.left){d-=j;s.left="right"}else if("center"===s.left){d-=j/2;s.left="right"}}}if("string"==typeof h){h=h.split(",").map(function(a){return a.trim()})}else if(!0===h){h=["top","left","right","bottom"]}h=h||[];var v=[],w=[];if(c<u[1]){if(0<=h.indexOf("top")){c=u[1];v.push("top")}else{w.push("top")}}if(c+i>u[3]){if(0<=h.indexOf("bottom")){c=u[3]-i;v.push("bottom")}else{w.push("bottom")}}if(d<u[0]){if(0<=h.indexOf("left")){d=u[0];v.push("left")}else{w.push("left")}}if(d+j>u[2]){if(0<=h.indexOf("right")){d=u[2]-j;v.push("right")}else{w.push("right")}}if(v.length){(function(){var a;if("undefined"!=typeof b.options.pinnedClass){a=b.options.pinnedClass}else{a=b.getClass("pinned")}q.push(a);v.forEach(function(b){q.push(a+"-"+b)})})()}if(w.length){(function(){var a;if("undefined"!=typeof b.options.outOfBoundsClass){a=b.options.outOfBoundsClass}else{a=b.getClass("out-of-bounds")}q.push(a);w.forEach(function(b){q.push(a+"-"+b)})})()}if(0<=v.indexOf("left")||0<=v.indexOf("right")){s.left=r.left=!1}if(0<=v.indexOf("top")||0<=v.indexOf("bottom")){s.top=r.top=!1}if(r.top!==f.top||r.left!==f.left||s.top!==b.attachment.top||s.left!==b.attachment.left){b.updateAttachClasses(s,r);b.trigger("update",{attachment:s,targetAttachment:r})}});B(function(){if(!(!1===b.options.addTargetClasses)){n(b.target,q,p)}n(b.element,q,p)});return{top:c,left:d}}});var G=v.Utils,e=G.getBounds,n=G.updateClasses,B=G.defer;v.modules.push({position:function(a){var b=this,c=a.top,d=a.left,f=this.cache("element-bounds",function(){return e(b.element)}),g=f.height,h=f.width,i=this.getTargetBounds(),j=c+g,k=d+h,l=[];if(c<=i.bottom&&j>=i.top){["left","right"].forEach(function(a){var b=i[a];if(b===d||b===k){l.push(a)}})}if(d<=i.right&&k>=i.left){["top","bottom"].forEach(function(a){var b=i[a];if(b===c||b===j){l.push(a)}})}var m=[],o=[];m.push(this.getClass("abutted"));["left","top","right","bottom"].forEach(function(a){m.push(b.getClass("abutted")+"-"+a)});if(l.length){o.push(this.getClass("abutted"))}l.forEach(function(a){o.push(b.getClass("abutted")+"-"+a)});B(function(){if(!(!1===b.options.addTargetClasses)){n(b.target,o,m)}n(b.element,o,m)});return!0}});var E=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done);d=!0){c.push(h.value);if(b&&c.length===b)break}}catch(a){e=!0;f=a}finally{try{if(!d&&g["return"])g["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b)){return b}else if(Symbol.iterator in Object(b)){return a(b,c)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();v.modules.push({position:function(a){var b=a.top,c=a.left;if(!this.options.shift){return}var d=this.options.shift;if("function"==typeof this.options.shift){d=this.options.shift.call(this,{top:b,left:c})}var e,f;if("string"==typeof d){d=d.split(" ");d[1]=d[1]||d[0];var g=d,h=E(g,2);e=h[0];f=h[1];e=parseFloat(e,10);f=parseFloat(f,10)}else{e=d.top;f=d.left}b+=e;c+=f;return{top:b,left:c}}});return S});
//# sourceMappingURL=tether.min.js.map
