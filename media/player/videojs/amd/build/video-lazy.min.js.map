{"version":3,"sources":["../src/video-lazy.js"],"names":["global","factory","exports","module","require","define","amd","self","videojs","window","document","window$1","hasOwnProperty","history","LogByTypeFactory","name","log","type","level","args","lvl","levels","lvlRegExp","RegExp","unshift","toUpperCase","push","concat","console","fn","info","test","Array","isArray","createLogger","logByType","_len","arguments","length","_key","subname","all","off","debug","warn","error","DEFAULT","Error","filter","fname","historyItem","clear","disable","enable","_len2","_key2","_len3","_key3","_len4","_key4","createLogger$1","toString","Object","prototype","keys","object","isObject","each","forEach","key","reduce","initial","accum","assign","target","sources","apply","source","value","isPlain","call","constructor","computedStyle","el","prop","getComputedStyle","computedStyleValue","getPropertyValue","isNonBlankString","str","throwIfWhitespace","classRegExp","className","isReal","isEl","nodeType","isInFrame","parent","x","createQuerier","method","selector","context","querySelector","ctx","createEl","tagName","properties","attributes","content","createElement","getOwnPropertyNames","propName","val","indexOf","setAttribute","textContent","attrName","appendContent","text","innerText","prependTo","child","firstChild","insertBefore","appendChild","hasClass","element","classToCheck","classList","contains","addClass","classToAdd","add","trim","removeClass","classToRemove","remove","split","c","join","toggleClass","classToToggle","predicate","has","setAttributes","attrValue","removeAttribute","getAttributes","tag","obj","attrs","i","attrVal","getAttribute","attribute","blockTextSelection","body","focus","onselectstart","unblockTextSelection","getBoundingClientRect","parentNode","rect","result","k","height","parseFloat","width","findPosition","box","left","top","docEl","documentElement","clientLeft","scrollLeft","pageXOffset","clientTop","scrollTop","pageYOffset","Math","round","getPointerPosition","event","position","boxW","offsetWidth","boxH","offsetHeight","boxY","boxX","pageY","pageX","changedTouches","y","max","min","isTextNode","emptyEl","removeChild","normalizeContent","map","createTextNode","node","insertContent","isSingleLeftClick","button","buttons","$","$$","Dom","freeze","_windowLoaded","autoSetup","options","vids","slice","getElementsByTagName","audios","divs","mediaEls","e","mediaEl","player","autoSetupTimeout","wait","vjs","setTimeout","setWindowLoaded","removeEventListener","readyState","addEventListener","createStyleElement","style","setTextContent","styleSheet","cssText","DomData","WeakMap","_guid","newGUID","_cleanUpEvents","elem","data","get","handlers","dispatcher","detachEvent","disabled","_handleMultipleEvents","types","callback","fixEvent","returnTrue","returnFalse","isPropagationStopped","old","preventDefault","srcElement","relatedTarget","fromElement","toElement","returnValue","defaultPrevented","stopPropagation","cancelBubble","stopImmediatePropagation","isImmediatePropagationStopped","clientX","doc","clientY","which","charCode","keyCode","_supportsPassive","opts","defineProperty","passiveEvents","on","set","guid","hash","handlersCopy","m","n","passive","attachEvent","removeType","t","splice","trigger","elemData","ownerDocument","bubbles","targetData","one","func","any","Events","UPDATE_REFRESH_INTERVAL","bind","uid","bound","throttle","last","performance","now","throttled","debounce","immediate","timeout","cancel","clearTimeout","debounced","_later","EventTarget","allowedEvents_","ael","dispatchEvent","EVENT_MAP","queueTrigger","_this","Map","oldTimeout","size","isEvented","eventBusEl_","every","addEventedCallback","eventedCallbacks","isValidEventType","validateTarget","nodeName","validateEventType","validateListener","listener","normalizeListenArgs","isTargetingSelf","shift","listen","EventedMixin","_normalizeListenArgs","removeListenerOnDispose","removeRemoverOnTargetDispose","_this2","_normalizeListenArgs2","wrapper","largs","_this3","_normalizeListenArgs3","_len5","_key5","targetOrType","typeOrListener","evented","_options","eventBusKey","StatefulMixin","state","setState","stateUpdates","changes","from","to","stateful","defaultState","handleStateChanged","toLowerCase","string","replace","w","toTitleCase","titleCaseEquals","str1","str2","mergeOptions","Component","ready","play","player_","parentComponent_","options_","id_","id","name_","el_","children_","childIndex_","childNameIndex_","setTimeoutIds_","Set","setIntervalIds_","rafIds_","clearingTimersOnDispose_","initChildren","reportTouchActivity","enableTouchActivity","_proto","dispose","localize","tokens","defaultValue","code","language","languages","primaryCode","primaryLang","localizedString","match","index","ret","contentEl","contentEl_","children","getChildById","getChild","addChild","component","componentName","componentClassName","componentClass","ComponentClass","getComponent","childNodes","refNode","childFound","compEl","parentOptions","handleAdd","playerOptions","newChild","workingChildren","Tech","some","wchild","isTech","buildCSSClass","sync","isReady_","readyQueue_","triggerReady","readyQueue","show","hide","lockShowing","unlockShowing","num","skipListeners","dimension","dimensions","widthOrHeight","pxIndex","parseInt","currentDimension","computedWidthOrHeight","isNaN","rule","currentDimensions","currentWidth","currentHeight","blur","handleKeyDown","handleKeyPress","emitTapEvents","touchStart","firstTouch","couldBeTap","touches","xdiff","ydiff","touchDistance","sqrt","noTap","touchTime","reportUserActivity","report","touchHolding","clearInterval","setInterval","touchEnd","timeoutId","clearTimersOnDispose_","interval","intervalId","requestAnimationFrame","supportsRaf_","cancelAnimationFrame","_this4","_ref","idName","cancelName","registerComponent","ComponentToRegister","isComp","isPrototypeOf","reason","components_","Player","players","playerNames","pname","Boolean","_inheritsLoose","subClass","superClass","create","__proto__","_setPrototypeOf","o","p","setPrototypeOf","isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","_construct","Parent","Class","a","Constructor","Function","instance","_assertThisInitialized","ReferenceError","USER_AGENT","navigator","userAgent","webkitVersionMap","exec","appleWebkitVersion","pop","IS_IPAD","IS_IPHONE","IS_IPOD","IS_IOS","IOS_VERSION","IS_ANDROID","ANDROID_VERSION","major","minor","IS_NATIVE_ANDROID","IS_FIREFOX","IS_EDGE","IS_CHROME","CHROME_VERSION","IE_VERSION","version","IS_SAFARI","IS_ANY_SAFARI","IS_WINDOWS","TOUCH_ENABLED","maxTouchPoints","DocumentTouch","browser","rangeCheck","fnName","maxIndex","getRange","valueIndex","ranges","rangeIndex","createTimeRangesObj","start","end","createTimeRanges","bufferedPercent","buffered","duration","bufferedDuration","FullscreenApi","prefixed","apiMap","specApi","browserApi","_i","MediaError","message","defaultMessages","status","errorTypes","errNum","tuple","reviver","json","JSON","parse","err","isPromise","then","silencePromise","trackToJson_","track","acc","cues","cue","startTime","endTime","textTrackConverter","textTracksToJson","tech","trackEls","trackObjs","tracks","trackEl","src","textTracks","jsonToTextTracks","addedTrack","addRemoteTextTrack","addCue","createCommonjsModule","keycode","searchInput","hasKeyCode","names","search","foundNamedKey","codes","aliases","charCodeAt","isEventKey","nameOrCode","String","fromCharCode","title","alias","keycode_1","keycode_2","keycode_3","keycode_4","keycode_5","MODAL_CLASS_NAME","ModalDialog","_Component","opened_","hasBeenOpened_","hasBeenFilled_","closeable","uncloseable","role","descEl_","description","tabIndex","label","previouslyActiveEl_","desc","open","fillAlways","fill","wasPlaying_","paused","pauseOnOpen","pause","hadControls_","controls","conditionalFocus_","opened","close","conditionalBlur_","temporary","closeable_","temp","controlText","fillWith","parentEl","nextSiblingEl","nextSibling","empty","closeButton","content_","activeEl","activeElement","playerEl","focusableEls","focusableEls_","focusIndex","shiftKey","allChildren","querySelectorAll","HTMLAnchorElement","HTMLAreaElement","hasAttribute","HTMLInputElement","HTMLSelectElement","HTMLTextAreaElement","HTMLButtonElement","HTMLIFrameElement","HTMLObjectElement","HTMLEmbedElement","TrackList","_EventTarget","tracks_","addTrack","removeTrack","rtrack","l","getTrackById","change","addtrack","removetrack","disableOthers","list","enabled","AudioTrackList","_TrackList","changing_","enabledChange_","disableOthers$1","selected","VideoTrackList","selectedChange_","TextTrackList","queueChange_","triggerSelectedlanguagechange","triggerSelectedlanguagechange_","kind","selectedlanguagechange_","HtmlTrackElementList","trackElements","trackElements_","addTrackElement_","trackElement","getTrackElementByTrack_","trackElement_","removeTrackElement_","TextTrackCueList","setCues_","length_","oldLength","cues_","defineProp","getCueById","VideoTrackKind","alternative","captions","main","sign","subtitles","commentary","AudioTrackKind","TextTrackKind","descriptions","chapters","metadata","TextTrackMode","hidden","showing","Track","trackProps","_loop","parseUrl","url","props","href","addToBody","host","protocol","div","innerHTML","details","location","getAbsoluteURL","getFileExtension","path","splitPathRe","pathParts","isCrossOrigin","winLoc","urlInfo","srcProtocol","crossOrigin","Url","isFunction_1","toString$1","alert","confirm","prompt","toStr","implementation","that","TypeError","binder","boundLength","boundArgs","Empty","functionBind","toStr$1","isArguments","isArgs","callee","keysShim","toStr$2","isEnumerable","propertyIsEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","ctor","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","equalsConstructorPrototypeIfNotBuggy","isFunction","isString","theKeys","j","skipConstructor","implementation$1","slice$1","origKeys","keysShim$1","originalKeys","shim","keysWorksWithArguments","hasSymbols","Symbol","toStr$3","origDefineProperty","isFunction$1","supportsDescriptors","enumerable","_","configurable","writable","defineProperties","predicates","getOwnPropertySymbols","defineProperties_1","undefined$1","ThrowTypeError","getOwnPropertyDescriptor","hasSymbols$1","iterator","getProto","getPrototypeOf","TypedArray","Uint8Array","INTRINSICS","ArrayBuffer","entries","values","Atomics","DataView","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","eval","EvalError","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","isFinite","Number","valueOf","Promise","reject","resolve","RangeError","SharedArrayBuffer","SyntaxError","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakSet","GetIntrinsic","allowMissing","$TypeError","$SyntaxError","ES","Desc","Type","allowed","isData","IsAccessor","assertRecord","recordType","argumentName","_isNaN","$isNaN","_isFinite","Infinity","number","mod","modulo","remain","floor","fnToStr","constructorRegex","isES6ClassFn","fnStr","tryFunctionObject","toStr$4","hasToStringTag","toStringTag","isCallable","strClass","isPrimitive","toStr$5","ES5internalSlots","O","actualHint","methods","$Object","$TypeError$1","$String","es5$1","ToPrimitive","input","ToBoolean","ToNumber","ToInteger","abs","ToInt32","ToUint32","ToUint16","posInt","ToString","ToObject","CheckObjectCoercible","optMessage","IsCallable","SameValue","IsPropertyDescriptor","IsAccessorDescriptor","IsDataDescriptor","IsGenericDescriptor","FromPropertyDescriptor","ToPropertyDescriptor","Obj","getter","setter","leftWhitespace","rightWhitespace","implementation$2","S","zeroWidthSpace","polyfill","boundTrim","getPolyfill","polyfill$1","string_prototype_trim","toStr$6","forEachArray","array","receiver","len","forEachString","charAt","forEachObject","forEach_1","thisArg","arg","parseHeaders","headers","row","hasOwnProperty$1","extend","xhr","createXHR","XMLHttpRequest","XDomainRequest","forEachArray$1","uri","initParams","_createXHR","isEmpty","params","called","response","readystatechange","loadFunc","getBody","responseText","getXml","isJson","errorFunc","evt","timeoutTimer","statusCode","failureResponse","aborted","useXDR","rawRequest","getAllResponseHeaders","cors","stringify","onreadystatechange","onload","onerror","onprogress","onabort","ontimeout","username","password","withCredentials","abort","setRequestHeader","responseType","beforeSend","send","responseXML","firefoxBugTakenEffect","parseCues","srcContent","parser","WebVTT","Parser","vttjs","StringDecoder","errors","oncue","onparsingerror","onflush","groupCollapsed","groupEnd","flush","loadTrack","responseBody","loaded_","tech_","TextTrack","_Track","settings","srclang","mode","default_","activeCues_","activeCues","changed","timeupdateHandler","newMode","ct","currentTime","active","originalCue","VTTCue","originalCue_","removeCue","_removeCue","cuechange","AudioTrack","newEnabled","VideoTrack","newSelected","NONE","LOADED","HTMLTrackElement","load","LOADING","ERROR","NORMAL","audio","ListClass","TrackClass","capitalName","video","getterName","privateName","REMOTE","remoteText","remoteTextEl","ALL","_objCreate","F","ParsingError","errorData","Errors","BadSignature","BadTimeStamp","parseTimeStamp","computeSeconds","h","s","f","Settings","v","dflt","defaultKey","alt","integer","percent","parseOptions","keyValueDelim","groupDelim","groups","kv","parseCue","regionList","oInput","consumeTimeStamp","ts","consumeCueSettings","region","vals","vals0","vertical","line","lineAlign","snapToLines","align","middle","right","positionAlign","skipWhitespace","substr","ESCAPE","TAG_NAME","b","u","ruby","rt","lang","TAG_ANNOTATION","NEEDS_PARENT","parseContent","nextToken","consume","unescape1","unescape","shouldAdd","current","localName","annotation","rootDiv","tagStack","createProcessingInstruction","strongRTLRanges","isStrongRTLChar","currentRange","determineBidi","cueDiv","nodeStack","pushNodes","nextTextNode","computeLinePos","textTrackList","mediaElement","trackList","count","StyleBox","applyStyles","styles","formatStyle","unit","CueStyleBox","styleOptions","color","backgroundColor","bottom","display","writingMode","unicodeBidi","direction","textAlign","font","whiteSpace","textPos","move","BoxPosition","lh","offsetTop","rects","getClientRects","lineHeight","axis","toMove","overlaps","b2","overlapsAny","boxes","within","container","overlapsOppositeAxis","intersectPercentage","toCSSCompatValues","reference","getSimpleBoxPosition","moveBoxToLinePosition","styleBox","containerBox","boxPositions","findBestPosition","bestPosition","specifiedPosition","percentage","boxPosition","linePos","step","maxPosition","initialAxis","ceil","reverse","calculatedPercentage","WebVTT$1","decode","convertCueToDOMTree","cuetext","processCues","overlay","paddedOverlay","margin","shouldCompute","hasBeenReset","displayState","fontSize","decoder","buffer","TextDecoder","reportOrThrowError","stream","collectNextLine","pos","parseRegion","xy","anchor","VTTRegion","lines","regionAnchorX","regionAnchorY","viewportAnchorX","viewportAnchorY","scroll","onregion","parseTimestampMap","ontimestampmap","parseHeader","alreadyCollectedLine","hasSubstring","directionSetting","alignSetting","findDirectionSetting","dir","findAlignSetting","_id","_pauseOnExit","_startTime","_endTime","_text","_region","_vertical","_snapToLines","_line","_lineAlign","_position","_positionAlign","_size","_align","setting","getCueAsHTML","scrollSetting","findScrollSetting","isValidPercentValue","vttregion","_width","_lines","_regionAnchorX","_regionAnchorY","_viewportAnchorX","_viewportAnchorY","_scroll","browserIndex","cueShim","regionShim","nativeVTTCue","nativeVTTRegion","restore","browserIndex_1","browserIndex_2","browserIndex_3","createTrackHelper","hasStarted_","featuresProgressEvents","manualProgressOn","featuresTimeupdateEvents","manualTimeUpdatesOn","nativeCaptions","nativeTextTracks","featuresNativeTextTracks","emulateTextTracks","autoRemoteTextTracks_","initTrackListeners","nativeControlsForTouch","triggerSourceset","onDurationChange","manualProgress","trackProgress","manualProgressOff","stopTrackingProgress","progressInterval","numBufferedPercent","bufferedPercent_","duration_","manualTimeUpdates","trackCurrentTime","stopTrackingCurrentTime","manualTimeUpdatesOff","currentTimeInterval","manuallyTriggered","clearTracks","removeRemoteTextTrack","cleanupAutoTextTracks","reset","error_","played","setCurrentTime","trackListChanges","addWebVttScript_","_this5","script","_this6","remoteTracks","remoteTextTracks","handleAddTrack","handleRemoveTrack","updateDisplay","textTracksChanges","addTextTrack","createRemoteTextTrack","manualCleanup","_this7","htmlTrackElement","remoteTextTrackEls","getVideoPlaybackQuality","requestPictureInPicture","PromiseClass","setPoster","playsinline","setPlaysinline","overrideNativeAudioTracks","overrideNativeVideoTracks","canPlayType","canPlaySource","srcObj","registerTech","techs_","defaultTechOrder_","getTech","featuresVolumeControl","featuresMuteControl","featuresFullscreenResize","featuresPlaybackRate","featuresSourceset","withSourceHandlers","_Tech","registerSourceHandler","handler","sourceHandlers","can","selectSourceHandler","canHandleSource","sh","originalFn","sourceHandler_","setSource","nativeSourceHandler","disposeSourceHandler","currentSource_","handleSource","middlewares","middlewareInstances","TERMINATOR","next","setSourceHelper","setTech","middleware","mw","reduceRight","middlewareIterator","mediate","callMethod","middlewareValue","terminated","executeRight","allowedGetters","seekable","volume","allowedSetters","setVolume","allowedMediators","mws","clearCacheForPlayer","getOrCreateFactory","mwFactory","_mws$i","mwf","mwi","lastRun","_middleware","mwrest","_src","MimetypesKind","opus","ogv","mp4","mov","m4v","mkv","m4a","mp3","aac","oga","m3u8","jpg","jpeg","gif","png","svg","webp","getMimetype","ext","mimetype","findMimetype","cache_","matchingSources","filterSource","newsrc","srcobj","fixSource","MediaLoader","techOrder","techName","isSupported","loadTech_","ClickableComponent","tabIndex_","createControlTextEl","controlTextEl_","controlText_","localizedText","nonIconControl","enabled_","handleClick","handleMouseOver","handleMouseOut","PosterImage","_ClickableComponent","update","poster","setSrc","backgroundImage","lightGray","fontMap","monospace","sansSerif","serif","monospaceSansSerif","monospaceSerif","proportionalSansSerif","proportionalSerif","casual","smallcaps","constructColor","opacity","hex","tryUpdateStyle","TextTrackDisplay","updateDisplayHandler","toggleDisplay","preselectTrack","modes","userPref","selectedLanguage","firstDesc","firstCaptions","preferredTrack","clearDisplay","allowMultipleShowingTracks","showingTracks","updateForTrack","descriptionsTrack","captionsSubtitlesTrack","_track","updateDisplayState","overrides","textTrackSettings","getValues","textOpacity","backgroundOpacity","windowColor","windowOpacity","edgeStyle","textShadow","fontPercent","fontFamily","fontVariant","_i2","_track2","_j","cueEl","LoadingSpinner","isAudio","playerType","Button","BigPlayButton","_Button","mouseused_","handleMouseDown","playPromise","cb","playToggle","playFocus","CloseButton","PlayToggle","replay","handlePlay","handlePause","handleEnded","handleSeeked","defaultImplementation","seconds","guide","gm","gh","implementation$3","formatTime","TimeDisplay","throttledUpdateContent","updateContent","labelText_","updateTextNode_","textNode_","formattedTime_","formatTime_","time","updateFormattedTime_","formattedTime","CurrentTimeDisplay","_TimeDisplay","scrubbing","getCache","DurationDisplay","TimeDivider","RemainingTimeDisplay","remainingTimeDisplay","remainingTime","LiveDisplay","updateShowing","SeekToLive","updateLiveEdgeStatus","liveTracker","textEl_","atLiveEdge","seekToLiveEdge","Slider","bar","barName","playerEvent","handleMouseMove","handleMouseUp","progress","getPercent","toFixed","sizeKey","calculateDistance","stepBack","stepForward","bool","vertical_","LoadProgressBar","partEls_","isLive","seekableEnd","bufferedEnd","controlTextPercentage","percentify","rounded","part","TimeTooltip","seekBarRect","seekBarPoint","tooltipRect","playerRect","seekBarPointPx","spaceLeftOfPoint","spaceRightOfPoint","pullTooltipBy","write","updateTime","rafId_","liveWindow","secondsBehind","PlayProgressBar","timeTooltip","MouseTimeDisplay","PAGE_KEY_MULTIPLIER","UPDATE_REFRESH_INTERVAL$1","SeekBar","_Slider","setEventHandlers_","updateInterval","enableInterval_","disableInterval_","toggleVisibility_","update_","liveCurrentTime","offsetParent","getCurrentTime_","seekableStart","videoWasPlaying","newTime","distance","mouseTimeDisplay","handleAction","gotoFraction","ProgressControl","throttledHandleMouseSeek","handleMouseSeek","seekBar","seekBarEl","PictureInPictureToggle","handlePictureInPictureChange","pictureInPictureEnabled","isInPictureInPicture","exitPictureInPicture","FullscreenToggle","handleFullscreenChange","fsApi_","fullscreenEnabled","isFullscreen","requestFullscreen","exitFullscreen","checkVolumeSupport","VolumeLevel","VolumeBar","updateLastVolume_","updateARIAAttributes","checkMuted","muted","ariaValue","volumeAsPercentage_","volumeBeforeDrag","lastVolume_","VolumeControl","volumeBar","throttledHandleMouseMove","orientationClass","checkMuteSupport","MuteToggle","vol","lastVolume","volumeToSet","updateIcon_","updateControlText_","soundOff","VolumePanel","inline","volumeControl","volumePanelState_","muteToggle","handleVolumeControlKeyUp","sliderActive_","sliderInactive_","Menu","menuButton_","menuButton","focusedChild_","boundHandleBlur_","handleBlur","boundHandleTapClick_","handleTapClick","addEventListenerForItem","removeEventListenerForItem","addItem","childComponent","contentElType","append","btn","buttonPressed_","unpressButton","childComponents","foundComponent","stepChild","item","haveTitle","MenuButton","buttonClass","menu","handleMenuKeyUp","handleMouseLeave","handleSubmenuKeyDown","createMenu","items","hideThreshold_","titleEl","titleComponent","createItems","buildWrapperCSSClass","menuButtonClass","pressButton","handleSubmenuKeyPress","TrackButton","_MenuButton","updateHandler","MenuKeys","MenuItem","selectable","isSelected_","multiSelectable","_selected","TextTrackMenuItem","_MenuItem","kinds","changeHandler","handleTracksChange","selectedLanguageChangeHandler","handleSelectedLanguageChange","onchange","Event","createEvent","initEvent","referenceTrack","shouldBeSelected","OffTextTrackMenuItem","_TextTrackMenuItem","allHidden","TextTrackButton","_TrackButton","TrackMenuItem","label_","kinds_","kind_","ChaptersTrackMenuItem","ChaptersButton","_TextTrackButton","track_","setTrack","findChaptersTrack","updateHandler_","remoteTextTrackEl","_remoteTextTrackEl","getMenuCaption","mi","DescriptionsButton","SubtitlesButton","CaptionSettingsMenuItem","CaptionsButton","SubsCapsMenuItem","SubsCapsButton","language_","AudioTrackMenuItem","audioTracks","AudioTrackButton","PlaybackRateMenuItem","rate","playbackRate","PlaybackRateMenuButton","updateVisibility","updateLabel","labelEl_","rates","playbackRates","currentRate","newRate","playbackRateSupported","Spacer","CustomControlSpacer","_Spacer","ControlBar","ErrorDisplay","_ModalDialog","COLOR_BLACK","COLOR_BLUE","COLOR_CYAN","COLOR_GREEN","COLOR_MAGENTA","COLOR_RED","COLOR_WHITE","COLOR_YELLOW","OPACITY_OPAQUE","OPACITY_SEMI","OPACITY_TRANS","selectConfigs","parseOptionValue","getSelectedOptionValue","selectedIndex","setSelectedOption","TextTrackSettings","endDialog","setDefaults","persistTextTrackSettings","saveSettings","config","restoreSettings","createElSelect_","legendId","selectLabelledbyIds","optionId","createElFgColor_","createElBgColor_","createElWinColor_","createElColors_","createElFont_","createElControls_","defaultsDescription","setValues","localStorage","getItem","setItem","removeItem","ttDisplay","controlBar","subsCapsBtn","subsCapsButton","ccBtn","captionsButton","ResizeManager","RESIZE_OBSERVER_AVAILABLE","ResizeObserver","loadListener_","resizeObserver_","debouncedHandler_","resizeHandler","observe","contentWindow","unloadListener_","unobserve","disconnect","resizeObserver","median","arr","mid","sortedList","sort","LiveTracker","reset_","handleDurationchange","handleVisibilityChange","stopTracking","startTracking","isBehind_","timeupdateSeen_","liveEdgeWindow","seekableIncrement_","trackLive_","pastSeekEnd_","newSeekEnd","lastSeekEnd_","seekableIncrementList_","pastSeekEnd","behindLiveEdge","behindLiveEdge_","isTracking","hasStarted","trackingInterval_","handleTimeupdate","seekableEnds","seekableStarts","sourcesetLoad","srcUrls","innerHTMLDescriptorPolyfill","cloneNode","dummy","docFrag","createDocumentFragment","Element","getDescriptor","priority","descriptor","getInnerHTMLDescriptor","HTMLMediaElement","firstSourceWatch","resetSourceWatch_","innerDescriptor","appendWrapper","appendFn","retval","srcDescriptorPolyfill","getSrcDescriptor","setupSourceset","resetSourceset_","srcDescriptor","oldSetAttribute","oldLoad","currentSrc","Html5","crossoriginTracks","initNetworkState_","handleLateInit_","enableSourceset","setupSourcesetHandling_","hasChildNodes","nodes","nodesLength","removeNodes","proxyNativeTracks_","restoreMetadataTracksInIOSNativePlayer_","setControls","proxyWebkitFullscreen_","disposeMediaElement","metadataTracksPreFullscreenState","takeMetadataTrackSnapshot","storedMode","restoreTrackMode","storedTrack","overrideNative_","override","lowerCaseType","eventName","elTracks","proxyNativeTracksForType_","techTracks","listeners","currentTarget","removeOldTracks","removeTracks","found","playerElIngest","movingMediaElementInDOM","clone","tagAttributes","techId","playerId","preload","settingsAttrs","attr","networkState","loadstartFired","setLoadstartFired","triggerLoadstart","eventsToTrigger","checkProgress","NaN","endFn","beginFn","webkitPresentationMode","supportsFullScreen","webkitEnterFullScreen","enterFullScreen","HAVE_METADATA","exitFullScreen","webkitExitFullScreen","resetMediaElement","videoPlaybackQuality","webkitDroppedFrameCount","webkitDecodedFrameCount","droppedVideoFrames","totalVideoFrames","creationTime","timing","navigationStart","TEST_VID","canControlVolume","canMuteVolume","canControlPlaybackRate","canOverrideAttributes","noop","supportsNativeTextTracks","supportsNativeVideoTracks","videoTracks","supportsNativeAudioTracks","featuresNativeVideoTracks","featuresNativeAudioTracks","mpegurlRE","patchCanPlayType","unpatchCanPlayType","r","TECH_EVENTS_RETRIGGER","TECH_EVENTS_QUEUE","canplay","canplaythrough","playing","seeked","BREAKPOINT_ORDER","BREAKPOINT_CLASSES","substring","DEFAULT_BREAKPOINTS","tiny","xsmall","small","medium","large","xlarge","huge","getTagSettings","closest","boundDocumentFullscreenChange_","documentFullscreenChange_","boundFullWindowOnEscKey_","fullWindowOnEscKey","isPosterFromTech_","queuedCallbacks_","userActive_","languagesToLower","languages_","resetCache_","poster_","controls_","changingSrc_","playCallbacks_","playTerminatedQueue_","autoplay","plugins","scrubbing_","fluid_","updateStyleEl_","playerOptionsCopy","middleware_","flexNotSupported_","majorVersion","userActive","listenForUserActivity_","handleStageClick_","breakpoints","responsive","fullscreenchange","styleEl_","playerElIngest_","divEmbed","tabindex","VIDEOJS_NO_DYNAMIC_STYLE","defaultsStyleEl","head","fill_","fluid","aspectRatio","links","linkEl","_dimension","privDimension","parsedVal","ratio","aspectRatio_","width_","_height","height_","techEl","idClass","videoWidth","videoHeight","ratioParts","ratioMultiplier","unloadTech_","titleTechName","camelTechName","techName_","techOptions","loop","techCanOverridePoster","TechClass","handleTechReady_","textTracksJson_","eventObj","seeking","handleTechLoadStart_","handleTechSourceset_","handleTechWaiting_","handleTechEnded_","handleTechSeeking_","handleTechPlay_","handleTechFirstPlay_","handleTechPause_","handleTechDurationChange_","handleTechFullscreenChange_","handleTechEnterPictureInPicture_","handleTechLeavePictureInPicture_","handleTechError_","handleTechPosterChange_","handleTechTextData_","handleTechRateChange_","usingNativeControls","techGet_","addTechControlsListeners_","safety","removeTechControlsListeners_","handleTechClick_","handleTechDoubleClick_","handleTechTouchStart_","handleTechTouchMove_","handleTechTouchEnd_","handleTechTap_","techCall_","manualAutoplay_","previouslyMuted","restoreMuted","mutedPromise","promise","updateSourceCaches_","sourceElSources","sourceEls","matchingSourceEls","sourceObj","updateSourceCaches","playerSrc","currentSource","eventSrc","lastSource_","techSrc","techGet","request","lastPlaybackRate","queued","timeWhenWaiting","timeUpdateListener","handleTechCanPlay_","handleTechCanPlayThrough_","handleTechPlaying_","handleTechSeeked_","starttime","inAllowedEls","userActions","doubleClick","userWasActive","toggleFullscreenClass_","isFs","fullscreenElement","matches","fullscreen","msMatchesSelector","togglePictureInPictureClass_","inactivityTimeout","defaultPlaybackRate","media","_this8","play_","_this9","isSrcReady","waitToPlay_","runPlayTerminatedQueue_","runPlayCallbacks_","queue","q","callbacks","isScrubbing","liveui","percentAsDecimal","_muted","defaultMuted","_defaultMuted","isFS","isFullscreen_","fullscreenOptions","fsOptions","enterFullWindow","exitFullWindow","isFullWindow","docOrigOverflow","overflow","isPiP","isInPictureInPicture_","hotkeys","isContentEditable","handleHotkeys","_hotkeys$fullscreenKe","fullscreenKey","keydownEvent","_hotkeys$muteKey","muteKey","_hotkeys$playPauseKey","playPauseKey","FSToggle","selectSource","_this10","techs","findFirstPassingTechSourcePair","outerArray","innerArray","tester","outerChoice","innerChoice","foundSourceAndTech","flip","finder","_ref2","sourceOrder","_this11","notSupportedMessage","middlewareSource","src_","_this12","sourceTech","_this13","doReset_","resetControlBarUI_","resetProgressBar_","resetPlaybackRate_","resetVolumeBar_","_this$controlBar","durationDisplay","currentSources","currentType","techAutoplay","newPoster","usingNativeControls_","suppressNotSupportedError","triggerSuppressedError","errorDisplay","userActivity_","mouseInProgress","lastMoveX","lastMoveY","handleActivity","screenX","screenY","isAudio_","_obj","toJSON","createModal","_this14","modal","updateCurrentBreakpoint_","currentBreakpoint","candidateBreakpoint","maxWidth","breakpoints_","breakpoint_","removeCurrentBreakpoint_","currentBreakpointClass","_breakpoints","responsive_","loadMedia","_this15","_this$cache_$media","artwork","tt","getMedia","baseOptions","tagOptions","dataSetup","_safeParseTuple","childName","html5","flash","userLanguage","navigationUI","PLUGIN_CACHE_KEY","pluginStorage","pluginExists","getPlugin","markPluginAsActive","triggerSetupEvent","before","createBasicPlugin","plugin","basicPluginWrapper","createPluginFactory","PluginSubClass","getEventHash","Plugin","VERSION","isBasic","registerPlugin","deregisterPlugin","getPlugins","getPluginVersion","BASE_PLUGIN_NAME","usingPlugin","hasPlugin","_inherits","super_","extend$1","subClassMethods","normalizeId","videojs$1","getPlayer","defaultView","hooks","hookFunction","PlayerComponent","hooks_","hook","hookOnce","original","removeHook","getPlayers","nId","_tag","_player","getAllPlayers","comp","use","writeable","addLanguage","_mergeOptions","createTimeRange","setFormatTime","customImplementation","resetFormatTime","dom","urlToolkit","URL_REGEX","FIRST_SEGMENT_REGEX","SLASH_DOT_REGEX","SLASH_DOT_DOT_REGEX","URLToolkit","buildAbsoluteURL","baseURL","relativeURL","alwaysNormalize","basePartsForNormalise","parseURL","normalizePath","buildURLFromParts","relativeParts","scheme","baseParts","netLoc","builtParts","query","fragment","baseURLPath","newPath","lastIndexOf","parts","_extends","_inheritsLoose$1","_assertThisInitialized$1","Stream","pipe","destination","LineStream","_Stream","nextNewline","attributeSeparator","parseAttributes","ParseStream","customParsers","tagMappers","newLines","mapper","mappedLine","newLine","tagType","playlistType","offset","URI","BYTERANGE","_attributes$BYTERANGE","byterange","RESOLUTION","resolution","BANDWIDTH","dateTimeString","dateTimeObject","IV","PRECISE","addParser","expression","customType","dataParser","segment","addTagMapper","decodeB64ToUint8Array","b64Text","decodedString","atob","lineStream","parseStream","uris","currentUri","currentMap","defaultMediaGroups","currentTimeline","manifest","allowCache","discontinuityStarts","segments","entry","mediaGroup","rendition","endlist","endList","inf","mediaSequence","discontinuitySequence","METHOD","KEYFORMAT","KEYID","contentProtection","schemeIdUri","keyId","pssh","iv","playlist","playlists","mediaGroups","TYPE","NAME","mediaGroupType","autoselect","AUTOSELECT","LANGUAGE","instreamId","CHARACTERISTICS","characteristics","FORCED","forced","discontinuity","targetduration","targetDuration","totalduration","totalDuration","timeOffset","precise","cueOut","cueOutCont","cueIn","timeline","comment","custom","chunk","isObject$1","merge","objects","range","flatten","lists","findIndexes","INVALID_NUMBER_OF_PERIOD","DASH_EMPTY_MANIFEST","DASH_INVALID_XML","NO_BASE_URL","MISSING_SEGMENT_INFORMATION","SEGMENT_TIME_UNSPECIFIED","UNSUPPORTED_UTC_TIMING_SCHEME","urlToolkit$1","resolveUrl","baseUrl","relativeUrl","urlTypeToSegment","_ref$baseUrl","_ref$source","_ref$range","_ref$indexRange","indexRange","resolvedUri","rangeStr","startRange","endRange","byteRangeToString","segmentRange","_attributes$timescale","timescale","sourceDuration","dynamic","NOW","clientOffset","availabilityStartTime","_attributes$timescale2","_attributes$start","_attributes$minimumUp","minimumUpdatePeriod","_attributes$timeShift","timeShiftBufferDepth","periodStartWC","segmentCount","availableStart","availableEnd","toSegments","_attributes$timescale3","periodIndex","_attributes$startNumb","startNumber","parseByDuration","_attributes$type","_attributes$timescale4","_segmentRange$type","segmentsFromBase","_attributes$initializ","initialization","_attributes$indexRang","initSegment","sourceURL","segmentTimeInfo","addSegmentsToPlaylist","sidx","sidxByteRange","sidxEnd","mediaReferences","references","referenceType","startIndex","firstOffset","referencedSize","subsegmentDuration","endIndex","mergeDiscontiguousPlaylists","mergedPlaylists","_acc$name$segments","addSegmentInfoFromSidx","sidxMapping","sidxKey","sidxMatch","formatAudioPlaylist","_attributes","bandwidth","CODECS","codecs","formatVttPlaylist","_attributes2","organizeAudioPlaylists","mainPlaylist","formattedPlaylists","roleLabel","firstLabel","organizeVttPlaylists","formatVideoPlaylist","_ref3","_attributes3","AUDIO","SUBTITLES","toM3u8","dashPlaylists","_mediaGroups","_dashPlaylists$0$attr","_dashPlaylists$0$attr2","videoPlaylists","_ref4","mimeType","contentType","audioPlaylists","_ref5","vttPlaylists","_ref6","master","VIDEO","subs","getLiveRValue","parseByTimeline","segmentTimeline","_attributes$minimumUp2","_attributes$media","sIndex","d","repeat","segmentTime","nextS","identifierPattern","identifierReplacement","identifier","format","constructTemplateUrl","parseTemplateInfo","segmentsFromTemplate","templateValues","RepresentationID","Bandwidth","mapSegment","Time","SegmentURLToSegmentObject","segmentUrl","mediaRange","segmentsFromList","_attributes$segmentUr","segmentUrls","segmentUrlMap","segmentUrlObject","generateSegments","segmentInfo","segmentAttributes","segmentsFn","template","base","segmentsInfo","_segmentAttributes","_segmentAttributes$ti","toPlaylists","representations","findChildren","getContent","parseDuration","durationRegex","_match$slice","year","month","day","hour","minute","second","parseDate","dateRegex","parsers","mediaPresentationDuration","parsedValue","parseAttributes$1","parseFn","decodeB64ToUint8Array$1","keySystemsMap","buildBaseUrls","referenceUrls","baseUrlElements","baseUrlElement","getSegmentInformation","adaptationSet","segmentTemplate","segmentList","segmentBase","segmentTimelineParentNode","segmentInitializationParentNode","segmentInitialization","inheritBaseUrls","adaptationSetAttributes","adaptationSetBaseUrls","adaptationSetSegmentInfo","representation","repBaseUrlElements","repBaseUrls","representationSegmentInfo","generateKeySystemInformation","contentProtectionNodes","keySystem","psshNode","psshBuffer","toRepresentations","periodAttributes","periodBaseUrls","periodSegmentInfo","roleAttributes","toAdaptationSets","mpdAttributes","mpdBaseUrls","period","periodAtt","parsedPeriodId","adaptationSets","inheritAttributes","mpd","_options$manifestUri","manifestUri","_options$NOW","_options$clientOffset","periods","stringToMpdXml","manifestString","DOMParser","xml","parseFromString","parseUTCTimingScheme","UTCTimingNode","parseUTCTiming","bin","toUnsigned","toHexString","toUnsigned$1","toHexString$1","_findBox","parseType","getVideoTrackIds","getTracks","results","subresults","byteLength","subarray","init","traks","trak","tkhd","mdhd","trafs","baseTimes","traf","tfhd","scale","baseTime","tfdt","pow","videoTrackIds","hdlrs","tkhds","hdlr","handlerType","view","trackId","byteOffset","getUint8","getUint32","stsd","sampleDescriptions","codec","codecBox","codecConfig","codecConfigType","probe","findBox","inspectMp4","_textifyMp","parseType$1","parseMp4Date","parseSampleFlags","flags","isLeading","dependsOn","isDependedOn","hasRedundancy","paddingValue","isNonSyncSample","degradationPriority","nalParse","avcStream","avcView","parse$1","avc1","dataReferenceIndex","getUint16","horizresolution","vertresolution","frameCount","depth","avcC","configurationVersion","avcProfileIndication","profileCompatibility","avcLevelIndication","lengthSizeMinusOne","sps","pps","numOfSequenceParameterSets","numOfPictureParameterSets","nalSize","btrt","bufferSizeDB","maxBitrate","avgBitrate","esds","esId","streamPriority","decoderConfig","objectProfileIndication","streamType","bufferSize","decoderConfigDescriptor","audioObjectType","samplingFrequencyIndex","channelConfiguration","ftyp","majorBrand","minorVersion","compatibleBrands","dinf","dref","dataReferences","escape","mdat","nals","modificationTime","mdia","mfhd","sequenceNumber","minf","mp4a","channelcount","samplesize","samplerate","streamDescriptor","moof","moov","mvex","mvhd","matrix","nextTrackId","pdin","initialDelay","sdtp","samples","referenceId","earliestPresentationTime","referenceCount","startsWithSap","sapType","sapDeltaTime","smhd","balance","stbl","stco","chunkOffsets","entryCount","stsc","sampleToChunks","firstChunk","samplesPerChunk","sampleDescriptionIndex","stsz","sampleSize","stts","timeToSamples","sampleCount","sampleDelta","styp","baseMediaDecodeTime","baseDataOffsetPresent","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","durationIsEmpty","defaultBaseIsMoof","baseDataOffset","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","baseDataOffsetIsMoof","layer","alternateGroup","trex","defaultSampleDescriptionIndex","sampleDependsOn","sampleIsDependedOn","sampleHasRedundancy","samplePaddingValue","sampleIsDifferenceSample","sampleDegradationPriority","trun","dataOffsetPresent","firstSampleFlagsPresent","sampleDurationPresent","sampleSizePresent","sampleFlagsPresent","sampleCompositionTimeOffsetPresent","sample","dataOffset","getInt32","compositionTimeOffset","vmhd","graphicsmode","opcolor","ab","z","inspectedMp4","indent","prefix","bytes","_byte","mp4Inspector","inspect","textify","parseTfdt","parseHdlr","parseTfhd","parseTrun","parseSidx","USER_DATA_REGISTERED_ITU_T_T35","parseSei","payloadType","payloadSize","payload","parseCaptionPackets","pts","userData","ccData","discardEmulationPreventionBytes","emulationPreventionBytesPositions","newLength","newData","sourceIndex","captionPacketParser","parseUserData","sei","Stream$1","flushSource","partialFlush","endTimeline","CaptionStream","captionPackets_","ccStreams_","Cea608Stream","cc","newCaptionPackets","nalUnitType","escapedRBSP","dts","latestDts_","ignoreNextEqualDts_","numSameDts_","flushCCStreams","flushType","flushStream","idx","presortIndex","packet","dispatchCea608Packet","activeCea608Channel_","ccStream","setsTextOrXDSActive","setsChannel1Active","setsChannel2Active","CHARACTER_TRANSLATION","getCharFromCode","BOTTOM_ROW","ROWS","createDisplayBuffer","field","dataChannel","field_","dataChannel_","setConstants","swap","char0","char1","lastControlCode_","PADDING_","RESUME_CAPTION_LOADING_","mode_","END_OF_CAPTION_","clearFormatting","flushDisplayed","displayed_","nonDisplayed_","startPts_","ROLL_UP_2_ROWS_","rollUpRows_","setRollUp","ROLL_UP_3_ROWS_","ROLL_UP_4_ROWS_","CARRIAGE_RETURN_","shiftRowsUp_","BACKSPACE_","row_","ERASE_DISPLAYED_MEMORY_","ERASE_NON_DISPLAYED_MEMORY_","RESUME_DIRECT_CAPTIONING_","isSpecialCharacter","column_","isExtCharacter","isMidRowCode","addFormatting","isOffsetControlCode","isPAC","formatting_","isColorPAC","isNormalChar","startPts","endPts","topRow_","BASE_","EXT_","CONTROL_","OFFSET_","_char","newBaseRow","popOn","baseRow","rollUp","paintOn","discardEmulationPreventionBytes$1","CaptionStream$1","mapToSample","approximateOffset","findSeiNals","seiNal","lastMatchedSample","matchingSample","parseSamples","truns","currentDts","allSamples","trackRun","parseCaptionNals","videoTrackId","mdats","captionNals","mdatTrafPairs","matchingTraf","pair","headerInfo","seiNals","parseEmbeddedCaptions","captionParser","isInitialized","captionStream","segmentCache","parsedCaptions","parsingPartial","isPartial","captionStreams","isNewInit","timescales","parsedData","cachedSegment","pushNals","nal","clearParsedCaptions","resetCaptionStream","clearAllCaptions","streamTypes","H264_STREAM_TYPE","ADTS_STREAM_TYPE","METADATA_STREAM_TYPE","TYPE_SHARED","handleRollover","TimestampRolloverStream","lastDTS","referenceDTS","type_","parsePid","pid","parsePayloadUnitStartIndicator","parseAdaptionField","parsePmt","programMapTable","pusi","payloadOffset","sectionLength","tableEnd","programInfoLength","parseNalUnitType","ADTS_SAMPLING_FREQUENCIES","parseSyncSafeInteger","percentEncode","parseIso88591","parseSampleRate","parseAacTimestamp","frameStart","frameSize","frame","frameHeader","owner","ONE_SECOND_IN_TS","secondsToVideoTs","secondsToAudioTs","videoTsToSeconds","audioTsToSeconds","audioTsToVideoTs","videoTsToAudioTs","metadataTsToSeconds","sampleRate","timestamp","timelineStartPts","keepOriginalTimestamps","clock","handleRollover$1","probe$2","pmtPid","parsePat","parsePesType","parsePesTime","pes","ptsDtsFlags","videoPacketContainsKeyFrame","frameBuffer","frameI","frameSyncPoint","foundKeyFrame","nalType","isLikelyAacData","parseId3TagSize","header","byteIndex","returnSize","parseAdtsSize","lowThree","highTwo","ONE_SECOND_IN_TS$1","MP2T_PACKET_LENGTH","SYNC_BYTE","parsePsi_","pmt","table","parseAudioPes_","pesType","parsed","endLoop","parseVideoPes_","currentFrame","firstKeyFrame","adjustTimestamp_","baseTimestamp","audioBaseTimestamp","dtsTime","ptsTime","videoBaseTimestamp","inspectAac_","audioCount","audioTimescale","inspectTs_","unpad","padded","classCallCheck","createClass","protoProps","staticProps","inherits","possibleConstructorReturn","precompute","tables","encTable","decTable","sbox","sboxInv","xInv","th","x2","x4","x8","tEnc","tDec","aesTables","AES","_tables","tmp","encKey","decKey","keyLen","rcon","decrypt","encrypted0","encrypted1","encrypted2","encrypted3","out","a2","c2","nInnerRounds","kIndex","table0","table1","table2","table3","Stream$2","_length","AsyncStream","jobs","delay","timeout_","processJob_","job","ntoh","word","encrypted","initVector","encrypted32","decipher","decrypted","decrypted32","init0","init1","init2","init3","wordIx","Decrypter","done","STEP","asyncStream_","decryptChunk_","resolveUrl$1","resolveManifestRedirect","handleManifestRedirect","req","responseURL","classCallCheck$1","createClass$1","get$1","property","inherits$1","possibleConstructorReturn$1","slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","mergeOptions$1","EventTarget$1","log$1","forEachMediaGroup","mediaType","groupKey","labelKey","mediaProperties","updateSegments","resolveSegmentUris","baseUri","updateMaster","mergedPlaylist","setupMediaPlaylists","resolveMediaGroupUris","refreshDelay","lastSegment","PlaylistLoader","srcUrl","hls","_options$withCredenti","_options$handleManife","handleManifestRedirects","hls_","hlsOptions","customTagParsers","customTagMappers","playlistRequestError","haveMetadata","startingState","customParser","media_","mediaUpdateTimeout","stopRequest","finalRenditionTimeout","oldRequest","isFinalRendition","mediaChange","started","backwardDuration","endSequence","forwardDuration","intervalDuration","expired","backward","forward","sumDurations","durations","safeLiveIndex","distanceFromEnd","safeDistance","playlistEnd","useSafeLiveEnd","isWholeNumber","roundSignificantDigit","increment","numDecimalDigits","ceilLeastSignificantDigit","floorLeastSignificantDigit","getMediaInfoForTime","numSegments","mediaIndex","isBlacklisted","excludeUntil","isIncompatible","isEnabled","blacklisted","isAes","isFmp4","isLowestEnabledRendition","currentBandwidth","MAX_VALUE","Playlist","isDisabled","estimateSegmentRequestTime","segmentDuration","bytesReceived","videojsXHR","mergeOptions$1$1","xhrFactory","XhrFunction","beforeRequest","Hls","newOptions","reqResponse","responseTime","roundTripTime","requestTime","responseHeaders","timedout","originalAbort","byterangeStr","byterangeStart","byterangeEnd","segmentXhrHeaders","Range","textRange","formatHexString","formatAsciiString","createTransferableMessage","transferable","isView","initSegmentId","segmentKeyId","hexDump","ascii","textRanges","utils$1","tagDump","SEGMENT_END_FUDGE_PERCENT","playerTimeToProgramTime","playerTime","transmuxerPrependedSeconds","videoTimingInfo","transmuxedStart","transmuxedPresentationStart","getTime","originalSegmentVideoDuration","transmuxedPresentationEnd","findSegmentForProgramTime","programTime","nextSegmentStart","lastSegmentStart","lastSegmentDuration","lastSegmentEnd","estimatedStart","findSegmentForPlayerTime","segmentEnd","getOffsetFromTimestamp","comparisonTimeStamp","segmentDateTime","programDateTime","segmentTimeEpoch","programTimeEpoch","verifyProgramDateTimeTags","getProgramTime","_ref$time","matchedSegment","seekTime","programTimeObject","mediaSeconds","toISOString","seekToProgramTime","_ref2$retryCount","retryCount","seekTo","_ref2$pauseAfterSeek","pauseAfterSeek","mediaOffset","seekToTime","TIME_FUDGE_FACTOR","SAFE_TIME_DELTA","filterRanges","timeRanges","findRange","findNextRange","findGaps","printableRange","strArr","timeUntilRebuffer","timeRangesToArray","timeRangesList","createTextTracksIfNecessary","sourceBuffer","mediaSource","inbandTextTracks_","metadataTrack_","inBandMetadataTrackDispatchType","dispatchType","removeCuesFromTrack","deprecateOldCue","privateData","durationOfVideo","dur","addTextTrackData","sourceHandler","captionArray","metadataArray","Cue","WebKitDataCue","caption","timestampOffset","videoDuration","mediaSource_","cueTime","frames","cuesArray","cuesGroupedByStartTime","timeSlot","sortedStartTimes","cueGroup","nextTime","win","TARGET","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","URL","webkitURL","msURL","Worker","shimWorker","filename","forceFallback","objURL","createSourceObject","wrapTerminate","selfShim","postMessage","onmessage","isThisThread","testWorker","testArray","revokeObjectURL","terminate","createObjectURL","Blob","blob","getBlob","worker","term","TransmuxWorker","transmuxerWorker","UINT32_MAX","MAJOR_BRAND","MINOR_VERSION","AVC1_BRAND","VIDEO_HDLR","AUDIO_HDLR","HDLR_TYPES","VMHD","SMHD","DREF","STCO","STSC","STSZ","STTS","pasp","setUint32","audioobjecttype","samplingfrequencyindex","trackFragments","videoSample","audioSample","sequenceParameterSets","pictureParameterSets","avc1Box","profileIdc","levelIdc","sarRatio","hSpacing","vSpacing","trackFragmentHeader","trackFragmentDecodeTime","trackFragmentRun","sampleDependencyTable","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","audioTrun","videoTrun","trunHeader","durationPresent","sizePresent","flagsPresent","mp4Generator","fileType","movie","createDefaultSample","sampleForFrame","keyFrame","frameUtils","groupNalsIntoFrames","nalUnits","currentNal","nalCount","groupFramesIntoGops","currentGop","gops","extendFirstKeyFrame","generateSampleTable","concatenateNalData","nalsByteLength","numberOfNals","generateSampleTableForFrame","concatenateNalDataForFrame","highPrefix","lowPrefix","zeroFill","coneOfSilence","silence","metaTable","sumFrameByteLengths","currentObj","sum","audioFrameUtils","prefixWithSilence","audioAppendStartTs","videoBaseMediaDecodeTime","baseMediaDecodeTimeTs","frameDuration","audioGapDuration","audioFillFrameCount","audioFillDuration","silentFrame","firstFrame","trimAdtsFramesByEarliestDts","adtsFrames","earliestAllowedDts","minSegmentDts","minSegmentPts","concatenateFrameData","trackDecodeInfo","clearDtsInfo","maxSegmentDts","maxSegmentPts","calculateTrackBaseMediaDecodeTime","timelineStartInfo","collectDtsInfo","parseUtf8","tagParsers","TXXX","WXXX","PRIV","_MetadataStream","tagSize","dataAlignmentIndicator","timeStamp","metadataStream","TimestampRolloverStream$1","_TransportPacketStream","_TransportParseStream","_ElementaryStream","bytesInBuffer","everything","parsePsi","packetsWaitingForPmt","psi","payloadUnitStartIndicator","pat","section_number","last_section_number","processPes_","STREAM_TYPES","h264","adts","timedMetadata","parsePes","packetLength","stream$$1","forceFlush","packetData","packetFlushable","flushStreams_","m2ts","PAT_PID","TransportPacketStream","TransportParseStream","ElementaryStream","MetadataStream","m2ts_1","ONE_SECOND_IN_TS$2","_AdtsStream","handlePartialSegments","frameNum","frameLength","protectionSkipBytes","frameEnd","oldBuffer","adtsFrameDuration","ExpGolomb","workingData","workingBytesAvailable","workingWord","workingBitsAvailable","bitsAvailable","loadWord","workingBytes","availableBytes","skipBits","skipBytes","readBits","bits","valu","skipLeadingZeros","leadingZeroCount","skipUnsignedExpGolomb","skipExpGolomb","readUnsignedExpGolomb","clz","readExpGolomb","readBoolean","readUnsignedByte","expGolomb","_H264Stream","_NalByteStream","PROFILES_WITH_OPTIONAL_SPS_DATA","syncPoint","swapBuffer","nalByteStream","currentPts","readSequenceParameterSet","skipScalingList","expGolombDecoder","lastScale","nextScale","deltaScale","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","sarScale","chromaFormatIdc","picOrderCntType","numRefFramesInPicOrderCntCycle","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","scalingListCount","aspectRatioIdc","H264Stream","NalByteStream","ADTS_SAMPLING_FREQUENCIES$1","parseSyncSafeInteger$1","percentEncode$1","parseIso88591$1","utils","_AacStream","setTimestamp","bytesLeft","tempLength","isLikelyAacData$1","ONE_SECOND_IN_TS$3","AUDIO_PROPERTIES","VIDEO_PROPERTIES","_VideoSegmentStream","_AudioSegmentStream","_Transmuxer","_CoalesceStream","arrayEquals","generateVideoSegmentTimingInfo","startDts","endDts","prependedContentDuration","setEarliestDts","earliestDts","setVideoBaseMediaDecodeTime","setAudioAppendStart","gopsToAlignWith","minPTS","gopCache_","nalUnit","gopForFusion","firstGop","lastGop","resetStream_","getGopForFusion_","alignedGops","alignGopsAtEnd","alignGopsAtEnd_","alignGopsAtStart_","gop","nearestDistance","dtsDistance","nearestGopObj","currentGopObj","alignIndex","gopIndex","alignEndIndex","matchFound","trimIndex","total","alignGopsWith","newGopsToAlignWith","numberOfTracks","remux","remuxTracks","pendingTracks","videoTrack","pendingBoxes","pendingCaptions","pendingMetadata","pendingBytes","emittedTracks","output","audioTrack","id3","setRemux","hasFlushed","transmuxPipeline_","setupAacPipeline","pipeline","aacStream","audioTimestampRolloverStream","timedMetadataTimestampRolloverStream","adtsStream","coalesceStream","headOfPipeline","audioSegmentStream","hasAudio","hasVideo","setupTsPipeline","packetStream","elementaryStream","timestampRolloverStream","h264Stream","videoSegmentStream","id3Frame","setBaseMediaDecodeTime","isAac","resetCaptions","transmuxer","Transmuxer","VideoSegmentStream","AudioSegmentStream","wireTransmuxerEvents","transmuxer$$1","initArray","typedArray","action","gopInfo","videoSegmentTimingInfo","MessageHandlers","appendStart","messageHandlers","defaultCodecs","videoCodec","videoObjectTypeIndicator","audioProfile","translateLegacyCodecs","orig","profile","avcLevel","profileHex","avcLevelHex","parseCodecs","codecCount","mapLegacyAvcCodecs","codecString","makeMimeTypeString","getContainerType","getCodecs","mediaAttributes","audioProfileFromDefault","audioGroupId","audioGroup","audioType","mimeTypesForPlaylist","containerType","codecInfo","isMuxed","isMaat","groupId","codecStrings","justAudio","justVideo","bothVideoAudio","parseContentType","parameters","parameter","isAudioCodec","isVideoCodec","gopsSafeToAlignWith","mapping","currentTimePts","updateGopBuffer","removeGopBuffer","updatedBuffer","videoBuffer","audioBuffer","audioDisabled","arity","extents","videoBuffered","audioBuffered","makeWrappedSourceBuffer","addSourceBuffer","updating","realBuffer_","VirtualSourceBuffer","_videojs$EventTarget","timestampOffset_","pendingBuffers_","bufferUpdating_","codecs_","audioCodec_","videoCodec_","audioDisabled_","appendAudioInitSegment_","gopBuffer_","timeMapping_","safeAppend_","transmuxer_","data_","done_","appendGopInfo_","videoSegmentTimingInfo_","videoBuffer_","audioBuffer_","appendWindowStart","processPendingSegments_","timingInfo","timingInfoInSeconds","presentation","nativeMediaSource_","shouldTrigger","sortedSegments","segmentObj","createRealSourceBuffers_","triggerUpdateend","concatAndAppendSegments_","destinationBuffer","tempBuffer","appendBuffer","originalError","HtmlMediaSource","MediaSource","activeSourceBuffers_","sourceBuffers","updateActiveSourceBuffers_","disableCombined","disableAudioOnly","onPlayerMediachange_","onHlsReset_","onHlsSegmentTimeMapping_","url_","sourcebuffer","parsedType","urlCount","mediaSources","msObjectURL","swfId","supportsNativeMediaSources","isTypeSupported","URL$1","EventTarget$1$1","mergeOptions$2","updateMaster$1","oldMaster","newMaster","noChanges","playlistUpdate","group","_playlistUpdate","generateSidxKey","sidxInfo","sidxByteRangeEnd","equivalentSidx","neitherMap","equivalentMap","compareSidxEntry","oldSidxMapping","newSidxMapping","currentSidxInfo","savedSidxInfo","filterChangedSidxMappings","masterXml","videoSidx","mediaGroupSidx","requestSidx_","sidxRange","finishProcessingFn","sidxRequestOptions","DashPlaylistLoader","srcUrlOrPlaylist","masterPlaylistLoader","refreshXml_","refreshMedia_","loadedPlaylists_","sidxMapping_","setupChildLoader","masterPlaylistLoader_","childPlaylist_","minimumUpdatePeriodTimeout_","mediaRequest_","doneFn","sidxRequestFinished_","masterXml_","clientOffset_","phonyUri","_phonyUri","haveMaster_","date","masterLoaded_","syncClientServerClock_","onClientServerClockSync_","utcTiming","serverTime","parseMasterXml","hasPendingRequest","updatedMaster","mediaUri","logger","noop$1","SourceUpdater","sourceBufferEmitter","callbacks_","pendingCallback_","processedAppend_","mimeType_","logger_","createSourceBuffer_","sourceBuffer_","start_","started_","onUpdateendCallback_","pendingCallback","removing","runCallback_","queueCallback_","videoSegmentTimingInfoCallback","disposeFn","Config","GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","INITIAL_BANDWIDTH","BANDWIDTH_VARIANCE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","REQUEST_ERRORS","FAILURE","TIMEOUT","ABORTED","abortAll","activeXhrs","getRequestStats","getProgressStats","progressEvent","stats","loaded","handleErrors","handleKeyResponse","errorObj","handleInitSegmentResponse","handleSegmentResponse","encryptedBytes","fmp4Captions","decryptSegment","decrypter","decryptionHandler","requestId","keyBytes","waitForCompletion","didError","endOfAllRequests","handleProgress","progressFn","firstBytesReceivedAt","mediaSegmentRequest","xhrOptions","decryptionWorker","keyRequestOptions","keyRequestCallback","keyXhr","initSegmentOptions","initSegmentRequestCallback","initSegmentXhr","segmentRequestOptions","segmentRequestCallback","segmentXhr","safeGetComputedStyle","stableSort","sortFn","newArray","cmp","comparePlaylistBandwidth","leftBandwidth","rightBandwidth","comparePlaylistResolution","leftWidth","rightWidth","simpleSelector","playerBandwidth","playerWidth","playerHeight","limitRenditionByPlayerDimensions","sortedPlaylistReps","rep","enabledPlaylistReps","bandwidthPlaylistReps","highestRemainingBandwidthRep","bandwidthBestRep","_chosenRep","haveResolution","resolutionBestRepList","resolutionBestRep","resolutionPlusOneList","resolutionPlusOneSmallest","resolutionPlusOneRep","chosenRep","minRebufferMaxBandwidthSelector","duration$$1","syncController","compatiblePlaylists","enabledPlaylists","bandwidthPlaylists","rebufferingEstimates","getSyncPoint","numRequests","requestTimeEstimate","rebufferingImpact","noRebufferingPlaylists","estimate","createCaptionsTrackIfNotExists","inbandTextTracks","addCaptionData","detectEndOfStream","segmentIndex","appendedLastSegment","finite","illegalMediaSwitch","loaderType","startingMedia","newSegmentMedia","containsAudio","containsVideo","safeBackBufferTrimTime","seekable$$1","removeToTime","segmentInfoString","_segmentInfo$segment","_segmentInfo$playlist","seq","_segmentInfo$playlist2","SegmentLoader","throughput","roundTrip","resetStats_","hasPlayed_","hasPlayed","currentTime_","seekable_","seeking_","loaderType_","startingMedia_","segmentMetadataTrack_","segmentMetadataTrack","goalBufferLength_","goalBufferLength","sourceType_","sourceType","state_","checkBufferTimeout_","currentTimeline_","pendingSegment_","sourceUpdater_","xhrOptions_","activeInitSegmentId_","initSegments_","cacheEncryptionKeys_","cacheEncryptionKeys","keyCache_","captionParser_","decrypter_","syncController_","syncPoint_","ended_","fetchAtBuffer_","newState","mediaBytesTransferred","mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaSecondsLoaded","abort_","monitorBuffer_","abortRequests","_error","set$$1","storedMap","storedKey","playlist_","setDateTimeMapping","couldBeginLoading_","init_","sourceBufferEmitter_","resetEverything","newPlaylist","oldPlaylist","syncInfo","oldId","resyncLoader","mediaSequenceDiff","saveExpiredSegmentInfo","_mimeType","resetLoader","monitorBufferTick_","fillBuffer_","checkBuffer_","buffered_","isEndOfStream_","endOfStream","startOfSegment","loadSegment_","lastBufferedEnd","bufferedTime","getSyncSegmentCandidate_","generateSegmentInfo_","mediaSourceInfo","_mediaSourceInfo","segmentIndexArray","isSyncRequest","random","measuredBandwidth","requestTimeRemaining","timeUntilRebuffer$$1","switchCandidate","timeSavedBySwitching","minimumTimeSaving","simpleSegment","abortRequestEarly_","trimBackBuffer_","createSimplifiedSegmentObj_","handleProgress_","segmentRequestFinished_","segmentKey","processSegmentResponse_","handleSegment_","probeSegmentInfo","illegalMediaSwitchError","blacklistDuration","segmentTimestampInfo","ptsStartTime","dtsStartTime","timelineMapping","mappingForTimeline","initId","handleVideoSegmentTimingInfo_","handleUpdateEnd_","isWalkingForward","recordThroughput_","addSegmentMetadataCue_","segmentProcessingTime","segmentProcessingThroughput","uint8ToUtf8","uintArray","VTT_LINE_TERMINATORS","_char2","VTTSegmentLoader","_SegmentLoader","subtitlesTrack_","combinedByteLength","combinedSegment","skipEmptySegments_","timestampOffsetForTimeline","checkTimestampOffset","loadHandler","errorHandler","requested","parseVTTCues_","updateTimeMapping_","timelines","decodeBytesToString","timestampmap","MPEGTS","LOCAL","mapData","segmentData","mappingObj","diff","firstStart","lastStart","findAdCue","mediaTime","adStartTime","adEndTime","updateAdCues","adOffset","adTotal","_segment$cueOutCont$s","_segment$cueOutCont$s2","tsprobe","isAacData","syncPointStrategies","run","datetimeToDisplayTime","lastDistance","segmentStart","discontinuitySync","discontinuities","SyncController","inspectCache_","syncPoints","runStrategies_","selectSyncPoint_","strategy","bestSyncPoint","bestDistance","bestStrategy","newDistance","lastRemovedSegment","playlistTimestamp","probeMp4Segment_","probeTsSegment_","calculateSegmentTimeMapping_","saveDiscontinuitySyncInfo_","timeInfo","segmentStartTime","segmentEndTime","probedInfo","accuracy","mediaIndexDiff","Decrypter$1","decrypterWorker","AsyncStream$$1","decrypt$$1","Decrypter$$1","audioTrackKind_","stopLoaders","segmentLoader","activePlaylistLoader","startLoaders","playlistLoader","onGroupChanged","_settings$segmentLoad","segmentLoaders","mainSegmentLoader","mediaTypes","activeTrack","activeGroup","previousActiveLoader","onTrackChanged","_settings$segmentLoad2","onError","blacklistCurrentPlaylist","defaultTrack","setupListeners","requestOptions","initialize","_settings$mediaTypes$","variantLabel","_settings$mediaTypes$2","_settings$mediaTypes$3","variants","setupMediaGroups","onAudioTrackChanged","createMediaTypes","loaderStats","sumLoaderStat","stat","audioSegmentLoader_","mainSegmentLoader_","MasterPlaylistController","externHls","useCueTags","enableLowInitialPlaylist","seekTo_","useCueTags_","cueTagsTrack_","requestOptions_","mediaTypes_","handleSourceOpen_","segmentLoaderSettings","setupMasterPlaylistLoaderListeners_","subtitleSegmentLoader_","setupSegmentLoaderListeners_","requestTimeout","triggerPresenceUsage_","setupSourceBuffers_","setupFirstPlay","updatedPlaylist","excludeUnsupportedVariants_","selectedMedia","selectInitialPlaylist","selectPlaylist","initialMedia_","updateAdCues_","updateDuration","addSeekableRange","addSeekableRange_","onDurationchange","playlistOutdated","stuckAtPlaylistEnd_","defaultDemuxed","audioGroupKeys","nextPlaylist","currentPlaylist","forwardBuffer","bufferLowWaterLine","onSyncInfoUpdate_","onEndOfStream","ended","isEndOfStream","getExpiredTime","absolutePlaylistEnd","mainSeekable","audioSeekable","oldEnd","oldStart","oldDuration","newDuration","setDuration","mimeTypes","configureLoaderMimeTypes_","excludeIncompatibleVariants_","variant","variantCodecs","enableFunction","loader","playlistUri","changePlaylistFn","incompatible","currentlyEnabled","Representation","hlsHandler","mpc","masterPlaylistController_","smoothQualityChange","changeType","qualityChangeFunction","renditionSelectionMixin","timerCancelEvents","PlaybackWatcher","allowSeeksWithinUnsafeLiveWindow","consecutiveUpdates","lastRecordedTime","timer_","checkCurrentTimeTimeout_","canPlayHandler","monitorCurrentTime_","waitingHandler","techWaiting_","cancelTimerHandler","cancelTimer_","fixesBadSeeksHandler","fixesBadSeeks_","checkCurrentTime_","waiting_","isAfterSeekableRange","afterSeekableWindow_","beforeSeekableWindow_","livePoint","nextRange","videoUnderflow_","difference","skipTheGap_","allowedEnd","gap","gapFromVideoUnderflow_","scheduledCurrentTime","gaps","defaultOptions","errorInterval","getSource","IWillNotUseThisInPlugins","initPlugin","lastCalled","localOptions","loadedMetadataHandler","cleanupEvents","reloadSourceOnError","vhs","source_","Hls$1","STANDARD_PLAYLIST_SELECTOR","systemBandwidth","INITIAL_PLAYLIST_SELECTOR","playlistsWithVideo","simpleTypeFromSourceType","dashRE","handleHlsMediaChange","qualityLevels","selectedIndex_","handleHlsLoadedMetadata","addQualityLevel","emeKeySystems","keySystemOptions","videoPlaylist","audioPlaylist","keySystemContentTypes","audioContentType","videoContentType","setupEmeOptions","eme","sourceOptions","keySystems","initializeMediaKeys","getVhsLocalStorage","storedObject","updateVhsLocalStorage","objectToStore","supportsNativeHls","canItPlay","supportsNativeDash","supportsTypeNatively","Component$1","HlsHandler","dash","setOptions_","overrideNative","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","smoothQualityChange_","pauseLoading","useBandwidthFromLocalStorage","option","playbackWatcher_","invBandwidth","invThroughput","systemBitrate","mediaRequests_","mediaRequestsAborted_","mediaRequestsTimedout_","mediaRequestsErrored_","mediaTransferDuration_","mediaBytesTransferred_","mediaSecondsLoaded_","currentTech","playerDimensions","setupQualityLevels_","qualityLevels_","HlsSourceHandler","_videojs$mergeOptions","supportedType","canUseMsePlayback"],"mappings":"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","sourcesContent":["/**\n * @license\n * Video.js 7.6.5 <http://videojs.com/>\n * Copyright Brightcove, Inc. <https://www.brightcove.com/>\n * Available under Apache License Version 2.0\n * <https://github.com/videojs/video.js/blob/master/LICENSE>\n *\n * Includes vtt.js <https://github.com/mozilla/vtt.js>\n * Available under Apache License Version 2.0\n * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('global/window'), require('global/document')) :\n  typeof define === 'function' && define.amd ? define(['./window', './document'], factory) :\n  (global = global || self, global.videojs = factory(global.window, global.document));\n}(this, function (window$1, document) {\n  window$1 = window$1 && window$1.hasOwnProperty('default') ? window$1['default'] : window$1;\n  document = document && document.hasOwnProperty('default') ? document['default'] : document;\n\n  var version = \"7.6.5\";\n\n  /**\n   * @file create-logger.js\n   * @module create-logger\n   */\n\n  var history = [];\n  /**\n   * Log messages to the console and history based on the type of message\n   *\n   * @private\n   * @param  {string} type\n   *         The name of the console method to use.\n   *\n   * @param  {Array} args\n   *         The arguments to be passed to the matching console method.\n   */\n\n  var LogByTypeFactory = function LogByTypeFactory(name, log) {\n    return function (type, level, args) {\n      var lvl = log.levels[level];\n      var lvlRegExp = new RegExp(\"^(\" + lvl + \")$\");\n\n      if (type !== 'log') {\n        // Add the type to the front of the message when it's not \"log\".\n        args.unshift(type.toUpperCase() + ':');\n      } // Add console prefix after adding to history.\n\n\n      args.unshift(name + ':'); // Add a clone of the args at this point to history.\n\n      if (history) {\n        history.push([].concat(args));\n      } // If there's no console then don't try to output messages, but they will\n      // still be stored in history.\n\n\n      if (!window$1.console) {\n        return;\n      } // Was setting these once outside of this function, but containing them\n      // in the function makes it easier to test cases where console doesn't exist\n      // when the module is executed.\n\n\n      var fn = window$1.console[type];\n\n      if (!fn && type === 'debug') {\n        // Certain browsers don't have support for console.debug. For those, we\n        // should default to the closest comparable log.\n        fn = window$1.console.info || window$1.console.log;\n      } // Bail out if there's no console or if this type is not allowed by the\n      // current logging level.\n\n\n      if (!fn || !lvl || !lvlRegExp.test(type)) {\n        return;\n      }\n\n      fn[Array.isArray(args) ? 'apply' : 'call'](window$1.console, args);\n    };\n  };\n\n  function createLogger(name) {\n    // This is the private tracking variable for logging level.\n    var level = 'info'; // the curried logByType bound to the specific log and history\n\n    var logByType;\n    /**\n     * Logs plain debug messages. Similar to `console.log`.\n     *\n     * Due to [limitations](https://github.com/jsdoc3/jsdoc/issues/955#issuecomment-313829149)\n     * of our JSDoc template, we cannot properly document this as both a function\n     * and a namespace, so its function signature is documented here.\n     *\n     * #### Arguments\n     * ##### *args\n     * Mixed[]\n     *\n     * Any combination of values that could be passed to `console.log()`.\n     *\n     * #### Return Value\n     *\n     * `undefined`\n     *\n     * @namespace\n     * @param    {Mixed[]} args\n     *           One or more messages or objects that should be logged.\n     */\n\n    var log = function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      logByType('log', level, args);\n    }; // This is the logByType helper that the logging methods below use\n\n\n    logByType = LogByTypeFactory(name, log);\n    /**\n     * Create a new sublogger which chains the old name to the new name.\n     *\n     * For example, doing `videojs.log.createLogger('player')` and then using that logger will log the following:\n     * ```js\n     *  mylogger('foo');\n     *  // > VIDEOJS: player: foo\n     * ```\n     *\n     * @param {string} name\n     *        The name to add call the new logger\n     * @return {Object}\n     */\n\n    log.createLogger = function (subname) {\n      return createLogger(name + ': ' + subname);\n    };\n    /**\n     * Enumeration of available logging levels, where the keys are the level names\n     * and the values are `|`-separated strings containing logging methods allowed\n     * in that logging level. These strings are used to create a regular expression\n     * matching the function name being called.\n     *\n     * Levels provided by Video.js are:\n     *\n     * - `off`: Matches no calls. Any value that can be cast to `false` will have\n     *   this effect. The most restrictive.\n     * - `all`: Matches only Video.js-provided functions (`debug`, `log`,\n     *   `log.warn`, and `log.error`).\n     * - `debug`: Matches `log.debug`, `log`, `log.warn`, and `log.error` calls.\n     * - `info` (default): Matches `log`, `log.warn`, and `log.error` calls.\n     * - `warn`: Matches `log.warn` and `log.error` calls.\n     * - `error`: Matches only `log.error` calls.\n     *\n     * @type {Object}\n     */\n\n\n    log.levels = {\n      all: 'debug|log|warn|error',\n      off: '',\n      debug: 'debug|log|warn|error',\n      info: 'log|warn|error',\n      warn: 'warn|error',\n      error: 'error',\n      DEFAULT: level\n    };\n    /**\n     * Get or set the current logging level.\n     *\n     * If a string matching a key from {@link module:log.levels} is provided, acts\n     * as a setter.\n     *\n     * @param  {string} [lvl]\n     *         Pass a valid level to set a new logging level.\n     *\n     * @return {string}\n     *         The current logging level.\n     */\n\n    log.level = function (lvl) {\n      if (typeof lvl === 'string') {\n        if (!log.levels.hasOwnProperty(lvl)) {\n          throw new Error(\"\\\"\" + lvl + \"\\\" in not a valid log level\");\n        }\n\n        level = lvl;\n      }\n\n      return level;\n    };\n    /**\n     * Returns an array containing everything that has been logged to the history.\n     *\n     * This array is a shallow clone of the internal history record. However, its\n     * contents are _not_ cloned; so, mutating objects inside this array will\n     * mutate them in history.\n     *\n     * @return {Array}\n     */\n\n\n    log.history = function () {\n      return history ? [].concat(history) : [];\n    };\n    /**\n     * Allows you to filter the history by the given logger name\n     *\n     * @param {string} fname\n     *        The name to filter by\n     *\n     * @return {Array}\n     *         The filtered list to return\n     */\n\n\n    log.history.filter = function (fname) {\n      return (history || []).filter(function (historyItem) {\n        // if the first item in each historyItem includes `fname`, then it's a match\n        return new RegExp(\".*\" + fname + \".*\").test(historyItem[0]);\n      });\n    };\n    /**\n     * Clears the internal history tracking, but does not prevent further history\n     * tracking.\n     */\n\n\n    log.history.clear = function () {\n      if (history) {\n        history.length = 0;\n      }\n    };\n    /**\n     * Disable history tracking if it is currently enabled.\n     */\n\n\n    log.history.disable = function () {\n      if (history !== null) {\n        history.length = 0;\n        history = null;\n      }\n    };\n    /**\n     * Enable history tracking if it is currently disabled.\n     */\n\n\n    log.history.enable = function () {\n      if (history === null) {\n        history = [];\n      }\n    };\n    /**\n     * Logs error messages. Similar to `console.error`.\n     *\n     * @param {Mixed[]} args\n     *        One or more messages or objects that should be logged as an error\n     */\n\n\n    log.error = function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return logByType('error', level, args);\n    };\n    /**\n     * Logs warning messages. Similar to `console.warn`.\n     *\n     * @param {Mixed[]} args\n     *        One or more messages or objects that should be logged as a warning.\n     */\n\n\n    log.warn = function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return logByType('warn', level, args);\n    };\n    /**\n     * Logs debug messages. Similar to `console.debug`, but may also act as a comparable\n     * log if `console.debug` is not available\n     *\n     * @param {Mixed[]} args\n     *        One or more messages or objects that should be logged as debug.\n     */\n\n\n    log.debug = function () {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return logByType('debug', level, args);\n    };\n\n    return log;\n  }\n\n  /**\n   * @file log.js\n   * @module log\n   */\n  var log = createLogger('VIDEOJS');\n  var createLogger$1 = log.createLogger;\n\n  /**\n   * @file obj.js\n   * @module obj\n   */\n\n  /**\n   * @callback obj:EachCallback\n   *\n   * @param {Mixed} value\n   *        The current key for the object that is being iterated over.\n   *\n   * @param {string} key\n   *        The current key-value for object that is being iterated over\n   */\n\n  /**\n   * @callback obj:ReduceCallback\n   *\n   * @param {Mixed} accum\n   *        The value that is accumulating over the reduce loop.\n   *\n   * @param {Mixed} value\n   *        The current key for the object that is being iterated over.\n   *\n   * @param {string} key\n   *        The current key-value for object that is being iterated over\n   *\n   * @return {Mixed}\n   *         The new accumulated value.\n   */\n  var toString = Object.prototype.toString;\n  /**\n   * Get the keys of an Object\n   *\n   * @param {Object}\n   *        The Object to get the keys from\n   *\n   * @return {string[]}\n   *         An array of the keys from the object. Returns an empty array if the\n   *         object passed in was invalid or had no keys.\n   *\n   * @private\n   */\n\n  var keys = function keys(object) {\n    return isObject(object) ? Object.keys(object) : [];\n  };\n  /**\n   * Array-like iteration for objects.\n   *\n   * @param {Object} object\n   *        The object to iterate over\n   *\n   * @param {obj:EachCallback} fn\n   *        The callback function which is called for each key in the object.\n   */\n\n\n  function each(object, fn) {\n    keys(object).forEach(function (key) {\n      return fn(object[key], key);\n    });\n  }\n  /**\n   * Array-like reduce for objects.\n   *\n   * @param {Object} object\n   *        The Object that you want to reduce.\n   *\n   * @param {Function} fn\n   *         A callback function which is called for each key in the object. It\n   *         receives the accumulated value and the per-iteration value and key\n   *         as arguments.\n   *\n   * @param {Mixed} [initial = 0]\n   *        Starting value\n   *\n   * @return {Mixed}\n   *         The final accumulated value.\n   */\n\n  function reduce(object, fn, initial) {\n    if (initial === void 0) {\n      initial = 0;\n    }\n\n    return keys(object).reduce(function (accum, key) {\n      return fn(accum, object[key], key);\n    }, initial);\n  }\n  /**\n   * Object.assign-style object shallow merge/extend.\n   *\n   * @param  {Object} target\n   * @param  {Object} ...sources\n   * @return {Object}\n   */\n\n  function assign(target) {\n    for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      sources[_key - 1] = arguments[_key];\n    }\n\n    if (Object.assign) {\n      return Object.assign.apply(Object, [target].concat(sources));\n    }\n\n    sources.forEach(function (source) {\n      if (!source) {\n        return;\n      }\n\n      each(source, function (value, key) {\n        target[key] = value;\n      });\n    });\n    return target;\n  }\n  /**\n   * Returns whether a value is an object of any kind - including DOM nodes,\n   * arrays, regular expressions, etc. Not functions, though.\n   *\n   * This avoids the gotcha where using `typeof` on a `null` value\n   * results in `'object'`.\n   *\n   * @param  {Object} value\n   * @return {boolean}\n   */\n\n  function isObject(value) {\n    return !!value && typeof value === 'object';\n  }\n  /**\n   * Returns whether an object appears to be a \"plain\" object - that is, a\n   * direct instance of `Object`.\n   *\n   * @param  {Object} value\n   * @return {boolean}\n   */\n\n  function isPlain(value) {\n    return isObject(value) && toString.call(value) === '[object Object]' && value.constructor === Object;\n  }\n\n  /**\n   * @file computed-style.js\n   * @module computed-style\n   */\n  /**\n   * A safe getComputedStyle.\n   *\n   * This is needed because in Firefox, if the player is loaded in an iframe with\n   * `display:none`, then `getComputedStyle` returns `null`, so, we do a\n   * null-check to make sure that the player doesn't break in these cases.\n   *\n   * @function\n   * @param    {Element} el\n   *           The element you want the computed style of\n   *\n   * @param    {string} prop\n   *           The property name you want\n   *\n   * @see      https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n   */\n\n  function computedStyle(el, prop) {\n    if (!el || !prop) {\n      return '';\n    }\n\n    if (typeof window$1.getComputedStyle === 'function') {\n      var computedStyleValue = window$1.getComputedStyle(el);\n      return computedStyleValue ? computedStyleValue.getPropertyValue(prop) || computedStyleValue[prop] : '';\n    }\n\n    return '';\n  }\n\n  /**\n   * @file dom.js\n   * @module dom\n   */\n  /**\n   * Detect if a value is a string with any non-whitespace characters.\n   *\n   * @private\n   * @param  {string} str\n   *         The string to check\n   *\n   * @return {boolean}\n   *         Will be `true` if the string is non-blank, `false` otherwise.\n   *\n   */\n\n  function isNonBlankString(str) {\n    return typeof str === 'string' && /\\S/.test(str);\n  }\n  /**\n   * Throws an error if the passed string has whitespace. This is used by\n   * class methods to be relatively consistent with the classList API.\n   *\n   * @private\n   * @param  {string} str\n   *         The string to check for whitespace.\n   *\n   * @throws {Error}\n   *         Throws an error if there is whitespace in the string.\n   */\n\n\n  function throwIfWhitespace(str) {\n    if (/\\s/.test(str)) {\n      throw new Error('class has illegal whitespace characters');\n    }\n  }\n  /**\n   * Produce a regular expression for matching a className within an elements className.\n   *\n   * @private\n   * @param  {string} className\n   *         The className to generate the RegExp for.\n   *\n   * @return {RegExp}\n   *         The RegExp that will check for a specific `className` in an elements\n   *         className.\n   */\n\n\n  function classRegExp(className) {\n    return new RegExp('(^|\\\\s)' + className + '($|\\\\s)');\n  }\n  /**\n   * Whether the current DOM interface appears to be real (i.e. not simulated).\n   *\n   * @return {boolean}\n   *         Will be `true` if the DOM appears to be real, `false` otherwise.\n   */\n\n\n  function isReal() {\n    // Both document and window will never be undefined thanks to `global`.\n    return document === window$1.document;\n  }\n  /**\n   * Determines, via duck typing, whether or not a value is a DOM element.\n   *\n   * @param  {Mixed} value\n   *         The value to check.\n   *\n   * @return {boolean}\n   *         Will be `true` if the value is a DOM element, `false` otherwise.\n   */\n\n  function isEl(value) {\n    return isObject(value) && value.nodeType === 1;\n  }\n  /**\n   * Determines if the current DOM is embedded in an iframe.\n   *\n   * @return {boolean}\n   *         Will be `true` if the DOM is embedded in an iframe, `false`\n   *         otherwise.\n   */\n\n  function isInFrame() {\n    // We need a try/catch here because Safari will throw errors when attempting\n    // to get either `parent` or `self`\n    try {\n      return window$1.parent !== window$1.self;\n    } catch (x) {\n      return true;\n    }\n  }\n  /**\n   * Creates functions to query the DOM using a given method.\n   *\n   * @private\n   * @param   {string} method\n   *          The method to create the query with.\n   *\n   * @return  {Function}\n   *          The query method\n   */\n\n  function createQuerier(method) {\n    return function (selector, context) {\n      if (!isNonBlankString(selector)) {\n        return document[method](null);\n      }\n\n      if (isNonBlankString(context)) {\n        context = document.querySelector(context);\n      }\n\n      var ctx = isEl(context) ? context : document;\n      return ctx[method] && ctx[method](selector);\n    };\n  }\n  /**\n   * Creates an element and applies properties, attributes, and inserts content.\n   *\n   * @param  {string} [tagName='div']\n   *         Name of tag to be created.\n   *\n   * @param  {Object} [properties={}]\n   *         Element properties to be applied.\n   *\n   * @param  {Object} [attributes={}]\n   *         Element attributes to be applied.\n   *\n   * @param {module:dom~ContentDescriptor} content\n   *        A content descriptor object.\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  function createEl(tagName, properties, attributes, content) {\n    if (tagName === void 0) {\n      tagName = 'div';\n    }\n\n    if (properties === void 0) {\n      properties = {};\n    }\n\n    if (attributes === void 0) {\n      attributes = {};\n    }\n\n    var el = document.createElement(tagName);\n    Object.getOwnPropertyNames(properties).forEach(function (propName) {\n      var val = properties[propName]; // See #2176\n      // We originally were accepting both properties and attributes in the\n      // same object, but that doesn't work so well.\n\n      if (propName.indexOf('aria-') !== -1 || propName === 'role' || propName === 'type') {\n        log.warn('Setting attributes in the second argument of createEl()\\n' + 'has been deprecated. Use the third argument instead.\\n' + (\"createEl(type, properties, attributes). Attempting to set \" + propName + \" to \" + val + \".\"));\n        el.setAttribute(propName, val); // Handle textContent since it's not supported everywhere and we have a\n        // method for it.\n      } else if (propName === 'textContent') {\n        textContent(el, val);\n      } else {\n        el[propName] = val;\n      }\n    });\n    Object.getOwnPropertyNames(attributes).forEach(function (attrName) {\n      el.setAttribute(attrName, attributes[attrName]);\n    });\n\n    if (content) {\n      appendContent(el, content);\n    }\n\n    return el;\n  }\n  /**\n   * Injects text into an element, replacing any existing contents entirely.\n   *\n   * @param  {Element} el\n   *         The element to add text content into\n   *\n   * @param  {string} text\n   *         The text content to add.\n   *\n   * @return {Element}\n   *         The element with added text content.\n   */\n\n  function textContent(el, text) {\n    if (typeof el.textContent === 'undefined') {\n      el.innerText = text;\n    } else {\n      el.textContent = text;\n    }\n\n    return el;\n  }\n  /**\n   * Insert an element as the first child node of another\n   *\n   * @param {Element} child\n   *        Element to insert\n   *\n   * @param {Element} parent\n   *        Element to insert child into\n   */\n\n  function prependTo(child, parent) {\n    if (parent.firstChild) {\n      parent.insertBefore(child, parent.firstChild);\n    } else {\n      parent.appendChild(child);\n    }\n  }\n  /**\n   * Check if an element has a class name.\n   *\n   * @param  {Element} element\n   *         Element to check\n   *\n   * @param  {string} classToCheck\n   *         Class name to check for\n   *\n   * @return {boolean}\n   *         Will be `true` if the element has a class, `false` otherwise.\n   *\n   * @throws {Error}\n   *         Throws an error if `classToCheck` has white space.\n   */\n\n  function hasClass(element, classToCheck) {\n    throwIfWhitespace(classToCheck);\n\n    if (element.classList) {\n      return element.classList.contains(classToCheck);\n    }\n\n    return classRegExp(classToCheck).test(element.className);\n  }\n  /**\n   * Add a class name to an element.\n   *\n   * @param  {Element} element\n   *         Element to add class name to.\n   *\n   * @param  {string} classToAdd\n   *         Class name to add.\n   *\n   * @return {Element}\n   *         The DOM element with the added class name.\n   */\n\n  function addClass(element, classToAdd) {\n    if (element.classList) {\n      element.classList.add(classToAdd); // Don't need to `throwIfWhitespace` here because `hasElClass` will do it\n      // in the case of classList not being supported.\n    } else if (!hasClass(element, classToAdd)) {\n      element.className = (element.className + ' ' + classToAdd).trim();\n    }\n\n    return element;\n  }\n  /**\n   * Remove a class name from an element.\n   *\n   * @param  {Element} element\n   *         Element to remove a class name from.\n   *\n   * @param  {string} classToRemove\n   *         Class name to remove\n   *\n   * @return {Element}\n   *         The DOM element with class name removed.\n   */\n\n  function removeClass(element, classToRemove) {\n    if (element.classList) {\n      element.classList.remove(classToRemove);\n    } else {\n      throwIfWhitespace(classToRemove);\n      element.className = element.className.split(/\\s+/).filter(function (c) {\n        return c !== classToRemove;\n      }).join(' ');\n    }\n\n    return element;\n  }\n  /**\n   * The callback definition for toggleClass.\n   *\n   * @callback module:dom~PredicateCallback\n   * @param    {Element} element\n   *           The DOM element of the Component.\n   *\n   * @param    {string} classToToggle\n   *           The `className` that wants to be toggled\n   *\n   * @return   {boolean|undefined}\n   *           If `true` is returned, the `classToToggle` will be added to the\n   *           `element`. If `false`, the `classToToggle` will be removed from\n   *           the `element`. If `undefined`, the callback will be ignored.\n   */\n\n  /**\n   * Adds or removes a class name to/from an element depending on an optional\n   * condition or the presence/absence of the class name.\n   *\n   * @param  {Element} element\n   *         The element to toggle a class name on.\n   *\n   * @param  {string} classToToggle\n   *         The class that should be toggled.\n   *\n   * @param  {boolean|module:dom~PredicateCallback} [predicate]\n   *         See the return value for {@link module:dom~PredicateCallback}\n   *\n   * @return {Element}\n   *         The element with a class that has been toggled.\n   */\n\n  function toggleClass(element, classToToggle, predicate) {\n    // This CANNOT use `classList` internally because IE11 does not support the\n    // second parameter to the `classList.toggle()` method! Which is fine because\n    // `classList` will be used by the add/remove functions.\n    var has = hasClass(element, classToToggle);\n\n    if (typeof predicate === 'function') {\n      predicate = predicate(element, classToToggle);\n    }\n\n    if (typeof predicate !== 'boolean') {\n      predicate = !has;\n    } // If the necessary class operation matches the current state of the\n    // element, no action is required.\n\n\n    if (predicate === has) {\n      return;\n    }\n\n    if (predicate) {\n      addClass(element, classToToggle);\n    } else {\n      removeClass(element, classToToggle);\n    }\n\n    return element;\n  }\n  /**\n   * Apply attributes to an HTML element.\n   *\n   * @param {Element} el\n   *        Element to add attributes to.\n   *\n   * @param {Object} [attributes]\n   *        Attributes to be applied.\n   */\n\n  function setAttributes(el, attributes) {\n    Object.getOwnPropertyNames(attributes).forEach(function (attrName) {\n      var attrValue = attributes[attrName];\n\n      if (attrValue === null || typeof attrValue === 'undefined' || attrValue === false) {\n        el.removeAttribute(attrName);\n      } else {\n        el.setAttribute(attrName, attrValue === true ? '' : attrValue);\n      }\n    });\n  }\n  /**\n   * Get an element's attribute values, as defined on the HTML tag.\n   *\n   * Attributes are not the same as properties. They're defined on the tag\n   * or with setAttribute.\n   *\n   * @param  {Element} tag\n   *         Element from which to get tag attributes.\n   *\n   * @return {Object}\n   *         All attributes of the element. Boolean attributes will be `true` or\n   *         `false`, others will be strings.\n   */\n\n  function getAttributes(tag) {\n    var obj = {}; // known boolean attributes\n    // we can check for matching boolean properties, but not all browsers\n    // and not all tags know about these attributes, so, we still want to check them manually\n\n    var knownBooleans = ',' + 'autoplay,controls,playsinline,loop,muted,default,defaultMuted' + ',';\n\n    if (tag && tag.attributes && tag.attributes.length > 0) {\n      var attrs = tag.attributes;\n\n      for (var i = attrs.length - 1; i >= 0; i--) {\n        var attrName = attrs[i].name;\n        var attrVal = attrs[i].value; // check for known booleans\n        // the matching element property will return a value for typeof\n\n        if (typeof tag[attrName] === 'boolean' || knownBooleans.indexOf(',' + attrName + ',') !== -1) {\n          // the value of an included boolean attribute is typically an empty\n          // string ('') which would equal false if we just check for a false value.\n          // we also don't want support bad code like autoplay='false'\n          attrVal = attrVal !== null ? true : false;\n        }\n\n        obj[attrName] = attrVal;\n      }\n    }\n\n    return obj;\n  }\n  /**\n   * Get the value of an element's attribute.\n   *\n   * @param {Element} el\n   *        A DOM element.\n   *\n   * @param {string} attribute\n   *        Attribute to get the value of.\n   *\n   * @return {string}\n   *         The value of the attribute.\n   */\n\n  function getAttribute(el, attribute) {\n    return el.getAttribute(attribute);\n  }\n  /**\n   * Set the value of an element's attribute.\n   *\n   * @param {Element} el\n   *        A DOM element.\n   *\n   * @param {string} attribute\n   *        Attribute to set.\n   *\n   * @param {string} value\n   *        Value to set the attribute to.\n   */\n\n  function setAttribute(el, attribute, value) {\n    el.setAttribute(attribute, value);\n  }\n  /**\n   * Remove an element's attribute.\n   *\n   * @param {Element} el\n   *        A DOM element.\n   *\n   * @param {string} attribute\n   *        Attribute to remove.\n   */\n\n  function removeAttribute(el, attribute) {\n    el.removeAttribute(attribute);\n  }\n  /**\n   * Attempt to block the ability to select text.\n   */\n\n  function blockTextSelection() {\n    document.body.focus();\n\n    document.onselectstart = function () {\n      return false;\n    };\n  }\n  /**\n   * Turn off text selection blocking.\n   */\n\n  function unblockTextSelection() {\n    document.onselectstart = function () {\n      return true;\n    };\n  }\n  /**\n   * Identical to the native `getBoundingClientRect` function, but ensures that\n   * the method is supported at all (it is in all browsers we claim to support)\n   * and that the element is in the DOM before continuing.\n   *\n   * This wrapper function also shims properties which are not provided by some\n   * older browsers (namely, IE8).\n   *\n   * Additionally, some browsers do not support adding properties to a\n   * `ClientRect`/`DOMRect` object; so, we shallow-copy it with the standard\n   * properties (except `x` and `y` which are not widely supported). This helps\n   * avoid implementations where keys are non-enumerable.\n   *\n   * @param  {Element} el\n   *         Element whose `ClientRect` we want to calculate.\n   *\n   * @return {Object|undefined}\n   *         Always returns a plain object - or `undefined` if it cannot.\n   */\n\n  function getBoundingClientRect(el) {\n    if (el && el.getBoundingClientRect && el.parentNode) {\n      var rect = el.getBoundingClientRect();\n      var result = {};\n      ['bottom', 'height', 'left', 'right', 'top', 'width'].forEach(function (k) {\n        if (rect[k] !== undefined) {\n          result[k] = rect[k];\n        }\n      });\n\n      if (!result.height) {\n        result.height = parseFloat(computedStyle(el, 'height'));\n      }\n\n      if (!result.width) {\n        result.width = parseFloat(computedStyle(el, 'width'));\n      }\n\n      return result;\n    }\n  }\n  /**\n   * Represents the position of a DOM element on the page.\n   *\n   * @typedef  {Object} module:dom~Position\n   *\n   * @property {number} left\n   *           Pixels to the left.\n   *\n   * @property {number} top\n   *           Pixels from the top.\n   */\n\n  /**\n   * Get the position of an element in the DOM.\n   *\n   * Uses `getBoundingClientRect` technique from John Resig.\n   *\n   * @see http://ejohn.org/blog/getboundingclientrect-is-awesome/\n   *\n   * @param  {Element} el\n   *         Element from which to get offset.\n   *\n   * @return {module:dom~Position}\n   *         The position of the element that was passed in.\n   */\n\n  function findPosition(el) {\n    var box;\n\n    if (el.getBoundingClientRect && el.parentNode) {\n      box = el.getBoundingClientRect();\n    }\n\n    if (!box) {\n      return {\n        left: 0,\n        top: 0\n      };\n    }\n\n    var docEl = document.documentElement;\n    var body = document.body;\n    var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n    var scrollLeft = window$1.pageXOffset || body.scrollLeft;\n    var left = box.left + scrollLeft - clientLeft;\n    var clientTop = docEl.clientTop || body.clientTop || 0;\n    var scrollTop = window$1.pageYOffset || body.scrollTop;\n    var top = box.top + scrollTop - clientTop; // Android sometimes returns slightly off decimal values, so need to round\n\n    return {\n      left: Math.round(left),\n      top: Math.round(top)\n    };\n  }\n  /**\n   * Represents x and y coordinates for a DOM element or mouse pointer.\n   *\n   * @typedef  {Object} module:dom~Coordinates\n   *\n   * @property {number} x\n   *           x coordinate in pixels\n   *\n   * @property {number} y\n   *           y coordinate in pixels\n   */\n\n  /**\n   * Get the pointer position within an element.\n   *\n   * The base on the coordinates are the bottom left of the element.\n   *\n   * @param  {Element} el\n   *         Element on which to get the pointer position on.\n   *\n   * @param  {EventTarget~Event} event\n   *         Event object.\n   *\n   * @return {module:dom~Coordinates}\n   *         A coordinates object corresponding to the mouse position.\n   *\n   */\n\n  function getPointerPosition(el, event) {\n    var position = {};\n    var box = findPosition(el);\n    var boxW = el.offsetWidth;\n    var boxH = el.offsetHeight;\n    var boxY = box.top;\n    var boxX = box.left;\n    var pageY = event.pageY;\n    var pageX = event.pageX;\n\n    if (event.changedTouches) {\n      pageX = event.changedTouches[0].pageX;\n      pageY = event.changedTouches[0].pageY;\n    }\n\n    position.y = Math.max(0, Math.min(1, (boxY - pageY + boxH) / boxH));\n    position.x = Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n    return position;\n  }\n  /**\n   * Determines, via duck typing, whether or not a value is a text node.\n   *\n   * @param  {Mixed} value\n   *         Check if this value is a text node.\n   *\n   * @return {boolean}\n   *         Will be `true` if the value is a text node, `false` otherwise.\n   */\n\n  function isTextNode(value) {\n    return isObject(value) && value.nodeType === 3;\n  }\n  /**\n   * Empties the contents of an element.\n   *\n   * @param  {Element} el\n   *         The element to empty children from\n   *\n   * @return {Element}\n   *         The element with no children\n   */\n\n  function emptyEl(el) {\n    while (el.firstChild) {\n      el.removeChild(el.firstChild);\n    }\n\n    return el;\n  }\n  /**\n   * This is a mixed value that describes content to be injected into the DOM\n   * via some method. It can be of the following types:\n   *\n   * Type       | Description\n   * -----------|-------------\n   * `string`   | The value will be normalized into a text node.\n   * `Element`  | The value will be accepted as-is.\n   * `TextNode` | The value will be accepted as-is.\n   * `Array`    | A one-dimensional array of strings, elements, text nodes, or functions. These functions should return a string, element, or text node (any other return value, like an array, will be ignored).\n   * `Function` | A function, which is expected to return a string, element, text node, or array - any of the other possible values described above. This means that a content descriptor could be a function that returns an array of functions, but those second-level functions must return strings, elements, or text nodes.\n   *\n   * @typedef {string|Element|TextNode|Array|Function} module:dom~ContentDescriptor\n   */\n\n  /**\n   * Normalizes content for eventual insertion into the DOM.\n   *\n   * This allows a wide range of content definition methods, but helps protect\n   * from falling into the trap of simply writing to `innerHTML`, which could\n   * be an XSS concern.\n   *\n   * The content for an element can be passed in multiple types and\n   * combinations, whose behavior is as follows:\n   *\n   * @param {module:dom~ContentDescriptor} content\n   *        A content descriptor value.\n   *\n   * @return {Array}\n   *         All of the content that was passed in, normalized to an array of\n   *         elements or text nodes.\n   */\n\n  function normalizeContent(content) {\n    // First, invoke content if it is a function. If it produces an array,\n    // that needs to happen before normalization.\n    if (typeof content === 'function') {\n      content = content();\n    } // Next up, normalize to an array, so one or many items can be normalized,\n    // filtered, and returned.\n\n\n    return (Array.isArray(content) ? content : [content]).map(function (value) {\n      // First, invoke value if it is a function to produce a new value,\n      // which will be subsequently normalized to a Node of some kind.\n      if (typeof value === 'function') {\n        value = value();\n      }\n\n      if (isEl(value) || isTextNode(value)) {\n        return value;\n      }\n\n      if (typeof value === 'string' && /\\S/.test(value)) {\n        return document.createTextNode(value);\n      }\n    }).filter(function (value) {\n      return value;\n    });\n  }\n  /**\n   * Normalizes and appends content to an element.\n   *\n   * @param  {Element} el\n   *         Element to append normalized content to.\n   *\n   * @param {module:dom~ContentDescriptor} content\n   *        A content descriptor value.\n   *\n   * @return {Element}\n   *         The element with appended normalized content.\n   */\n\n  function appendContent(el, content) {\n    normalizeContent(content).forEach(function (node) {\n      return el.appendChild(node);\n    });\n    return el;\n  }\n  /**\n   * Normalizes and inserts content into an element; this is identical to\n   * `appendContent()`, except it empties the element first.\n   *\n   * @param {Element} el\n   *        Element to insert normalized content into.\n   *\n   * @param {module:dom~ContentDescriptor} content\n   *        A content descriptor value.\n   *\n   * @return {Element}\n   *         The element with inserted normalized content.\n   */\n\n  function insertContent(el, content) {\n    return appendContent(emptyEl(el), content);\n  }\n  /**\n   * Check if an event was a single left click.\n   *\n   * @param  {EventTarget~Event} event\n   *         Event object.\n   *\n   * @return {boolean}\n   *         Will be `true` if a single left click, `false` otherwise.\n   */\n\n  function isSingleLeftClick(event) {\n    // Note: if you create something draggable, be sure to\n    // call it on both `mousedown` and `mousemove` event,\n    // otherwise `mousedown` should be enough for a button\n    if (event.button === undefined && event.buttons === undefined) {\n      // Why do we need `buttons` ?\n      // Because, middle mouse sometimes have this:\n      // e.button === 0 and e.buttons === 4\n      // Furthermore, we want to prevent combination click, something like\n      // HOLD middlemouse then left click, that would be\n      // e.button === 0, e.buttons === 5\n      // just `button` is not gonna work\n      // Alright, then what this block does ?\n      // this is for chrome `simulate mobile devices`\n      // I want to support this as well\n      return true;\n    }\n\n    if (event.button === 0 && event.buttons === undefined) {\n      // Touch screen, sometimes on some specific device, `buttons`\n      // doesn't have anything (safari on ios, blackberry...)\n      return true;\n    } // `mouseup` event on a single left click has\n    // `button` and `buttons` equal to 0\n\n\n    if (event.type === 'mouseup' && event.button === 0 && event.buttons === 0) {\n      return true;\n    }\n\n    if (event.button !== 0 || event.buttons !== 1) {\n      // This is the reason we have those if else block above\n      // if any special case we can catch and let it slide\n      // we do it above, when get to here, this definitely\n      // is-not-left-click\n      return false;\n    }\n\n    return true;\n  }\n  /**\n   * Finds a single DOM element matching `selector` within the optional\n   * `context` of another DOM element (defaulting to `document`).\n   *\n   * @param  {string} selector\n   *         A valid CSS selector, which will be passed to `querySelector`.\n   *\n   * @param  {Element|String} [context=document]\n   *         A DOM element within which to query. Can also be a selector\n   *         string in which case the first matching element will be used\n   *         as context. If missing (or no element matches selector), falls\n   *         back to `document`.\n   *\n   * @return {Element|null}\n   *         The element that was found or null.\n   */\n\n  var $ = createQuerier('querySelector');\n  /**\n   * Finds a all DOM elements matching `selector` within the optional\n   * `context` of another DOM element (defaulting to `document`).\n   *\n   * @param  {string} selector\n   *         A valid CSS selector, which will be passed to `querySelectorAll`.\n   *\n   * @param  {Element|String} [context=document]\n   *         A DOM element within which to query. Can also be a selector\n   *         string in which case the first matching element will be used\n   *         as context. If missing (or no element matches selector), falls\n   *         back to `document`.\n   *\n   * @return {NodeList}\n   *         A element list of elements that were found. Will be empty if none\n   *         were found.\n   *\n   */\n\n  var $$ = createQuerier('querySelectorAll');\n\n  var Dom = /*#__PURE__*/Object.freeze({\n    isReal: isReal,\n    isEl: isEl,\n    isInFrame: isInFrame,\n    createEl: createEl,\n    textContent: textContent,\n    prependTo: prependTo,\n    hasClass: hasClass,\n    addClass: addClass,\n    removeClass: removeClass,\n    toggleClass: toggleClass,\n    setAttributes: setAttributes,\n    getAttributes: getAttributes,\n    getAttribute: getAttribute,\n    setAttribute: setAttribute,\n    removeAttribute: removeAttribute,\n    blockTextSelection: blockTextSelection,\n    unblockTextSelection: unblockTextSelection,\n    getBoundingClientRect: getBoundingClientRect,\n    findPosition: findPosition,\n    getPointerPosition: getPointerPosition,\n    isTextNode: isTextNode,\n    emptyEl: emptyEl,\n    normalizeContent: normalizeContent,\n    appendContent: appendContent,\n    insertContent: insertContent,\n    isSingleLeftClick: isSingleLeftClick,\n    $: $,\n    $$: $$\n  });\n\n  /**\n   * @file setup.js - Functions for setting up a player without\n   * user interaction based on the data-setup `attribute` of the video tag.\n   *\n   * @module setup\n   */\n  var _windowLoaded = false;\n  var videojs;\n  /**\n   * Set up any tags that have a data-setup `attribute` when the player is started.\n   */\n\n  var autoSetup = function autoSetup() {\n    // Protect against breakage in non-browser environments and check global autoSetup option.\n    if (!isReal() || videojs.options.autoSetup === false) {\n      return;\n    }\n\n    var vids = Array.prototype.slice.call(document.getElementsByTagName('video'));\n    var audios = Array.prototype.slice.call(document.getElementsByTagName('audio'));\n    var divs = Array.prototype.slice.call(document.getElementsByTagName('video-js'));\n    var mediaEls = vids.concat(audios, divs); // Check if any media elements exist\n\n    if (mediaEls && mediaEls.length > 0) {\n      for (var i = 0, e = mediaEls.length; i < e; i++) {\n        var mediaEl = mediaEls[i]; // Check if element exists, has getAttribute func.\n\n        if (mediaEl && mediaEl.getAttribute) {\n          // Make sure this player hasn't already been set up.\n          if (mediaEl.player === undefined) {\n            var options = mediaEl.getAttribute('data-setup'); // Check if data-setup attr exists.\n            // We only auto-setup if they've added the data-setup attr.\n\n            if (options !== null) {\n              // Create new video.js instance.\n              videojs(mediaEl);\n            }\n          } // If getAttribute isn't defined, we need to wait for the DOM.\n\n        } else {\n          autoSetupTimeout(1);\n          break;\n        }\n      } // No videos were found, so keep looping unless page is finished loading.\n\n    } else if (!_windowLoaded) {\n      autoSetupTimeout(1);\n    }\n  };\n  /**\n   * Wait until the page is loaded before running autoSetup. This will be called in\n   * autoSetup if `hasLoaded` returns false.\n   *\n   * @param {number} wait\n   *        How long to wait in ms\n   *\n   * @param {module:videojs} [vjs]\n   *        The videojs library function\n   */\n\n\n  function autoSetupTimeout(wait, vjs) {\n    if (vjs) {\n      videojs = vjs;\n    }\n\n    window$1.setTimeout(autoSetup, wait);\n  }\n  /**\n   * Used to set the internal tracking of window loaded state to true.\n   *\n   * @private\n   */\n\n\n  function setWindowLoaded() {\n    _windowLoaded = true;\n    window$1.removeEventListener('load', setWindowLoaded);\n  }\n\n  if (isReal()) {\n    if (document.readyState === 'complete') {\n      setWindowLoaded();\n    } else {\n      /**\n       * Listen for the load event on window, and set _windowLoaded to true.\n       *\n       * We use a standard event listener here to avoid incrementing the GUID\n       * before any players are created.\n       *\n       * @listens load\n       */\n      window$1.addEventListener('load', setWindowLoaded);\n    }\n  }\n\n  /**\n   * @file stylesheet.js\n   * @module stylesheet\n   */\n  /**\n   * Create a DOM syle element given a className for it.\n   *\n   * @param {string} className\n   *        The className to add to the created style element.\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n  var createStyleElement = function createStyleElement(className) {\n    var style = document.createElement('style');\n    style.className = className;\n    return style;\n  };\n  /**\n   * Add text to a DOM element.\n   *\n   * @param {Element} el\n   *        The Element to add text content to.\n   *\n   * @param {string} content\n   *        The text to add to the element.\n   */\n\n  var setTextContent = function setTextContent(el, content) {\n    if (el.styleSheet) {\n      el.styleSheet.cssText = content;\n    } else {\n      el.textContent = content;\n    }\n  };\n\n  /**\n   * @file dom-data.js\n   * @module dom-data\n   */\n\n  /**\n   * Element Data Store.\n   *\n   * Allows for binding data to an element without putting it directly on the\n   * element. Ex. Event listeners are stored here.\n   * (also from jsninja.com, slightly modified and updated for closure compiler)\n   *\n   * @type {Object}\n   * @private\n   */\n  var DomData = new WeakMap();\n\n  /**\n   * @file guid.js\n   * @module guid\n   */\n  // Default value for GUIDs. This allows us to reset the GUID counter in tests.\n  //\n  // The initial GUID is 3 because some users have come to rely on the first\n  // default player ID ending up as `vjs_video_3`.\n  //\n  // See: https://github.com/videojs/video.js/pull/6216\n  var _initialGuid = 3;\n  /**\n   * Unique ID for an element or function\n   *\n   * @type {Number}\n   */\n\n  var _guid = _initialGuid;\n  /**\n   * Get a unique auto-incrementing ID by number that has not been returned before.\n   *\n   * @return {number}\n   *         A new unique ID.\n   */\n\n  function newGUID() {\n    return _guid++;\n  }\n\n  /**\n   * @file events.js. An Event System (John Resig - Secrets of a JS Ninja http://jsninja.com/)\n   * (Original book version wasn't completely usable, so fixed some things and made Closure Compiler compatible)\n   * This should work very similarly to jQuery's events, however it's based off the book version which isn't as\n   * robust as jquery's, so there's probably some differences.\n   *\n   * @file events.js\n   * @module events\n   */\n  /**\n   * Clean up the listener cache and dispatchers\n   *\n   * @param {Element|Object} elem\n   *        Element to clean up\n   *\n   * @param {string} type\n   *        Type of event to clean up\n   */\n\n  function _cleanUpEvents(elem, type) {\n    if (!DomData.has(elem)) {\n      return;\n    }\n\n    var data = DomData.get(elem); // Remove the events of a particular type if there are none left\n\n    if (data.handlers[type].length === 0) {\n      delete data.handlers[type]; // data.handlers[type] = null;\n      // Setting to null was causing an error with data.handlers\n      // Remove the meta-handler from the element\n\n      if (elem.removeEventListener) {\n        elem.removeEventListener(type, data.dispatcher, false);\n      } else if (elem.detachEvent) {\n        elem.detachEvent('on' + type, data.dispatcher);\n      }\n    } // Remove the events object if there are no types left\n\n\n    if (Object.getOwnPropertyNames(data.handlers).length <= 0) {\n      delete data.handlers;\n      delete data.dispatcher;\n      delete data.disabled;\n    } // Finally remove the element data if there is no data left\n\n\n    if (Object.getOwnPropertyNames(data).length === 0) {\n      DomData[\"delete\"](elem);\n    }\n  }\n  /**\n   * Loops through an array of event types and calls the requested method for each type.\n   *\n   * @param {Function} fn\n   *        The event method we want to use.\n   *\n   * @param {Element|Object} elem\n   *        Element or object to bind listeners to\n   *\n   * @param {string} type\n   *        Type of event to bind to.\n   *\n   * @param {EventTarget~EventListener} callback\n   *        Event listener.\n   */\n\n\n  function _handleMultipleEvents(fn, elem, types, callback) {\n    types.forEach(function (type) {\n      // Call the event method for each one of the types\n      fn(elem, type, callback);\n    });\n  }\n  /**\n   * Fix a native event to have standard property values\n   *\n   * @param {Object} event\n   *        Event object to fix.\n   *\n   * @return {Object}\n   *         Fixed event object.\n   */\n\n\n  function fixEvent(event) {\n    function returnTrue() {\n      return true;\n    }\n\n    function returnFalse() {\n      return false;\n    } // Test if fixing up is needed\n    // Used to check if !event.stopPropagation instead of isPropagationStopped\n    // But native events return true for stopPropagation, but don't have\n    // other expected methods like isPropagationStopped. Seems to be a problem\n    // with the Javascript Ninja code. So we're just overriding all events now.\n\n\n    if (!event || !event.isPropagationStopped) {\n      var old = event || window$1.event;\n      event = {}; // Clone the old object so that we can modify the values event = {};\n      // IE8 Doesn't like when you mess with native event properties\n      // Firefox returns false for event.hasOwnProperty('type') and other props\n      //  which makes copying more difficult.\n      // TODO: Probably best to create a whitelist of event props\n\n      for (var key in old) {\n        // Safari 6.0.3 warns you if you try to copy deprecated layerX/Y\n        // Chrome warns you if you try to copy deprecated keyboardEvent.keyLocation\n        // and webkitMovementX/Y\n        if (key !== 'layerX' && key !== 'layerY' && key !== 'keyLocation' && key !== 'webkitMovementX' && key !== 'webkitMovementY') {\n          // Chrome 32+ warns if you try to copy deprecated returnValue, but\n          // we still want to if preventDefault isn't supported (IE8).\n          if (!(key === 'returnValue' && old.preventDefault)) {\n            event[key] = old[key];\n          }\n        }\n      } // The event occurred on this element\n\n\n      if (!event.target) {\n        event.target = event.srcElement || document;\n      } // Handle which other element the event is related to\n\n\n      if (!event.relatedTarget) {\n        event.relatedTarget = event.fromElement === event.target ? event.toElement : event.fromElement;\n      } // Stop the default browser action\n\n\n      event.preventDefault = function () {\n        if (old.preventDefault) {\n          old.preventDefault();\n        }\n\n        event.returnValue = false;\n        old.returnValue = false;\n        event.defaultPrevented = true;\n      };\n\n      event.defaultPrevented = false; // Stop the event from bubbling\n\n      event.stopPropagation = function () {\n        if (old.stopPropagation) {\n          old.stopPropagation();\n        }\n\n        event.cancelBubble = true;\n        old.cancelBubble = true;\n        event.isPropagationStopped = returnTrue;\n      };\n\n      event.isPropagationStopped = returnFalse; // Stop the event from bubbling and executing other handlers\n\n      event.stopImmediatePropagation = function () {\n        if (old.stopImmediatePropagation) {\n          old.stopImmediatePropagation();\n        }\n\n        event.isImmediatePropagationStopped = returnTrue;\n        event.stopPropagation();\n      };\n\n      event.isImmediatePropagationStopped = returnFalse; // Handle mouse position\n\n      if (event.clientX !== null && event.clientX !== undefined) {\n        var doc = document.documentElement;\n        var body = document.body;\n        event.pageX = event.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n        event.pageY = event.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n      } // Handle key presses\n\n\n      event.which = event.charCode || event.keyCode; // Fix button for mouse clicks:\n      // 0 == left; 1 == middle; 2 == right\n\n      if (event.button !== null && event.button !== undefined) {\n        // The following is disabled because it does not pass videojs-standard\n        // and... yikes.\n\n        /* eslint-disable */\n        event.button = event.button & 1 ? 0 : event.button & 4 ? 1 : event.button & 2 ? 2 : 0;\n        /* eslint-enable */\n      }\n    } // Returns fixed-up instance\n\n\n    return event;\n  }\n  /**\n   * Whether passive event listeners are supported\n   */\n\n  var _supportsPassive = false;\n\n  (function () {\n    try {\n      var opts = Object.defineProperty({}, 'passive', {\n        get: function get() {\n          _supportsPassive = true;\n        }\n      });\n      window$1.addEventListener('test', null, opts);\n      window$1.removeEventListener('test', null, opts);\n    } catch (e) {// disregard\n    }\n  })();\n  /**\n   * Touch events Chrome expects to be passive\n   */\n\n\n  var passiveEvents = ['touchstart', 'touchmove'];\n  /**\n   * Add an event listener to element\n   * It stores the handler function in a separate cache object\n   * and adds a generic handler to the element's event,\n   * along with a unique id (guid) to the element.\n   *\n   * @param {Element|Object} elem\n   *        Element or object to bind listeners to\n   *\n   * @param {string|string[]} type\n   *        Type of event to bind to.\n   *\n   * @param {EventTarget~EventListener} fn\n   *        Event listener.\n   */\n\n  function on(elem, type, fn) {\n    if (Array.isArray(type)) {\n      return _handleMultipleEvents(on, elem, type, fn);\n    }\n\n    if (!DomData.has(elem)) {\n      DomData.set(elem, {});\n    }\n\n    var data = DomData.get(elem); // We need a place to store all our handler data\n\n    if (!data.handlers) {\n      data.handlers = {};\n    }\n\n    if (!data.handlers[type]) {\n      data.handlers[type] = [];\n    }\n\n    if (!fn.guid) {\n      fn.guid = newGUID();\n    }\n\n    data.handlers[type].push(fn);\n\n    if (!data.dispatcher) {\n      data.disabled = false;\n\n      data.dispatcher = function (event, hash) {\n        if (data.disabled) {\n          return;\n        }\n\n        event = fixEvent(event);\n        var handlers = data.handlers[event.type];\n\n        if (handlers) {\n          // Copy handlers so if handlers are added/removed during the process it doesn't throw everything off.\n          var handlersCopy = handlers.slice(0);\n\n          for (var m = 0, n = handlersCopy.length; m < n; m++) {\n            if (event.isImmediatePropagationStopped()) {\n              break;\n            } else {\n              try {\n                handlersCopy[m].call(elem, event, hash);\n              } catch (e) {\n                log.error(e);\n              }\n            }\n          }\n        }\n      };\n    }\n\n    if (data.handlers[type].length === 1) {\n      if (elem.addEventListener) {\n        var options = false;\n\n        if (_supportsPassive && passiveEvents.indexOf(type) > -1) {\n          options = {\n            passive: true\n          };\n        }\n\n        elem.addEventListener(type, data.dispatcher, options);\n      } else if (elem.attachEvent) {\n        elem.attachEvent('on' + type, data.dispatcher);\n      }\n    }\n  }\n  /**\n   * Removes event listeners from an element\n   *\n   * @param {Element|Object} elem\n   *        Object to remove listeners from.\n   *\n   * @param {string|string[]} [type]\n   *        Type of listener to remove. Don't include to remove all events from element.\n   *\n   * @param {EventTarget~EventListener} [fn]\n   *        Specific listener to remove. Don't include to remove listeners for an event\n   *        type.\n   */\n\n  function off(elem, type, fn) {\n    // Don't want to add a cache object through getElData if not needed\n    if (!DomData.has(elem)) {\n      return;\n    }\n\n    var data = DomData.get(elem); // If no events exist, nothing to unbind\n\n    if (!data.handlers) {\n      return;\n    }\n\n    if (Array.isArray(type)) {\n      return _handleMultipleEvents(off, elem, type, fn);\n    } // Utility function\n\n\n    var removeType = function removeType(el, t) {\n      data.handlers[t] = [];\n\n      _cleanUpEvents(el, t);\n    }; // Are we removing all bound events?\n\n\n    if (type === undefined) {\n      for (var t in data.handlers) {\n        if (Object.prototype.hasOwnProperty.call(data.handlers || {}, t)) {\n          removeType(elem, t);\n        }\n      }\n\n      return;\n    }\n\n    var handlers = data.handlers[type]; // If no handlers exist, nothing to unbind\n\n    if (!handlers) {\n      return;\n    } // If no listener was provided, remove all listeners for type\n\n\n    if (!fn) {\n      removeType(elem, type);\n      return;\n    } // We're only removing a single handler\n\n\n    if (fn.guid) {\n      for (var n = 0; n < handlers.length; n++) {\n        if (handlers[n].guid === fn.guid) {\n          handlers.splice(n--, 1);\n        }\n      }\n    }\n\n    _cleanUpEvents(elem, type);\n  }\n  /**\n   * Trigger an event for an element\n   *\n   * @param {Element|Object} elem\n   *        Element to trigger an event on\n   *\n   * @param {EventTarget~Event|string} event\n   *        A string (the type) or an event object with a type attribute\n   *\n   * @param {Object} [hash]\n   *        data hash to pass along with the event\n   *\n   * @return {boolean|undefined}\n   *         Returns the opposite of `defaultPrevented` if default was\n   *         prevented. Otherwise, returns `undefined`\n   */\n\n  function trigger(elem, event, hash) {\n    // Fetches element data and a reference to the parent (for bubbling).\n    // Don't want to add a data object to cache for every parent,\n    // so checking hasElData first.\n    var elemData = DomData.has(elem) ? DomData.get(elem) : {};\n    var parent = elem.parentNode || elem.ownerDocument; // type = event.type || event,\n    // handler;\n    // If an event name was passed as a string, creates an event out of it\n\n    if (typeof event === 'string') {\n      event = {\n        type: event,\n        target: elem\n      };\n    } else if (!event.target) {\n      event.target = elem;\n    } // Normalizes the event properties.\n\n\n    event = fixEvent(event); // If the passed element has a dispatcher, executes the established handlers.\n\n    if (elemData.dispatcher) {\n      elemData.dispatcher.call(elem, event, hash);\n    } // Unless explicitly stopped or the event does not bubble (e.g. media events)\n    // recursively calls this function to bubble the event up the DOM.\n\n\n    if (parent && !event.isPropagationStopped() && event.bubbles === true) {\n      trigger.call(null, parent, event, hash); // If at the top of the DOM, triggers the default action unless disabled.\n    } else if (!parent && !event.defaultPrevented && event.target && event.target[event.type]) {\n      if (!DomData.has(event.target)) {\n        DomData.set(event.target, {});\n      }\n\n      var targetData = DomData.get(event.target); // Checks if the target has a default action for this event.\n\n      if (event.target[event.type]) {\n        // Temporarily disables event dispatching on the target as we have already executed the handler.\n        targetData.disabled = true; // Executes the default action.\n\n        if (typeof event.target[event.type] === 'function') {\n          event.target[event.type]();\n        } // Re-enables event dispatching.\n\n\n        targetData.disabled = false;\n      }\n    } // Inform the triggerer if the default was prevented by returning false\n\n\n    return !event.defaultPrevented;\n  }\n  /**\n   * Trigger a listener only once for an event.\n   *\n   * @param {Element|Object} elem\n   *        Element or object to bind to.\n   *\n   * @param {string|string[]} type\n   *        Name/type of event\n   *\n   * @param {Event~EventListener} fn\n   *        Event listener function\n   */\n\n  function one(elem, type, fn) {\n    if (Array.isArray(type)) {\n      return _handleMultipleEvents(one, elem, type, fn);\n    }\n\n    var func = function func() {\n      off(elem, type, func);\n      fn.apply(this, arguments);\n    }; // copy the guid to the new function so it can removed using the original function's ID\n\n\n    func.guid = fn.guid = fn.guid || newGUID();\n    on(elem, type, func);\n  }\n  /**\n   * Trigger a listener only once and then turn if off for all\n   * configured events\n   *\n   * @param {Element|Object} elem\n   *        Element or object to bind to.\n   *\n   * @param {string|string[]} type\n   *        Name/type of event\n   *\n   * @param {Event~EventListener} fn\n   *        Event listener function\n   */\n\n  function any(elem, type, fn) {\n    var func = function func() {\n      off(elem, type, func);\n      fn.apply(this, arguments);\n    }; // copy the guid to the new function so it can removed using the original function's ID\n\n\n    func.guid = fn.guid = fn.guid || newGUID(); // multiple ons, but one off for everything\n\n    on(elem, type, func);\n  }\n\n  var Events = /*#__PURE__*/Object.freeze({\n    fixEvent: fixEvent,\n    on: on,\n    off: off,\n    trigger: trigger,\n    one: one,\n    any: any\n  });\n\n  /**\n   * @file fn.js\n   * @module fn\n   */\n  var UPDATE_REFRESH_INTERVAL = 30;\n  /**\n   * Bind (a.k.a proxy or context). A simple method for changing the context of\n   * a function.\n   *\n   * It also stores a unique id on the function so it can be easily removed from\n   * events.\n   *\n   * @function\n   * @param    {Mixed} context\n   *           The object to bind as scope.\n   *\n   * @param    {Function} fn\n   *           The function to be bound to a scope.\n   *\n   * @param    {number} [uid]\n   *           An optional unique ID for the function to be set\n   *\n   * @return   {Function}\n   *           The new function that will be bound into the context given\n   */\n\n  var bind = function bind(context, fn, uid) {\n    // Make sure the function has a unique ID\n    if (!fn.guid) {\n      fn.guid = newGUID();\n    } // Create the new function that changes the context\n\n\n    var bound = fn.bind(context); // Allow for the ability to individualize this function\n    // Needed in the case where multiple objects might share the same prototype\n    // IF both items add an event listener with the same function, then you try to remove just one\n    // it will remove both because they both have the same guid.\n    // when using this, you need to use the bind method when you remove the listener as well.\n    // currently used in text tracks\n\n    bound.guid = uid ? uid + '_' + fn.guid : fn.guid;\n    return bound;\n  };\n  /**\n   * Wraps the given function, `fn`, with a new function that only invokes `fn`\n   * at most once per every `wait` milliseconds.\n   *\n   * @function\n   * @param    {Function} fn\n   *           The function to be throttled.\n   *\n   * @param    {number}   wait\n   *           The number of milliseconds by which to throttle.\n   *\n   * @return   {Function}\n   */\n\n  var throttle = function throttle(fn, wait) {\n    var last = window$1.performance.now();\n\n    var throttled = function throttled() {\n      var now = window$1.performance.now();\n\n      if (now - last >= wait) {\n        fn.apply(void 0, arguments);\n        last = now;\n      }\n    };\n\n    return throttled;\n  };\n  /**\n   * Creates a debounced function that delays invoking `func` until after `wait`\n   * milliseconds have elapsed since the last time the debounced function was\n   * invoked.\n   *\n   * Inspired by lodash and underscore implementations.\n   *\n   * @function\n   * @param    {Function} func\n   *           The function to wrap with debounce behavior.\n   *\n   * @param    {number} wait\n   *           The number of milliseconds to wait after the last invocation.\n   *\n   * @param    {boolean} [immediate]\n   *           Whether or not to invoke the function immediately upon creation.\n   *\n   * @param    {Object} [context=window]\n   *           The \"context\" in which the debounced function should debounce. For\n   *           example, if this function should be tied to a Video.js player,\n   *           the player can be passed here. Alternatively, defaults to the\n   *           global `window` object.\n   *\n   * @return   {Function}\n   *           A debounced function.\n   */\n\n  var debounce = function debounce(func, wait, immediate, context) {\n    if (context === void 0) {\n      context = window$1;\n    }\n\n    var timeout;\n\n    var cancel = function cancel() {\n      context.clearTimeout(timeout);\n      timeout = null;\n    };\n    /* eslint-disable consistent-this */\n\n\n    var debounced = function debounced() {\n      var self = this;\n      var args = arguments;\n\n      var _later = function later() {\n        timeout = null;\n        _later = null;\n\n        if (!immediate) {\n          func.apply(self, args);\n        }\n      };\n\n      if (!timeout && immediate) {\n        func.apply(self, args);\n      }\n\n      context.clearTimeout(timeout);\n      timeout = context.setTimeout(_later, wait);\n    };\n    /* eslint-enable consistent-this */\n\n\n    debounced.cancel = cancel;\n    return debounced;\n  };\n\n  /**\n   * @file src/js/event-target.js\n   */\n  /**\n   * `EventTarget` is a class that can have the same API as the DOM `EventTarget`. It\n   * adds shorthand functions that wrap around lengthy functions. For example:\n   * the `on` function is a wrapper around `addEventListener`.\n   *\n   * @see [EventTarget Spec]{@link https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget}\n   * @class EventTarget\n   */\n\n  var EventTarget = function EventTarget() {};\n  /**\n   * A Custom DOM event.\n   *\n   * @typedef {Object} EventTarget~Event\n   * @see [Properties]{@link https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent}\n   */\n\n  /**\n   * All event listeners should follow the following format.\n   *\n   * @callback EventTarget~EventListener\n   * @this {EventTarget}\n   *\n   * @param {EventTarget~Event} event\n   *        the event that triggered this function\n   *\n   * @param {Object} [hash]\n   *        hash of data sent during the event\n   */\n\n  /**\n   * An object containing event names as keys and booleans as values.\n   *\n   * > NOTE: If an event name is set to a true value here {@link EventTarget#trigger}\n   *         will have extra functionality. See that function for more information.\n   *\n   * @property EventTarget.prototype.allowedEvents_\n   * @private\n   */\n\n\n  EventTarget.prototype.allowedEvents_ = {};\n  /**\n   * Adds an `event listener` to an instance of an `EventTarget`. An `event listener` is a\n   * function that will get called when an event with a certain name gets triggered.\n   *\n   * @param {string|string[]} type\n   *        An event name or an array of event names.\n   *\n   * @param {EventTarget~EventListener} fn\n   *        The function to call with `EventTarget`s\n   */\n\n  EventTarget.prototype.on = function (type, fn) {\n    // Remove the addEventListener alias before calling Events.on\n    // so we don't get into an infinite type loop\n    var ael = this.addEventListener;\n\n    this.addEventListener = function () {};\n\n    on(this, type, fn);\n    this.addEventListener = ael;\n  };\n  /**\n   * An alias of {@link EventTarget#on}. Allows `EventTarget` to mimic\n   * the standard DOM API.\n   *\n   * @function\n   * @see {@link EventTarget#on}\n   */\n\n\n  EventTarget.prototype.addEventListener = EventTarget.prototype.on;\n  /**\n   * Removes an `event listener` for a specific event from an instance of `EventTarget`.\n   * This makes it so that the `event listener` will no longer get called when the\n   * named event happens.\n   *\n   * @param {string|string[]} type\n   *        An event name or an array of event names.\n   *\n   * @param {EventTarget~EventListener} fn\n   *        The function to remove.\n   */\n\n  EventTarget.prototype.off = function (type, fn) {\n    off(this, type, fn);\n  };\n  /**\n   * An alias of {@link EventTarget#off}. Allows `EventTarget` to mimic\n   * the standard DOM API.\n   *\n   * @function\n   * @see {@link EventTarget#off}\n   */\n\n\n  EventTarget.prototype.removeEventListener = EventTarget.prototype.off;\n  /**\n   * This function will add an `event listener` that gets triggered only once. After the\n   * first trigger it will get removed. This is like adding an `event listener`\n   * with {@link EventTarget#on} that calls {@link EventTarget#off} on itself.\n   *\n   * @param {string|string[]} type\n   *        An event name or an array of event names.\n   *\n   * @param {EventTarget~EventListener} fn\n   *        The function to be called once for each event name.\n   */\n\n  EventTarget.prototype.one = function (type, fn) {\n    // Remove the addEventListener aliasing Events.on\n    // so we don't get into an infinite type loop\n    var ael = this.addEventListener;\n\n    this.addEventListener = function () {};\n\n    one(this, type, fn);\n    this.addEventListener = ael;\n  };\n\n  EventTarget.prototype.any = function (type, fn) {\n    // Remove the addEventListener aliasing Events.on\n    // so we don't get into an infinite type loop\n    var ael = this.addEventListener;\n\n    this.addEventListener = function () {};\n\n    any(this, type, fn);\n    this.addEventListener = ael;\n  };\n  /**\n   * This function causes an event to happen. This will then cause any `event listeners`\n   * that are waiting for that event, to get called. If there are no `event listeners`\n   * for an event then nothing will happen.\n   *\n   * If the name of the `Event` that is being triggered is in `EventTarget.allowedEvents_`.\n   * Trigger will also call the `on` + `uppercaseEventName` function.\n   *\n   * Example:\n   * 'click' is in `EventTarget.allowedEvents_`, so, trigger will attempt to call\n   * `onClick` if it exists.\n   *\n   * @param {string|EventTarget~Event|Object} event\n   *        The name of the event, an `Event`, or an object with a key of type set to\n   *        an event name.\n   */\n\n\n  EventTarget.prototype.trigger = function (event) {\n    var type = event.type || event; // deprecation\n    // In a future version we should default target to `this`\n    // similar to how we default the target to `elem` in\n    // `Events.trigger`. Right now the default `target` will be\n    // `document` due to the `Event.fixEvent` call.\n\n    if (typeof event === 'string') {\n      event = {\n        type: type\n      };\n    }\n\n    event = fixEvent(event);\n\n    if (this.allowedEvents_[type] && this['on' + type]) {\n      this['on' + type](event);\n    }\n\n    trigger(this, event);\n  };\n  /**\n   * An alias of {@link EventTarget#trigger}. Allows `EventTarget` to mimic\n   * the standard DOM API.\n   *\n   * @function\n   * @see {@link EventTarget#trigger}\n   */\n\n\n  EventTarget.prototype.dispatchEvent = EventTarget.prototype.trigger;\n  var EVENT_MAP;\n\n  EventTarget.prototype.queueTrigger = function (event) {\n    var _this = this;\n\n    // only set up EVENT_MAP if it'll be used\n    if (!EVENT_MAP) {\n      EVENT_MAP = new Map();\n    }\n\n    var type = event.type || event;\n    var map = EVENT_MAP.get(this);\n\n    if (!map) {\n      map = new Map();\n      EVENT_MAP.set(this, map);\n    }\n\n    var oldTimeout = map.get(type);\n    map[\"delete\"](type);\n    window$1.clearTimeout(oldTimeout);\n    var timeout = window$1.setTimeout(function () {\n      // if we cleared out all timeouts for the current target, delete its map\n      if (map.size === 0) {\n        map = null;\n        EVENT_MAP[\"delete\"](_this);\n      }\n\n      _this.trigger(event);\n    }, 0);\n    map.set(type, timeout);\n  };\n\n  /**\n   * @file mixins/evented.js\n   * @module evented\n   */\n  /**\n   * Returns whether or not an object has had the evented mixin applied.\n   *\n   * @param  {Object} object\n   *         An object to test.\n   *\n   * @return {boolean}\n   *         Whether or not the object appears to be evented.\n   */\n\n  var isEvented = function isEvented(object) {\n    return object instanceof EventTarget || !!object.eventBusEl_ && ['on', 'one', 'off', 'trigger'].every(function (k) {\n      return typeof object[k] === 'function';\n    });\n  };\n  /**\n   * Adds a callback to run after the evented mixin applied.\n   *\n   * @param  {Object} object\n   *         An object to Add\n   * @param  {Function} callback\n   *         The callback to run.\n   */\n\n\n  var addEventedCallback = function addEventedCallback(target, callback) {\n    if (isEvented(target)) {\n      callback();\n    } else {\n      if (!target.eventedCallbacks) {\n        target.eventedCallbacks = [];\n      }\n\n      target.eventedCallbacks.push(callback);\n    }\n  };\n  /**\n   * Whether a value is a valid event type - non-empty string or array.\n   *\n   * @private\n   * @param  {string|Array} type\n   *         The type value to test.\n   *\n   * @return {boolean}\n   *         Whether or not the type is a valid event type.\n   */\n\n\n  var isValidEventType = function isValidEventType(type) {\n    return (// The regex here verifies that the `type` contains at least one non-\n      // whitespace character.\n      typeof type === 'string' && /\\S/.test(type) || Array.isArray(type) && !!type.length\n    );\n  };\n  /**\n   * Validates a value to determine if it is a valid event target. Throws if not.\n   *\n   * @private\n   * @throws {Error}\n   *         If the target does not appear to be a valid event target.\n   *\n   * @param  {Object} target\n   *         The object to test.\n   */\n\n\n  var validateTarget = function validateTarget(target) {\n    if (!target.nodeName && !isEvented(target)) {\n      throw new Error('Invalid target; must be a DOM node or evented object.');\n    }\n  };\n  /**\n   * Validates a value to determine if it is a valid event target. Throws if not.\n   *\n   * @private\n   * @throws {Error}\n   *         If the type does not appear to be a valid event type.\n   *\n   * @param  {string|Array} type\n   *         The type to test.\n   */\n\n\n  var validateEventType = function validateEventType(type) {\n    if (!isValidEventType(type)) {\n      throw new Error('Invalid event type; must be a non-empty string or array.');\n    }\n  };\n  /**\n   * Validates a value to determine if it is a valid listener. Throws if not.\n   *\n   * @private\n   * @throws {Error}\n   *         If the listener is not a function.\n   *\n   * @param  {Function} listener\n   *         The listener to test.\n   */\n\n\n  var validateListener = function validateListener(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Invalid listener; must be a function.');\n    }\n  };\n  /**\n   * Takes an array of arguments given to `on()` or `one()`, validates them, and\n   * normalizes them into an object.\n   *\n   * @private\n   * @param  {Object} self\n   *         The evented object on which `on()` or `one()` was called. This\n   *         object will be bound as the `this` value for the listener.\n   *\n   * @param  {Array} args\n   *         An array of arguments passed to `on()` or `one()`.\n   *\n   * @return {Object}\n   *         An object containing useful values for `on()` or `one()` calls.\n   */\n\n\n  var normalizeListenArgs = function normalizeListenArgs(self, args) {\n    // If the number of arguments is less than 3, the target is always the\n    // evented object itself.\n    var isTargetingSelf = args.length < 3 || args[0] === self || args[0] === self.eventBusEl_;\n    var target;\n    var type;\n    var listener;\n\n    if (isTargetingSelf) {\n      target = self.eventBusEl_; // Deal with cases where we got 3 arguments, but we are still listening to\n      // the evented object itself.\n\n      if (args.length >= 3) {\n        args.shift();\n      }\n\n      type = args[0];\n      listener = args[1];\n    } else {\n      target = args[0];\n      type = args[1];\n      listener = args[2];\n    }\n\n    validateTarget(target);\n    validateEventType(type);\n    validateListener(listener);\n    listener = bind(self, listener);\n    return {\n      isTargetingSelf: isTargetingSelf,\n      target: target,\n      type: type,\n      listener: listener\n    };\n  };\n  /**\n   * Adds the listener to the event type(s) on the target, normalizing for\n   * the type of target.\n   *\n   * @private\n   * @param  {Element|Object} target\n   *         A DOM node or evented object.\n   *\n   * @param  {string} method\n   *         The event binding method to use (\"on\" or \"one\").\n   *\n   * @param  {string|Array} type\n   *         One or more event type(s).\n   *\n   * @param  {Function} listener\n   *         A listener function.\n   */\n\n\n  var listen = function listen(target, method, type, listener) {\n    validateTarget(target);\n\n    if (target.nodeName) {\n      Events[method](target, type, listener);\n    } else {\n      target[method](type, listener);\n    }\n  };\n  /**\n   * Contains methods that provide event capabilities to an object which is passed\n   * to {@link module:evented|evented}.\n   *\n   * @mixin EventedMixin\n   */\n\n\n  var EventedMixin = {\n    /**\n     * Add a listener to an event (or events) on this object or another evented\n     * object.\n     *\n     * @param  {string|Array|Element|Object} targetOrType\n     *         If this is a string or array, it represents the event type(s)\n     *         that will trigger the listener.\n     *\n     *         Another evented object can be passed here instead, which will\n     *         cause the listener to listen for events on _that_ object.\n     *\n     *         In either case, the listener's `this` value will be bound to\n     *         this object.\n     *\n     * @param  {string|Array|Function} typeOrListener\n     *         If the first argument was a string or array, this should be the\n     *         listener function. Otherwise, this is a string or array of event\n     *         type(s).\n     *\n     * @param  {Function} [listener]\n     *         If the first argument was another evented object, this will be\n     *         the listener function.\n     */\n    on: function on() {\n      var _this = this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var _normalizeListenArgs = normalizeListenArgs(this, args),\n          isTargetingSelf = _normalizeListenArgs.isTargetingSelf,\n          target = _normalizeListenArgs.target,\n          type = _normalizeListenArgs.type,\n          listener = _normalizeListenArgs.listener;\n\n      listen(target, 'on', type, listener); // If this object is listening to another evented object.\n\n      if (!isTargetingSelf) {\n        // If this object is disposed, remove the listener.\n        var removeListenerOnDispose = function removeListenerOnDispose() {\n          return _this.off(target, type, listener);\n        }; // Use the same function ID as the listener so we can remove it later it\n        // using the ID of the original listener.\n\n\n        removeListenerOnDispose.guid = listener.guid; // Add a listener to the target's dispose event as well. This ensures\n        // that if the target is disposed BEFORE this object, we remove the\n        // removal listener that was just added. Otherwise, we create a memory leak.\n\n        var removeRemoverOnTargetDispose = function removeRemoverOnTargetDispose() {\n          return _this.off('dispose', removeListenerOnDispose);\n        }; // Use the same function ID as the listener so we can remove it later\n        // it using the ID of the original listener.\n\n\n        removeRemoverOnTargetDispose.guid = listener.guid;\n        listen(this, 'on', 'dispose', removeListenerOnDispose);\n        listen(target, 'on', 'dispose', removeRemoverOnTargetDispose);\n      }\n    },\n\n    /**\n     * Add a listener to an event (or events) on this object or another evented\n     * object. The listener will be called once per event and then removed.\n     *\n     * @param  {string|Array|Element|Object} targetOrType\n     *         If this is a string or array, it represents the event type(s)\n     *         that will trigger the listener.\n     *\n     *         Another evented object can be passed here instead, which will\n     *         cause the listener to listen for events on _that_ object.\n     *\n     *         In either case, the listener's `this` value will be bound to\n     *         this object.\n     *\n     * @param  {string|Array|Function} typeOrListener\n     *         If the first argument was a string or array, this should be the\n     *         listener function. Otherwise, this is a string or array of event\n     *         type(s).\n     *\n     * @param  {Function} [listener]\n     *         If the first argument was another evented object, this will be\n     *         the listener function.\n     */\n    one: function one() {\n      var _this2 = this;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var _normalizeListenArgs2 = normalizeListenArgs(this, args),\n          isTargetingSelf = _normalizeListenArgs2.isTargetingSelf,\n          target = _normalizeListenArgs2.target,\n          type = _normalizeListenArgs2.type,\n          listener = _normalizeListenArgs2.listener; // Targeting this evented object.\n\n\n      if (isTargetingSelf) {\n        listen(target, 'one', type, listener); // Targeting another evented object.\n      } else {\n        // TODO: This wrapper is incorrect! It should only\n        //       remove the wrapper for the event type that called it.\n        //       Instead all listners are removed on the first trigger!\n        //       see https://github.com/videojs/video.js/issues/5962\n        var wrapper = function wrapper() {\n          _this2.off(target, type, wrapper);\n\n          for (var _len3 = arguments.length, largs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            largs[_key3] = arguments[_key3];\n          }\n\n          listener.apply(null, largs);\n        }; // Use the same function ID as the listener so we can remove it later\n        // it using the ID of the original listener.\n\n\n        wrapper.guid = listener.guid;\n        listen(target, 'one', type, wrapper);\n      }\n    },\n\n    /**\n     * Add a listener to an event (or events) on this object or another evented\n     * object. The listener will only be called once for the first event that is triggered\n     * then removed.\n     *\n     * @param  {string|Array|Element|Object} targetOrType\n     *         If this is a string or array, it represents the event type(s)\n     *         that will trigger the listener.\n     *\n     *         Another evented object can be passed here instead, which will\n     *         cause the listener to listen for events on _that_ object.\n     *\n     *         In either case, the listener's `this` value will be bound to\n     *         this object.\n     *\n     * @param  {string|Array|Function} typeOrListener\n     *         If the first argument was a string or array, this should be the\n     *         listener function. Otherwise, this is a string or array of event\n     *         type(s).\n     *\n     * @param  {Function} [listener]\n     *         If the first argument was another evented object, this will be\n     *         the listener function.\n     */\n    any: function any() {\n      var _this3 = this;\n\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      var _normalizeListenArgs3 = normalizeListenArgs(this, args),\n          isTargetingSelf = _normalizeListenArgs3.isTargetingSelf,\n          target = _normalizeListenArgs3.target,\n          type = _normalizeListenArgs3.type,\n          listener = _normalizeListenArgs3.listener; // Targeting this evented object.\n\n\n      if (isTargetingSelf) {\n        listen(target, 'any', type, listener); // Targeting another evented object.\n      } else {\n        var wrapper = function wrapper() {\n          _this3.off(target, type, wrapper);\n\n          for (var _len5 = arguments.length, largs = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n            largs[_key5] = arguments[_key5];\n          }\n\n          listener.apply(null, largs);\n        }; // Use the same function ID as the listener so we can remove it later\n        // it using the ID of the original listener.\n\n\n        wrapper.guid = listener.guid;\n        listen(target, 'any', type, wrapper);\n      }\n    },\n\n    /**\n     * Removes listener(s) from event(s) on an evented object.\n     *\n     * @param  {string|Array|Element|Object} [targetOrType]\n     *         If this is a string or array, it represents the event type(s).\n     *\n     *         Another evented object can be passed here instead, in which case\n     *         ALL 3 arguments are _required_.\n     *\n     * @param  {string|Array|Function} [typeOrListener]\n     *         If the first argument was a string or array, this may be the\n     *         listener function. Otherwise, this is a string or array of event\n     *         type(s).\n     *\n     * @param  {Function} [listener]\n     *         If the first argument was another evented object, this will be\n     *         the listener function; otherwise, _all_ listeners bound to the\n     *         event type(s) will be removed.\n     */\n    off: function off$1(targetOrType, typeOrListener, listener) {\n      // Targeting this evented object.\n      if (!targetOrType || isValidEventType(targetOrType)) {\n        off(this.eventBusEl_, targetOrType, typeOrListener); // Targeting another evented object.\n      } else {\n        var target = targetOrType;\n        var type = typeOrListener; // Fail fast and in a meaningful way!\n\n        validateTarget(target);\n        validateEventType(type);\n        validateListener(listener); // Ensure there's at least a guid, even if the function hasn't been used\n\n        listener = bind(this, listener); // Remove the dispose listener on this evented object, which was given\n        // the same guid as the event listener in on().\n\n        this.off('dispose', listener);\n\n        if (target.nodeName) {\n          off(target, type, listener);\n          off(target, 'dispose', listener);\n        } else if (isEvented(target)) {\n          target.off(type, listener);\n          target.off('dispose', listener);\n        }\n      }\n    },\n\n    /**\n     * Fire an event on this evented object, causing its listeners to be called.\n     *\n     * @param   {string|Object} event\n     *          An event type or an object with a type property.\n     *\n     * @param   {Object} [hash]\n     *          An additional object to pass along to listeners.\n     *\n     * @return {boolean}\n     *          Whether or not the default behavior was prevented.\n     */\n    trigger: function trigger$1(event, hash) {\n      return trigger(this.eventBusEl_, event, hash);\n    }\n  };\n  /**\n   * Applies {@link module:evented~EventedMixin|EventedMixin} to a target object.\n   *\n   * @param  {Object} target\n   *         The object to which to add event methods.\n   *\n   * @param  {Object} [options={}]\n   *         Options for customizing the mixin behavior.\n   *\n   * @param  {string} [options.eventBusKey]\n   *         By default, adds a `eventBusEl_` DOM element to the target object,\n   *         which is used as an event bus. If the target object already has a\n   *         DOM element that should be used, pass its key here.\n   *\n   * @return {Object}\n   *         The target object.\n   */\n\n  function evented(target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _options = options,\n        eventBusKey = _options.eventBusKey; // Set or create the eventBusEl_.\n\n    if (eventBusKey) {\n      if (!target[eventBusKey].nodeName) {\n        throw new Error(\"The eventBusKey \\\"\" + eventBusKey + \"\\\" does not refer to an element.\");\n      }\n\n      target.eventBusEl_ = target[eventBusKey];\n    } else {\n      target.eventBusEl_ = createEl('span', {\n        className: 'vjs-event-bus'\n      });\n    }\n\n    assign(target, EventedMixin);\n\n    if (target.eventedCallbacks) {\n      target.eventedCallbacks.forEach(function (callback) {\n        callback();\n      });\n    } // When any evented object is disposed, it removes all its listeners.\n\n\n    target.on('dispose', function () {\n      target.off();\n      window$1.setTimeout(function () {\n        target.eventBusEl_ = null;\n      }, 0);\n    });\n    return target;\n  }\n\n  /**\n   * @file mixins/stateful.js\n   * @module stateful\n   */\n  /**\n   * Contains methods that provide statefulness to an object which is passed\n   * to {@link module:stateful}.\n   *\n   * @mixin StatefulMixin\n   */\n\n  var StatefulMixin = {\n    /**\n     * A hash containing arbitrary keys and values representing the state of\n     * the object.\n     *\n     * @type {Object}\n     */\n    state: {},\n\n    /**\n     * Set the state of an object by mutating its\n     * {@link module:stateful~StatefulMixin.state|state} object in place.\n     *\n     * @fires   module:stateful~StatefulMixin#statechanged\n     * @param   {Object|Function} stateUpdates\n     *          A new set of properties to shallow-merge into the plugin state.\n     *          Can be a plain object or a function returning a plain object.\n     *\n     * @return {Object|undefined}\n     *          An object containing changes that occurred. If no changes\n     *          occurred, returns `undefined`.\n     */\n    setState: function setState(stateUpdates) {\n      var _this = this;\n\n      // Support providing the `stateUpdates` state as a function.\n      if (typeof stateUpdates === 'function') {\n        stateUpdates = stateUpdates();\n      }\n\n      var changes;\n      each(stateUpdates, function (value, key) {\n        // Record the change if the value is different from what's in the\n        // current state.\n        if (_this.state[key] !== value) {\n          changes = changes || {};\n          changes[key] = {\n            from: _this.state[key],\n            to: value\n          };\n        }\n\n        _this.state[key] = value;\n      }); // Only trigger \"statechange\" if there were changes AND we have a trigger\n      // function. This allows us to not require that the target object be an\n      // evented object.\n\n      if (changes && isEvented(this)) {\n        /**\n         * An event triggered on an object that is both\n         * {@link module:stateful|stateful} and {@link module:evented|evented}\n         * indicating that its state has changed.\n         *\n         * @event    module:stateful~StatefulMixin#statechanged\n         * @type     {Object}\n         * @property {Object} changes\n         *           A hash containing the properties that were changed and\n         *           the values they were changed `from` and `to`.\n         */\n        this.trigger({\n          changes: changes,\n          type: 'statechanged'\n        });\n      }\n\n      return changes;\n    }\n  };\n  /**\n   * Applies {@link module:stateful~StatefulMixin|StatefulMixin} to a target\n   * object.\n   *\n   * If the target object is {@link module:evented|evented} and has a\n   * `handleStateChanged` method, that method will be automatically bound to the\n   * `statechanged` event on itself.\n   *\n   * @param   {Object} target\n   *          The object to be made stateful.\n   *\n   * @param   {Object} [defaultState]\n   *          A default set of properties to populate the newly-stateful object's\n   *          `state` property.\n   *\n   * @return {Object}\n   *          Returns the `target`.\n   */\n\n  function stateful(target, defaultState) {\n    assign(target, StatefulMixin); // This happens after the mixing-in because we need to replace the `state`\n    // added in that step.\n\n    target.state = assign({}, target.state, defaultState); // Auto-bind the `handleStateChanged` method of the target object if it exists.\n\n    if (typeof target.handleStateChanged === 'function' && isEvented(target)) {\n      target.on('statechanged', target.handleStateChanged);\n    }\n\n    return target;\n  }\n\n  /**\n   * @file string-cases.js\n   * @module to-lower-case\n   */\n\n  /**\n   * Lowercase the first letter of a string.\n   *\n   * @param {string} string\n   *        String to be lowercased\n   *\n   * @return {string}\n   *         The string with a lowercased first letter\n   */\n  var toLowerCase = function toLowerCase(string) {\n    if (typeof string !== 'string') {\n      return string;\n    }\n\n    return string.replace(/./, function (w) {\n      return w.toLowerCase();\n    });\n  };\n  /**\n   * Uppercase the first letter of a string.\n   *\n   * @param {string} string\n   *        String to be uppercased\n   *\n   * @return {string}\n   *         The string with an uppercased first letter\n   */\n\n  var toTitleCase = function toTitleCase(string) {\n    if (typeof string !== 'string') {\n      return string;\n    }\n\n    return string.replace(/./, function (w) {\n      return w.toUpperCase();\n    });\n  };\n  /**\n   * Compares the TitleCase versions of the two strings for equality.\n   *\n   * @param {string} str1\n   *        The first string to compare\n   *\n   * @param {string} str2\n   *        The second string to compare\n   *\n   * @return {boolean}\n   *         Whether the TitleCase versions of the strings are equal\n   */\n\n  var titleCaseEquals = function titleCaseEquals(str1, str2) {\n    return toTitleCase(str1) === toTitleCase(str2);\n  };\n\n  /**\n   * @file merge-options.js\n   * @module merge-options\n   */\n  /**\n   * Merge two objects recursively.\n   *\n   * Performs a deep merge like\n   * {@link https://lodash.com/docs/4.17.10#merge|lodash.merge}, but only merges\n   * plain objects (not arrays, elements, or anything else).\n   *\n   * Non-plain object values will be copied directly from the right-most\n   * argument.\n   *\n   * @static\n   * @param   {Object[]} sources\n   *          One or more objects to merge into a new object.\n   *\n   * @return {Object}\n   *          A new object that is the merged result of all sources.\n   */\n\n  function mergeOptions() {\n    var result = {};\n\n    for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n      sources[_key] = arguments[_key];\n    }\n\n    sources.forEach(function (source) {\n      if (!source) {\n        return;\n      }\n\n      each(source, function (value, key) {\n        if (!isPlain(value)) {\n          result[key] = value;\n          return;\n        }\n\n        if (!isPlain(result[key])) {\n          result[key] = {};\n        }\n\n        result[key] = mergeOptions(result[key], value);\n      });\n    });\n    return result;\n  }\n\n  /**\n   * Player Component - Base class for all UI objects\n   *\n   * @file component.js\n   */\n  /**\n   * Base class for all UI Components.\n   * Components are UI objects which represent both a javascript object and an element\n   * in the DOM. They can be children of other components, and can have\n   * children themselves.\n   *\n   * Components can also use methods from {@link EventTarget}\n   */\n\n  var Component =\n  /*#__PURE__*/\n  function () {\n    /**\n     * A callback that is called when a component is ready. Does not have any\n     * paramters and any callback value will be ignored.\n     *\n     * @callback Component~ReadyCallback\n     * @this Component\n     */\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Object[]} [options.children]\n     *        An array of children objects to intialize this component with. Children objects have\n     *        a name property that will be used if more than one component of the same type needs to be\n     *        added.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        Function that gets called when the `Component` is ready.\n     */\n    function Component(player, options, ready) {\n      // The component might be the player itself and we can't pass `this` to super\n      if (!player && this.play) {\n        this.player_ = player = this; // eslint-disable-line\n      } else {\n        this.player_ = player;\n      } // Hold the reference to the parent component via `addChild` method\n\n\n      this.parentComponent_ = null; // Make a copy of prototype.options_ to protect against overriding defaults\n\n      this.options_ = mergeOptions({}, this.options_); // Updated options with supplied options\n\n      options = this.options_ = mergeOptions(this.options_, options); // Get ID from options or options element if one is supplied\n\n      this.id_ = options.id || options.el && options.el.id; // If there was no ID from the options, generate one\n\n      if (!this.id_) {\n        // Don't require the player ID function in the case of mock players\n        var id = player && player.id && player.id() || 'no_player';\n        this.id_ = id + \"_component_\" + newGUID();\n      }\n\n      this.name_ = options.name || null; // Create element if one wasn't provided in options\n\n      if (options.el) {\n        this.el_ = options.el;\n      } else if (options.createEl !== false) {\n        this.el_ = this.createEl();\n      } // if evented is anything except false, we want to mixin in evented\n\n\n      if (options.evented !== false) {\n        // Make this an evented object and use `el_`, if available, as its event bus\n        evented(this, {\n          eventBusKey: this.el_ ? 'el_' : null\n        });\n      }\n\n      stateful(this, this.constructor.defaultState);\n      this.children_ = [];\n      this.childIndex_ = {};\n      this.childNameIndex_ = {};\n      this.setTimeoutIds_ = new Set();\n      this.setIntervalIds_ = new Set();\n      this.rafIds_ = new Set();\n      this.clearingTimersOnDispose_ = false; // Add any child components in options\n\n      if (options.initChildren !== false) {\n        this.initChildren();\n      }\n\n      this.ready(ready); // Don't want to trigger ready here or it will before init is actually\n      // finished for all children that run this constructor\n\n      if (options.reportTouchActivity !== false) {\n        this.enableTouchActivity();\n      }\n    }\n    /**\n     * Dispose of the `Component` and all child components.\n     *\n     * @fires Component#dispose\n     */\n\n\n    var _proto = Component.prototype;\n\n    _proto.dispose = function dispose() {\n      /**\n       * Triggered when a `Component` is disposed.\n       *\n       * @event Component#dispose\n       * @type {EventTarget~Event}\n       *\n       * @property {boolean} [bubbles=false]\n       *           set to false so that the close event does not\n       *           bubble up\n       */\n      this.trigger({\n        type: 'dispose',\n        bubbles: false\n      }); // Dispose all children.\n\n      if (this.children_) {\n        for (var i = this.children_.length - 1; i >= 0; i--) {\n          if (this.children_[i].dispose) {\n            this.children_[i].dispose();\n          }\n        }\n      } // Delete child references\n\n\n      this.children_ = null;\n      this.childIndex_ = null;\n      this.childNameIndex_ = null;\n      this.parentComponent_ = null;\n\n      if (this.el_) {\n        // Remove element from DOM\n        if (this.el_.parentNode) {\n          this.el_.parentNode.removeChild(this.el_);\n        }\n\n        if (DomData.has(this.el_)) {\n          DomData[\"delete\"](this.el_);\n        }\n\n        this.el_ = null;\n      } // remove reference to the player after disposing of the element\n\n\n      this.player_ = null;\n    }\n    /**\n     * Return the {@link Player} that the `Component` has attached to.\n     *\n     * @return {Player}\n     *         The player that this `Component` has attached to.\n     */\n    ;\n\n    _proto.player = function player() {\n      return this.player_;\n    }\n    /**\n     * Deep merge of options objects with new options.\n     * > Note: When both `obj` and `options` contain properties whose values are objects.\n     *         The two properties get merged using {@link module:mergeOptions}\n     *\n     * @param {Object} obj\n     *        The object that contains new options.\n     *\n     * @return {Object}\n     *         A new object of `this.options_` and `obj` merged together.\n     */\n    ;\n\n    _proto.options = function options(obj) {\n      if (!obj) {\n        return this.options_;\n      }\n\n      this.options_ = mergeOptions(this.options_, obj);\n      return this.options_;\n    }\n    /**\n     * Get the `Component`s DOM element\n     *\n     * @return {Element}\n     *         The DOM element for this `Component`.\n     */\n    ;\n\n    _proto.el = function el() {\n      return this.el_;\n    }\n    /**\n     * Create the `Component`s DOM element.\n     *\n     * @param {string} [tagName]\n     *        Element's DOM node type. e.g. 'div'\n     *\n     * @param {Object} [properties]\n     *        An object of properties that should be set.\n     *\n     * @param {Object} [attributes]\n     *        An object of attributes that should be set.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl$1(tagName, properties, attributes) {\n      return createEl(tagName, properties, attributes);\n    }\n    /**\n     * Localize a string given the string in english.\n     *\n     * If tokens are provided, it'll try and run a simple token replacement on the provided string.\n     * The tokens it looks for look like `{1}` with the index being 1-indexed into the tokens array.\n     *\n     * If a `defaultValue` is provided, it'll use that over `string`,\n     * if a value isn't found in provided language files.\n     * This is useful if you want to have a descriptive key for token replacement\n     * but have a succinct localized string and not require `en.json` to be included.\n     *\n     * Currently, it is used for the progress bar timing.\n     * ```js\n     * {\n     *   \"progress bar timing: currentTime={1} duration={2}\": \"{1} of {2}\"\n     * }\n     * ```\n     * It is then used like so:\n     * ```js\n     * this.localize('progress bar timing: currentTime={1} duration{2}',\n     *               [this.player_.currentTime(), this.player_.duration()],\n     *               '{1} of {2}');\n     * ```\n     *\n     * Which outputs something like: `01:23 of 24:56`.\n     *\n     *\n     * @param {string} string\n     *        The string to localize and the key to lookup in the language files.\n     * @param {string[]} [tokens]\n     *        If the current item has token replacements, provide the tokens here.\n     * @param {string} [defaultValue]\n     *        Defaults to `string`. Can be a default value to use for token replacement\n     *        if the lookup key is needed to be separate.\n     *\n     * @return {string}\n     *         The localized string or if no localization exists the english string.\n     */\n    ;\n\n    _proto.localize = function localize(string, tokens, defaultValue) {\n      if (defaultValue === void 0) {\n        defaultValue = string;\n      }\n\n      var code = this.player_.language && this.player_.language();\n      var languages = this.player_.languages && this.player_.languages();\n      var language = languages && languages[code];\n      var primaryCode = code && code.split('-')[0];\n      var primaryLang = languages && languages[primaryCode];\n      var localizedString = defaultValue;\n\n      if (language && language[string]) {\n        localizedString = language[string];\n      } else if (primaryLang && primaryLang[string]) {\n        localizedString = primaryLang[string];\n      }\n\n      if (tokens) {\n        localizedString = localizedString.replace(/\\{(\\d+)\\}/g, function (match, index) {\n          var value = tokens[index - 1];\n          var ret = value;\n\n          if (typeof value === 'undefined') {\n            ret = match;\n          }\n\n          return ret;\n        });\n      }\n\n      return localizedString;\n    }\n    /**\n     * Return the `Component`s DOM element. This is where children get inserted.\n     * This will usually be the the same as the element returned in {@link Component#el}.\n     *\n     * @return {Element}\n     *         The content element for this `Component`.\n     */\n    ;\n\n    _proto.contentEl = function contentEl() {\n      return this.contentEl_ || this.el_;\n    }\n    /**\n     * Get this `Component`s ID\n     *\n     * @return {string}\n     *         The id of this `Component`\n     */\n    ;\n\n    _proto.id = function id() {\n      return this.id_;\n    }\n    /**\n     * Get the `Component`s name. The name gets used to reference the `Component`\n     * and is set during registration.\n     *\n     * @return {string}\n     *         The name of this `Component`.\n     */\n    ;\n\n    _proto.name = function name() {\n      return this.name_;\n    }\n    /**\n     * Get an array of all child components\n     *\n     * @return {Array}\n     *         The children\n     */\n    ;\n\n    _proto.children = function children() {\n      return this.children_;\n    }\n    /**\n     * Returns the child `Component` with the given `id`.\n     *\n     * @param {string} id\n     *        The id of the child `Component` to get.\n     *\n     * @return {Component|undefined}\n     *         The child `Component` with the given `id` or undefined.\n     */\n    ;\n\n    _proto.getChildById = function getChildById(id) {\n      return this.childIndex_[id];\n    }\n    /**\n     * Returns the child `Component` with the given `name`.\n     *\n     * @param {string} name\n     *        The name of the child `Component` to get.\n     *\n     * @return {Component|undefined}\n     *         The child `Component` with the given `name` or undefined.\n     */\n    ;\n\n    _proto.getChild = function getChild(name) {\n      if (!name) {\n        return;\n      }\n\n      return this.childNameIndex_[name];\n    }\n    /**\n     * Add a child `Component` inside the current `Component`.\n     *\n     *\n     * @param {string|Component} child\n     *        The name or instance of a child to add.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of options that will get passed to children of\n     *        the child.\n     *\n     * @param {number} [index=this.children_.length]\n     *        The index to attempt to add a child into.\n     *\n     * @return {Component}\n     *         The `Component` that gets added as a child. When using a string the\n     *         `Component` will get created by this process.\n     */\n    ;\n\n    _proto.addChild = function addChild(child, options, index) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (index === void 0) {\n        index = this.children_.length;\n      }\n\n      var component;\n      var componentName; // If child is a string, create component with options\n\n      if (typeof child === 'string') {\n        componentName = toTitleCase(child);\n        var componentClassName = options.componentClass || componentName; // Set name through options\n\n        options.name = componentName; // Create a new object & element for this controls set\n        // If there's no .player_, this is a player\n\n        var ComponentClass = Component.getComponent(componentClassName);\n\n        if (!ComponentClass) {\n          throw new Error(\"Component \" + componentClassName + \" does not exist\");\n        } // data stored directly on the videojs object may be\n        // misidentified as a component to retain\n        // backwards-compatibility with 4.x. check to make sure the\n        // component class can be instantiated.\n\n\n        if (typeof ComponentClass !== 'function') {\n          return null;\n        }\n\n        component = new ComponentClass(this.player_ || this, options); // child is a component instance\n      } else {\n        component = child;\n      }\n\n      if (component.parentComponent_) {\n        component.parentComponent_.removeChild(component);\n      }\n\n      this.children_.splice(index, 0, component);\n      component.parentComponent_ = this;\n\n      if (typeof component.id === 'function') {\n        this.childIndex_[component.id()] = component;\n      } // If a name wasn't used to create the component, check if we can use the\n      // name function of the component\n\n\n      componentName = componentName || component.name && toTitleCase(component.name());\n\n      if (componentName) {\n        this.childNameIndex_[componentName] = component;\n        this.childNameIndex_[toLowerCase(componentName)] = component;\n      } // Add the UI object's element to the container div (box)\n      // Having an element is not required\n\n\n      if (typeof component.el === 'function' && component.el()) {\n        var childNodes = this.contentEl().children;\n        var refNode = childNodes[index] || null;\n        this.contentEl().insertBefore(component.el(), refNode);\n      } // Return so it can stored on parent object if desired.\n\n\n      return component;\n    }\n    /**\n     * Remove a child `Component` from this `Component`s list of children. Also removes\n     * the child `Component`s element from this `Component`s element.\n     *\n     * @param {Component} component\n     *        The child `Component` to remove.\n     */\n    ;\n\n    _proto.removeChild = function removeChild(component) {\n      if (typeof component === 'string') {\n        component = this.getChild(component);\n      }\n\n      if (!component || !this.children_) {\n        return;\n      }\n\n      var childFound = false;\n\n      for (var i = this.children_.length - 1; i >= 0; i--) {\n        if (this.children_[i] === component) {\n          childFound = true;\n          this.children_.splice(i, 1);\n          break;\n        }\n      }\n\n      if (!childFound) {\n        return;\n      }\n\n      component.parentComponent_ = null;\n      this.childIndex_[component.id()] = null;\n      this.childNameIndex_[toTitleCase(component.name())] = null;\n      this.childNameIndex_[toLowerCase(component.name())] = null;\n      var compEl = component.el();\n\n      if (compEl && compEl.parentNode === this.contentEl()) {\n        this.contentEl().removeChild(component.el());\n      }\n    }\n    /**\n     * Add and initialize default child `Component`s based upon options.\n     */\n    ;\n\n    _proto.initChildren = function initChildren() {\n      var _this = this;\n\n      var children = this.options_.children;\n\n      if (children) {\n        // `this` is `parent`\n        var parentOptions = this.options_;\n\n        var handleAdd = function handleAdd(child) {\n          var name = child.name;\n          var opts = child.opts; // Allow options for children to be set at the parent options\n          // e.g. videojs(id, { controlBar: false });\n          // instead of videojs(id, { children: { controlBar: false });\n\n          if (parentOptions[name] !== undefined) {\n            opts = parentOptions[name];\n          } // Allow for disabling default components\n          // e.g. options['children']['posterImage'] = false\n\n\n          if (opts === false) {\n            return;\n          } // Allow options to be passed as a simple boolean if no configuration\n          // is necessary.\n\n\n          if (opts === true) {\n            opts = {};\n          } // We also want to pass the original player options\n          // to each component as well so they don't need to\n          // reach back into the player for options later.\n\n\n          opts.playerOptions = _this.options_.playerOptions; // Create and add the child component.\n          // Add a direct reference to the child by name on the parent instance.\n          // If two of the same component are used, different names should be supplied\n          // for each\n\n          var newChild = _this.addChild(name, opts);\n\n          if (newChild) {\n            _this[name] = newChild;\n          }\n        }; // Allow for an array of children details to passed in the options\n\n\n        var workingChildren;\n        var Tech = Component.getComponent('Tech');\n\n        if (Array.isArray(children)) {\n          workingChildren = children;\n        } else {\n          workingChildren = Object.keys(children);\n        }\n\n        workingChildren // children that are in this.options_ but also in workingChildren  would\n        // give us extra children we do not want. So, we want to filter them out.\n        .concat(Object.keys(this.options_).filter(function (child) {\n          return !workingChildren.some(function (wchild) {\n            if (typeof wchild === 'string') {\n              return child === wchild;\n            }\n\n            return child === wchild.name;\n          });\n        })).map(function (child) {\n          var name;\n          var opts;\n\n          if (typeof child === 'string') {\n            name = child;\n            opts = children[name] || _this.options_[name] || {};\n          } else {\n            name = child.name;\n            opts = child;\n          }\n\n          return {\n            name: name,\n            opts: opts\n          };\n        }).filter(function (child) {\n          // we have to make sure that child.name isn't in the techOrder since\n          // techs are registerd as Components but can't aren't compatible\n          // See https://github.com/videojs/video.js/issues/2772\n          var c = Component.getComponent(child.opts.componentClass || toTitleCase(child.name));\n          return c && !Tech.isTech(c);\n        }).forEach(handleAdd);\n      }\n    }\n    /**\n     * Builds the default DOM class name. Should be overriden by sub-components.\n     *\n     * @return {string}\n     *         The DOM class name for this object.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      // Child classes can include a function that does:\n      // return 'CLASS NAME' + this._super();\n      return '';\n    }\n    /**\n     * Bind a listener to the component's ready state.\n     * Different from event listeners in that if the ready event has already happened\n     * it will trigger the function immediately.\n     *\n     * @return {Component}\n     *         Returns itself; method can be chained.\n     */\n    ;\n\n    _proto.ready = function ready(fn, sync) {\n      if (sync === void 0) {\n        sync = false;\n      }\n\n      if (!fn) {\n        return;\n      }\n\n      if (!this.isReady_) {\n        this.readyQueue_ = this.readyQueue_ || [];\n        this.readyQueue_.push(fn);\n        return;\n      }\n\n      if (sync) {\n        fn.call(this);\n      } else {\n        // Call the function asynchronously by default for consistency\n        this.setTimeout(fn, 1);\n      }\n    }\n    /**\n     * Trigger all the ready listeners for this `Component`.\n     *\n     * @fires Component#ready\n     */\n    ;\n\n    _proto.triggerReady = function triggerReady() {\n      this.isReady_ = true; // Ensure ready is triggered asynchronously\n\n      this.setTimeout(function () {\n        var readyQueue = this.readyQueue_; // Reset Ready Queue\n\n        this.readyQueue_ = [];\n\n        if (readyQueue && readyQueue.length > 0) {\n          readyQueue.forEach(function (fn) {\n            fn.call(this);\n          }, this);\n        } // Allow for using event listeners also\n\n        /**\n         * Triggered when a `Component` is ready.\n         *\n         * @event Component#ready\n         * @type {EventTarget~Event}\n         */\n\n\n        this.trigger('ready');\n      }, 1);\n    }\n    /**\n     * Find a single DOM element matching a `selector`. This can be within the `Component`s\n     * `contentEl()` or another custom context.\n     *\n     * @param {string} selector\n     *        A valid CSS selector, which will be passed to `querySelector`.\n     *\n     * @param {Element|string} [context=this.contentEl()]\n     *        A DOM element within which to query. Can also be a selector string in\n     *        which case the first matching element will get used as context. If\n     *        missing `this.contentEl()` gets used. If  `this.contentEl()` returns\n     *        nothing it falls back to `document`.\n     *\n     * @return {Element|null}\n     *         the dom element that was found, or null\n     *\n     * @see [Information on CSS Selectors](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors)\n     */\n    ;\n\n    _proto.$ = function $$1(selector, context) {\n      return $(selector, context || this.contentEl());\n    }\n    /**\n     * Finds all DOM element matching a `selector`. This can be within the `Component`s\n     * `contentEl()` or another custom context.\n     *\n     * @param {string} selector\n     *        A valid CSS selector, which will be passed to `querySelectorAll`.\n     *\n     * @param {Element|string} [context=this.contentEl()]\n     *        A DOM element within which to query. Can also be a selector string in\n     *        which case the first matching element will get used as context. If\n     *        missing `this.contentEl()` gets used. If  `this.contentEl()` returns\n     *        nothing it falls back to `document`.\n     *\n     * @return {NodeList}\n     *         a list of dom elements that were found\n     *\n     * @see [Information on CSS Selectors](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors)\n     */\n    ;\n\n    _proto.$$ = function $$$1(selector, context) {\n      return $$(selector, context || this.contentEl());\n    }\n    /**\n     * Check if a component's element has a CSS class name.\n     *\n     * @param {string} classToCheck\n     *        CSS class name to check.\n     *\n     * @return {boolean}\n     *         - True if the `Component` has the class.\n     *         - False if the `Component` does not have the class`\n     */\n    ;\n\n    _proto.hasClass = function hasClass$1(classToCheck) {\n      return hasClass(this.el_, classToCheck);\n    }\n    /**\n     * Add a CSS class name to the `Component`s element.\n     *\n     * @param {string} classToAdd\n     *        CSS class name to add\n     */\n    ;\n\n    _proto.addClass = function addClass$1(classToAdd) {\n      addClass(this.el_, classToAdd);\n    }\n    /**\n     * Remove a CSS class name from the `Component`s element.\n     *\n     * @param {string} classToRemove\n     *        CSS class name to remove\n     */\n    ;\n\n    _proto.removeClass = function removeClass$1(classToRemove) {\n      removeClass(this.el_, classToRemove);\n    }\n    /**\n     * Add or remove a CSS class name from the component's element.\n     * - `classToToggle` gets added when {@link Component#hasClass} would return false.\n     * - `classToToggle` gets removed when {@link Component#hasClass} would return true.\n     *\n     * @param  {string} classToToggle\n     *         The class to add or remove based on (@link Component#hasClass}\n     *\n     * @param  {boolean|Dom~predicate} [predicate]\n     *         An {@link Dom~predicate} function or a boolean\n     */\n    ;\n\n    _proto.toggleClass = function toggleClass$1(classToToggle, predicate) {\n      toggleClass(this.el_, classToToggle, predicate);\n    }\n    /**\n     * Show the `Component`s element if it is hidden by removing the\n     * 'vjs-hidden' class name from it.\n     */\n    ;\n\n    _proto.show = function show() {\n      this.removeClass('vjs-hidden');\n    }\n    /**\n     * Hide the `Component`s element if it is currently showing by adding the\n     * 'vjs-hidden` class name to it.\n     */\n    ;\n\n    _proto.hide = function hide() {\n      this.addClass('vjs-hidden');\n    }\n    /**\n     * Lock a `Component`s element in its visible state by adding the 'vjs-lock-showing'\n     * class name to it. Used during fadeIn/fadeOut.\n     *\n     * @private\n     */\n    ;\n\n    _proto.lockShowing = function lockShowing() {\n      this.addClass('vjs-lock-showing');\n    }\n    /**\n     * Unlock a `Component`s element from its visible state by removing the 'vjs-lock-showing'\n     * class name from it. Used during fadeIn/fadeOut.\n     *\n     * @private\n     */\n    ;\n\n    _proto.unlockShowing = function unlockShowing() {\n      this.removeClass('vjs-lock-showing');\n    }\n    /**\n     * Get the value of an attribute on the `Component`s element.\n     *\n     * @param {string} attribute\n     *        Name of the attribute to get the value from.\n     *\n     * @return {string|null}\n     *         - The value of the attribute that was asked for.\n     *         - Can be an empty string on some browsers if the attribute does not exist\n     *           or has no value\n     *         - Most browsers will return null if the attibute does not exist or has\n     *           no value.\n     *\n     * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute}\n     */\n    ;\n\n    _proto.getAttribute = function getAttribute$1(attribute) {\n      return getAttribute(this.el_, attribute);\n    }\n    /**\n     * Set the value of an attribute on the `Component`'s element\n     *\n     * @param {string} attribute\n     *        Name of the attribute to set.\n     *\n     * @param {string} value\n     *        Value to set the attribute to.\n     *\n     * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute}\n     */\n    ;\n\n    _proto.setAttribute = function setAttribute$1(attribute, value) {\n      setAttribute(this.el_, attribute, value);\n    }\n    /**\n     * Remove an attribute from the `Component`s element.\n     *\n     * @param {string} attribute\n     *        Name of the attribute to remove.\n     *\n     * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute}\n     */\n    ;\n\n    _proto.removeAttribute = function removeAttribute$1(attribute) {\n      removeAttribute(this.el_, attribute);\n    }\n    /**\n     * Get or set the width of the component based upon the CSS styles.\n     * See {@link Component#dimension} for more detailed information.\n     *\n     * @param {number|string} [num]\n     *        The width that you want to set postfixed with '%', 'px' or nothing.\n     *\n     * @param {boolean} [skipListeners]\n     *        Skip the componentresize event trigger\n     *\n     * @return {number|string}\n     *         The width when getting, zero if there is no width. Can be a string\n     *           postpixed with '%' or 'px'.\n     */\n    ;\n\n    _proto.width = function width(num, skipListeners) {\n      return this.dimension('width', num, skipListeners);\n    }\n    /**\n     * Get or set the height of the component based upon the CSS styles.\n     * See {@link Component#dimension} for more detailed information.\n     *\n     * @param {number|string} [num]\n     *        The height that you want to set postfixed with '%', 'px' or nothing.\n     *\n     * @param {boolean} [skipListeners]\n     *        Skip the componentresize event trigger\n     *\n     * @return {number|string}\n     *         The width when getting, zero if there is no width. Can be a string\n     *         postpixed with '%' or 'px'.\n     */\n    ;\n\n    _proto.height = function height(num, skipListeners) {\n      return this.dimension('height', num, skipListeners);\n    }\n    /**\n     * Set both the width and height of the `Component` element at the same time.\n     *\n     * @param  {number|string} width\n     *         Width to set the `Component`s element to.\n     *\n     * @param  {number|string} height\n     *         Height to set the `Component`s element to.\n     */\n    ;\n\n    _proto.dimensions = function dimensions(width, height) {\n      // Skip componentresize listeners on width for optimization\n      this.width(width, true);\n      this.height(height);\n    }\n    /**\n     * Get or set width or height of the `Component` element. This is the shared code\n     * for the {@link Component#width} and {@link Component#height}.\n     *\n     * Things to know:\n     * - If the width or height in an number this will return the number postfixed with 'px'.\n     * - If the width/height is a percent this will return the percent postfixed with '%'\n     * - Hidden elements have a width of 0 with `window.getComputedStyle`. This function\n     *   defaults to the `Component`s `style.width` and falls back to `window.getComputedStyle`.\n     *   See [this]{@link http://www.foliotek.com/devblog/getting-the-width-of-a-hidden-element-with-jquery-using-width/}\n     *   for more information\n     * - If you want the computed style of the component, use {@link Component#currentWidth}\n     *   and {@link {Component#currentHeight}\n     *\n     * @fires Component#componentresize\n     *\n     * @param {string} widthOrHeight\n     8        'width' or 'height'\n     *\n     * @param  {number|string} [num]\n     8         New dimension\n     *\n     * @param  {boolean} [skipListeners]\n     *         Skip componentresize event trigger\n     *\n     * @return {number}\n     *         The dimension when getting or 0 if unset\n     */\n    ;\n\n    _proto.dimension = function dimension(widthOrHeight, num, skipListeners) {\n      if (num !== undefined) {\n        // Set to zero if null or literally NaN (NaN !== NaN)\n        if (num === null || num !== num) {\n          num = 0;\n        } // Check if using css width/height (% or px) and adjust\n\n\n        if (('' + num).indexOf('%') !== -1 || ('' + num).indexOf('px') !== -1) {\n          this.el_.style[widthOrHeight] = num;\n        } else if (num === 'auto') {\n          this.el_.style[widthOrHeight] = '';\n        } else {\n          this.el_.style[widthOrHeight] = num + 'px';\n        } // skipListeners allows us to avoid triggering the resize event when setting both width and height\n\n\n        if (!skipListeners) {\n          /**\n           * Triggered when a component is resized.\n           *\n           * @event Component#componentresize\n           * @type {EventTarget~Event}\n           */\n          this.trigger('componentresize');\n        }\n\n        return;\n      } // Not setting a value, so getting it\n      // Make sure element exists\n\n\n      if (!this.el_) {\n        return 0;\n      } // Get dimension value from style\n\n\n      var val = this.el_.style[widthOrHeight];\n      var pxIndex = val.indexOf('px');\n\n      if (pxIndex !== -1) {\n        // Return the pixel value with no 'px'\n        return parseInt(val.slice(0, pxIndex), 10);\n      } // No px so using % or no style was set, so falling back to offsetWidth/height\n      // If component has display:none, offset will return 0\n      // TODO: handle display:none and no dimension style using px\n\n\n      return parseInt(this.el_['offset' + toTitleCase(widthOrHeight)], 10);\n    }\n    /**\n     * Get the computed width or the height of the component's element.\n     *\n     * Uses `window.getComputedStyle`.\n     *\n     * @param {string} widthOrHeight\n     *        A string containing 'width' or 'height'. Whichever one you want to get.\n     *\n     * @return {number}\n     *         The dimension that gets asked for or 0 if nothing was set\n     *         for that dimension.\n     */\n    ;\n\n    _proto.currentDimension = function currentDimension(widthOrHeight) {\n      var computedWidthOrHeight = 0;\n\n      if (widthOrHeight !== 'width' && widthOrHeight !== 'height') {\n        throw new Error('currentDimension only accepts width or height value');\n      }\n\n      computedWidthOrHeight = computedStyle(this.el_, widthOrHeight); // remove 'px' from variable and parse as integer\n\n      computedWidthOrHeight = parseFloat(computedWidthOrHeight); // if the computed value is still 0, it's possible that the browser is lying\n      // and we want to check the offset values.\n      // This code also runs wherever getComputedStyle doesn't exist.\n\n      if (computedWidthOrHeight === 0 || isNaN(computedWidthOrHeight)) {\n        var rule = \"offset\" + toTitleCase(widthOrHeight);\n        computedWidthOrHeight = this.el_[rule];\n      }\n\n      return computedWidthOrHeight;\n    }\n    /**\n     * An object that contains width and height values of the `Component`s\n     * computed style. Uses `window.getComputedStyle`.\n     *\n     * @typedef {Object} Component~DimensionObject\n     *\n     * @property {number} width\n     *           The width of the `Component`s computed style.\n     *\n     * @property {number} height\n     *           The height of the `Component`s computed style.\n     */\n\n    /**\n     * Get an object that contains computed width and height values of the\n     * component's element.\n     *\n     * Uses `window.getComputedStyle`.\n     *\n     * @return {Component~DimensionObject}\n     *         The computed dimensions of the component's element.\n     */\n    ;\n\n    _proto.currentDimensions = function currentDimensions() {\n      return {\n        width: this.currentDimension('width'),\n        height: this.currentDimension('height')\n      };\n    }\n    /**\n     * Get the computed width of the component's element.\n     *\n     * Uses `window.getComputedStyle`.\n     *\n     * @return {number}\n     *         The computed width of the component's element.\n     */\n    ;\n\n    _proto.currentWidth = function currentWidth() {\n      return this.currentDimension('width');\n    }\n    /**\n     * Get the computed height of the component's element.\n     *\n     * Uses `window.getComputedStyle`.\n     *\n     * @return {number}\n     *         The computed height of the component's element.\n     */\n    ;\n\n    _proto.currentHeight = function currentHeight() {\n      return this.currentDimension('height');\n    }\n    /**\n     * Set the focus to this component\n     */\n    ;\n\n    _proto.focus = function focus() {\n      this.el_.focus();\n    }\n    /**\n     * Remove the focus from this component\n     */\n    ;\n\n    _proto.blur = function blur() {\n      this.el_.blur();\n    }\n    /**\n     * When this Component receives a `keydown` event which it does not process,\n     *  it passes the event to the Player for handling.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      if (this.player_) {\n        // We only stop propagation here because we want unhandled events to fall\n        // back to the browser.\n        event.stopPropagation();\n        this.player_.handleKeyDown(event);\n      }\n    }\n    /**\n     * Many components used to have a `handleKeyPress` method, which was poorly\n     * named because it listened to a `keydown` event. This method name now\n     * delegates to `handleKeyDown`. This means anyone calling `handleKeyPress`\n     * will not see their method calls stop working.\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleKeyPress = function handleKeyPress(event) {\n      this.handleKeyDown(event);\n    }\n    /**\n     * Emit a 'tap' events when touch event support gets detected. This gets used to\n     * support toggling the controls through a tap on the video. They get enabled\n     * because every sub-component would have extra overhead otherwise.\n     *\n     * @private\n     * @fires Component#tap\n     * @listens Component#touchstart\n     * @listens Component#touchmove\n     * @listens Component#touchleave\n     * @listens Component#touchcancel\n     * @listens Component#touchend\n      */\n    ;\n\n    _proto.emitTapEvents = function emitTapEvents() {\n      // Track the start time so we can determine how long the touch lasted\n      var touchStart = 0;\n      var firstTouch = null; // Maximum movement allowed during a touch event to still be considered a tap\n      // Other popular libs use anywhere from 2 (hammer.js) to 15,\n      // so 10 seems like a nice, round number.\n\n      var tapMovementThreshold = 10; // The maximum length a touch can be while still being considered a tap\n\n      var touchTimeThreshold = 200;\n      var couldBeTap;\n      this.on('touchstart', function (event) {\n        // If more than one finger, don't consider treating this as a click\n        if (event.touches.length === 1) {\n          // Copy pageX/pageY from the object\n          firstTouch = {\n            pageX: event.touches[0].pageX,\n            pageY: event.touches[0].pageY\n          }; // Record start time so we can detect a tap vs. \"touch and hold\"\n\n          touchStart = window$1.performance.now(); // Reset couldBeTap tracking\n\n          couldBeTap = true;\n        }\n      });\n      this.on('touchmove', function (event) {\n        // If more than one finger, don't consider treating this as a click\n        if (event.touches.length > 1) {\n          couldBeTap = false;\n        } else if (firstTouch) {\n          // Some devices will throw touchmoves for all but the slightest of taps.\n          // So, if we moved only a small distance, this could still be a tap\n          var xdiff = event.touches[0].pageX - firstTouch.pageX;\n          var ydiff = event.touches[0].pageY - firstTouch.pageY;\n          var touchDistance = Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n\n          if (touchDistance > tapMovementThreshold) {\n            couldBeTap = false;\n          }\n        }\n      });\n\n      var noTap = function noTap() {\n        couldBeTap = false;\n      }; // TODO: Listen to the original target. http://youtu.be/DujfpXOKUp8?t=13m8s\n\n\n      this.on('touchleave', noTap);\n      this.on('touchcancel', noTap); // When the touch ends, measure how long it took and trigger the appropriate\n      // event\n\n      this.on('touchend', function (event) {\n        firstTouch = null; // Proceed only if the touchmove/leave/cancel event didn't happen\n\n        if (couldBeTap === true) {\n          // Measure how long the touch lasted\n          var touchTime = window$1.performance.now() - touchStart; // Make sure the touch was less than the threshold to be considered a tap\n\n          if (touchTime < touchTimeThreshold) {\n            // Don't let browser turn this into a click\n            event.preventDefault();\n            /**\n             * Triggered when a `Component` is tapped.\n             *\n             * @event Component#tap\n             * @type {EventTarget~Event}\n             */\n\n            this.trigger('tap'); // It may be good to copy the touchend event object and change the\n            // type to tap, if the other event properties aren't exact after\n            // Events.fixEvent runs (e.g. event.target)\n          }\n        }\n      });\n    }\n    /**\n     * This function reports user activity whenever touch events happen. This can get\n     * turned off by any sub-components that wants touch events to act another way.\n     *\n     * Report user touch activity when touch events occur. User activity gets used to\n     * determine when controls should show/hide. It is simple when it comes to mouse\n     * events, because any mouse event should show the controls. So we capture mouse\n     * events that bubble up to the player and report activity when that happens.\n     * With touch events it isn't as easy as `touchstart` and `touchend` toggle player\n     * controls. So touch events can't help us at the player level either.\n     *\n     * User activity gets checked asynchronously. So what could happen is a tap event\n     * on the video turns the controls off. Then the `touchend` event bubbles up to\n     * the player. Which, if it reported user activity, would turn the controls right\n     * back on. We also don't want to completely block touch events from bubbling up.\n     * Furthermore a `touchmove` event and anything other than a tap, should not turn\n     * controls back on.\n     *\n     * @listens Component#touchstart\n     * @listens Component#touchmove\n     * @listens Component#touchend\n     * @listens Component#touchcancel\n     */\n    ;\n\n    _proto.enableTouchActivity = function enableTouchActivity() {\n      // Don't continue if the root player doesn't support reporting user activity\n      if (!this.player() || !this.player().reportUserActivity) {\n        return;\n      } // listener for reporting that the user is active\n\n\n      var report = bind(this.player(), this.player().reportUserActivity);\n      var touchHolding;\n      this.on('touchstart', function () {\n        report(); // For as long as the they are touching the device or have their mouse down,\n        // we consider them active even if they're not moving their finger or mouse.\n        // So we want to continue to update that they are active\n\n        this.clearInterval(touchHolding); // report at the same interval as activityCheck\n\n        touchHolding = this.setInterval(report, 250);\n      });\n\n      var touchEnd = function touchEnd(event) {\n        report(); // stop the interval that maintains activity if the touch is holding\n\n        this.clearInterval(touchHolding);\n      };\n\n      this.on('touchmove', report);\n      this.on('touchend', touchEnd);\n      this.on('touchcancel', touchEnd);\n    }\n    /**\n     * A callback that has no parameters and is bound into `Component`s context.\n     *\n     * @callback Component~GenericCallback\n     * @this Component\n     */\n\n    /**\n     * Creates a function that runs after an `x` millisecond timeout. This function is a\n     * wrapper around `window.setTimeout`. There are a few reasons to use this one\n     * instead though:\n     * 1. It gets cleared via  {@link Component#clearTimeout} when\n     *    {@link Component#dispose} gets called.\n     * 2. The function callback will gets turned into a {@link Component~GenericCallback}\n     *\n     * > Note: You can't use `window.clearTimeout` on the id returned by this function. This\n     *         will cause its dispose listener not to get cleaned up! Please use\n     *         {@link Component#clearTimeout} or {@link Component#dispose} instead.\n     *\n     * @param {Component~GenericCallback} fn\n     *        The function that will be run after `timeout`.\n     *\n     * @param {number} timeout\n     *        Timeout in milliseconds to delay before executing the specified function.\n     *\n     * @return {number}\n     *         Returns a timeout ID that gets used to identify the timeout. It can also\n     *         get used in {@link Component#clearTimeout} to clear the timeout that\n     *         was set.\n     *\n     * @listens Component#dispose\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setTimeout}\n     */\n    ;\n\n    _proto.setTimeout = function setTimeout(fn, timeout) {\n      var _this2 = this;\n\n      // declare as variables so they are properly available in timeout function\n      // eslint-disable-next-line\n      var timeoutId;\n      fn = bind(this, fn);\n      this.clearTimersOnDispose_();\n      timeoutId = window$1.setTimeout(function () {\n        if (_this2.setTimeoutIds_.has(timeoutId)) {\n          _this2.setTimeoutIds_[\"delete\"](timeoutId);\n        }\n\n        fn();\n      }, timeout);\n      this.setTimeoutIds_.add(timeoutId);\n      return timeoutId;\n    }\n    /**\n     * Clears a timeout that gets created via `window.setTimeout` or\n     * {@link Component#setTimeout}. If you set a timeout via {@link Component#setTimeout}\n     * use this function instead of `window.clearTimout`. If you don't your dispose\n     * listener will not get cleaned up until {@link Component#dispose}!\n     *\n     * @param {number} timeoutId\n     *        The id of the timeout to clear. The return value of\n     *        {@link Component#setTimeout} or `window.setTimeout`.\n     *\n     * @return {number}\n     *         Returns the timeout id that was cleared.\n     *\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearTimeout}\n     */\n    ;\n\n    _proto.clearTimeout = function clearTimeout(timeoutId) {\n      if (this.setTimeoutIds_.has(timeoutId)) {\n        this.setTimeoutIds_[\"delete\"](timeoutId);\n        window$1.clearTimeout(timeoutId);\n      }\n\n      return timeoutId;\n    }\n    /**\n     * Creates a function that gets run every `x` milliseconds. This function is a wrapper\n     * around `window.setInterval`. There are a few reasons to use this one instead though.\n     * 1. It gets cleared via  {@link Component#clearInterval} when\n     *    {@link Component#dispose} gets called.\n     * 2. The function callback will be a {@link Component~GenericCallback}\n     *\n     * @param {Component~GenericCallback} fn\n     *        The function to run every `x` seconds.\n     *\n     * @param {number} interval\n     *        Execute the specified function every `x` milliseconds.\n     *\n     * @return {number}\n     *         Returns an id that can be used to identify the interval. It can also be be used in\n     *         {@link Component#clearInterval} to clear the interval.\n     *\n     * @listens Component#dispose\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setInterval}\n     */\n    ;\n\n    _proto.setInterval = function setInterval(fn, interval) {\n      fn = bind(this, fn);\n      this.clearTimersOnDispose_();\n      var intervalId = window$1.setInterval(fn, interval);\n      this.setIntervalIds_.add(intervalId);\n      return intervalId;\n    }\n    /**\n     * Clears an interval that gets created via `window.setInterval` or\n     * {@link Component#setInterval}. If you set an inteval via {@link Component#setInterval}\n     * use this function instead of `window.clearInterval`. If you don't your dispose\n     * listener will not get cleaned up until {@link Component#dispose}!\n     *\n     * @param {number} intervalId\n     *        The id of the interval to clear. The return value of\n     *        {@link Component#setInterval} or `window.setInterval`.\n     *\n     * @return {number}\n     *         Returns the interval id that was cleared.\n     *\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearInterval}\n     */\n    ;\n\n    _proto.clearInterval = function clearInterval(intervalId) {\n      if (this.setIntervalIds_.has(intervalId)) {\n        this.setIntervalIds_[\"delete\"](intervalId);\n        window$1.clearInterval(intervalId);\n      }\n\n      return intervalId;\n    }\n    /**\n     * Queues up a callback to be passed to requestAnimationFrame (rAF), but\n     * with a few extra bonuses:\n     *\n     * - Supports browsers that do not support rAF by falling back to\n     *   {@link Component#setTimeout}.\n     *\n     * - The callback is turned into a {@link Component~GenericCallback} (i.e.\n     *   bound to the component).\n     *\n     * - Automatic cancellation of the rAF callback is handled if the component\n     *   is disposed before it is called.\n     *\n     * @param  {Component~GenericCallback} fn\n     *         A function that will be bound to this component and executed just\n     *         before the browser's next repaint.\n     *\n     * @return {number}\n     *         Returns an rAF ID that gets used to identify the timeout. It can\n     *         also be used in {@link Component#cancelAnimationFrame} to cancel\n     *         the animation frame callback.\n     *\n     * @listens Component#dispose\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame}\n     */\n    ;\n\n    _proto.requestAnimationFrame = function requestAnimationFrame(fn) {\n      var _this3 = this;\n\n      // Fall back to using a timer.\n      if (!this.supportsRaf_) {\n        return this.setTimeout(fn, 1000 / 60);\n      }\n\n      this.clearTimersOnDispose_(); // declare as variables so they are properly available in rAF function\n      // eslint-disable-next-line\n\n      var id;\n      fn = bind(this, fn);\n      id = window$1.requestAnimationFrame(function () {\n        if (_this3.rafIds_.has(id)) {\n          _this3.rafIds_[\"delete\"](id);\n        }\n\n        fn();\n      });\n      this.rafIds_.add(id);\n      return id;\n    }\n    /**\n     * Cancels a queued callback passed to {@link Component#requestAnimationFrame}\n     * (rAF).\n     *\n     * If you queue an rAF callback via {@link Component#requestAnimationFrame},\n     * use this function instead of `window.cancelAnimationFrame`. If you don't,\n     * your dispose listener will not get cleaned up until {@link Component#dispose}!\n     *\n     * @param {number} id\n     *        The rAF ID to clear. The return value of {@link Component#requestAnimationFrame}.\n     *\n     * @return {number}\n     *         Returns the rAF ID that was cleared.\n     *\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/cancelAnimationFrame}\n     */\n    ;\n\n    _proto.cancelAnimationFrame = function cancelAnimationFrame(id) {\n      // Fall back to using a timer.\n      if (!this.supportsRaf_) {\n        return this.clearTimeout(id);\n      }\n\n      if (this.rafIds_.has(id)) {\n        this.rafIds_[\"delete\"](id);\n        window$1.cancelAnimationFrame(id);\n      }\n\n      return id;\n    }\n    /**\n     * A function to setup `requestAnimationFrame`, `setTimeout`,\n     * and `setInterval`, clearing on dispose.\n     *\n     * > Previously each timer added and removed dispose listeners on it's own.\n     * For better performance it was decided to batch them all, and use `Set`s\n     * to track outstanding timer ids.\n     *\n     * @private\n     */\n    ;\n\n    _proto.clearTimersOnDispose_ = function clearTimersOnDispose_() {\n      var _this4 = this;\n\n      if (this.clearingTimersOnDispose_) {\n        return;\n      }\n\n      this.clearingTimersOnDispose_ = true;\n      this.one('dispose', function () {\n        [['rafIds_', 'cancelAnimationFrame'], ['setTimeoutIds_', 'clearTimeout'], ['setIntervalIds_', 'clearInterval']].forEach(function (_ref) {\n          var idName = _ref[0],\n              cancelName = _ref[1];\n\n          _this4[idName].forEach(_this4[cancelName], _this4);\n        });\n        _this4.clearingTimersOnDispose_ = false;\n      });\n    }\n    /**\n     * Register a `Component` with `videojs` given the name and the component.\n     *\n     * > NOTE: {@link Tech}s should not be registered as a `Component`. {@link Tech}s\n     *         should be registered using {@link Tech.registerTech} or\n     *         {@link videojs:videojs.registerTech}.\n     *\n     * > NOTE: This function can also be seen on videojs as\n     *         {@link videojs:videojs.registerComponent}.\n     *\n     * @param {string} name\n     *        The name of the `Component` to register.\n     *\n     * @param {Component} ComponentToRegister\n     *        The `Component` class to register.\n     *\n     * @return {Component}\n     *         The `Component` that was registered.\n     */\n    ;\n\n    Component.registerComponent = function registerComponent(name, ComponentToRegister) {\n      if (typeof name !== 'string' || !name) {\n        throw new Error(\"Illegal component name, \\\"\" + name + \"\\\"; must be a non-empty string.\");\n      }\n\n      var Tech = Component.getComponent('Tech'); // We need to make sure this check is only done if Tech has been registered.\n\n      var isTech = Tech && Tech.isTech(ComponentToRegister);\n      var isComp = Component === ComponentToRegister || Component.prototype.isPrototypeOf(ComponentToRegister.prototype);\n\n      if (isTech || !isComp) {\n        var reason;\n\n        if (isTech) {\n          reason = 'techs must be registered using Tech.registerTech()';\n        } else {\n          reason = 'must be a Component subclass';\n        }\n\n        throw new Error(\"Illegal component, \\\"\" + name + \"\\\"; \" + reason + \".\");\n      }\n\n      name = toTitleCase(name);\n\n      if (!Component.components_) {\n        Component.components_ = {};\n      }\n\n      var Player = Component.getComponent('Player');\n\n      if (name === 'Player' && Player && Player.players) {\n        var players = Player.players;\n        var playerNames = Object.keys(players); // If we have players that were disposed, then their name will still be\n        // in Players.players. So, we must loop through and verify that the value\n        // for each item is not null. This allows registration of the Player component\n        // after all players have been disposed or before any were created.\n\n        if (players && playerNames.length > 0 && playerNames.map(function (pname) {\n          return players[pname];\n        }).every(Boolean)) {\n          throw new Error('Can not register Player component after player has been created.');\n        }\n      }\n\n      Component.components_[name] = ComponentToRegister;\n      Component.components_[toLowerCase(name)] = ComponentToRegister;\n      return ComponentToRegister;\n    }\n    /**\n     * Get a `Component` based on the name it was registered with.\n     *\n     * @param {string} name\n     *        The Name of the component to get.\n     *\n     * @return {Component}\n     *         The `Component` that got registered under the given name.\n     *\n     * @deprecated In `videojs` 6 this will not return `Component`s that were not\n     *             registered using {@link Component.registerComponent}. Currently we\n     *             check the global `videojs` object for a `Component` name and\n     *             return that if it exists.\n     */\n    ;\n\n    Component.getComponent = function getComponent(name) {\n      if (!name || !Component.components_) {\n        return;\n      }\n\n      return Component.components_[name];\n    };\n\n    return Component;\n  }();\n  /**\n   * Whether or not this component supports `requestAnimationFrame`.\n   *\n   * This is exposed primarily for testing purposes.\n   *\n   * @private\n   * @type {Boolean}\n   */\n\n\n  Component.prototype.supportsRaf_ = typeof window$1.requestAnimationFrame === 'function' && typeof window$1.cancelAnimationFrame === 'function';\n  Component.registerComponent('Component', Component);\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  /**\n   * @file browser.js\n   * @module browser\n   */\n  var USER_AGENT = window$1.navigator && window$1.navigator.userAgent || '';\n  var webkitVersionMap = /AppleWebKit\\/([\\d.]+)/i.exec(USER_AGENT);\n  var appleWebkitVersion = webkitVersionMap ? parseFloat(webkitVersionMap.pop()) : null;\n  /**\n   * Whether or not this device is an iPad.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_IPAD = /iPad/i.test(USER_AGENT);\n  /**\n   * Whether or not this device is an iPhone.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n  // The Facebook app's UIWebView identifies as both an iPhone and iPad, so\n  // to identify iPhones, we need to exclude iPads.\n  // http://artsy.github.io/blog/2012/10/18/the-perils-of-ios-user-agent-sniffing/\n\n  var IS_IPHONE = /iPhone/i.test(USER_AGENT) && !IS_IPAD;\n  /**\n   * Whether or not this device is an iPod.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_IPOD = /iPod/i.test(USER_AGENT);\n  /**\n   * Whether or not this is an iOS device.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_IOS = IS_IPHONE || IS_IPAD || IS_IPOD;\n  /**\n   * The detected iOS version - or `null`.\n   *\n   * @static\n   * @const\n   * @type {string|null}\n   */\n\n  var IOS_VERSION = function () {\n    var match = USER_AGENT.match(/OS (\\d+)_/i);\n\n    if (match && match[1]) {\n      return match[1];\n    }\n\n    return null;\n  }();\n  /**\n   * Whether or not this is an Android device.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_ANDROID = /Android/i.test(USER_AGENT);\n  /**\n   * The detected Android version - or `null`.\n   *\n   * @static\n   * @const\n   * @type {number|string|null}\n   */\n\n  var ANDROID_VERSION = function () {\n    // This matches Android Major.Minor.Patch versions\n    // ANDROID_VERSION is Major.Minor as a Number, if Minor isn't available, then only Major is returned\n    var match = USER_AGENT.match(/Android (\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))*/i);\n\n    if (!match) {\n      return null;\n    }\n\n    var major = match[1] && parseFloat(match[1]);\n    var minor = match[2] && parseFloat(match[2]);\n\n    if (major && minor) {\n      return parseFloat(match[1] + '.' + match[2]);\n    } else if (major) {\n      return major;\n    }\n\n    return null;\n  }();\n  /**\n   * Whether or not this is a native Android browser.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_NATIVE_ANDROID = IS_ANDROID && ANDROID_VERSION < 5 && appleWebkitVersion < 537;\n  /**\n   * Whether or not this is Mozilla Firefox.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_FIREFOX = /Firefox/i.test(USER_AGENT);\n  /**\n   * Whether or not this is Microsoft Edge.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_EDGE = /Edge/i.test(USER_AGENT);\n  /**\n   * Whether or not this is Google Chrome.\n   *\n   * This will also be `true` for Chrome on iOS, which will have different support\n   * as it is actually Safari under the hood.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_CHROME = !IS_EDGE && (/Chrome/i.test(USER_AGENT) || /CriOS/i.test(USER_AGENT));\n  /**\n   * The detected Google Chrome version - or `null`.\n   *\n   * @static\n   * @const\n   * @type {number|null}\n   */\n\n  var CHROME_VERSION = function () {\n    var match = USER_AGENT.match(/(Chrome|CriOS)\\/(\\d+)/);\n\n    if (match && match[2]) {\n      return parseFloat(match[2]);\n    }\n\n    return null;\n  }();\n  /**\n   * The detected Internet Explorer version - or `null`.\n   *\n   * @static\n   * @const\n   * @type {number|null}\n   */\n\n  var IE_VERSION = function () {\n    var result = /MSIE\\s(\\d+)\\.\\d/.exec(USER_AGENT);\n    var version = result && parseFloat(result[1]);\n\n    if (!version && /Trident\\/7.0/i.test(USER_AGENT) && /rv:11.0/.test(USER_AGENT)) {\n      // IE 11 has a different user agent string than other IE versions\n      version = 11.0;\n    }\n\n    return version;\n  }();\n  /**\n   * Whether or not this is desktop Safari.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_SAFARI = /Safari/i.test(USER_AGENT) && !IS_CHROME && !IS_ANDROID && !IS_EDGE;\n  /**\n   * Whether or not this is any flavor of Safari - including iOS.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_ANY_SAFARI = (IS_SAFARI || IS_IOS) && !IS_CHROME;\n  /**\n   * Whether or not this is a Windows machine.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_WINDOWS = /Windows/i.test(USER_AGENT);\n  /**\n   * Whether or not this device is touch-enabled.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var TOUCH_ENABLED = isReal() && ('ontouchstart' in window$1 || window$1.navigator.maxTouchPoints || window$1.DocumentTouch && window$1.document instanceof window$1.DocumentTouch);\n\n  var browser = /*#__PURE__*/Object.freeze({\n    IS_IPAD: IS_IPAD,\n    IS_IPHONE: IS_IPHONE,\n    IS_IPOD: IS_IPOD,\n    IS_IOS: IS_IOS,\n    IOS_VERSION: IOS_VERSION,\n    IS_ANDROID: IS_ANDROID,\n    ANDROID_VERSION: ANDROID_VERSION,\n    IS_NATIVE_ANDROID: IS_NATIVE_ANDROID,\n    IS_FIREFOX: IS_FIREFOX,\n    IS_EDGE: IS_EDGE,\n    IS_CHROME: IS_CHROME,\n    CHROME_VERSION: CHROME_VERSION,\n    IE_VERSION: IE_VERSION,\n    IS_SAFARI: IS_SAFARI,\n    IS_ANY_SAFARI: IS_ANY_SAFARI,\n    IS_WINDOWS: IS_WINDOWS,\n    TOUCH_ENABLED: TOUCH_ENABLED\n  });\n\n  /**\n   * @file time-ranges.js\n   * @module time-ranges\n   */\n\n  /**\n   * Returns the time for the specified index at the start or end\n   * of a TimeRange object.\n   *\n   * @typedef    {Function} TimeRangeIndex\n   *\n   * @param      {number} [index=0]\n   *             The range number to return the time for.\n   *\n   * @return     {number}\n   *             The time offset at the specified index.\n   *\n   * @deprecated The index argument must be provided.\n   *             In the future, leaving it out will throw an error.\n   */\n\n  /**\n   * An object that contains ranges of time.\n   *\n   * @typedef  {Object} TimeRange\n   *\n   * @property {number} length\n   *           The number of time ranges represented by this object.\n   *\n   * @property {module:time-ranges~TimeRangeIndex} start\n   *           Returns the time offset at which a specified time range begins.\n   *\n   * @property {module:time-ranges~TimeRangeIndex} end\n   *           Returns the time offset at which a specified time range ends.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/TimeRanges\n   */\n\n  /**\n   * Check if any of the time ranges are over the maximum index.\n   *\n   * @private\n   * @param   {string} fnName\n   *          The function name to use for logging\n   *\n   * @param   {number} index\n   *          The index to check\n   *\n   * @param   {number} maxIndex\n   *          The maximum possible index\n   *\n   * @throws  {Error} if the timeRanges provided are over the maxIndex\n   */\n  function rangeCheck(fnName, index, maxIndex) {\n    if (typeof index !== 'number' || index < 0 || index > maxIndex) {\n      throw new Error(\"Failed to execute '\" + fnName + \"' on 'TimeRanges': The index provided (\" + index + \") is non-numeric or out of bounds (0-\" + maxIndex + \").\");\n    }\n  }\n  /**\n   * Get the time for the specified index at the start or end\n   * of a TimeRange object.\n   *\n   * @private\n   * @param      {string} fnName\n   *             The function name to use for logging\n   *\n   * @param      {string} valueIndex\n   *             The property that should be used to get the time. should be\n   *             'start' or 'end'\n   *\n   * @param      {Array} ranges\n   *             An array of time ranges\n   *\n   * @param      {Array} [rangeIndex=0]\n   *             The index to start the search at\n   *\n   * @return     {number}\n   *             The time that offset at the specified index.\n   *\n   * @deprecated rangeIndex must be set to a value, in the future this will throw an error.\n   * @throws     {Error} if rangeIndex is more than the length of ranges\n   */\n\n\n  function getRange(fnName, valueIndex, ranges, rangeIndex) {\n    rangeCheck(fnName, rangeIndex, ranges.length - 1);\n    return ranges[rangeIndex][valueIndex];\n  }\n  /**\n   * Create a time range object given ranges of time.\n   *\n   * @private\n   * @param   {Array} [ranges]\n   *          An array of time ranges.\n   */\n\n\n  function createTimeRangesObj(ranges) {\n    if (ranges === undefined || ranges.length === 0) {\n      return {\n        length: 0,\n        start: function start() {\n          throw new Error('This TimeRanges object is empty');\n        },\n        end: function end() {\n          throw new Error('This TimeRanges object is empty');\n        }\n      };\n    }\n\n    return {\n      length: ranges.length,\n      start: getRange.bind(null, 'start', 0, ranges),\n      end: getRange.bind(null, 'end', 1, ranges)\n    };\n  }\n  /**\n   * Create a `TimeRange` object which mimics an\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/TimeRanges|HTML5 TimeRanges instance}.\n   *\n   * @param {number|Array[]} start\n   *        The start of a single range (a number) or an array of ranges (an\n   *        array of arrays of two numbers each).\n   *\n   * @param {number} end\n   *        The end of a single range. Cannot be used with the array form of\n   *        the `start` argument.\n   */\n\n\n  function createTimeRanges(start, end) {\n    if (Array.isArray(start)) {\n      return createTimeRangesObj(start);\n    } else if (start === undefined || end === undefined) {\n      return createTimeRangesObj();\n    }\n\n    return createTimeRangesObj([[start, end]]);\n  }\n\n  /**\n   * @file buffer.js\n   * @module buffer\n   */\n  /**\n   * Compute the percentage of the media that has been buffered.\n   *\n   * @param {TimeRange} buffered\n   *        The current `TimeRange` object representing buffered time ranges\n   *\n   * @param {number} duration\n   *        Total duration of the media\n   *\n   * @return {number}\n   *         Percent buffered of the total duration in decimal form.\n   */\n\n  function bufferedPercent(buffered, duration) {\n    var bufferedDuration = 0;\n    var start;\n    var end;\n\n    if (!duration) {\n      return 0;\n    }\n\n    if (!buffered || !buffered.length) {\n      buffered = createTimeRanges(0, 0);\n    }\n\n    for (var i = 0; i < buffered.length; i++) {\n      start = buffered.start(i);\n      end = buffered.end(i); // buffered end can be bigger than duration by a very small fraction\n\n      if (end > duration) {\n        end = duration;\n      }\n\n      bufferedDuration += end - start;\n    }\n\n    return bufferedDuration / duration;\n  }\n\n  /**\n   * @file fullscreen-api.js\n   * @module fullscreen-api\n   * @private\n   */\n  /**\n   * Store the browser-specific methods for the fullscreen API.\n   *\n   * @type {Object}\n   * @see [Specification]{@link https://fullscreen.spec.whatwg.org}\n   * @see [Map Approach From Screenfull.js]{@link https://github.com/sindresorhus/screenfull.js}\n   */\n\n  var FullscreenApi = {\n    prefixed: true\n  }; // browser API methods\n\n  var apiMap = [['requestFullscreen', 'exitFullscreen', 'fullscreenElement', 'fullscreenEnabled', 'fullscreenchange', 'fullscreenerror', 'fullscreen'], // WebKit\n  ['webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitFullscreenElement', 'webkitFullscreenEnabled', 'webkitfullscreenchange', 'webkitfullscreenerror', '-webkit-full-screen'], // Mozilla\n  ['mozRequestFullScreen', 'mozCancelFullScreen', 'mozFullScreenElement', 'mozFullScreenEnabled', 'mozfullscreenchange', 'mozfullscreenerror', '-moz-full-screen'], // Microsoft\n  ['msRequestFullscreen', 'msExitFullscreen', 'msFullscreenElement', 'msFullscreenEnabled', 'MSFullscreenChange', 'MSFullscreenError', '-ms-fullscreen']];\n  var specApi = apiMap[0];\n  var browserApi; // determine the supported set of functions\n\n  for (var i = 0; i < apiMap.length; i++) {\n    // check for exitFullscreen function\n    if (apiMap[i][1] in document) {\n      browserApi = apiMap[i];\n      break;\n    }\n  } // map the browser API names to the spec API names\n\n\n  if (browserApi) {\n    for (var _i = 0; _i < browserApi.length; _i++) {\n      FullscreenApi[specApi[_i]] = browserApi[_i];\n    }\n\n    FullscreenApi.prefixed = browserApi[0] !== specApi[0];\n  }\n\n  /**\n   * @file media-error.js\n   */\n  /**\n   * A Custom `MediaError` class which mimics the standard HTML5 `MediaError` class.\n   *\n   * @param {number|string|Object|MediaError} value\n   *        This can be of multiple types:\n   *        - number: should be a standard error code\n   *        - string: an error message (the code will be 0)\n   *        - Object: arbitrary properties\n   *        - `MediaError` (native): used to populate a video.js `MediaError` object\n   *        - `MediaError` (video.js): will return itself if it's already a\n   *          video.js `MediaError` object.\n   *\n   * @see [MediaError Spec]{@link https://dev.w3.org/html5/spec-author-view/video.html#mediaerror}\n   * @see [Encrypted MediaError Spec]{@link https://www.w3.org/TR/2013/WD-encrypted-media-20130510/#error-codes}\n   *\n   * @class MediaError\n   */\n\n  function MediaError(value) {\n    // Allow redundant calls to this constructor to avoid having `instanceof`\n    // checks peppered around the code.\n    if (value instanceof MediaError) {\n      return value;\n    }\n\n    if (typeof value === 'number') {\n      this.code = value;\n    } else if (typeof value === 'string') {\n      // default code is zero, so this is a custom error\n      this.message = value;\n    } else if (isObject(value)) {\n      // We assign the `code` property manually because native `MediaError` objects\n      // do not expose it as an own/enumerable property of the object.\n      if (typeof value.code === 'number') {\n        this.code = value.code;\n      }\n\n      assign(this, value);\n    }\n\n    if (!this.message) {\n      this.message = MediaError.defaultMessages[this.code] || '';\n    }\n  }\n  /**\n   * The error code that refers two one of the defined `MediaError` types\n   *\n   * @type {Number}\n   */\n\n\n  MediaError.prototype.code = 0;\n  /**\n   * An optional message that to show with the error. Message is not part of the HTML5\n   * video spec but allows for more informative custom errors.\n   *\n   * @type {String}\n   */\n\n  MediaError.prototype.message = '';\n  /**\n   * An optional status code that can be set by plugins to allow even more detail about\n   * the error. For example a plugin might provide a specific HTTP status code and an\n   * error message for that code. Then when the plugin gets that error this class will\n   * know how to display an error message for it. This allows a custom message to show\n   * up on the `Player` error overlay.\n   *\n   * @type {Array}\n   */\n\n  MediaError.prototype.status = null;\n  /**\n   * Errors indexed by the W3C standard. The order **CANNOT CHANGE**! See the\n   * specification listed under {@link MediaError} for more information.\n   *\n   * @enum {array}\n   * @readonly\n   * @property {string} 0 - MEDIA_ERR_CUSTOM\n   * @property {string} 1 - MEDIA_ERR_ABORTED\n   * @property {string} 2 - MEDIA_ERR_NETWORK\n   * @property {string} 3 - MEDIA_ERR_DECODE\n   * @property {string} 4 - MEDIA_ERR_SRC_NOT_SUPPORTED\n   * @property {string} 5 - MEDIA_ERR_ENCRYPTED\n   */\n\n  MediaError.errorTypes = ['MEDIA_ERR_CUSTOM', 'MEDIA_ERR_ABORTED', 'MEDIA_ERR_NETWORK', 'MEDIA_ERR_DECODE', 'MEDIA_ERR_SRC_NOT_SUPPORTED', 'MEDIA_ERR_ENCRYPTED'];\n  /**\n   * The default `MediaError` messages based on the {@link MediaError.errorTypes}.\n   *\n   * @type {Array}\n   * @constant\n   */\n\n  MediaError.defaultMessages = {\n    1: 'You aborted the media playback',\n    2: 'A network error caused the media download to fail part-way.',\n    3: 'The media playback was aborted due to a corruption problem or because the media used features your browser did not support.',\n    4: 'The media could not be loaded, either because the server or network failed or because the format is not supported.',\n    5: 'The media is encrypted and we do not have the keys to decrypt it.'\n  }; // Add types as properties on MediaError\n  // e.g. MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED = 4;\n\n  for (var errNum = 0; errNum < MediaError.errorTypes.length; errNum++) {\n    MediaError[MediaError.errorTypes[errNum]] = errNum; // values should be accessible on both the class and instance\n\n    MediaError.prototype[MediaError.errorTypes[errNum]] = errNum;\n  } // jsdocs for instance/static members added above\n\n  var tuple = SafeParseTuple;\n\n  function SafeParseTuple(obj, reviver) {\n    var json;\n    var error = null;\n\n    try {\n      json = JSON.parse(obj, reviver);\n    } catch (err) {\n      error = err;\n    }\n\n    return [error, json];\n  }\n\n  /**\n   * Returns whether an object is `Promise`-like (i.e. has a `then` method).\n   *\n   * @param  {Object}  value\n   *         An object that may or may not be `Promise`-like.\n   *\n   * @return {boolean}\n   *         Whether or not the object is `Promise`-like.\n   */\n  function isPromise(value) {\n    return value !== undefined && value !== null && typeof value.then === 'function';\n  }\n  /**\n   * Silence a Promise-like object.\n   *\n   * This is useful for avoiding non-harmful, but potentially confusing \"uncaught\n   * play promise\" rejection error messages.\n   *\n   * @param  {Object} value\n   *         An object that may or may not be `Promise`-like.\n   */\n\n  function silencePromise(value) {\n    if (isPromise(value)) {\n      value.then(null, function (e) {});\n    }\n  }\n\n  /**\n   * @file text-track-list-converter.js Utilities for capturing text track state and\n   * re-creating tracks based on a capture.\n   *\n   * @module text-track-list-converter\n   */\n\n  /**\n   * Examine a single {@link TextTrack} and return a JSON-compatible javascript object that\n   * represents the {@link TextTrack}'s state.\n   *\n   * @param {TextTrack} track\n   *        The text track to query.\n   *\n   * @return {Object}\n   *         A serializable javascript representation of the TextTrack.\n   * @private\n   */\n  var trackToJson_ = function trackToJson_(track) {\n    var ret = ['kind', 'label', 'language', 'id', 'inBandMetadataTrackDispatchType', 'mode', 'src'].reduce(function (acc, prop, i) {\n      if (track[prop]) {\n        acc[prop] = track[prop];\n      }\n\n      return acc;\n    }, {\n      cues: track.cues && Array.prototype.map.call(track.cues, function (cue) {\n        return {\n          startTime: cue.startTime,\n          endTime: cue.endTime,\n          text: cue.text,\n          id: cue.id\n        };\n      })\n    });\n    return ret;\n  };\n  /**\n   * Examine a {@link Tech} and return a JSON-compatible javascript array that represents the\n   * state of all {@link TextTrack}s currently configured. The return array is compatible with\n   * {@link text-track-list-converter:jsonToTextTracks}.\n   *\n   * @param {Tech} tech\n   *        The tech object to query\n   *\n   * @return {Array}\n   *         A serializable javascript representation of the {@link Tech}s\n   *         {@link TextTrackList}.\n   */\n\n\n  var textTracksToJson = function textTracksToJson(tech) {\n    var trackEls = tech.$$('track');\n    var trackObjs = Array.prototype.map.call(trackEls, function (t) {\n      return t.track;\n    });\n    var tracks = Array.prototype.map.call(trackEls, function (trackEl) {\n      var json = trackToJson_(trackEl.track);\n\n      if (trackEl.src) {\n        json.src = trackEl.src;\n      }\n\n      return json;\n    });\n    return tracks.concat(Array.prototype.filter.call(tech.textTracks(), function (track) {\n      return trackObjs.indexOf(track) === -1;\n    }).map(trackToJson_));\n  };\n  /**\n   * Create a set of remote {@link TextTrack}s on a {@link Tech} based on an array of javascript\n   * object {@link TextTrack} representations.\n   *\n   * @param {Array} json\n   *        An array of `TextTrack` representation objects, like those that would be\n   *        produced by `textTracksToJson`.\n   *\n   * @param {Tech} tech\n   *        The `Tech` to create the `TextTrack`s on.\n   */\n\n\n  var jsonToTextTracks = function jsonToTextTracks(json, tech) {\n    json.forEach(function (track) {\n      var addedTrack = tech.addRemoteTextTrack(track).track;\n\n      if (!track.src && track.cues) {\n        track.cues.forEach(function (cue) {\n          return addedTrack.addCue(cue);\n        });\n      }\n    });\n    return tech.textTracks();\n  };\n\n  var textTrackConverter = {\n    textTracksToJson: textTracksToJson,\n    jsonToTextTracks: jsonToTextTracks,\n    trackToJson_: trackToJson_\n  };\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var keycode = createCommonjsModule(function (module, exports) {\n    // Source: http://jsfiddle.net/vWx8V/\n    // http://stackoverflow.com/questions/5603195/full-list-of-javascript-keycodes\n\n    /**\n     * Conenience method returns corresponding value for given keyName or keyCode.\n     *\n     * @param {Mixed} keyCode {Number} or keyName {String}\n     * @return {Mixed}\n     * @api public\n     */\n    function keyCode(searchInput) {\n      // Keyboard Events\n      if (searchInput && 'object' === typeof searchInput) {\n        var hasKeyCode = searchInput.which || searchInput.keyCode || searchInput.charCode;\n        if (hasKeyCode) searchInput = hasKeyCode;\n      } // Numbers\n\n\n      if ('number' === typeof searchInput) return names[searchInput]; // Everything else (cast to string)\n\n      var search = String(searchInput); // check codes\n\n      var foundNamedKey = codes[search.toLowerCase()];\n      if (foundNamedKey) return foundNamedKey; // check aliases\n\n      var foundNamedKey = aliases[search.toLowerCase()];\n      if (foundNamedKey) return foundNamedKey; // weird character?\n\n      if (search.length === 1) return search.charCodeAt(0);\n      return undefined;\n    }\n    /**\n     * Compares a keyboard event with a given keyCode or keyName.\n     *\n     * @param {Event} event Keyboard event that should be tested\n     * @param {Mixed} keyCode {Number} or keyName {String}\n     * @return {Boolean}\n     * @api public\n     */\n\n\n    keyCode.isEventKey = function isEventKey(event, nameOrCode) {\n      if (event && 'object' === typeof event) {\n        var keyCode = event.which || event.keyCode || event.charCode;\n\n        if (keyCode === null || keyCode === undefined) {\n          return false;\n        }\n\n        if (typeof nameOrCode === 'string') {\n          // check codes\n          var foundNamedKey = codes[nameOrCode.toLowerCase()];\n\n          if (foundNamedKey) {\n            return foundNamedKey === keyCode;\n          } // check aliases\n\n\n          var foundNamedKey = aliases[nameOrCode.toLowerCase()];\n\n          if (foundNamedKey) {\n            return foundNamedKey === keyCode;\n          }\n        } else if (typeof nameOrCode === 'number') {\n          return nameOrCode === keyCode;\n        }\n\n        return false;\n      }\n    };\n\n    exports = module.exports = keyCode;\n    /**\n     * Get by name\n     *\n     *   exports.code['enter'] // => 13\n     */\n\n    var codes = exports.code = exports.codes = {\n      'backspace': 8,\n      'tab': 9,\n      'enter': 13,\n      'shift': 16,\n      'ctrl': 17,\n      'alt': 18,\n      'pause/break': 19,\n      'caps lock': 20,\n      'esc': 27,\n      'space': 32,\n      'page up': 33,\n      'page down': 34,\n      'end': 35,\n      'home': 36,\n      'left': 37,\n      'up': 38,\n      'right': 39,\n      'down': 40,\n      'insert': 45,\n      'delete': 46,\n      'command': 91,\n      'left command': 91,\n      'right command': 93,\n      'numpad *': 106,\n      'numpad +': 107,\n      'numpad -': 109,\n      'numpad .': 110,\n      'numpad /': 111,\n      'num lock': 144,\n      'scroll lock': 145,\n      'my computer': 182,\n      'my calculator': 183,\n      ';': 186,\n      '=': 187,\n      ',': 188,\n      '-': 189,\n      '.': 190,\n      '/': 191,\n      '`': 192,\n      '[': 219,\n      '\\\\': 220,\n      ']': 221,\n      \"'\": 222 // Helper aliases\n\n    };\n    var aliases = exports.aliases = {\n      'windows': 91,\n      '': 16,\n      '': 18,\n      '': 17,\n      '': 91,\n      'ctl': 17,\n      'control': 17,\n      'option': 18,\n      'pause': 19,\n      'break': 19,\n      'caps': 20,\n      'return': 13,\n      'escape': 27,\n      'spc': 32,\n      'spacebar': 32,\n      'pgup': 33,\n      'pgdn': 34,\n      'ins': 45,\n      'del': 46,\n      'cmd': 91\n      /*!\n       * Programatically add the following\n       */\n      // lower case chars\n\n    };\n\n    for (i = 97; i < 123; i++) {\n      codes[String.fromCharCode(i)] = i - 32;\n    } // numbers\n\n\n    for (var i = 48; i < 58; i++) {\n      codes[i - 48] = i;\n    } // function keys\n\n\n    for (i = 1; i < 13; i++) {\n      codes['f' + i] = i + 111;\n    } // numpad keys\n\n\n    for (i = 0; i < 10; i++) {\n      codes['numpad ' + i] = i + 96;\n    }\n    /**\n     * Get by code\n     *\n     *   exports.name[13] // => 'Enter'\n     */\n\n\n    var names = exports.names = exports.title = {}; // title for backward compat\n    // Create reverse mapping\n\n    for (i in codes) {\n      names[codes[i]] = i;\n    } // Add aliases\n\n\n    for (var alias in aliases) {\n      codes[alias] = aliases[alias];\n    }\n  });\n  var keycode_1 = keycode.code;\n  var keycode_2 = keycode.codes;\n  var keycode_3 = keycode.aliases;\n  var keycode_4 = keycode.names;\n  var keycode_5 = keycode.title;\n\n  var MODAL_CLASS_NAME = 'vjs-modal-dialog';\n  /**\n   * The `ModalDialog` displays over the video and its controls, which blocks\n   * interaction with the player until it is closed.\n   *\n   * Modal dialogs include a \"Close\" button and will close when that button\n   * is activated - or when ESC is pressed anywhere.\n   *\n   * @extends Component\n   */\n\n  var ModalDialog =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(ModalDialog, _Component);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Mixed} [options.content=undefined]\n     *        Provide customized content for this modal.\n     *\n     * @param {string} [options.description]\n     *        A text description for the modal, primarily for accessibility.\n     *\n     * @param {boolean} [options.fillAlways=false]\n     *        Normally, modals are automatically filled only the first time\n     *        they open. This tells the modal to refresh its content\n     *        every time it opens.\n     *\n     * @param {string} [options.label]\n     *        A text label for the modal, primarily for accessibility.\n     *\n     * @param {boolean} [options.pauseOnOpen=true]\n     *        If `true`, playback will will be paused if playing when\n     *        the modal opens, and resumed when it closes.\n     *\n     * @param {boolean} [options.temporary=true]\n     *        If `true`, the modal can only be opened once; it will be\n     *        disposed as soon as it's closed.\n     *\n     * @param {boolean} [options.uncloseable=false]\n     *        If `true`, the user will not be able to close the modal\n     *        through the UI in the normal ways. Programmatic closing is\n     *        still possible.\n     */\n    function ModalDialog(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.opened_ = _this.hasBeenOpened_ = _this.hasBeenFilled_ = false;\n\n      _this.closeable(!_this.options_.uncloseable);\n\n      _this.content(_this.options_.content); // Make sure the contentEl is defined AFTER any children are initialized\n      // because we only want the contents of the modal in the contentEl\n      // (not the UI elements like the close button).\n\n\n      _this.contentEl_ = createEl('div', {\n        className: MODAL_CLASS_NAME + \"-content\"\n      }, {\n        role: 'document'\n      });\n      _this.descEl_ = createEl('p', {\n        className: MODAL_CLASS_NAME + \"-description vjs-control-text\",\n        id: _this.el().getAttribute('aria-describedby')\n      });\n      textContent(_this.descEl_, _this.description());\n\n      _this.el_.appendChild(_this.descEl_);\n\n      _this.el_.appendChild(_this.contentEl_);\n\n      return _this;\n    }\n    /**\n     * Create the `ModalDialog`'s DOM element\n     *\n     * @return {Element}\n     *         The DOM element that gets created.\n     */\n\n\n    var _proto = ModalDialog.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: this.buildCSSClass(),\n        tabIndex: -1\n      }, {\n        'aria-describedby': this.id() + \"_description\",\n        'aria-hidden': 'true',\n        'aria-label': this.label(),\n        'role': 'dialog'\n      });\n    };\n\n    _proto.dispose = function dispose() {\n      this.contentEl_ = null;\n      this.descEl_ = null;\n      this.previouslyActiveEl_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return MODAL_CLASS_NAME + \" vjs-hidden \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Returns the label string for this modal. Primarily used for accessibility.\n     *\n     * @return {string}\n     *         the localized or raw label of this modal.\n     */\n    ;\n\n    _proto.label = function label() {\n      return this.localize(this.options_.label || 'Modal Window');\n    }\n    /**\n     * Returns the description string for this modal. Primarily used for\n     * accessibility.\n     *\n     * @return {string}\n     *         The localized or raw description of this modal.\n     */\n    ;\n\n    _proto.description = function description() {\n      var desc = this.options_.description || this.localize('This is a modal window.'); // Append a universal closeability message if the modal is closeable.\n\n      if (this.closeable()) {\n        desc += ' ' + this.localize('This modal can be closed by pressing the Escape key or activating the close button.');\n      }\n\n      return desc;\n    }\n    /**\n     * Opens the modal.\n     *\n     * @fires ModalDialog#beforemodalopen\n     * @fires ModalDialog#modalopen\n     */\n    ;\n\n    _proto.open = function open() {\n      if (!this.opened_) {\n        var player = this.player();\n        /**\n          * Fired just before a `ModalDialog` is opened.\n          *\n          * @event ModalDialog#beforemodalopen\n          * @type {EventTarget~Event}\n          */\n\n        this.trigger('beforemodalopen');\n        this.opened_ = true; // Fill content if the modal has never opened before and\n        // never been filled.\n\n        if (this.options_.fillAlways || !this.hasBeenOpened_ && !this.hasBeenFilled_) {\n          this.fill();\n        } // If the player was playing, pause it and take note of its previously\n        // playing state.\n\n\n        this.wasPlaying_ = !player.paused();\n\n        if (this.options_.pauseOnOpen && this.wasPlaying_) {\n          player.pause();\n        }\n\n        this.on('keydown', this.handleKeyDown); // Hide controls and note if they were enabled.\n\n        this.hadControls_ = player.controls();\n        player.controls(false);\n        this.show();\n        this.conditionalFocus_();\n        this.el().setAttribute('aria-hidden', 'false');\n        /**\n          * Fired just after a `ModalDialog` is opened.\n          *\n          * @event ModalDialog#modalopen\n          * @type {EventTarget~Event}\n          */\n\n        this.trigger('modalopen');\n        this.hasBeenOpened_ = true;\n      }\n    }\n    /**\n     * If the `ModalDialog` is currently open or closed.\n     *\n     * @param  {boolean} [value]\n     *         If given, it will open (`true`) or close (`false`) the modal.\n     *\n     * @return {boolean}\n     *         the current open state of the modaldialog\n     */\n    ;\n\n    _proto.opened = function opened(value) {\n      if (typeof value === 'boolean') {\n        this[value ? 'open' : 'close']();\n      }\n\n      return this.opened_;\n    }\n    /**\n     * Closes the modal, does nothing if the `ModalDialog` is\n     * not open.\n     *\n     * @fires ModalDialog#beforemodalclose\n     * @fires ModalDialog#modalclose\n     */\n    ;\n\n    _proto.close = function close() {\n      if (!this.opened_) {\n        return;\n      }\n\n      var player = this.player();\n      /**\n        * Fired just before a `ModalDialog` is closed.\n        *\n        * @event ModalDialog#beforemodalclose\n        * @type {EventTarget~Event}\n        */\n\n      this.trigger('beforemodalclose');\n      this.opened_ = false;\n\n      if (this.wasPlaying_ && this.options_.pauseOnOpen) {\n        player.play();\n      }\n\n      this.off('keydown', this.handleKeyDown);\n\n      if (this.hadControls_) {\n        player.controls(true);\n      }\n\n      this.hide();\n      this.el().setAttribute('aria-hidden', 'true');\n      /**\n        * Fired just after a `ModalDialog` is closed.\n        *\n        * @event ModalDialog#modalclose\n        * @type {EventTarget~Event}\n        */\n\n      this.trigger('modalclose');\n      this.conditionalBlur_();\n\n      if (this.options_.temporary) {\n        this.dispose();\n      }\n    }\n    /**\n     * Check to see if the `ModalDialog` is closeable via the UI.\n     *\n     * @param  {boolean} [value]\n     *         If given as a boolean, it will set the `closeable` option.\n     *\n     * @return {boolean}\n     *         Returns the final value of the closable option.\n     */\n    ;\n\n    _proto.closeable = function closeable(value) {\n      if (typeof value === 'boolean') {\n        var closeable = this.closeable_ = !!value;\n        var close = this.getChild('closeButton'); // If this is being made closeable and has no close button, add one.\n\n        if (closeable && !close) {\n          // The close button should be a child of the modal - not its\n          // content element, so temporarily change the content element.\n          var temp = this.contentEl_;\n          this.contentEl_ = this.el_;\n          close = this.addChild('closeButton', {\n            controlText: 'Close Modal Dialog'\n          });\n          this.contentEl_ = temp;\n          this.on(close, 'close', this.close);\n        } // If this is being made uncloseable and has a close button, remove it.\n\n\n        if (!closeable && close) {\n          this.off(close, 'close', this.close);\n          this.removeChild(close);\n          close.dispose();\n        }\n      }\n\n      return this.closeable_;\n    }\n    /**\n     * Fill the modal's content element with the modal's \"content\" option.\n     * The content element will be emptied before this change takes place.\n     */\n    ;\n\n    _proto.fill = function fill() {\n      this.fillWith(this.content());\n    }\n    /**\n     * Fill the modal's content element with arbitrary content.\n     * The content element will be emptied before this change takes place.\n     *\n     * @fires ModalDialog#beforemodalfill\n     * @fires ModalDialog#modalfill\n     *\n     * @param {Mixed} [content]\n     *        The same rules apply to this as apply to the `content` option.\n     */\n    ;\n\n    _proto.fillWith = function fillWith(content) {\n      var contentEl = this.contentEl();\n      var parentEl = contentEl.parentNode;\n      var nextSiblingEl = contentEl.nextSibling;\n      /**\n        * Fired just before a `ModalDialog` is filled with content.\n        *\n        * @event ModalDialog#beforemodalfill\n        * @type {EventTarget~Event}\n        */\n\n      this.trigger('beforemodalfill');\n      this.hasBeenFilled_ = true; // Detach the content element from the DOM before performing\n      // manipulation to avoid modifying the live DOM multiple times.\n\n      parentEl.removeChild(contentEl);\n      this.empty();\n      insertContent(contentEl, content);\n      /**\n       * Fired just after a `ModalDialog` is filled with content.\n       *\n       * @event ModalDialog#modalfill\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('modalfill'); // Re-inject the re-filled content element.\n\n      if (nextSiblingEl) {\n        parentEl.insertBefore(contentEl, nextSiblingEl);\n      } else {\n        parentEl.appendChild(contentEl);\n      } // make sure that the close button is last in the dialog DOM\n\n\n      var closeButton = this.getChild('closeButton');\n\n      if (closeButton) {\n        parentEl.appendChild(closeButton.el_);\n      }\n    }\n    /**\n     * Empties the content element. This happens anytime the modal is filled.\n     *\n     * @fires ModalDialog#beforemodalempty\n     * @fires ModalDialog#modalempty\n     */\n    ;\n\n    _proto.empty = function empty() {\n      /**\n      * Fired just before a `ModalDialog` is emptied.\n      *\n      * @event ModalDialog#beforemodalempty\n      * @type {EventTarget~Event}\n      */\n      this.trigger('beforemodalempty');\n      emptyEl(this.contentEl());\n      /**\n      * Fired just after a `ModalDialog` is emptied.\n      *\n      * @event ModalDialog#modalempty\n      * @type {EventTarget~Event}\n      */\n\n      this.trigger('modalempty');\n    }\n    /**\n     * Gets or sets the modal content, which gets normalized before being\n     * rendered into the DOM.\n     *\n     * This does not update the DOM or fill the modal, but it is called during\n     * that process.\n     *\n     * @param  {Mixed} [value]\n     *         If defined, sets the internal content value to be used on the\n     *         next call(s) to `fill`. This value is normalized before being\n     *         inserted. To \"clear\" the internal content value, pass `null`.\n     *\n     * @return {Mixed}\n     *         The current content of the modal dialog\n     */\n    ;\n\n    _proto.content = function content(value) {\n      if (typeof value !== 'undefined') {\n        this.content_ = value;\n      }\n\n      return this.content_;\n    }\n    /**\n     * conditionally focus the modal dialog if focus was previously on the player.\n     *\n     * @private\n     */\n    ;\n\n    _proto.conditionalFocus_ = function conditionalFocus_() {\n      var activeEl = document.activeElement;\n      var playerEl = this.player_.el_;\n      this.previouslyActiveEl_ = null;\n\n      if (playerEl.contains(activeEl) || playerEl === activeEl) {\n        this.previouslyActiveEl_ = activeEl;\n        this.focus();\n      }\n    }\n    /**\n     * conditionally blur the element and refocus the last focused element\n     *\n     * @private\n     */\n    ;\n\n    _proto.conditionalBlur_ = function conditionalBlur_() {\n      if (this.previouslyActiveEl_) {\n        this.previouslyActiveEl_.focus();\n        this.previouslyActiveEl_ = null;\n      }\n    }\n    /**\n     * Keydown handler. Attached when modal is focused.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Do not allow keydowns to reach out of the modal dialog.\n      event.stopPropagation();\n\n      if (keycode.isEventKey(event, 'Escape') && this.closeable()) {\n        event.preventDefault();\n        this.close();\n        return;\n      } // exit early if it isn't a tab key\n\n\n      if (!keycode.isEventKey(event, 'Tab')) {\n        return;\n      }\n\n      var focusableEls = this.focusableEls_();\n      var activeEl = this.el_.querySelector(':focus');\n      var focusIndex;\n\n      for (var i = 0; i < focusableEls.length; i++) {\n        if (activeEl === focusableEls[i]) {\n          focusIndex = i;\n          break;\n        }\n      }\n\n      if (document.activeElement === this.el_) {\n        focusIndex = 0;\n      }\n\n      if (event.shiftKey && focusIndex === 0) {\n        focusableEls[focusableEls.length - 1].focus();\n        event.preventDefault();\n      } else if (!event.shiftKey && focusIndex === focusableEls.length - 1) {\n        focusableEls[0].focus();\n        event.preventDefault();\n      }\n    }\n    /**\n     * get all focusable elements\n     *\n     * @private\n     */\n    ;\n\n    _proto.focusableEls_ = function focusableEls_() {\n      var allChildren = this.el_.querySelectorAll('*');\n      return Array.prototype.filter.call(allChildren, function (child) {\n        return (child instanceof window$1.HTMLAnchorElement || child instanceof window$1.HTMLAreaElement) && child.hasAttribute('href') || (child instanceof window$1.HTMLInputElement || child instanceof window$1.HTMLSelectElement || child instanceof window$1.HTMLTextAreaElement || child instanceof window$1.HTMLButtonElement) && !child.hasAttribute('disabled') || child instanceof window$1.HTMLIFrameElement || child instanceof window$1.HTMLObjectElement || child instanceof window$1.HTMLEmbedElement || child.hasAttribute('tabindex') && child.getAttribute('tabindex') !== -1 || child.hasAttribute('contenteditable');\n      });\n    };\n\n    return ModalDialog;\n  }(Component);\n  /**\n   * Default options for `ModalDialog` default options.\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  ModalDialog.prototype.options_ = {\n    pauseOnOpen: true,\n    temporary: true\n  };\n  Component.registerComponent('ModalDialog', ModalDialog);\n\n  /**\n   * Common functionaliy between {@link TextTrackList}, {@link AudioTrackList}, and\n   * {@link VideoTrackList}\n   *\n   * @extends EventTarget\n   */\n\n  var TrackList =\n  /*#__PURE__*/\n  function (_EventTarget) {\n    _inheritsLoose(TrackList, _EventTarget);\n\n    /**\n     * Create an instance of this class\n     *\n     * @param {Track[]} tracks\n     *        A list of tracks to initialize the list with.\n     *\n     * @abstract\n     */\n    function TrackList(tracks) {\n      var _this;\n\n      if (tracks === void 0) {\n        tracks = [];\n      }\n\n      _this = _EventTarget.call(this) || this;\n      _this.tracks_ = [];\n      /**\n       * @memberof TrackList\n       * @member {number} length\n       *         The current number of `Track`s in the this Trackist.\n       * @instance\n       */\n\n      Object.defineProperty(_assertThisInitialized(_this), 'length', {\n        get: function get() {\n          return this.tracks_.length;\n        }\n      });\n\n      for (var i = 0; i < tracks.length; i++) {\n        _this.addTrack(tracks[i]);\n      }\n\n      return _this;\n    }\n    /**\n     * Add a {@link Track} to the `TrackList`\n     *\n     * @param {Track} track\n     *        The audio, video, or text track to add to the list.\n     *\n     * @fires TrackList#addtrack\n     */\n\n\n    var _proto = TrackList.prototype;\n\n    _proto.addTrack = function addTrack(track) {\n      var index = this.tracks_.length;\n\n      if (!('' + index in this)) {\n        Object.defineProperty(this, index, {\n          get: function get() {\n            return this.tracks_[index];\n          }\n        });\n      } // Do not add duplicate tracks\n\n\n      if (this.tracks_.indexOf(track) === -1) {\n        this.tracks_.push(track);\n        /**\n         * Triggered when a track is added to a track list.\n         *\n         * @event TrackList#addtrack\n         * @type {EventTarget~Event}\n         * @property {Track} track\n         *           A reference to track that was added.\n         */\n\n        this.trigger({\n          track: track,\n          type: 'addtrack',\n          target: this\n        });\n      }\n    }\n    /**\n     * Remove a {@link Track} from the `TrackList`\n     *\n     * @param {Track} rtrack\n     *        The audio, video, or text track to remove from the list.\n     *\n     * @fires TrackList#removetrack\n     */\n    ;\n\n    _proto.removeTrack = function removeTrack(rtrack) {\n      var track;\n\n      for (var i = 0, l = this.length; i < l; i++) {\n        if (this[i] === rtrack) {\n          track = this[i];\n\n          if (track.off) {\n            track.off();\n          }\n\n          this.tracks_.splice(i, 1);\n          break;\n        }\n      }\n\n      if (!track) {\n        return;\n      }\n      /**\n       * Triggered when a track is removed from track list.\n       *\n       * @event TrackList#removetrack\n       * @type {EventTarget~Event}\n       * @property {Track} track\n       *           A reference to track that was removed.\n       */\n\n\n      this.trigger({\n        track: track,\n        type: 'removetrack',\n        target: this\n      });\n    }\n    /**\n     * Get a Track from the TrackList by a tracks id\n     *\n     * @param {string} id - the id of the track to get\n     * @method getTrackById\n     * @return {Track}\n     * @private\n     */\n    ;\n\n    _proto.getTrackById = function getTrackById(id) {\n      var result = null;\n\n      for (var i = 0, l = this.length; i < l; i++) {\n        var track = this[i];\n\n        if (track.id === id) {\n          result = track;\n          break;\n        }\n      }\n\n      return result;\n    };\n\n    return TrackList;\n  }(EventTarget);\n  /**\n   * Triggered when a different track is selected/enabled.\n   *\n   * @event TrackList#change\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Events that can be called with on + eventName. See {@link EventHandler}.\n   *\n   * @property {Object} TrackList#allowedEvents_\n   * @private\n   */\n\n\n  TrackList.prototype.allowedEvents_ = {\n    change: 'change',\n    addtrack: 'addtrack',\n    removetrack: 'removetrack'\n  }; // emulate attribute EventHandler support to allow for feature detection\n\n  for (var event in TrackList.prototype.allowedEvents_) {\n    TrackList.prototype['on' + event] = null;\n  }\n\n  /**\n   * Anywhere we call this function we diverge from the spec\n   * as we only support one enabled audiotrack at a time\n   *\n   * @param {AudioTrackList} list\n   *        list to work on\n   *\n   * @param {AudioTrack} track\n   *        The track to skip\n   *\n   * @private\n   */\n\n  var disableOthers = function disableOthers(list, track) {\n    for (var i = 0; i < list.length; i++) {\n      if (!Object.keys(list[i]).length || track.id === list[i].id) {\n        continue;\n      } // another audio track is enabled, disable it\n\n\n      list[i].enabled = false;\n    }\n  };\n  /**\n   * The current list of {@link AudioTrack} for a media file.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist}\n   * @extends TrackList\n   */\n\n\n  var AudioTrackList =\n  /*#__PURE__*/\n  function (_TrackList) {\n    _inheritsLoose(AudioTrackList, _TrackList);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {AudioTrack[]} [tracks=[]]\n     *        A list of `AudioTrack` to instantiate the list with.\n     */\n    function AudioTrackList(tracks) {\n      var _this;\n\n      if (tracks === void 0) {\n        tracks = [];\n      }\n\n      // make sure only 1 track is enabled\n      // sorted from last index to first index\n      for (var i = tracks.length - 1; i >= 0; i--) {\n        if (tracks[i].enabled) {\n          disableOthers(tracks, tracks[i]);\n          break;\n        }\n      }\n\n      _this = _TrackList.call(this, tracks) || this;\n      _this.changing_ = false;\n      return _this;\n    }\n    /**\n     * Add an {@link AudioTrack} to the `AudioTrackList`.\n     *\n     * @param {AudioTrack} track\n     *        The AudioTrack to add to the list\n     *\n     * @fires TrackList#addtrack\n     */\n\n\n    var _proto = AudioTrackList.prototype;\n\n    _proto.addTrack = function addTrack(track) {\n      var _this2 = this;\n\n      if (track.enabled) {\n        disableOthers(this, track);\n      }\n\n      _TrackList.prototype.addTrack.call(this, track); // native tracks don't have this\n\n\n      if (!track.addEventListener) {\n        return;\n      }\n\n      track.enabledChange_ = function () {\n        // when we are disabling other tracks (since we don't support\n        // more than one track at a time) we will set changing_\n        // to true so that we don't trigger additional change events\n        if (_this2.changing_) {\n          return;\n        }\n\n        _this2.changing_ = true;\n        disableOthers(_this2, track);\n        _this2.changing_ = false;\n\n        _this2.trigger('change');\n      };\n      /**\n       * @listens AudioTrack#enabledchange\n       * @fires TrackList#change\n       */\n\n\n      track.addEventListener('enabledchange', track.enabledChange_);\n    };\n\n    _proto.removeTrack = function removeTrack(rtrack) {\n      _TrackList.prototype.removeTrack.call(this, rtrack);\n\n      if (rtrack.removeEventListener && rtrack.enabledChange_) {\n        rtrack.removeEventListener('enabledchange', rtrack.enabledChange_);\n        rtrack.enabledChange_ = null;\n      }\n    };\n\n    return AudioTrackList;\n  }(TrackList);\n\n  /**\n   * Un-select all other {@link VideoTrack}s that are selected.\n   *\n   * @param {VideoTrackList} list\n   *        list to work on\n   *\n   * @param {VideoTrack} track\n   *        The track to skip\n   *\n   * @private\n   */\n\n  var disableOthers$1 = function disableOthers(list, track) {\n    for (var i = 0; i < list.length; i++) {\n      if (!Object.keys(list[i]).length || track.id === list[i].id) {\n        continue;\n      } // another video track is enabled, disable it\n\n\n      list[i].selected = false;\n    }\n  };\n  /**\n   * The current list of {@link VideoTrack} for a video.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist}\n   * @extends TrackList\n   */\n\n\n  var VideoTrackList =\n  /*#__PURE__*/\n  function (_TrackList) {\n    _inheritsLoose(VideoTrackList, _TrackList);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {VideoTrack[]} [tracks=[]]\n     *        A list of `VideoTrack` to instantiate the list with.\n     */\n    function VideoTrackList(tracks) {\n      var _this;\n\n      if (tracks === void 0) {\n        tracks = [];\n      }\n\n      // make sure only 1 track is enabled\n      // sorted from last index to first index\n      for (var i = tracks.length - 1; i >= 0; i--) {\n        if (tracks[i].selected) {\n          disableOthers$1(tracks, tracks[i]);\n          break;\n        }\n      }\n\n      _this = _TrackList.call(this, tracks) || this;\n      _this.changing_ = false;\n      /**\n       * @member {number} VideoTrackList#selectedIndex\n       *         The current index of the selected {@link VideoTrack`}.\n       */\n\n      Object.defineProperty(_assertThisInitialized(_this), 'selectedIndex', {\n        get: function get() {\n          for (var _i = 0; _i < this.length; _i++) {\n            if (this[_i].selected) {\n              return _i;\n            }\n          }\n\n          return -1;\n        },\n        set: function set() {}\n      });\n      return _this;\n    }\n    /**\n     * Add a {@link VideoTrack} to the `VideoTrackList`.\n     *\n     * @param {VideoTrack} track\n     *        The VideoTrack to add to the list\n     *\n     * @fires TrackList#addtrack\n     */\n\n\n    var _proto = VideoTrackList.prototype;\n\n    _proto.addTrack = function addTrack(track) {\n      var _this2 = this;\n\n      if (track.selected) {\n        disableOthers$1(this, track);\n      }\n\n      _TrackList.prototype.addTrack.call(this, track); // native tracks don't have this\n\n\n      if (!track.addEventListener) {\n        return;\n      }\n\n      track.selectedChange_ = function () {\n        if (_this2.changing_) {\n          return;\n        }\n\n        _this2.changing_ = true;\n        disableOthers$1(_this2, track);\n        _this2.changing_ = false;\n\n        _this2.trigger('change');\n      };\n      /**\n       * @listens VideoTrack#selectedchange\n       * @fires TrackList#change\n       */\n\n\n      track.addEventListener('selectedchange', track.selectedChange_);\n    };\n\n    _proto.removeTrack = function removeTrack(rtrack) {\n      _TrackList.prototype.removeTrack.call(this, rtrack);\n\n      if (rtrack.removeEventListener && rtrack.selectedChange_) {\n        rtrack.removeEventListener('selectedchange', rtrack.selectedChange_);\n        rtrack.selectedChange_ = null;\n      }\n    };\n\n    return VideoTrackList;\n  }(TrackList);\n\n  /**\n   * The current list of {@link TextTrack} for a media file.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttracklist}\n   * @extends TrackList\n   */\n\n  var TextTrackList =\n  /*#__PURE__*/\n  function (_TrackList) {\n    _inheritsLoose(TextTrackList, _TrackList);\n\n    function TextTrackList() {\n      return _TrackList.apply(this, arguments) || this;\n    }\n\n    var _proto = TextTrackList.prototype;\n\n    /**\n     * Add a {@link TextTrack} to the `TextTrackList`\n     *\n     * @param {TextTrack} track\n     *        The text track to add to the list.\n     *\n     * @fires TrackList#addtrack\n     */\n    _proto.addTrack = function addTrack(track) {\n      var _this = this;\n\n      _TrackList.prototype.addTrack.call(this, track);\n\n      if (!this.queueChange_) {\n        this.queueChange_ = function () {\n          return _this.queueTrigger('change');\n        };\n      }\n\n      if (!this.triggerSelectedlanguagechange) {\n        this.triggerSelectedlanguagechange_ = function () {\n          return _this.trigger('selectedlanguagechange');\n        };\n      }\n      /**\n       * @listens TextTrack#modechange\n       * @fires TrackList#change\n       */\n\n\n      track.addEventListener('modechange', this.queueChange_);\n      var nonLanguageTextTrackKind = ['metadata', 'chapters'];\n\n      if (nonLanguageTextTrackKind.indexOf(track.kind) === -1) {\n        track.addEventListener('modechange', this.triggerSelectedlanguagechange_);\n      }\n    };\n\n    _proto.removeTrack = function removeTrack(rtrack) {\n      _TrackList.prototype.removeTrack.call(this, rtrack); // manually remove the event handlers we added\n\n\n      if (rtrack.removeEventListener) {\n        if (this.queueChange_) {\n          rtrack.removeEventListener('modechange', this.queueChange_);\n        }\n\n        if (this.selectedlanguagechange_) {\n          rtrack.removeEventListener('modechange', this.triggerSelectedlanguagechange_);\n        }\n      }\n    };\n\n    return TextTrackList;\n  }(TrackList);\n\n  /**\n   * @file html-track-element-list.js\n   */\n\n  /**\n   * The current list of {@link HtmlTrackElement}s.\n   */\n  var HtmlTrackElementList =\n  /*#__PURE__*/\n  function () {\n    /**\n     * Create an instance of this class.\n     *\n     * @param {HtmlTrackElement[]} [tracks=[]]\n     *        A list of `HtmlTrackElement` to instantiate the list with.\n     */\n    function HtmlTrackElementList(trackElements) {\n      if (trackElements === void 0) {\n        trackElements = [];\n      }\n\n      this.trackElements_ = [];\n      /**\n       * @memberof HtmlTrackElementList\n       * @member {number} length\n       *         The current number of `Track`s in the this Trackist.\n       * @instance\n       */\n\n      Object.defineProperty(this, 'length', {\n        get: function get() {\n          return this.trackElements_.length;\n        }\n      });\n\n      for (var i = 0, length = trackElements.length; i < length; i++) {\n        this.addTrackElement_(trackElements[i]);\n      }\n    }\n    /**\n     * Add an {@link HtmlTrackElement} to the `HtmlTrackElementList`\n     *\n     * @param {HtmlTrackElement} trackElement\n     *        The track element to add to the list.\n     *\n     * @private\n     */\n\n\n    var _proto = HtmlTrackElementList.prototype;\n\n    _proto.addTrackElement_ = function addTrackElement_(trackElement) {\n      var index = this.trackElements_.length;\n\n      if (!('' + index in this)) {\n        Object.defineProperty(this, index, {\n          get: function get() {\n            return this.trackElements_[index];\n          }\n        });\n      } // Do not add duplicate elements\n\n\n      if (this.trackElements_.indexOf(trackElement) === -1) {\n        this.trackElements_.push(trackElement);\n      }\n    }\n    /**\n     * Get an {@link HtmlTrackElement} from the `HtmlTrackElementList` given an\n     * {@link TextTrack}.\n     *\n     * @param {TextTrack} track\n     *        The track associated with a track element.\n     *\n     * @return {HtmlTrackElement|undefined}\n     *         The track element that was found or undefined.\n     *\n     * @private\n     */\n    ;\n\n    _proto.getTrackElementByTrack_ = function getTrackElementByTrack_(track) {\n      var trackElement_;\n\n      for (var i = 0, length = this.trackElements_.length; i < length; i++) {\n        if (track === this.trackElements_[i].track) {\n          trackElement_ = this.trackElements_[i];\n          break;\n        }\n      }\n\n      return trackElement_;\n    }\n    /**\n     * Remove a {@link HtmlTrackElement} from the `HtmlTrackElementList`\n     *\n     * @param {HtmlTrackElement} trackElement\n     *        The track element to remove from the list.\n     *\n     * @private\n     */\n    ;\n\n    _proto.removeTrackElement_ = function removeTrackElement_(trackElement) {\n      for (var i = 0, length = this.trackElements_.length; i < length; i++) {\n        if (trackElement === this.trackElements_[i]) {\n          if (this.trackElements_[i].track && typeof this.trackElements_[i].track.off === 'function') {\n            this.trackElements_[i].track.off();\n          }\n\n          if (typeof this.trackElements_[i].off === 'function') {\n            this.trackElements_[i].off();\n          }\n\n          this.trackElements_.splice(i, 1);\n          break;\n        }\n      }\n    };\n\n    return HtmlTrackElementList;\n  }();\n\n  /**\n   * @file text-track-cue-list.js\n   */\n\n  /**\n   * @typedef {Object} TextTrackCueList~TextTrackCue\n   *\n   * @property {string} id\n   *           The unique id for this text track cue\n   *\n   * @property {number} startTime\n   *           The start time for this text track cue\n   *\n   * @property {number} endTime\n   *           The end time for this text track cue\n   *\n   * @property {boolean} pauseOnExit\n   *           Pause when the end time is reached if true.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcue}\n   */\n\n  /**\n   * A List of TextTrackCues.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcuelist}\n   */\n  var TextTrackCueList =\n  /*#__PURE__*/\n  function () {\n    /**\n     * Create an instance of this class..\n     *\n     * @param {Array} cues\n     *        A list of cues to be initialized with\n     */\n    function TextTrackCueList(cues) {\n      TextTrackCueList.prototype.setCues_.call(this, cues);\n      /**\n       * @memberof TextTrackCueList\n       * @member {number} length\n       *         The current number of `TextTrackCue`s in the TextTrackCueList.\n       * @instance\n       */\n\n      Object.defineProperty(this, 'length', {\n        get: function get() {\n          return this.length_;\n        }\n      });\n    }\n    /**\n     * A setter for cues in this list. Creates getters\n     * an an index for the cues.\n     *\n     * @param {Array} cues\n     *        An array of cues to set\n     *\n     * @private\n     */\n\n\n    var _proto = TextTrackCueList.prototype;\n\n    _proto.setCues_ = function setCues_(cues) {\n      var oldLength = this.length || 0;\n      var i = 0;\n      var l = cues.length;\n      this.cues_ = cues;\n      this.length_ = cues.length;\n\n      var defineProp = function defineProp(index) {\n        if (!('' + index in this)) {\n          Object.defineProperty(this, '' + index, {\n            get: function get() {\n              return this.cues_[index];\n            }\n          });\n        }\n      };\n\n      if (oldLength < l) {\n        i = oldLength;\n\n        for (; i < l; i++) {\n          defineProp.call(this, i);\n        }\n      }\n    }\n    /**\n     * Get a `TextTrackCue` that is currently in the `TextTrackCueList` by id.\n     *\n     * @param {string} id\n     *        The id of the cue that should be searched for.\n     *\n     * @return {TextTrackCueList~TextTrackCue|null}\n     *         A single cue or null if none was found.\n     */\n    ;\n\n    _proto.getCueById = function getCueById(id) {\n      var result = null;\n\n      for (var i = 0, l = this.length; i < l; i++) {\n        var cue = this[i];\n\n        if (cue.id === id) {\n          result = cue;\n          break;\n        }\n      }\n\n      return result;\n    };\n\n    return TextTrackCueList;\n  }();\n\n  /**\n   * @file track-kinds.js\n   */\n\n  /**\n   * All possible `VideoTrackKind`s\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-videotrack-kind\n   * @typedef VideoTrack~Kind\n   * @enum\n   */\n  var VideoTrackKind = {\n    alternative: 'alternative',\n    captions: 'captions',\n    main: 'main',\n    sign: 'sign',\n    subtitles: 'subtitles',\n    commentary: 'commentary'\n  };\n  /**\n   * All possible `AudioTrackKind`s\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-audiotrack-kind\n   * @typedef AudioTrack~Kind\n   * @enum\n   */\n\n  var AudioTrackKind = {\n    'alternative': 'alternative',\n    'descriptions': 'descriptions',\n    'main': 'main',\n    'main-desc': 'main-desc',\n    'translation': 'translation',\n    'commentary': 'commentary'\n  };\n  /**\n   * All possible `TextTrackKind`s\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-texttrack-kind\n   * @typedef TextTrack~Kind\n   * @enum\n   */\n\n  var TextTrackKind = {\n    subtitles: 'subtitles',\n    captions: 'captions',\n    descriptions: 'descriptions',\n    chapters: 'chapters',\n    metadata: 'metadata'\n  };\n  /**\n   * All possible `TextTrackMode`s\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackmode\n   * @typedef TextTrack~Mode\n   * @enum\n   */\n\n  var TextTrackMode = {\n    disabled: 'disabled',\n    hidden: 'hidden',\n    showing: 'showing'\n  };\n\n  /**\n   * A Track class that contains all of the common functionality for {@link AudioTrack},\n   * {@link VideoTrack}, and {@link TextTrack}.\n   *\n   * > Note: This class should not be used directly\n   *\n   * @see {@link https://html.spec.whatwg.org/multipage/embedded-content.html}\n   * @extends EventTarget\n   * @abstract\n   */\n\n  var Track =\n  /*#__PURE__*/\n  function (_EventTarget) {\n    _inheritsLoose(Track, _EventTarget);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} [options={}]\n     *        Object of option names and values\n     *\n     * @param {string} [options.kind='']\n     *        A valid kind for the track type you are creating.\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this AudioTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @abstract\n     */\n    function Track(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _EventTarget.call(this) || this;\n      var trackProps = {\n        id: options.id || 'vjs_track_' + newGUID(),\n        kind: options.kind || '',\n        label: options.label || '',\n        language: options.language || ''\n      };\n      /**\n       * @memberof Track\n       * @member {string} id\n       *         The id of this track. Cannot be changed after creation.\n       * @instance\n       *\n       * @readonly\n       */\n\n      /**\n       * @memberof Track\n       * @member {string} kind\n       *         The kind of track that this is. Cannot be changed after creation.\n       * @instance\n       *\n       * @readonly\n       */\n\n      /**\n       * @memberof Track\n       * @member {string} label\n       *         The label of this track. Cannot be changed after creation.\n       * @instance\n       *\n       * @readonly\n       */\n\n      /**\n       * @memberof Track\n       * @member {string} language\n       *         The two letter language code for this track. Cannot be changed after\n       *         creation.\n       * @instance\n       *\n       * @readonly\n       */\n\n      var _loop = function _loop(key) {\n        Object.defineProperty(_assertThisInitialized(_this), key, {\n          get: function get() {\n            return trackProps[key];\n          },\n          set: function set() {}\n        });\n      };\n\n      for (var key in trackProps) {\n        _loop(key);\n      }\n\n      return _this;\n    }\n\n    return Track;\n  }(EventTarget);\n\n  /**\n   * @file url.js\n   * @module url\n   */\n  /**\n   * @typedef {Object} url:URLObject\n   *\n   * @property {string} protocol\n   *           The protocol of the url that was parsed.\n   *\n   * @property {string} hostname\n   *           The hostname of the url that was parsed.\n   *\n   * @property {string} port\n   *           The port of the url that was parsed.\n   *\n   * @property {string} pathname\n   *           The pathname of the url that was parsed.\n   *\n   * @property {string} search\n   *           The search query of the url that was parsed.\n   *\n   * @property {string} hash\n   *           The hash of the url that was parsed.\n   *\n   * @property {string} host\n   *           The host of the url that was parsed.\n   */\n\n  /**\n   * Resolve and parse the elements of a URL.\n   *\n   * @function\n   * @param    {String} url\n   *           The url to parse\n   *\n   * @return   {url:URLObject}\n   *           An object of url details\n   */\n\n  var parseUrl = function parseUrl(url) {\n    var props = ['protocol', 'hostname', 'port', 'pathname', 'search', 'hash', 'host']; // add the url to an anchor and let the browser parse the URL\n\n    var a = document.createElement('a');\n    a.href = url; // IE8 (and 9?) Fix\n    // ie8 doesn't parse the URL correctly until the anchor is actually\n    // added to the body, and an innerHTML is needed to trigger the parsing\n\n    var addToBody = a.host === '' && a.protocol !== 'file:';\n    var div;\n\n    if (addToBody) {\n      div = document.createElement('div');\n      div.innerHTML = \"<a href=\\\"\" + url + \"\\\"></a>\";\n      a = div.firstChild; // prevent the div from affecting layout\n\n      div.setAttribute('style', 'display:none; position:absolute;');\n      document.body.appendChild(div);\n    } // Copy the specific URL properties to a new object\n    // This is also needed for IE8 because the anchor loses its\n    // properties when it's removed from the dom\n\n\n    var details = {};\n\n    for (var i = 0; i < props.length; i++) {\n      details[props[i]] = a[props[i]];\n    } // IE9 adds the port to the host property unlike everyone else. If\n    // a port identifier is added for standard ports, strip it.\n\n\n    if (details.protocol === 'http:') {\n      details.host = details.host.replace(/:80$/, '');\n    }\n\n    if (details.protocol === 'https:') {\n      details.host = details.host.replace(/:443$/, '');\n    }\n\n    if (!details.protocol) {\n      details.protocol = window$1.location.protocol;\n    }\n\n    if (addToBody) {\n      document.body.removeChild(div);\n    }\n\n    return details;\n  };\n  /**\n   * Get absolute version of relative URL. Used to tell Flash the correct URL.\n   *\n   * @function\n   * @param    {string} url\n   *           URL to make absolute\n   *\n   * @return   {string}\n   *           Absolute URL\n   *\n   * @see      http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue\n   */\n\n  var getAbsoluteURL = function getAbsoluteURL(url) {\n    // Check if absolute URL\n    if (!url.match(/^https?:\\/\\//)) {\n      // Convert to absolute URL. Flash hosted off-site needs an absolute URL.\n      var div = document.createElement('div');\n      div.innerHTML = \"<a href=\\\"\" + url + \"\\\">x</a>\";\n      url = div.firstChild.href;\n    }\n\n    return url;\n  };\n  /**\n   * Returns the extension of the passed file name. It will return an empty string\n   * if passed an invalid path.\n   *\n   * @function\n   * @param    {string} path\n   *           The fileName path like '/path/to/file.mp4'\n   *\n   * @return  {string}\n   *           The extension in lower case or an empty string if no\n   *           extension could be found.\n   */\n\n  var getFileExtension = function getFileExtension(path) {\n    if (typeof path === 'string') {\n      var splitPathRe = /^(\\/?)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?)(\\.([^\\.\\/\\?]+)))(?:[\\/]*|[\\?].*)$/;\n      var pathParts = splitPathRe.exec(path);\n\n      if (pathParts) {\n        return pathParts.pop().toLowerCase();\n      }\n    }\n\n    return '';\n  };\n  /**\n   * Returns whether the url passed is a cross domain request or not.\n   *\n   * @function\n   * @param    {string} url\n   *           The url to check.\n   *\n   * @return   {boolean}\n   *           Whether it is a cross domain request or not.\n   */\n\n  var isCrossOrigin = function isCrossOrigin(url) {\n    var winLoc = window$1.location;\n    var urlInfo = parseUrl(url); // IE8 protocol relative urls will return ':' for protocol\n\n    var srcProtocol = urlInfo.protocol === ':' ? winLoc.protocol : urlInfo.protocol; // Check if url is for another domain/origin\n    // IE8 doesn't know location.origin, so we won't rely on it here\n\n    var crossOrigin = srcProtocol + urlInfo.host !== winLoc.protocol + winLoc.host;\n    return crossOrigin;\n  };\n\n  var Url = /*#__PURE__*/Object.freeze({\n    parseUrl: parseUrl,\n    getAbsoluteURL: getAbsoluteURL,\n    getFileExtension: getFileExtension,\n    isCrossOrigin: isCrossOrigin\n  });\n\n  var isFunction_1 = isFunction;\n  var toString$1 = Object.prototype.toString;\n\n  function isFunction(fn) {\n    var string = toString$1.call(fn);\n    return string === '[object Function]' || typeof fn === 'function' && string !== '[object RegExp]' || typeof window !== 'undefined' && ( // IE8 and below\n    fn === window.setTimeout || fn === window.alert || fn === window.confirm || fn === window.prompt);\n  }\n\n  /* eslint no-invalid-this: 1 */\n\n  var ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\n  var slice = Array.prototype.slice;\n  var toStr = Object.prototype.toString;\n  var funcType = '[object Function]';\n\n  var implementation = function bind(that) {\n    var target = this;\n\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n      throw new TypeError(ERROR_MESSAGE + target);\n    }\n\n    var args = slice.call(arguments, 1);\n    var bound;\n\n    var binder = function binder() {\n      if (this instanceof bound) {\n        var result = target.apply(this, args.concat(slice.call(arguments)));\n\n        if (Object(result) === result) {\n          return result;\n        }\n\n        return this;\n      } else {\n        return target.apply(that, args.concat(slice.call(arguments)));\n      }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n\n    for (var i = 0; i < boundLength; i++) {\n      boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n      var Empty = function Empty() {};\n\n      Empty.prototype = target.prototype;\n      bound.prototype = new Empty();\n      Empty.prototype = null;\n    }\n\n    return bound;\n  };\n\n  var functionBind = Function.prototype.bind || implementation;\n\n  var toStr$1 = Object.prototype.toString;\n\n  var isArguments = function isArguments(value) {\n    var str = toStr$1.call(value);\n    var isArgs = str === '[object Arguments]';\n\n    if (!isArgs) {\n      isArgs = str !== '[object Array]' && value !== null && typeof value === 'object' && typeof value.length === 'number' && value.length >= 0 && toStr$1.call(value.callee) === '[object Function]';\n    }\n\n    return isArgs;\n  };\n\n  var keysShim;\n\n  if (!Object.keys) {\n    // modified from https://github.com/es-shims/es5-shim\n    var has = Object.prototype.hasOwnProperty;\n    var toStr$2 = Object.prototype.toString;\n    var isArgs = isArguments; // eslint-disable-line global-require\n\n    var isEnumerable = Object.prototype.propertyIsEnumerable;\n    var hasDontEnumBug = !isEnumerable.call({\n      toString: null\n    }, 'toString');\n    var hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n    var dontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor'];\n\n    var equalsConstructorPrototype = function equalsConstructorPrototype(o) {\n      var ctor = o.constructor;\n      return ctor && ctor.prototype === o;\n    };\n\n    var excludedKeys = {\n      $applicationCache: true,\n      $console: true,\n      $external: true,\n      $frame: true,\n      $frameElement: true,\n      $frames: true,\n      $innerHeight: true,\n      $innerWidth: true,\n      $onmozfullscreenchange: true,\n      $onmozfullscreenerror: true,\n      $outerHeight: true,\n      $outerWidth: true,\n      $pageXOffset: true,\n      $pageYOffset: true,\n      $parent: true,\n      $scrollLeft: true,\n      $scrollTop: true,\n      $scrollX: true,\n      $scrollY: true,\n      $self: true,\n      $webkitIndexedDB: true,\n      $webkitStorageInfo: true,\n      $window: true\n    };\n\n    var hasAutomationEqualityBug = function () {\n      /* global window */\n      if (typeof window === 'undefined') {\n        return false;\n      }\n\n      for (var k in window) {\n        try {\n          if (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n            try {\n              equalsConstructorPrototype(window[k]);\n            } catch (e) {\n              return true;\n            }\n          }\n        } catch (e) {\n          return true;\n        }\n      }\n\n      return false;\n    }();\n\n    var equalsConstructorPrototypeIfNotBuggy = function equalsConstructorPrototypeIfNotBuggy(o) {\n      /* global window */\n      if (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n        return equalsConstructorPrototype(o);\n      }\n\n      try {\n        return equalsConstructorPrototype(o);\n      } catch (e) {\n        return false;\n      }\n    };\n\n    keysShim = function keys(object) {\n      var isObject = object !== null && typeof object === 'object';\n      var isFunction = toStr$2.call(object) === '[object Function]';\n      var isArguments = isArgs(object);\n      var isString = isObject && toStr$2.call(object) === '[object String]';\n      var theKeys = [];\n\n      if (!isObject && !isFunction && !isArguments) {\n        throw new TypeError('Object.keys called on a non-object');\n      }\n\n      var skipProto = hasProtoEnumBug && isFunction;\n\n      if (isString && object.length > 0 && !has.call(object, 0)) {\n        for (var i = 0; i < object.length; ++i) {\n          theKeys.push(String(i));\n        }\n      }\n\n      if (isArguments && object.length > 0) {\n        for (var j = 0; j < object.length; ++j) {\n          theKeys.push(String(j));\n        }\n      } else {\n        for (var name in object) {\n          if (!(skipProto && name === 'prototype') && has.call(object, name)) {\n            theKeys.push(String(name));\n          }\n        }\n      }\n\n      if (hasDontEnumBug) {\n        var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n        for (var k = 0; k < dontEnums.length; ++k) {\n          if (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n            theKeys.push(dontEnums[k]);\n          }\n        }\n      }\n\n      return theKeys;\n    };\n  }\n\n  var implementation$1 = keysShim;\n\n  var slice$1 = Array.prototype.slice;\n  var origKeys = Object.keys;\n  var keysShim$1 = origKeys ? function keys(o) {\n    return origKeys(o);\n  } : implementation$1;\n  var originalKeys = Object.keys;\n\n  keysShim$1.shim = function shimObjectKeys() {\n    if (Object.keys) {\n      var keysWorksWithArguments = function () {\n        // Safari 5.0 bug\n        var args = Object.keys(arguments);\n        return args && args.length === arguments.length;\n      }(1, 2);\n\n      if (!keysWorksWithArguments) {\n        Object.keys = function keys(object) {\n          // eslint-disable-line func-name-matching\n          if (isArguments(object)) {\n            return originalKeys(slice$1.call(object));\n          }\n\n          return originalKeys(object);\n        };\n      }\n    } else {\n      Object.keys = keysShim$1;\n    }\n\n    return Object.keys || keysShim$1;\n  };\n\n  var objectKeys = keysShim$1;\n\n  var hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n  var toStr$3 = Object.prototype.toString;\n  var concat = Array.prototype.concat;\n  var origDefineProperty = Object.defineProperty;\n\n  var isFunction$1 = function isFunction(fn) {\n    return typeof fn === 'function' && toStr$3.call(fn) === '[object Function]';\n  };\n\n  var arePropertyDescriptorsSupported = function arePropertyDescriptorsSupported() {\n    var obj = {};\n\n    try {\n      origDefineProperty(obj, 'x', {\n        enumerable: false,\n        value: obj\n      }); // eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\n      for (var _ in obj) {\n        // jscs:ignore disallowUnusedVariables\n        return false;\n      }\n\n      return obj.x === obj;\n    } catch (e) {\n      /* this is IE 8. */\n      return false;\n    }\n  };\n\n  var supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\n  var defineProperty = function defineProperty(object, name, value, predicate) {\n    if (name in object && (!isFunction$1(predicate) || !predicate())) {\n      return;\n    }\n\n    if (supportsDescriptors) {\n      origDefineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        value: value,\n        writable: true\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n\n  var defineProperties = function defineProperties(object, map) {\n    var predicates = arguments.length > 2 ? arguments[2] : {};\n    var props = objectKeys(map);\n\n    if (hasSymbols) {\n      props = concat.call(props, Object.getOwnPropertySymbols(map));\n    }\n\n    for (var i = 0; i < props.length; i += 1) {\n      defineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n    }\n  };\n\n  defineProperties.supportsDescriptors = !!supportsDescriptors;\n  var defineProperties_1 = defineProperties;\n\n  /* globals\n  \tSet,\n  \tMap,\n  \tWeakSet,\n  \tWeakMap,\n\n  \tPromise,\n\n  \tSymbol,\n  \tProxy,\n\n  \tAtomics,\n  \tSharedArrayBuffer,\n\n  \tArrayBuffer,\n  \tDataView,\n  \tUint8Array,\n  \tFloat32Array,\n  \tFloat64Array,\n  \tInt8Array,\n  \tInt16Array,\n  \tInt32Array,\n  \tUint8ClampedArray,\n  \tUint16Array,\n  \tUint32Array,\n  */\n\n  var undefined$1; // eslint-disable-line no-shadow-restricted-names\n\n  var ThrowTypeError = Object.getOwnPropertyDescriptor ? function () {\n    return Object.getOwnPropertyDescriptor(arguments, 'callee').get;\n  }() : function () {\n    throw new TypeError();\n  };\n  var hasSymbols$1 = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';\n\n  var getProto = Object.getPrototypeOf || function (x) {\n    return x.__proto__;\n  }; // eslint-disable-line no-proto\n\n  var generatorFunction =  undefined$1;\n\n  var asyncFunction =  undefined$1;\n\n  var asyncGenFunction =  undefined$1;\n  var TypedArray = typeof Uint8Array === 'undefined' ? undefined$1 : getProto(Uint8Array);\n  var INTRINSICS = {\n    '$ %Array%': Array,\n    '$ %ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined$1 : ArrayBuffer,\n    '$ %ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined$1 : ArrayBuffer.prototype,\n    '$ %ArrayIteratorPrototype%': hasSymbols$1 ? getProto([][Symbol.iterator]()) : undefined$1,\n    '$ %ArrayPrototype%': Array.prototype,\n    '$ %ArrayProto_entries%': Array.prototype.entries,\n    '$ %ArrayProto_forEach%': Array.prototype.forEach,\n    '$ %ArrayProto_keys%': Array.prototype.keys,\n    '$ %ArrayProto_values%': Array.prototype.values,\n    '$ %AsyncFromSyncIteratorPrototype%': undefined$1,\n    '$ %AsyncFunction%': asyncFunction,\n    '$ %AsyncFunctionPrototype%':  undefined$1,\n    '$ %AsyncGenerator%':  undefined$1,\n    '$ %AsyncGeneratorFunction%': asyncGenFunction,\n    '$ %AsyncGeneratorPrototype%':  undefined$1,\n    '$ %AsyncIteratorPrototype%':  undefined$1,\n    '$ %Atomics%': typeof Atomics === 'undefined' ? undefined$1 : Atomics,\n    '$ %Boolean%': Boolean,\n    '$ %BooleanPrototype%': Boolean.prototype,\n    '$ %DataView%': typeof DataView === 'undefined' ? undefined$1 : DataView,\n    '$ %DataViewPrototype%': typeof DataView === 'undefined' ? undefined$1 : DataView.prototype,\n    '$ %Date%': Date,\n    '$ %DatePrototype%': Date.prototype,\n    '$ %decodeURI%': decodeURI,\n    '$ %decodeURIComponent%': decodeURIComponent,\n    '$ %encodeURI%': encodeURI,\n    '$ %encodeURIComponent%': encodeURIComponent,\n    '$ %Error%': Error,\n    '$ %ErrorPrototype%': Error.prototype,\n    '$ %eval%': eval,\n    // eslint-disable-line no-eval\n    '$ %EvalError%': EvalError,\n    '$ %EvalErrorPrototype%': EvalError.prototype,\n    '$ %Float32Array%': typeof Float32Array === 'undefined' ? undefined$1 : Float32Array,\n    '$ %Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined$1 : Float32Array.prototype,\n    '$ %Float64Array%': typeof Float64Array === 'undefined' ? undefined$1 : Float64Array,\n    '$ %Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined$1 : Float64Array.prototype,\n    '$ %Function%': Function,\n    '$ %FunctionPrototype%': Function.prototype,\n    '$ %Generator%':  undefined$1,\n    '$ %GeneratorFunction%': generatorFunction,\n    '$ %GeneratorPrototype%':  undefined$1,\n    '$ %Int8Array%': typeof Int8Array === 'undefined' ? undefined$1 : Int8Array,\n    '$ %Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined$1 : Int8Array.prototype,\n    '$ %Int16Array%': typeof Int16Array === 'undefined' ? undefined$1 : Int16Array,\n    '$ %Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined$1 : Int8Array.prototype,\n    '$ %Int32Array%': typeof Int32Array === 'undefined' ? undefined$1 : Int32Array,\n    '$ %Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined$1 : Int32Array.prototype,\n    '$ %isFinite%': isFinite,\n    '$ %isNaN%': isNaN,\n    '$ %IteratorPrototype%': hasSymbols$1 ? getProto(getProto([][Symbol.iterator]())) : undefined$1,\n    '$ %JSON%': JSON,\n    '$ %JSONParse%': JSON.parse,\n    '$ %Map%': typeof Map === 'undefined' ? undefined$1 : Map,\n    '$ %MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols$1 ? undefined$1 : getProto(new Map()[Symbol.iterator]()),\n    '$ %MapPrototype%': typeof Map === 'undefined' ? undefined$1 : Map.prototype,\n    '$ %Math%': Math,\n    '$ %Number%': Number,\n    '$ %NumberPrototype%': Number.prototype,\n    '$ %Object%': Object,\n    '$ %ObjectPrototype%': Object.prototype,\n    '$ %ObjProto_toString%': Object.prototype.toString,\n    '$ %ObjProto_valueOf%': Object.prototype.valueOf,\n    '$ %parseFloat%': parseFloat,\n    '$ %parseInt%': parseInt,\n    '$ %Promise%': typeof Promise === 'undefined' ? undefined$1 : Promise,\n    '$ %PromisePrototype%': typeof Promise === 'undefined' ? undefined$1 : Promise.prototype,\n    '$ %PromiseProto_then%': typeof Promise === 'undefined' ? undefined$1 : Promise.prototype.then,\n    '$ %Promise_all%': typeof Promise === 'undefined' ? undefined$1 : Promise.all,\n    '$ %Promise_reject%': typeof Promise === 'undefined' ? undefined$1 : Promise.reject,\n    '$ %Promise_resolve%': typeof Promise === 'undefined' ? undefined$1 : Promise.resolve,\n    '$ %Proxy%': typeof Proxy === 'undefined' ? undefined$1 : Proxy,\n    '$ %RangeError%': RangeError,\n    '$ %RangeErrorPrototype%': RangeError.prototype,\n    '$ %ReferenceError%': ReferenceError,\n    '$ %ReferenceErrorPrototype%': ReferenceError.prototype,\n    '$ %Reflect%': typeof Reflect === 'undefined' ? undefined$1 : Reflect,\n    '$ %RegExp%': RegExp,\n    '$ %RegExpPrototype%': RegExp.prototype,\n    '$ %Set%': typeof Set === 'undefined' ? undefined$1 : Set,\n    '$ %SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols$1 ? undefined$1 : getProto(new Set()[Symbol.iterator]()),\n    '$ %SetPrototype%': typeof Set === 'undefined' ? undefined$1 : Set.prototype,\n    '$ %SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined$1 : SharedArrayBuffer,\n    '$ %SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined$1 : SharedArrayBuffer.prototype,\n    '$ %String%': String,\n    '$ %StringIteratorPrototype%': hasSymbols$1 ? getProto(''[Symbol.iterator]()) : undefined$1,\n    '$ %StringPrototype%': String.prototype,\n    '$ %Symbol%': hasSymbols$1 ? Symbol : undefined$1,\n    '$ %SymbolPrototype%': hasSymbols$1 ? Symbol.prototype : undefined$1,\n    '$ %SyntaxError%': SyntaxError,\n    '$ %SyntaxErrorPrototype%': SyntaxError.prototype,\n    '$ %ThrowTypeError%': ThrowTypeError,\n    '$ %TypedArray%': TypedArray,\n    '$ %TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined$1,\n    '$ %TypeError%': TypeError,\n    '$ %TypeErrorPrototype%': TypeError.prototype,\n    '$ %Uint8Array%': typeof Uint8Array === 'undefined' ? undefined$1 : Uint8Array,\n    '$ %Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined$1 : Uint8Array.prototype,\n    '$ %Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined$1 : Uint8ClampedArray,\n    '$ %Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined$1 : Uint8ClampedArray.prototype,\n    '$ %Uint16Array%': typeof Uint16Array === 'undefined' ? undefined$1 : Uint16Array,\n    '$ %Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined$1 : Uint16Array.prototype,\n    '$ %Uint32Array%': typeof Uint32Array === 'undefined' ? undefined$1 : Uint32Array,\n    '$ %Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined$1 : Uint32Array.prototype,\n    '$ %URIError%': URIError,\n    '$ %URIErrorPrototype%': URIError.prototype,\n    '$ %WeakMap%': typeof WeakMap === 'undefined' ? undefined$1 : WeakMap,\n    '$ %WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined$1 : WeakMap.prototype,\n    '$ %WeakSet%': typeof WeakSet === 'undefined' ? undefined$1 : WeakSet,\n    '$ %WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined$1 : WeakSet.prototype\n  };\n\n  var GetIntrinsic = function GetIntrinsic(name, allowMissing) {\n    if (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n      throw new TypeError('\"allowMissing\" argument must be a boolean');\n    }\n\n    var key = '$ ' + name;\n\n    if (!(key in INTRINSICS)) {\n      throw new SyntaxError('intrinsic ' + name + ' does not exist!');\n    } // istanbul ignore if // hopefully this is impossible to test :-)\n\n\n    if (typeof INTRINSICS[key] === 'undefined' && !allowMissing) {\n      throw new TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n    }\n\n    return INTRINSICS[key];\n  };\n\n  var src = functionBind.call(Function.call, Object.prototype.hasOwnProperty);\n\n  var $TypeError = GetIntrinsic('%TypeError%');\n  var $SyntaxError = GetIntrinsic('%SyntaxError%');\n  var predicates = {\n    // https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n    'Property Descriptor': function isPropertyDescriptor(ES, Desc) {\n      if (ES.Type(Desc) !== 'Object') {\n        return false;\n      }\n\n      var allowed = {\n        '[[Configurable]]': true,\n        '[[Enumerable]]': true,\n        '[[Get]]': true,\n        '[[Set]]': true,\n        '[[Value]]': true,\n        '[[Writable]]': true\n      };\n\n      for (var key in Desc) {\n        // eslint-disable-line\n        if (src(Desc, key) && !allowed[key]) {\n          return false;\n        }\n      }\n\n      var isData = src(Desc, '[[Value]]');\n      var IsAccessor = src(Desc, '[[Get]]') || src(Desc, '[[Set]]');\n\n      if (isData && IsAccessor) {\n        throw new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n      }\n\n      return true;\n    }\n  };\n\n  var assertRecord = function assertRecord(ES, recordType, argumentName, value) {\n    var predicate = predicates[recordType];\n\n    if (typeof predicate !== 'function') {\n      throw new $SyntaxError('unknown record type: ' + recordType);\n    }\n\n    if (!predicate(ES, value)) {\n      throw new $TypeError(argumentName + ' must be a ' + recordType);\n    }\n\n    console.log(predicate(ES, value), value);\n  };\n\n  var _isNaN = Number.isNaN || function isNaN(a) {\n    return a !== a;\n  };\n\n  var $isNaN = Number.isNaN || function (a) {\n    return a !== a;\n  };\n\n  var _isFinite = Number.isFinite || function (x) {\n    return typeof x === 'number' && !$isNaN(x) && x !== Infinity && x !== -Infinity;\n  };\n\n  var sign = function sign(number) {\n    return number >= 0 ? 1 : -1;\n  };\n\n  var mod = function mod(number, modulo) {\n    var remain = number % modulo;\n    return Math.floor(remain >= 0 ? remain : remain + modulo);\n  };\n\n  var fnToStr = Function.prototype.toString;\n  var constructorRegex = /^\\s*class\\b/;\n\n  var isES6ClassFn = function isES6ClassFunction(value) {\n    try {\n      var fnStr = fnToStr.call(value);\n      return constructorRegex.test(fnStr);\n    } catch (e) {\n      return false; // not a function\n    }\n  };\n\n  var tryFunctionObject = function tryFunctionToStr(value) {\n    try {\n      if (isES6ClassFn(value)) {\n        return false;\n      }\n\n      fnToStr.call(value);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  };\n\n  var toStr$4 = Object.prototype.toString;\n  var fnClass = '[object Function]';\n  var genClass = '[object GeneratorFunction]';\n  var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\n  var isCallable = function isCallable(value) {\n    if (!value) {\n      return false;\n    }\n\n    if (typeof value !== 'function' && typeof value !== 'object') {\n      return false;\n    }\n\n    if (typeof value === 'function' && !value.prototype) {\n      return true;\n    }\n\n    if (hasToStringTag) {\n      return tryFunctionObject(value);\n    }\n\n    if (isES6ClassFn(value)) {\n      return false;\n    }\n\n    var strClass = toStr$4.call(value);\n    return strClass === fnClass || strClass === genClass;\n  };\n\n  var isPrimitive = function isPrimitive(value) {\n    return value === null || typeof value !== 'function' && typeof value !== 'object';\n  };\n\n  var toStr$5 = Object.prototype.toString; // http://ecma-international.org/ecma-262/5.1/#sec-8.12.8\n\n  var ES5internalSlots = {\n    '[[DefaultValue]]': function DefaultValue(O) {\n      var actualHint;\n\n      if (arguments.length > 1) {\n        actualHint = arguments[1];\n      } else {\n        actualHint = toStr$5.call(O) === '[object Date]' ? String : Number;\n      }\n\n      if (actualHint === String || actualHint === Number) {\n        var methods = actualHint === String ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n        var value, i;\n\n        for (i = 0; i < methods.length; ++i) {\n          if (isCallable(O[methods[i]])) {\n            value = O[methods[i]]();\n\n            if (isPrimitive(value)) {\n              return value;\n            }\n          }\n        }\n\n        throw new TypeError('No default value');\n      }\n\n      throw new TypeError('invalid [[DefaultValue]] hint supplied');\n    }\n  }; // http://ecma-international.org/ecma-262/5.1/#sec-9.1\n\n  var es5 = function ToPrimitive(input) {\n    if (isPrimitive(input)) {\n      return input;\n    }\n\n    if (arguments.length > 1) {\n      return ES5internalSlots['[[DefaultValue]]'](input, arguments[1]);\n    }\n\n    return ES5internalSlots['[[DefaultValue]]'](input);\n  };\n\n  var $Object = GetIntrinsic('%Object%');\n  var $TypeError$1 = GetIntrinsic('%TypeError%');\n  var $String = GetIntrinsic('%String%'); // https://es5.github.io/#x9\n\n  var ES5 = {\n    ToPrimitive: es5,\n    ToBoolean: function ToBoolean(value) {\n      return !!value;\n    },\n    ToNumber: function ToNumber(value) {\n      return +value; // eslint-disable-line no-implicit-coercion\n    },\n    ToInteger: function ToInteger(value) {\n      var number = this.ToNumber(value);\n\n      if (_isNaN(number)) {\n        return 0;\n      }\n\n      if (number === 0 || !_isFinite(number)) {\n        return number;\n      }\n\n      return sign(number) * Math.floor(Math.abs(number));\n    },\n    ToInt32: function ToInt32(x) {\n      return this.ToNumber(x) >> 0;\n    },\n    ToUint32: function ToUint32(x) {\n      return this.ToNumber(x) >>> 0;\n    },\n    ToUint16: function ToUint16(value) {\n      var number = this.ToNumber(value);\n\n      if (_isNaN(number) || number === 0 || !_isFinite(number)) {\n        return 0;\n      }\n\n      var posInt = sign(number) * Math.floor(Math.abs(number));\n      return mod(posInt, 0x10000);\n    },\n    ToString: function ToString(value) {\n      return $String(value);\n    },\n    ToObject: function ToObject(value) {\n      this.CheckObjectCoercible(value);\n      return $Object(value);\n    },\n    CheckObjectCoercible: function CheckObjectCoercible(value, optMessage) {\n      /* jshint eqnull:true */\n      if (value == null) {\n        throw new $TypeError$1(optMessage || 'Cannot call method on ' + value);\n      }\n\n      return value;\n    },\n    IsCallable: isCallable,\n    SameValue: function SameValue(x, y) {\n      if (x === y) {\n        // 0 === -0, but they are not identical.\n        if (x === 0) {\n          return 1 / x === 1 / y;\n        }\n\n        return true;\n      }\n\n      return _isNaN(x) && _isNaN(y);\n    },\n    // https://www.ecma-international.org/ecma-262/5.1/#sec-8\n    Type: function Type(x) {\n      if (x === null) {\n        return 'Null';\n      }\n\n      if (typeof x === 'undefined') {\n        return 'Undefined';\n      }\n\n      if (typeof x === 'function' || typeof x === 'object') {\n        return 'Object';\n      }\n\n      if (typeof x === 'number') {\n        return 'Number';\n      }\n\n      if (typeof x === 'boolean') {\n        return 'Boolean';\n      }\n\n      if (typeof x === 'string') {\n        return 'String';\n      }\n    },\n    // https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n    IsPropertyDescriptor: function IsPropertyDescriptor(Desc) {\n      if (this.Type(Desc) !== 'Object') {\n        return false;\n      }\n\n      var allowed = {\n        '[[Configurable]]': true,\n        '[[Enumerable]]': true,\n        '[[Get]]': true,\n        '[[Set]]': true,\n        '[[Value]]': true,\n        '[[Writable]]': true\n      };\n\n      for (var key in Desc) {\n        // eslint-disable-line\n        if (src(Desc, key) && !allowed[key]) {\n          return false;\n        }\n      }\n\n      var isData = src(Desc, '[[Value]]');\n      var IsAccessor = src(Desc, '[[Get]]') || src(Desc, '[[Set]]');\n\n      if (isData && IsAccessor) {\n        throw new $TypeError$1('Property Descriptors may not be both accessor and data descriptors');\n      }\n\n      return true;\n    },\n    // https://ecma-international.org/ecma-262/5.1/#sec-8.10.1\n    IsAccessorDescriptor: function IsAccessorDescriptor(Desc) {\n      if (typeof Desc === 'undefined') {\n        return false;\n      }\n\n      assertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n      if (!src(Desc, '[[Get]]') && !src(Desc, '[[Set]]')) {\n        return false;\n      }\n\n      return true;\n    },\n    // https://ecma-international.org/ecma-262/5.1/#sec-8.10.2\n    IsDataDescriptor: function IsDataDescriptor(Desc) {\n      if (typeof Desc === 'undefined') {\n        return false;\n      }\n\n      assertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n      if (!src(Desc, '[[Value]]') && !src(Desc, '[[Writable]]')) {\n        return false;\n      }\n\n      return true;\n    },\n    // https://ecma-international.org/ecma-262/5.1/#sec-8.10.3\n    IsGenericDescriptor: function IsGenericDescriptor(Desc) {\n      if (typeof Desc === 'undefined') {\n        return false;\n      }\n\n      assertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n      if (!this.IsAccessorDescriptor(Desc) && !this.IsDataDescriptor(Desc)) {\n        return true;\n      }\n\n      return false;\n    },\n    // https://ecma-international.org/ecma-262/5.1/#sec-8.10.4\n    FromPropertyDescriptor: function FromPropertyDescriptor(Desc) {\n      if (typeof Desc === 'undefined') {\n        return Desc;\n      }\n\n      assertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n      if (this.IsDataDescriptor(Desc)) {\n        return {\n          value: Desc['[[Value]]'],\n          writable: !!Desc['[[Writable]]'],\n          enumerable: !!Desc['[[Enumerable]]'],\n          configurable: !!Desc['[[Configurable]]']\n        };\n      } else if (this.IsAccessorDescriptor(Desc)) {\n        return {\n          get: Desc['[[Get]]'],\n          set: Desc['[[Set]]'],\n          enumerable: !!Desc['[[Enumerable]]'],\n          configurable: !!Desc['[[Configurable]]']\n        };\n      } else {\n        throw new $TypeError$1('FromPropertyDescriptor must be called with a fully populated Property Descriptor');\n      }\n    },\n    // https://ecma-international.org/ecma-262/5.1/#sec-8.10.5\n    ToPropertyDescriptor: function ToPropertyDescriptor(Obj) {\n      if (this.Type(Obj) !== 'Object') {\n        throw new $TypeError$1('ToPropertyDescriptor requires an object');\n      }\n\n      var desc = {};\n\n      if (src(Obj, 'enumerable')) {\n        desc['[[Enumerable]]'] = this.ToBoolean(Obj.enumerable);\n      }\n\n      if (src(Obj, 'configurable')) {\n        desc['[[Configurable]]'] = this.ToBoolean(Obj.configurable);\n      }\n\n      if (src(Obj, 'value')) {\n        desc['[[Value]]'] = Obj.value;\n      }\n\n      if (src(Obj, 'writable')) {\n        desc['[[Writable]]'] = this.ToBoolean(Obj.writable);\n      }\n\n      if (src(Obj, 'get')) {\n        var getter = Obj.get;\n\n        if (typeof getter !== 'undefined' && !this.IsCallable(getter)) {\n          throw new TypeError('getter must be a function');\n        }\n\n        desc['[[Get]]'] = getter;\n      }\n\n      if (src(Obj, 'set')) {\n        var setter = Obj.set;\n\n        if (typeof setter !== 'undefined' && !this.IsCallable(setter)) {\n          throw new $TypeError$1('setter must be a function');\n        }\n\n        desc['[[Set]]'] = setter;\n      }\n\n      if ((src(desc, '[[Get]]') || src(desc, '[[Set]]')) && (src(desc, '[[Value]]') || src(desc, '[[Writable]]'))) {\n        throw new $TypeError$1('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');\n      }\n\n      return desc;\n    }\n  };\n  var es5$1 = ES5;\n\n  var replace = functionBind.call(Function.call, String.prototype.replace);\n  /* eslint-disable no-control-regex */\n\n  var leftWhitespace = /^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+/;\n  var rightWhitespace = /[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+$/;\n  /* eslint-enable no-control-regex */\n\n  var implementation$2 = function trim() {\n    var S = es5$1.ToString(es5$1.CheckObjectCoercible(this));\n    return replace(replace(S, leftWhitespace, ''), rightWhitespace, '');\n  };\n\n  var zeroWidthSpace = \"\\u200B\";\n\n  var polyfill = function getPolyfill() {\n    if (String.prototype.trim && zeroWidthSpace.trim() === zeroWidthSpace) {\n      return String.prototype.trim;\n    }\n\n    return implementation$2;\n  };\n\n  var shim = function shimStringTrim() {\n    var polyfill$1 = polyfill();\n    defineProperties_1(String.prototype, {\n      trim: polyfill$1\n    }, {\n      trim: function testTrim() {\n        return String.prototype.trim !== polyfill$1;\n      }\n    });\n    return polyfill$1;\n  };\n\n  var boundTrim = functionBind.call(Function.call, polyfill());\n  defineProperties_1(boundTrim, {\n    getPolyfill: polyfill,\n    implementation: implementation$2,\n    shim: shim\n  });\n  var string_prototype_trim = boundTrim;\n\n  var toStr$6 = Object.prototype.toString;\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  var forEachArray = function forEachArray(array, iterator, receiver) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      if (hasOwnProperty.call(array, i)) {\n        if (receiver == null) {\n          iterator(array[i], i, array);\n        } else {\n          iterator.call(receiver, array[i], i, array);\n        }\n      }\n    }\n  };\n\n  var forEachString = function forEachString(string, iterator, receiver) {\n    for (var i = 0, len = string.length; i < len; i++) {\n      // no such thing as a sparse string.\n      if (receiver == null) {\n        iterator(string.charAt(i), i, string);\n      } else {\n        iterator.call(receiver, string.charAt(i), i, string);\n      }\n    }\n  };\n\n  var forEachObject = function forEachObject(object, iterator, receiver) {\n    for (var k in object) {\n      if (hasOwnProperty.call(object, k)) {\n        if (receiver == null) {\n          iterator(object[k], k, object);\n        } else {\n          iterator.call(receiver, object[k], k, object);\n        }\n      }\n    }\n  };\n\n  var forEach = function forEach(list, iterator, thisArg) {\n    if (!isCallable(iterator)) {\n      throw new TypeError('iterator must be a function');\n    }\n\n    var receiver;\n\n    if (arguments.length >= 3) {\n      receiver = thisArg;\n    }\n\n    if (toStr$6.call(list) === '[object Array]') {\n      forEachArray(list, iterator, receiver);\n    } else if (typeof list === 'string') {\n      forEachString(list, iterator, receiver);\n    } else {\n      forEachObject(list, iterator, receiver);\n    }\n  };\n\n  var forEach_1 = forEach;\n\n  var isArray = function isArray(arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n  };\n\n  var parseHeaders = function parseHeaders(headers) {\n    if (!headers) return {};\n    var result = {};\n    forEach_1(string_prototype_trim(headers).split('\\n'), function (row) {\n      var index = row.indexOf(':'),\n          key = string_prototype_trim(row.slice(0, index)).toLowerCase(),\n          value = string_prototype_trim(row.slice(index + 1));\n\n      if (typeof result[key] === 'undefined') {\n        result[key] = value;\n      } else if (isArray(result[key])) {\n        result[key].push(value);\n      } else {\n        result[key] = [result[key], value];\n      }\n    });\n    return result;\n  };\n\n  var immutable = extend;\n  var hasOwnProperty$1 = Object.prototype.hasOwnProperty;\n\n  function extend() {\n    var target = {};\n\n    for (var i = 0; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (hasOwnProperty$1.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  }\n\n  var xhr = createXHR;\n  createXHR.XMLHttpRequest = window$1.XMLHttpRequest || noop;\n  createXHR.XDomainRequest = \"withCredentials\" in new createXHR.XMLHttpRequest() ? createXHR.XMLHttpRequest : window$1.XDomainRequest;\n  forEachArray$1([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function (method) {\n    createXHR[method === \"delete\" ? \"del\" : method] = function (uri, options, callback) {\n      options = initParams(uri, options, callback);\n      options.method = method.toUpperCase();\n      return _createXHR(options);\n    };\n  });\n\n  function forEachArray$1(array, iterator) {\n    for (var i = 0; i < array.length; i++) {\n      iterator(array[i]);\n    }\n  }\n\n  function isEmpty(obj) {\n    for (var i in obj) {\n      if (obj.hasOwnProperty(i)) return false;\n    }\n\n    return true;\n  }\n\n  function initParams(uri, options, callback) {\n    var params = uri;\n\n    if (isFunction_1(options)) {\n      callback = options;\n\n      if (typeof uri === \"string\") {\n        params = {\n          uri: uri\n        };\n      }\n    } else {\n      params = immutable(options, {\n        uri: uri\n      });\n    }\n\n    params.callback = callback;\n    return params;\n  }\n\n  function createXHR(uri, options, callback) {\n    options = initParams(uri, options, callback);\n    return _createXHR(options);\n  }\n\n  function _createXHR(options) {\n    if (typeof options.callback === \"undefined\") {\n      throw new Error(\"callback argument missing\");\n    }\n\n    var called = false;\n\n    var callback = function cbOnce(err, response, body) {\n      if (!called) {\n        called = true;\n        options.callback(err, response, body);\n      }\n    };\n\n    function readystatechange() {\n      if (xhr.readyState === 4) {\n        setTimeout(loadFunc, 0);\n      }\n    }\n\n    function getBody() {\n      // Chrome with requestType=blob throws errors arround when even testing access to responseText\n      var body = undefined;\n\n      if (xhr.response) {\n        body = xhr.response;\n      } else {\n        body = xhr.responseText || getXml(xhr);\n      }\n\n      if (isJson) {\n        try {\n          body = JSON.parse(body);\n        } catch (e) {}\n      }\n\n      return body;\n    }\n\n    function errorFunc(evt) {\n      clearTimeout(timeoutTimer);\n\n      if (!(evt instanceof Error)) {\n        evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\"));\n      }\n\n      evt.statusCode = 0;\n      return callback(evt, failureResponse);\n    } // will load the data & process the response in a special response object\n\n\n    function loadFunc() {\n      if (aborted) return;\n      var status;\n      clearTimeout(timeoutTimer);\n\n      if (options.useXDR && xhr.status === undefined) {\n        //IE8 CORS GET successful response doesn't have a status field, but body is fine\n        status = 200;\n      } else {\n        status = xhr.status === 1223 ? 204 : xhr.status;\n      }\n\n      var response = failureResponse;\n      var err = null;\n\n      if (status !== 0) {\n        response = {\n          body: getBody(),\n          statusCode: status,\n          method: method,\n          headers: {},\n          url: uri,\n          rawRequest: xhr\n        };\n\n        if (xhr.getAllResponseHeaders) {\n          //remember xhr can in fact be XDR for CORS in IE\n          response.headers = parseHeaders(xhr.getAllResponseHeaders());\n        }\n      } else {\n        err = new Error(\"Internal XMLHttpRequest Error\");\n      }\n\n      return callback(err, response, response.body);\n    }\n\n    var xhr = options.xhr || null;\n\n    if (!xhr) {\n      if (options.cors || options.useXDR) {\n        xhr = new createXHR.XDomainRequest();\n      } else {\n        xhr = new createXHR.XMLHttpRequest();\n      }\n    }\n\n    var key;\n    var aborted;\n    var uri = xhr.url = options.uri || options.url;\n    var method = xhr.method = options.method || \"GET\";\n    var body = options.body || options.data;\n    var headers = xhr.headers = options.headers || {};\n    var sync = !!options.sync;\n    var isJson = false;\n    var timeoutTimer;\n    var failureResponse = {\n      body: undefined,\n      headers: {},\n      statusCode: 0,\n      method: method,\n      url: uri,\n      rawRequest: xhr\n    };\n\n    if (\"json\" in options && options.json !== false) {\n      isJson = true;\n      headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\"); //Don't override existing accept header declared by user\n\n      if (method !== \"GET\" && method !== \"HEAD\") {\n        headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\"); //Don't override existing accept header declared by user\n\n        body = JSON.stringify(options.json === true ? body : options.json);\n      }\n    }\n\n    xhr.onreadystatechange = readystatechange;\n    xhr.onload = loadFunc;\n    xhr.onerror = errorFunc; // IE9 must have onprogress be set to a unique function.\n\n    xhr.onprogress = function () {// IE must die\n    };\n\n    xhr.onabort = function () {\n      aborted = true;\n    };\n\n    xhr.ontimeout = errorFunc;\n    xhr.open(method, uri, !sync, options.username, options.password); //has to be after open\n\n    if (!sync) {\n      xhr.withCredentials = !!options.withCredentials;\n    } // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n\n\n    if (!sync && options.timeout > 0) {\n      timeoutTimer = setTimeout(function () {\n        if (aborted) return;\n        aborted = true; //IE9 may still call readystatechange\n\n        xhr.abort(\"timeout\");\n        var e = new Error(\"XMLHttpRequest timeout\");\n        e.code = \"ETIMEDOUT\";\n        errorFunc(e);\n      }, options.timeout);\n    }\n\n    if (xhr.setRequestHeader) {\n      for (key in headers) {\n        if (headers.hasOwnProperty(key)) {\n          xhr.setRequestHeader(key, headers[key]);\n        }\n      }\n    } else if (options.headers && !isEmpty(options.headers)) {\n      throw new Error(\"Headers cannot be set on an XDomainRequest object\");\n    }\n\n    if (\"responseType\" in options) {\n      xhr.responseType = options.responseType;\n    }\n\n    if (\"beforeSend\" in options && typeof options.beforeSend === \"function\") {\n      options.beforeSend(xhr);\n    } // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n    // XMLHttpRequest spec says to pass null as body to indicate no body\n    // See https://github.com/naugtur/xhr/issues/100.\n\n\n    xhr.send(body || null);\n    return xhr;\n  }\n\n  function getXml(xhr) {\n    if (xhr.responseType === \"document\") {\n      return xhr.responseXML;\n    }\n\n    var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\";\n\n    if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n      return xhr.responseXML;\n    }\n\n    return null;\n  }\n\n  function noop() {}\n\n  /**\n   * Takes a webvtt file contents and parses it into cues\n   *\n   * @param {string} srcContent\n   *        webVTT file contents\n   *\n   * @param {TextTrack} track\n   *        TextTrack to add cues to. Cues come from the srcContent.\n   *\n   * @private\n   */\n\n  var parseCues = function parseCues(srcContent, track) {\n    var parser = new window$1.WebVTT.Parser(window$1, window$1.vttjs, window$1.WebVTT.StringDecoder());\n    var errors = [];\n\n    parser.oncue = function (cue) {\n      track.addCue(cue);\n    };\n\n    parser.onparsingerror = function (error) {\n      errors.push(error);\n    };\n\n    parser.onflush = function () {\n      track.trigger({\n        type: 'loadeddata',\n        target: track\n      });\n    };\n\n    parser.parse(srcContent);\n\n    if (errors.length > 0) {\n      if (window$1.console && window$1.console.groupCollapsed) {\n        window$1.console.groupCollapsed(\"Text Track parsing errors for \" + track.src);\n      }\n\n      errors.forEach(function (error) {\n        return log.error(error);\n      });\n\n      if (window$1.console && window$1.console.groupEnd) {\n        window$1.console.groupEnd();\n      }\n    }\n\n    parser.flush();\n  };\n  /**\n   * Load a `TextTrack` from a specified url.\n   *\n   * @param {string} src\n   *        Url to load track from.\n   *\n   * @param {TextTrack} track\n   *        Track to add cues to. Comes from the content at the end of `url`.\n   *\n   * @private\n   */\n\n\n  var loadTrack = function loadTrack(src, track) {\n    var opts = {\n      uri: src\n    };\n    var crossOrigin = isCrossOrigin(src);\n\n    if (crossOrigin) {\n      opts.cors = crossOrigin;\n    }\n\n    xhr(opts, bind(this, function (err, response, responseBody) {\n      if (err) {\n        return log.error(err, response);\n      }\n\n      track.loaded_ = true; // Make sure that vttjs has loaded, otherwise, wait till it finished loading\n      // NOTE: this is only used for the alt/video.novtt.js build\n\n      if (typeof window$1.WebVTT !== 'function') {\n        if (track.tech_) {\n          // to prevent use before define eslint error, we define loadHandler\n          // as a let here\n          track.tech_.any(['vttjsloaded', 'vttjserror'], function (event) {\n            if (event.type === 'vttjserror') {\n              log.error(\"vttjs failed to load, stopping trying to process \" + track.src);\n              return;\n            }\n\n            return parseCues(responseBody, track);\n          });\n        }\n      } else {\n        parseCues(responseBody, track);\n      }\n    }));\n  };\n  /**\n   * A representation of a single `TextTrack`.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrack}\n   * @extends Track\n   */\n\n\n  var TextTrack =\n  /*#__PURE__*/\n  function (_Track) {\n    _inheritsLoose(TextTrack, _Track);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} options={}\n     *        Object of option names and values\n     *\n     * @param {Tech} options.tech\n     *        A reference to the tech that owns this TextTrack.\n     *\n     * @param {TextTrack~Kind} [options.kind='subtitles']\n     *        A valid text track kind.\n     *\n     * @param {TextTrack~Mode} [options.mode='disabled']\n     *        A valid text track mode.\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this TextTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @param {string} [options.srclang='']\n     *        A valid two character language code. An alternative, but deprioritized\n     *        version of `options.language`\n     *\n     * @param {string} [options.src]\n     *        A url to TextTrack cues.\n     *\n     * @param {boolean} [options.default]\n     *        If this track should default to on or off.\n     */\n    function TextTrack(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (!options.tech) {\n        throw new Error('A tech was not provided.');\n      }\n\n      var settings = mergeOptions(options, {\n        kind: TextTrackKind[options.kind] || 'subtitles',\n        language: options.language || options.srclang || ''\n      });\n      var mode = TextTrackMode[settings.mode] || 'disabled';\n      var default_ = settings[\"default\"];\n\n      if (settings.kind === 'metadata' || settings.kind === 'chapters') {\n        mode = 'hidden';\n      }\n\n      _this = _Track.call(this, settings) || this;\n      _this.tech_ = settings.tech;\n      _this.cues_ = [];\n      _this.activeCues_ = [];\n      var cues = new TextTrackCueList(_this.cues_);\n      var activeCues = new TextTrackCueList(_this.activeCues_);\n      var changed = false;\n      var timeupdateHandler = bind(_assertThisInitialized(_this), function () {\n        // Accessing this.activeCues for the side-effects of updating itself\n        // due to its nature as a getter function. Do not remove or cues will\n        // stop updating!\n        // Use the setter to prevent deletion from uglify (pure_getters rule)\n        this.activeCues = this.activeCues;\n\n        if (changed) {\n          this.trigger('cuechange');\n          changed = false;\n        }\n      });\n\n      if (mode !== 'disabled') {\n        _this.tech_.ready(function () {\n          _this.tech_.on('timeupdate', timeupdateHandler);\n        }, true);\n      }\n\n      Object.defineProperties(_assertThisInitialized(_this), {\n        /**\n         * @memberof TextTrack\n         * @member {boolean} default\n         *         If this track was set to be on or off by default. Cannot be changed after\n         *         creation.\n         * @instance\n         *\n         * @readonly\n         */\n        \"default\": {\n          get: function get() {\n            return default_;\n          },\n          set: function set() {}\n        },\n\n        /**\n         * @memberof TextTrack\n         * @member {string} mode\n         *         Set the mode of this TextTrack to a valid {@link TextTrack~Mode}. Will\n         *         not be set if setting to an invalid mode.\n         * @instance\n         *\n         * @fires TextTrack#modechange\n         */\n        mode: {\n          get: function get() {\n            return mode;\n          },\n          set: function set(newMode) {\n            var _this2 = this;\n\n            if (!TextTrackMode[newMode]) {\n              return;\n            }\n\n            mode = newMode;\n\n            if (mode !== 'disabled') {\n              this.tech_.ready(function () {\n                _this2.tech_.on('timeupdate', timeupdateHandler);\n              }, true);\n            } else {\n              this.tech_.off('timeupdate', timeupdateHandler);\n            }\n            /**\n             * An event that fires when mode changes on this track. This allows\n             * the TextTrackList that holds this track to act accordingly.\n             *\n             * > Note: This is not part of the spec!\n             *\n             * @event TextTrack#modechange\n             * @type {EventTarget~Event}\n             */\n\n\n            this.trigger('modechange');\n          }\n        },\n\n        /**\n         * @memberof TextTrack\n         * @member {TextTrackCueList} cues\n         *         The text track cue list for this TextTrack.\n         * @instance\n         */\n        cues: {\n          get: function get() {\n            if (!this.loaded_) {\n              return null;\n            }\n\n            return cues;\n          },\n          set: function set() {}\n        },\n\n        /**\n         * @memberof TextTrack\n         * @member {TextTrackCueList} activeCues\n         *         The list text track cues that are currently active for this TextTrack.\n         * @instance\n         */\n        activeCues: {\n          get: function get() {\n            if (!this.loaded_) {\n              return null;\n            } // nothing to do\n\n\n            if (this.cues.length === 0) {\n              return activeCues;\n            }\n\n            var ct = this.tech_.currentTime();\n            var active = [];\n\n            for (var i = 0, l = this.cues.length; i < l; i++) {\n              var cue = this.cues[i];\n\n              if (cue.startTime <= ct && cue.endTime >= ct) {\n                active.push(cue);\n              } else if (cue.startTime === cue.endTime && cue.startTime <= ct && cue.startTime + 0.5 >= ct) {\n                active.push(cue);\n              }\n            }\n\n            changed = false;\n\n            if (active.length !== this.activeCues_.length) {\n              changed = true;\n            } else {\n              for (var _i = 0; _i < active.length; _i++) {\n                if (this.activeCues_.indexOf(active[_i]) === -1) {\n                  changed = true;\n                }\n              }\n            }\n\n            this.activeCues_ = active;\n            activeCues.setCues_(this.activeCues_);\n            return activeCues;\n          },\n          // /!\\ Keep this setter empty (see the timeupdate handler above)\n          set: function set() {}\n        }\n      });\n\n      if (settings.src) {\n        _this.src = settings.src;\n        loadTrack(settings.src, _assertThisInitialized(_this));\n      } else {\n        _this.loaded_ = true;\n      }\n\n      return _this;\n    }\n    /**\n     * Add a cue to the internal list of cues.\n     *\n     * @param {TextTrack~Cue} cue\n     *        The cue to add to our internal list\n     */\n\n\n    var _proto = TextTrack.prototype;\n\n    _proto.addCue = function addCue(originalCue) {\n      var cue = originalCue;\n\n      if (window$1.vttjs && !(originalCue instanceof window$1.vttjs.VTTCue)) {\n        cue = new window$1.vttjs.VTTCue(originalCue.startTime, originalCue.endTime, originalCue.text);\n\n        for (var prop in originalCue) {\n          if (!(prop in cue)) {\n            cue[prop] = originalCue[prop];\n          }\n        } // make sure that `id` is copied over\n\n\n        cue.id = originalCue.id;\n        cue.originalCue_ = originalCue;\n      }\n\n      var tracks = this.tech_.textTracks();\n\n      for (var i = 0; i < tracks.length; i++) {\n        if (tracks[i] !== this) {\n          tracks[i].removeCue(cue);\n        }\n      }\n\n      this.cues_.push(cue);\n      this.cues.setCues_(this.cues_);\n    }\n    /**\n     * Remove a cue from our internal list\n     *\n     * @param {TextTrack~Cue} removeCue\n     *        The cue to remove from our internal list\n     */\n    ;\n\n    _proto.removeCue = function removeCue(_removeCue) {\n      var i = this.cues_.length;\n\n      while (i--) {\n        var cue = this.cues_[i];\n\n        if (cue === _removeCue || cue.originalCue_ && cue.originalCue_ === _removeCue) {\n          this.cues_.splice(i, 1);\n          this.cues.setCues_(this.cues_);\n          break;\n        }\n      }\n    };\n\n    return TextTrack;\n  }(Track);\n  /**\n   * cuechange - One or more cues in the track have become active or stopped being active.\n   */\n\n\n  TextTrack.prototype.allowedEvents_ = {\n    cuechange: 'cuechange'\n  };\n\n  /**\n   * A representation of a single `AudioTrack`. If it is part of an {@link AudioTrackList}\n   * only one `AudioTrack` in the list will be enabled at a time.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotrack}\n   * @extends Track\n   */\n\n  var AudioTrack =\n  /*#__PURE__*/\n  function (_Track) {\n    _inheritsLoose(AudioTrack, _Track);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} [options={}]\n     *        Object of option names and values\n     *\n     * @param {AudioTrack~Kind} [options.kind='']\n     *        A valid audio track kind\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this AudioTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @param {boolean} [options.enabled]\n     *        If this track is the one that is currently playing. If this track is part of\n     *        an {@link AudioTrackList}, only one {@link AudioTrack} will be enabled.\n     */\n    function AudioTrack(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      var settings = mergeOptions(options, {\n        kind: AudioTrackKind[options.kind] || ''\n      });\n      _this = _Track.call(this, settings) || this;\n      var enabled = false;\n      /**\n       * @memberof AudioTrack\n       * @member {boolean} enabled\n       *         If this `AudioTrack` is enabled or not. When setting this will\n       *         fire {@link AudioTrack#enabledchange} if the state of enabled is changed.\n       * @instance\n       *\n       * @fires VideoTrack#selectedchange\n       */\n\n      Object.defineProperty(_assertThisInitialized(_this), 'enabled', {\n        get: function get() {\n          return enabled;\n        },\n        set: function set(newEnabled) {\n          // an invalid or unchanged value\n          if (typeof newEnabled !== 'boolean' || newEnabled === enabled) {\n            return;\n          }\n\n          enabled = newEnabled;\n          /**\n           * An event that fires when enabled changes on this track. This allows\n           * the AudioTrackList that holds this track to act accordingly.\n           *\n           * > Note: This is not part of the spec! Native tracks will do\n           *         this internally without an event.\n           *\n           * @event AudioTrack#enabledchange\n           * @type {EventTarget~Event}\n           */\n\n          this.trigger('enabledchange');\n        }\n      }); // if the user sets this track to selected then\n      // set selected to that true value otherwise\n      // we keep it false\n\n      if (settings.enabled) {\n        _this.enabled = settings.enabled;\n      }\n\n      _this.loaded_ = true;\n      return _this;\n    }\n\n    return AudioTrack;\n  }(Track);\n\n  /**\n   * A representation of a single `VideoTrack`.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#videotrack}\n   * @extends Track\n   */\n\n  var VideoTrack =\n  /*#__PURE__*/\n  function (_Track) {\n    _inheritsLoose(VideoTrack, _Track);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} [options={}]\n     *        Object of option names and values\n     *\n     * @param {string} [options.kind='']\n     *        A valid {@link VideoTrack~Kind}\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this AudioTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @param {boolean} [options.selected]\n     *        If this track is the one that is currently playing.\n     */\n    function VideoTrack(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      var settings = mergeOptions(options, {\n        kind: VideoTrackKind[options.kind] || ''\n      });\n      _this = _Track.call(this, settings) || this;\n      var selected = false;\n      /**\n       * @memberof VideoTrack\n       * @member {boolean} selected\n       *         If this `VideoTrack` is selected or not. When setting this will\n       *         fire {@link VideoTrack#selectedchange} if the state of selected changed.\n       * @instance\n       *\n       * @fires VideoTrack#selectedchange\n       */\n\n      Object.defineProperty(_assertThisInitialized(_this), 'selected', {\n        get: function get() {\n          return selected;\n        },\n        set: function set(newSelected) {\n          // an invalid or unchanged value\n          if (typeof newSelected !== 'boolean' || newSelected === selected) {\n            return;\n          }\n\n          selected = newSelected;\n          /**\n           * An event that fires when selected changes on this track. This allows\n           * the VideoTrackList that holds this track to act accordingly.\n           *\n           * > Note: This is not part of the spec! Native tracks will do\n           *         this internally without an event.\n           *\n           * @event VideoTrack#selectedchange\n           * @type {EventTarget~Event}\n           */\n\n          this.trigger('selectedchange');\n        }\n      }); // if the user sets this track to selected then\n      // set selected to that true value otherwise\n      // we keep it false\n\n      if (settings.selected) {\n        _this.selected = settings.selected;\n      }\n\n      return _this;\n    }\n\n    return VideoTrack;\n  }(Track);\n\n  /**\n   * @memberof HTMLTrackElement\n   * @typedef {HTMLTrackElement~ReadyState}\n   * @enum {number}\n   */\n\n  var NONE = 0;\n  var LOADING = 1;\n  var LOADED = 2;\n  var ERROR = 3;\n  /**\n   * A single track represented in the DOM.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#htmltrackelement}\n   * @extends EventTarget\n   */\n\n  var HTMLTrackElement =\n  /*#__PURE__*/\n  function (_EventTarget) {\n    _inheritsLoose(HTMLTrackElement, _EventTarget);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} options={}\n     *        Object of option names and values\n     *\n     * @param {Tech} options.tech\n     *        A reference to the tech that owns this HTMLTrackElement.\n     *\n     * @param {TextTrack~Kind} [options.kind='subtitles']\n     *        A valid text track kind.\n     *\n     * @param {TextTrack~Mode} [options.mode='disabled']\n     *        A valid text track mode.\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this TextTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @param {string} [options.srclang='']\n     *        A valid two character language code. An alternative, but deprioritized\n     *        vesion of `options.language`\n     *\n     * @param {string} [options.src]\n     *        A url to TextTrack cues.\n     *\n     * @param {boolean} [options.default]\n     *        If this track should default to on or off.\n     */\n    function HTMLTrackElement(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _EventTarget.call(this) || this;\n      var readyState;\n      var track = new TextTrack(options);\n      _this.kind = track.kind;\n      _this.src = track.src;\n      _this.srclang = track.language;\n      _this.label = track.label;\n      _this[\"default\"] = track[\"default\"];\n      Object.defineProperties(_assertThisInitialized(_this), {\n        /**\n         * @memberof HTMLTrackElement\n         * @member {HTMLTrackElement~ReadyState} readyState\n         *         The current ready state of the track element.\n         * @instance\n         */\n        readyState: {\n          get: function get() {\n            return readyState;\n          }\n        },\n\n        /**\n         * @memberof HTMLTrackElement\n         * @member {TextTrack} track\n         *         The underlying TextTrack object.\n         * @instance\n         *\n         */\n        track: {\n          get: function get() {\n            return track;\n          }\n        }\n      });\n      readyState = NONE;\n      /**\n       * @listens TextTrack#loadeddata\n       * @fires HTMLTrackElement#load\n       */\n\n      track.addEventListener('loadeddata', function () {\n        readyState = LOADED;\n\n        _this.trigger({\n          type: 'load',\n          target: _assertThisInitialized(_this)\n        });\n      });\n      return _this;\n    }\n\n    return HTMLTrackElement;\n  }(EventTarget);\n\n  HTMLTrackElement.prototype.allowedEvents_ = {\n    load: 'load'\n  };\n  HTMLTrackElement.NONE = NONE;\n  HTMLTrackElement.LOADING = LOADING;\n  HTMLTrackElement.LOADED = LOADED;\n  HTMLTrackElement.ERROR = ERROR;\n\n  /*\n   * This file contains all track properties that are used in\n   * player.js, tech.js, html5.js and possibly other techs in the future.\n   */\n\n  var NORMAL = {\n    audio: {\n      ListClass: AudioTrackList,\n      TrackClass: AudioTrack,\n      capitalName: 'Audio'\n    },\n    video: {\n      ListClass: VideoTrackList,\n      TrackClass: VideoTrack,\n      capitalName: 'Video'\n    },\n    text: {\n      ListClass: TextTrackList,\n      TrackClass: TextTrack,\n      capitalName: 'Text'\n    }\n  };\n  Object.keys(NORMAL).forEach(function (type) {\n    NORMAL[type].getterName = type + \"Tracks\";\n    NORMAL[type].privateName = type + \"Tracks_\";\n  });\n  var REMOTE = {\n    remoteText: {\n      ListClass: TextTrackList,\n      TrackClass: TextTrack,\n      capitalName: 'RemoteText',\n      getterName: 'remoteTextTracks',\n      privateName: 'remoteTextTracks_'\n    },\n    remoteTextEl: {\n      ListClass: HtmlTrackElementList,\n      TrackClass: HTMLTrackElement,\n      capitalName: 'RemoteTextTrackEls',\n      getterName: 'remoteTextTrackEls',\n      privateName: 'remoteTextTrackEls_'\n    }\n  };\n  var ALL = mergeOptions(NORMAL, REMOTE);\n  REMOTE.names = Object.keys(REMOTE);\n  NORMAL.names = Object.keys(NORMAL);\n  ALL.names = [].concat(REMOTE.names).concat(NORMAL.names);\n\n  /**\n   * Copyright 2013 vtt.js Contributors\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *   http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n\n  /* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\n  var _objCreate = Object.create || function () {\n    function F() {}\n\n    return function (o) {\n      if (arguments.length !== 1) {\n        throw new Error('Object.create shim only accepts one parameter.');\n      }\n\n      F.prototype = o;\n      return new F();\n    };\n  }(); // Creates a new ParserError object from an errorData object. The errorData\n  // object should have default code and message properties. The default message\n  // property can be overriden by passing in a message parameter.\n  // See ParsingError.Errors below for acceptable errors.\n\n\n  function ParsingError(errorData, message) {\n    this.name = \"ParsingError\";\n    this.code = errorData.code;\n    this.message = message || errorData.message;\n  }\n\n  ParsingError.prototype = _objCreate(Error.prototype);\n  ParsingError.prototype.constructor = ParsingError; // ParsingError metadata for acceptable ParsingErrors.\n\n  ParsingError.Errors = {\n    BadSignature: {\n      code: 0,\n      message: \"Malformed WebVTT signature.\"\n    },\n    BadTimeStamp: {\n      code: 1,\n      message: \"Malformed time stamp.\"\n    }\n  }; // Try to parse input as a time stamp.\n\n  function parseTimeStamp(input) {\n    function computeSeconds(h, m, s, f) {\n      return (h | 0) * 3600 + (m | 0) * 60 + (s | 0) + (f | 0) / 1000;\n    }\n\n    var m = input.match(/^(\\d+):(\\d{2})(:\\d{2})?\\.(\\d{3})/);\n\n    if (!m) {\n      return null;\n    }\n\n    if (m[3]) {\n      // Timestamp takes the form of [hours]:[minutes]:[seconds].[milliseconds]\n      return computeSeconds(m[1], m[2], m[3].replace(\":\", \"\"), m[4]);\n    } else if (m[1] > 59) {\n      // Timestamp takes the form of [hours]:[minutes].[milliseconds]\n      // First position is hours as it's over 59.\n      return computeSeconds(m[1], m[2], 0, m[4]);\n    } else {\n      // Timestamp takes the form of [minutes]:[seconds].[milliseconds]\n      return computeSeconds(0, m[1], m[2], m[4]);\n    }\n  } // A settings object holds key/value pairs and will ignore anything but the first\n  // assignment to a specific key.\n\n\n  function Settings() {\n    this.values = _objCreate(null);\n  }\n\n  Settings.prototype = {\n    // Only accept the first assignment to any key.\n    set: function set(k, v) {\n      if (!this.get(k) && v !== \"\") {\n        this.values[k] = v;\n      }\n    },\n    // Return the value for a key, or a default value.\n    // If 'defaultKey' is passed then 'dflt' is assumed to be an object with\n    // a number of possible default values as properties where 'defaultKey' is\n    // the key of the property that will be chosen; otherwise it's assumed to be\n    // a single value.\n    get: function get(k, dflt, defaultKey) {\n      if (defaultKey) {\n        return this.has(k) ? this.values[k] : dflt[defaultKey];\n      }\n\n      return this.has(k) ? this.values[k] : dflt;\n    },\n    // Check whether we have a value for a key.\n    has: function has(k) {\n      return k in this.values;\n    },\n    // Accept a setting if its one of the given alternatives.\n    alt: function alt(k, v, a) {\n      for (var n = 0; n < a.length; ++n) {\n        if (v === a[n]) {\n          this.set(k, v);\n          break;\n        }\n      }\n    },\n    // Accept a setting if its a valid (signed) integer.\n    integer: function integer(k, v) {\n      if (/^-?\\d+$/.test(v)) {\n        // integer\n        this.set(k, parseInt(v, 10));\n      }\n    },\n    // Accept a setting if its a valid percentage.\n    percent: function percent(k, v) {\n      var m;\n\n      if (m = v.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/)) {\n        v = parseFloat(v);\n\n        if (v >= 0 && v <= 100) {\n          this.set(k, v);\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }; // Helper function to parse input into groups separated by 'groupDelim', and\n  // interprete each group as a key/value pair separated by 'keyValueDelim'.\n\n  function parseOptions(input, callback, keyValueDelim, groupDelim) {\n    var groups = groupDelim ? input.split(groupDelim) : [input];\n\n    for (var i in groups) {\n      if (typeof groups[i] !== \"string\") {\n        continue;\n      }\n\n      var kv = groups[i].split(keyValueDelim);\n\n      if (kv.length !== 2) {\n        continue;\n      }\n\n      var k = kv[0];\n      var v = kv[1];\n      callback(k, v);\n    }\n  }\n\n  function parseCue(input, cue, regionList) {\n    // Remember the original input if we need to throw an error.\n    var oInput = input; // 4.1 WebVTT timestamp\n\n    function consumeTimeStamp() {\n      var ts = parseTimeStamp(input);\n\n      if (ts === null) {\n        throw new ParsingError(ParsingError.Errors.BadTimeStamp, \"Malformed timestamp: \" + oInput);\n      } // Remove time stamp from input.\n\n\n      input = input.replace(/^[^\\sa-zA-Z-]+/, \"\");\n      return ts;\n    } // 4.4.2 WebVTT cue settings\n\n\n    function consumeCueSettings(input, cue) {\n      var settings = new Settings();\n      parseOptions(input, function (k, v) {\n        switch (k) {\n          case \"region\":\n            // Find the last region we parsed with the same region id.\n            for (var i = regionList.length - 1; i >= 0; i--) {\n              if (regionList[i].id === v) {\n                settings.set(k, regionList[i].region);\n                break;\n              }\n            }\n\n            break;\n\n          case \"vertical\":\n            settings.alt(k, v, [\"rl\", \"lr\"]);\n            break;\n\n          case \"line\":\n            var vals = v.split(\",\"),\n                vals0 = vals[0];\n            settings.integer(k, vals0);\n            settings.percent(k, vals0) ? settings.set(\"snapToLines\", false) : null;\n            settings.alt(k, vals0, [\"auto\"]);\n\n            if (vals.length === 2) {\n              settings.alt(\"lineAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\n            }\n\n            break;\n\n          case \"position\":\n            vals = v.split(\",\");\n            settings.percent(k, vals[0]);\n\n            if (vals.length === 2) {\n              settings.alt(\"positionAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\n            }\n\n            break;\n\n          case \"size\":\n            settings.percent(k, v);\n            break;\n\n          case \"align\":\n            settings.alt(k, v, [\"start\", \"middle\", \"end\", \"left\", \"right\"]);\n            break;\n        }\n      }, /:/, /\\s/); // Apply default values for any missing fields.\n\n      cue.region = settings.get(\"region\", null);\n      cue.vertical = settings.get(\"vertical\", \"\");\n      cue.line = settings.get(\"line\", \"auto\");\n      cue.lineAlign = settings.get(\"lineAlign\", \"start\");\n      cue.snapToLines = settings.get(\"snapToLines\", true);\n      cue.size = settings.get(\"size\", 100);\n      cue.align = settings.get(\"align\", \"middle\");\n      cue.position = settings.get(\"position\", {\n        start: 0,\n        left: 0,\n        middle: 50,\n        end: 100,\n        right: 100\n      }, cue.align);\n      cue.positionAlign = settings.get(\"positionAlign\", {\n        start: \"start\",\n        left: \"start\",\n        middle: \"middle\",\n        end: \"end\",\n        right: \"end\"\n      }, cue.align);\n    }\n\n    function skipWhitespace() {\n      input = input.replace(/^\\s+/, \"\");\n    } // 4.1 WebVTT cue timings.\n\n\n    skipWhitespace();\n    cue.startTime = consumeTimeStamp(); // (1) collect cue start time\n\n    skipWhitespace();\n\n    if (input.substr(0, 3) !== \"-->\") {\n      // (3) next characters must match \"-->\"\n      throw new ParsingError(ParsingError.Errors.BadTimeStamp, \"Malformed time stamp (time stamps must be separated by '-->'): \" + oInput);\n    }\n\n    input = input.substr(3);\n    skipWhitespace();\n    cue.endTime = consumeTimeStamp(); // (5) collect cue end time\n    // 4.1 WebVTT cue settings list.\n\n    skipWhitespace();\n    consumeCueSettings(input, cue);\n  }\n\n  var ESCAPE = {\n    \"&amp;\": \"&\",\n    \"&lt;\": \"<\",\n    \"&gt;\": \">\",\n    \"&lrm;\": \"\\u200E\",\n    \"&rlm;\": \"\\u200F\",\n    \"&nbsp;\": \"\\xA0\"\n  };\n  var TAG_NAME = {\n    c: \"span\",\n    i: \"i\",\n    b: \"b\",\n    u: \"u\",\n    ruby: \"ruby\",\n    rt: \"rt\",\n    v: \"span\",\n    lang: \"span\"\n  };\n  var TAG_ANNOTATION = {\n    v: \"title\",\n    lang: \"lang\"\n  };\n  var NEEDS_PARENT = {\n    rt: \"ruby\"\n  }; // Parse content into a document fragment.\n\n  function parseContent(window, input) {\n    function nextToken() {\n      // Check for end-of-string.\n      if (!input) {\n        return null;\n      } // Consume 'n' characters from the input.\n\n\n      function consume(result) {\n        input = input.substr(result.length);\n        return result;\n      }\n\n      var m = input.match(/^([^<]*)(<[^>]*>?)?/); // If there is some text before the next tag, return it, otherwise return\n      // the tag.\n\n      return consume(m[1] ? m[1] : m[2]);\n    } // Unescape a string 's'.\n\n\n    function unescape1(e) {\n      return ESCAPE[e];\n    }\n\n    function unescape(s) {\n      while (m = s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/)) {\n        s = s.replace(m[0], unescape1);\n      }\n\n      return s;\n    }\n\n    function shouldAdd(current, element) {\n      return !NEEDS_PARENT[element.localName] || NEEDS_PARENT[element.localName] === current.localName;\n    } // Create an element for this tag.\n\n\n    function createElement(type, annotation) {\n      var tagName = TAG_NAME[type];\n\n      if (!tagName) {\n        return null;\n      }\n\n      var element = window.document.createElement(tagName);\n      element.localName = tagName;\n      var name = TAG_ANNOTATION[type];\n\n      if (name && annotation) {\n        element[name] = annotation.trim();\n      }\n\n      return element;\n    }\n\n    var rootDiv = window.document.createElement(\"div\"),\n        current = rootDiv,\n        t,\n        tagStack = [];\n\n    while ((t = nextToken()) !== null) {\n      if (t[0] === '<') {\n        if (t[1] === \"/\") {\n          // If the closing tag matches, move back up to the parent node.\n          if (tagStack.length && tagStack[tagStack.length - 1] === t.substr(2).replace(\">\", \"\")) {\n            tagStack.pop();\n            current = current.parentNode;\n          } // Otherwise just ignore the end tag.\n\n\n          continue;\n        }\n\n        var ts = parseTimeStamp(t.substr(1, t.length - 2));\n        var node;\n\n        if (ts) {\n          // Timestamps are lead nodes as well.\n          node = window.document.createProcessingInstruction(\"timestamp\", ts);\n          current.appendChild(node);\n          continue;\n        }\n\n        var m = t.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/); // If we can't parse the tag, skip to the next tag.\n\n        if (!m) {\n          continue;\n        } // Try to construct an element, and ignore the tag if we couldn't.\n\n\n        node = createElement(m[1], m[3]);\n\n        if (!node) {\n          continue;\n        } // Determine if the tag should be added based on the context of where it\n        // is placed in the cuetext.\n\n\n        if (!shouldAdd(current, node)) {\n          continue;\n        } // Set the class list (as a list of classes, separated by space).\n\n\n        if (m[2]) {\n          node.className = m[2].substr(1).replace('.', ' ');\n        } // Append the node to the current node, and enter the scope of the new\n        // node.\n\n\n        tagStack.push(m[1]);\n        current.appendChild(node);\n        current = node;\n        continue;\n      } // Text nodes are leaf nodes.\n\n\n      current.appendChild(window.document.createTextNode(unescape(t)));\n    }\n\n    return rootDiv;\n  } // This is a list of all the Unicode characters that have a strong\n  // right-to-left category. What this means is that these characters are\n  // written right-to-left for sure. It was generated by pulling all the strong\n  // right-to-left characters out of the Unicode data table. That table can\n  // found at: http://www.unicode.org/Public/UNIDATA/UnicodeData.txt\n\n\n  var strongRTLRanges = [[0x5be, 0x5be], [0x5c0, 0x5c0], [0x5c3, 0x5c3], [0x5c6, 0x5c6], [0x5d0, 0x5ea], [0x5f0, 0x5f4], [0x608, 0x608], [0x60b, 0x60b], [0x60d, 0x60d], [0x61b, 0x61b], [0x61e, 0x64a], [0x66d, 0x66f], [0x671, 0x6d5], [0x6e5, 0x6e6], [0x6ee, 0x6ef], [0x6fa, 0x70d], [0x70f, 0x710], [0x712, 0x72f], [0x74d, 0x7a5], [0x7b1, 0x7b1], [0x7c0, 0x7ea], [0x7f4, 0x7f5], [0x7fa, 0x7fa], [0x800, 0x815], [0x81a, 0x81a], [0x824, 0x824], [0x828, 0x828], [0x830, 0x83e], [0x840, 0x858], [0x85e, 0x85e], [0x8a0, 0x8a0], [0x8a2, 0x8ac], [0x200f, 0x200f], [0xfb1d, 0xfb1d], [0xfb1f, 0xfb28], [0xfb2a, 0xfb36], [0xfb38, 0xfb3c], [0xfb3e, 0xfb3e], [0xfb40, 0xfb41], [0xfb43, 0xfb44], [0xfb46, 0xfbc1], [0xfbd3, 0xfd3d], [0xfd50, 0xfd8f], [0xfd92, 0xfdc7], [0xfdf0, 0xfdfc], [0xfe70, 0xfe74], [0xfe76, 0xfefc], [0x10800, 0x10805], [0x10808, 0x10808], [0x1080a, 0x10835], [0x10837, 0x10838], [0x1083c, 0x1083c], [0x1083f, 0x10855], [0x10857, 0x1085f], [0x10900, 0x1091b], [0x10920, 0x10939], [0x1093f, 0x1093f], [0x10980, 0x109b7], [0x109be, 0x109bf], [0x10a00, 0x10a00], [0x10a10, 0x10a13], [0x10a15, 0x10a17], [0x10a19, 0x10a33], [0x10a40, 0x10a47], [0x10a50, 0x10a58], [0x10a60, 0x10a7f], [0x10b00, 0x10b35], [0x10b40, 0x10b55], [0x10b58, 0x10b72], [0x10b78, 0x10b7f], [0x10c00, 0x10c48], [0x1ee00, 0x1ee03], [0x1ee05, 0x1ee1f], [0x1ee21, 0x1ee22], [0x1ee24, 0x1ee24], [0x1ee27, 0x1ee27], [0x1ee29, 0x1ee32], [0x1ee34, 0x1ee37], [0x1ee39, 0x1ee39], [0x1ee3b, 0x1ee3b], [0x1ee42, 0x1ee42], [0x1ee47, 0x1ee47], [0x1ee49, 0x1ee49], [0x1ee4b, 0x1ee4b], [0x1ee4d, 0x1ee4f], [0x1ee51, 0x1ee52], [0x1ee54, 0x1ee54], [0x1ee57, 0x1ee57], [0x1ee59, 0x1ee59], [0x1ee5b, 0x1ee5b], [0x1ee5d, 0x1ee5d], [0x1ee5f, 0x1ee5f], [0x1ee61, 0x1ee62], [0x1ee64, 0x1ee64], [0x1ee67, 0x1ee6a], [0x1ee6c, 0x1ee72], [0x1ee74, 0x1ee77], [0x1ee79, 0x1ee7c], [0x1ee7e, 0x1ee7e], [0x1ee80, 0x1ee89], [0x1ee8b, 0x1ee9b], [0x1eea1, 0x1eea3], [0x1eea5, 0x1eea9], [0x1eeab, 0x1eebb], [0x10fffd, 0x10fffd]];\n\n  function isStrongRTLChar(charCode) {\n    for (var i = 0; i < strongRTLRanges.length; i++) {\n      var currentRange = strongRTLRanges[i];\n\n      if (charCode >= currentRange[0] && charCode <= currentRange[1]) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function determineBidi(cueDiv) {\n    var nodeStack = [],\n        text = \"\",\n        charCode;\n\n    if (!cueDiv || !cueDiv.childNodes) {\n      return \"ltr\";\n    }\n\n    function pushNodes(nodeStack, node) {\n      for (var i = node.childNodes.length - 1; i >= 0; i--) {\n        nodeStack.push(node.childNodes[i]);\n      }\n    }\n\n    function nextTextNode(nodeStack) {\n      if (!nodeStack || !nodeStack.length) {\n        return null;\n      }\n\n      var node = nodeStack.pop(),\n          text = node.textContent || node.innerText;\n\n      if (text) {\n        // TODO: This should match all unicode type B characters (paragraph\n        // separator characters). See issue #115.\n        var m = text.match(/^.*(\\n|\\r)/);\n\n        if (m) {\n          nodeStack.length = 0;\n          return m[0];\n        }\n\n        return text;\n      }\n\n      if (node.tagName === \"ruby\") {\n        return nextTextNode(nodeStack);\n      }\n\n      if (node.childNodes) {\n        pushNodes(nodeStack, node);\n        return nextTextNode(nodeStack);\n      }\n    }\n\n    pushNodes(nodeStack, cueDiv);\n\n    while (text = nextTextNode(nodeStack)) {\n      for (var i = 0; i < text.length; i++) {\n        charCode = text.charCodeAt(i);\n\n        if (isStrongRTLChar(charCode)) {\n          return \"rtl\";\n        }\n      }\n    }\n\n    return \"ltr\";\n  }\n\n  function computeLinePos(cue) {\n    if (typeof cue.line === \"number\" && (cue.snapToLines || cue.line >= 0 && cue.line <= 100)) {\n      return cue.line;\n    }\n\n    if (!cue.track || !cue.track.textTrackList || !cue.track.textTrackList.mediaElement) {\n      return -1;\n    }\n\n    var track = cue.track,\n        trackList = track.textTrackList,\n        count = 0;\n\n    for (var i = 0; i < trackList.length && trackList[i] !== track; i++) {\n      if (trackList[i].mode === \"showing\") {\n        count++;\n      }\n    }\n\n    return ++count * -1;\n  }\n\n  function StyleBox() {} // Apply styles to a div. If there is no div passed then it defaults to the\n  // div on 'this'.\n\n\n  StyleBox.prototype.applyStyles = function (styles, div) {\n    div = div || this.div;\n\n    for (var prop in styles) {\n      if (styles.hasOwnProperty(prop)) {\n        div.style[prop] = styles[prop];\n      }\n    }\n  };\n\n  StyleBox.prototype.formatStyle = function (val, unit) {\n    return val === 0 ? 0 : val + unit;\n  }; // Constructs the computed display state of the cue (a div). Places the div\n  // into the overlay which should be a block level element (usually a div).\n\n\n  function CueStyleBox(window, cue, styleOptions) {\n    StyleBox.call(this);\n    this.cue = cue; // Parse our cue's text into a DOM tree rooted at 'cueDiv'. This div will\n    // have inline positioning and will function as the cue background box.\n\n    this.cueDiv = parseContent(window, cue.text);\n    var styles = {\n      color: \"rgba(255, 255, 255, 1)\",\n      backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n      position: \"relative\",\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      display: \"inline\",\n      writingMode: cue.vertical === \"\" ? \"horizontal-tb\" : cue.vertical === \"lr\" ? \"vertical-lr\" : \"vertical-rl\",\n      unicodeBidi: \"plaintext\"\n    };\n    this.applyStyles(styles, this.cueDiv); // Create an absolutely positioned div that will be used to position the cue\n    // div. Note, all WebVTT cue-setting alignments are equivalent to the CSS\n    // mirrors of them except \"middle\" which is \"center\" in CSS.\n\n    this.div = window.document.createElement(\"div\");\n    styles = {\n      direction: determineBidi(this.cueDiv),\n      writingMode: cue.vertical === \"\" ? \"horizontal-tb\" : cue.vertical === \"lr\" ? \"vertical-lr\" : \"vertical-rl\",\n      unicodeBidi: \"plaintext\",\n      textAlign: cue.align === \"middle\" ? \"center\" : cue.align,\n      font: styleOptions.font,\n      whiteSpace: \"pre-line\",\n      position: \"absolute\"\n    };\n    this.applyStyles(styles);\n    this.div.appendChild(this.cueDiv); // Calculate the distance from the reference edge of the viewport to the text\n    // position of the cue box. The reference edge will be resolved later when\n    // the box orientation styles are applied.\n\n    var textPos = 0;\n\n    switch (cue.positionAlign) {\n      case \"start\":\n        textPos = cue.position;\n        break;\n\n      case \"middle\":\n        textPos = cue.position - cue.size / 2;\n        break;\n\n      case \"end\":\n        textPos = cue.position - cue.size;\n        break;\n    } // Horizontal box orientation; textPos is the distance from the left edge of the\n    // area to the left edge of the box and cue.size is the distance extending to\n    // the right from there.\n\n\n    if (cue.vertical === \"\") {\n      this.applyStyles({\n        left: this.formatStyle(textPos, \"%\"),\n        width: this.formatStyle(cue.size, \"%\")\n      }); // Vertical box orientation; textPos is the distance from the top edge of the\n      // area to the top edge of the box and cue.size is the height extending\n      // downwards from there.\n    } else {\n      this.applyStyles({\n        top: this.formatStyle(textPos, \"%\"),\n        height: this.formatStyle(cue.size, \"%\")\n      });\n    }\n\n    this.move = function (box) {\n      this.applyStyles({\n        top: this.formatStyle(box.top, \"px\"),\n        bottom: this.formatStyle(box.bottom, \"px\"),\n        left: this.formatStyle(box.left, \"px\"),\n        right: this.formatStyle(box.right, \"px\"),\n        height: this.formatStyle(box.height, \"px\"),\n        width: this.formatStyle(box.width, \"px\")\n      });\n    };\n  }\n\n  CueStyleBox.prototype = _objCreate(StyleBox.prototype);\n  CueStyleBox.prototype.constructor = CueStyleBox; // Represents the co-ordinates of an Element in a way that we can easily\n  // compute things with such as if it overlaps or intersects with another Element.\n  // Can initialize it with either a StyleBox or another BoxPosition.\n\n  function BoxPosition(obj) {\n    // Either a BoxPosition was passed in and we need to copy it, or a StyleBox\n    // was passed in and we need to copy the results of 'getBoundingClientRect'\n    // as the object returned is readonly. All co-ordinate values are in reference\n    // to the viewport origin (top left).\n    var lh, height, width, top;\n\n    if (obj.div) {\n      height = obj.div.offsetHeight;\n      width = obj.div.offsetWidth;\n      top = obj.div.offsetTop;\n      var rects = (rects = obj.div.childNodes) && (rects = rects[0]) && rects.getClientRects && rects.getClientRects();\n      obj = obj.div.getBoundingClientRect(); // In certain cases the outter div will be slightly larger then the sum of\n      // the inner div's lines. This could be due to bold text, etc, on some platforms.\n      // In this case we should get the average line height and use that. This will\n      // result in the desired behaviour.\n\n      lh = rects ? Math.max(rects[0] && rects[0].height || 0, obj.height / rects.length) : 0;\n    }\n\n    this.left = obj.left;\n    this.right = obj.right;\n    this.top = obj.top || top;\n    this.height = obj.height || height;\n    this.bottom = obj.bottom || top + (obj.height || height);\n    this.width = obj.width || width;\n    this.lineHeight = lh !== undefined ? lh : obj.lineHeight;\n  } // Move the box along a particular axis. Optionally pass in an amount to move\n  // the box. If no amount is passed then the default is the line height of the\n  // box.\n\n\n  BoxPosition.prototype.move = function (axis, toMove) {\n    toMove = toMove !== undefined ? toMove : this.lineHeight;\n\n    switch (axis) {\n      case \"+x\":\n        this.left += toMove;\n        this.right += toMove;\n        break;\n\n      case \"-x\":\n        this.left -= toMove;\n        this.right -= toMove;\n        break;\n\n      case \"+y\":\n        this.top += toMove;\n        this.bottom += toMove;\n        break;\n\n      case \"-y\":\n        this.top -= toMove;\n        this.bottom -= toMove;\n        break;\n    }\n  }; // Check if this box overlaps another box, b2.\n\n\n  BoxPosition.prototype.overlaps = function (b2) {\n    return this.left < b2.right && this.right > b2.left && this.top < b2.bottom && this.bottom > b2.top;\n  }; // Check if this box overlaps any other boxes in boxes.\n\n\n  BoxPosition.prototype.overlapsAny = function (boxes) {\n    for (var i = 0; i < boxes.length; i++) {\n      if (this.overlaps(boxes[i])) {\n        return true;\n      }\n    }\n\n    return false;\n  }; // Check if this box is within another box.\n\n\n  BoxPosition.prototype.within = function (container) {\n    return this.top >= container.top && this.bottom <= container.bottom && this.left >= container.left && this.right <= container.right;\n  }; // Check if this box is entirely within the container or it is overlapping\n  // on the edge opposite of the axis direction passed. For example, if \"+x\" is\n  // passed and the box is overlapping on the left edge of the container, then\n  // return true.\n\n\n  BoxPosition.prototype.overlapsOppositeAxis = function (container, axis) {\n    switch (axis) {\n      case \"+x\":\n        return this.left < container.left;\n\n      case \"-x\":\n        return this.right > container.right;\n\n      case \"+y\":\n        return this.top < container.top;\n\n      case \"-y\":\n        return this.bottom > container.bottom;\n    }\n  }; // Find the percentage of the area that this box is overlapping with another\n  // box.\n\n\n  BoxPosition.prototype.intersectPercentage = function (b2) {\n    var x = Math.max(0, Math.min(this.right, b2.right) - Math.max(this.left, b2.left)),\n        y = Math.max(0, Math.min(this.bottom, b2.bottom) - Math.max(this.top, b2.top)),\n        intersectArea = x * y;\n    return intersectArea / (this.height * this.width);\n  }; // Convert the positions from this box to CSS compatible positions using\n  // the reference container's positions. This has to be done because this\n  // box's positions are in reference to the viewport origin, whereas, CSS\n  // values are in referecne to their respective edges.\n\n\n  BoxPosition.prototype.toCSSCompatValues = function (reference) {\n    return {\n      top: this.top - reference.top,\n      bottom: reference.bottom - this.bottom,\n      left: this.left - reference.left,\n      right: reference.right - this.right,\n      height: this.height,\n      width: this.width\n    };\n  }; // Get an object that represents the box's position without anything extra.\n  // Can pass a StyleBox, HTMLElement, or another BoxPositon.\n\n\n  BoxPosition.getSimpleBoxPosition = function (obj) {\n    var height = obj.div ? obj.div.offsetHeight : obj.tagName ? obj.offsetHeight : 0;\n    var width = obj.div ? obj.div.offsetWidth : obj.tagName ? obj.offsetWidth : 0;\n    var top = obj.div ? obj.div.offsetTop : obj.tagName ? obj.offsetTop : 0;\n    obj = obj.div ? obj.div.getBoundingClientRect() : obj.tagName ? obj.getBoundingClientRect() : obj;\n    var ret = {\n      left: obj.left,\n      right: obj.right,\n      top: obj.top || top,\n      height: obj.height || height,\n      bottom: obj.bottom || top + (obj.height || height),\n      width: obj.width || width\n    };\n    return ret;\n  }; // Move a StyleBox to its specified, or next best, position. The containerBox\n  // is the box that contains the StyleBox, such as a div. boxPositions are\n  // a list of other boxes that the styleBox can't overlap with.\n\n\n  function moveBoxToLinePosition(window, styleBox, containerBox, boxPositions) {\n    // Find the best position for a cue box, b, on the video. The axis parameter\n    // is a list of axis, the order of which, it will move the box along. For example:\n    // Passing [\"+x\", \"-x\"] will move the box first along the x axis in the positive\n    // direction. If it doesn't find a good position for it there it will then move\n    // it along the x axis in the negative direction.\n    function findBestPosition(b, axis) {\n      var bestPosition,\n          specifiedPosition = new BoxPosition(b),\n          percentage = 1; // Highest possible so the first thing we get is better.\n\n      for (var i = 0; i < axis.length; i++) {\n        while (b.overlapsOppositeAxis(containerBox, axis[i]) || b.within(containerBox) && b.overlapsAny(boxPositions)) {\n          b.move(axis[i]);\n        } // We found a spot where we aren't overlapping anything. This is our\n        // best position.\n\n\n        if (b.within(containerBox)) {\n          return b;\n        }\n\n        var p = b.intersectPercentage(containerBox); // If we're outside the container box less then we were on our last try\n        // then remember this position as the best position.\n\n        if (percentage > p) {\n          bestPosition = new BoxPosition(b);\n          percentage = p;\n        } // Reset the box position to the specified position.\n\n\n        b = new BoxPosition(specifiedPosition);\n      }\n\n      return bestPosition || specifiedPosition;\n    }\n\n    var boxPosition = new BoxPosition(styleBox),\n        cue = styleBox.cue,\n        linePos = computeLinePos(cue),\n        axis = []; // If we have a line number to align the cue to.\n\n    if (cue.snapToLines) {\n      var size;\n\n      switch (cue.vertical) {\n        case \"\":\n          axis = [\"+y\", \"-y\"];\n          size = \"height\";\n          break;\n\n        case \"rl\":\n          axis = [\"+x\", \"-x\"];\n          size = \"width\";\n          break;\n\n        case \"lr\":\n          axis = [\"-x\", \"+x\"];\n          size = \"width\";\n          break;\n      }\n\n      var step = boxPosition.lineHeight,\n          position = step * Math.round(linePos),\n          maxPosition = containerBox[size] + step,\n          initialAxis = axis[0]; // If the specified intial position is greater then the max position then\n      // clamp the box to the amount of steps it would take for the box to\n      // reach the max position.\n\n      if (Math.abs(position) > maxPosition) {\n        position = position < 0 ? -1 : 1;\n        position *= Math.ceil(maxPosition / step) * step;\n      } // If computed line position returns negative then line numbers are\n      // relative to the bottom of the video instead of the top. Therefore, we\n      // need to increase our initial position by the length or width of the\n      // video, depending on the writing direction, and reverse our axis directions.\n\n\n      if (linePos < 0) {\n        position += cue.vertical === \"\" ? containerBox.height : containerBox.width;\n        axis = axis.reverse();\n      } // Move the box to the specified position. This may not be its best\n      // position.\n\n\n      boxPosition.move(initialAxis, position);\n    } else {\n      // If we have a percentage line value for the cue.\n      var calculatedPercentage = boxPosition.lineHeight / containerBox.height * 100;\n\n      switch (cue.lineAlign) {\n        case \"middle\":\n          linePos -= calculatedPercentage / 2;\n          break;\n\n        case \"end\":\n          linePos -= calculatedPercentage;\n          break;\n      } // Apply initial line position to the cue box.\n\n\n      switch (cue.vertical) {\n        case \"\":\n          styleBox.applyStyles({\n            top: styleBox.formatStyle(linePos, \"%\")\n          });\n          break;\n\n        case \"rl\":\n          styleBox.applyStyles({\n            left: styleBox.formatStyle(linePos, \"%\")\n          });\n          break;\n\n        case \"lr\":\n          styleBox.applyStyles({\n            right: styleBox.formatStyle(linePos, \"%\")\n          });\n          break;\n      }\n\n      axis = [\"+y\", \"-x\", \"+x\", \"-y\"]; // Get the box position again after we've applied the specified positioning\n      // to it.\n\n      boxPosition = new BoxPosition(styleBox);\n    }\n\n    var bestPosition = findBestPosition(boxPosition, axis);\n    styleBox.move(bestPosition.toCSSCompatValues(containerBox));\n  }\n\n  function WebVTT$1() {} // Nothing\n  // Helper to allow strings to be decoded instead of the default binary utf8 data.\n\n\n  WebVTT$1.StringDecoder = function () {\n    return {\n      decode: function decode(data) {\n        if (!data) {\n          return \"\";\n        }\n\n        if (typeof data !== \"string\") {\n          throw new Error(\"Error - expected string data.\");\n        }\n\n        return decodeURIComponent(encodeURIComponent(data));\n      }\n    };\n  };\n\n  WebVTT$1.convertCueToDOMTree = function (window, cuetext) {\n    if (!window || !cuetext) {\n      return null;\n    }\n\n    return parseContent(window, cuetext);\n  };\n\n  var FONT_SIZE_PERCENT = 0.05;\n  var FONT_STYLE = \"sans-serif\";\n  var CUE_BACKGROUND_PADDING = \"1.5%\"; // Runs the processing model over the cues and regions passed to it.\n  // @param overlay A block level element (usually a div) that the computed cues\n  //                and regions will be placed into.\n\n  WebVTT$1.processCues = function (window, cues, overlay) {\n    if (!window || !cues || !overlay) {\n      return null;\n    } // Remove all previous children.\n\n\n    while (overlay.firstChild) {\n      overlay.removeChild(overlay.firstChild);\n    }\n\n    var paddedOverlay = window.document.createElement(\"div\");\n    paddedOverlay.style.position = \"absolute\";\n    paddedOverlay.style.left = \"0\";\n    paddedOverlay.style.right = \"0\";\n    paddedOverlay.style.top = \"0\";\n    paddedOverlay.style.bottom = \"0\";\n    paddedOverlay.style.margin = CUE_BACKGROUND_PADDING;\n    overlay.appendChild(paddedOverlay); // Determine if we need to compute the display states of the cues. This could\n    // be the case if a cue's state has been changed since the last computation or\n    // if it has not been computed yet.\n\n    function shouldCompute(cues) {\n      for (var i = 0; i < cues.length; i++) {\n        if (cues[i].hasBeenReset || !cues[i].displayState) {\n          return true;\n        }\n      }\n\n      return false;\n    } // We don't need to recompute the cues' display states. Just reuse them.\n\n\n    if (!shouldCompute(cues)) {\n      for (var i = 0; i < cues.length; i++) {\n        paddedOverlay.appendChild(cues[i].displayState);\n      }\n\n      return;\n    }\n\n    var boxPositions = [],\n        containerBox = BoxPosition.getSimpleBoxPosition(paddedOverlay),\n        fontSize = Math.round(containerBox.height * FONT_SIZE_PERCENT * 100) / 100;\n    var styleOptions = {\n      font: fontSize + \"px \" + FONT_STYLE\n    };\n\n    (function () {\n      var styleBox, cue;\n\n      for (var i = 0; i < cues.length; i++) {\n        cue = cues[i]; // Compute the intial position and styles of the cue div.\n\n        styleBox = new CueStyleBox(window, cue, styleOptions);\n        paddedOverlay.appendChild(styleBox.div); // Move the cue div to it's correct line position.\n\n        moveBoxToLinePosition(window, styleBox, containerBox, boxPositions); // Remember the computed div so that we don't have to recompute it later\n        // if we don't have too.\n\n        cue.displayState = styleBox.div;\n        boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox));\n      }\n    })();\n  };\n\n  WebVTT$1.Parser = function (window, vttjs, decoder) {\n    if (!decoder) {\n      decoder = vttjs;\n      vttjs = {};\n    }\n\n    if (!vttjs) {\n      vttjs = {};\n    }\n\n    this.window = window;\n    this.vttjs = vttjs;\n    this.state = \"INITIAL\";\n    this.buffer = \"\";\n    this.decoder = decoder || new TextDecoder(\"utf8\");\n    this.regionList = [];\n  };\n\n  WebVTT$1.Parser.prototype = {\n    // If the error is a ParsingError then report it to the consumer if\n    // possible. If it's not a ParsingError then throw it like normal.\n    reportOrThrowError: function reportOrThrowError(e) {\n      if (e instanceof ParsingError) {\n        this.onparsingerror && this.onparsingerror(e);\n      } else {\n        throw e;\n      }\n    },\n    parse: function parse(data) {\n      var self = this; // If there is no data then we won't decode it, but will just try to parse\n      // whatever is in buffer already. This may occur in circumstances, for\n      // example when flush() is called.\n\n      if (data) {\n        // Try to decode the data that we received.\n        self.buffer += self.decoder.decode(data, {\n          stream: true\n        });\n      }\n\n      function collectNextLine() {\n        var buffer = self.buffer;\n        var pos = 0;\n\n        while (pos < buffer.length && buffer[pos] !== '\\r' && buffer[pos] !== '\\n') {\n          ++pos;\n        }\n\n        var line = buffer.substr(0, pos); // Advance the buffer early in case we fail below.\n\n        if (buffer[pos] === '\\r') {\n          ++pos;\n        }\n\n        if (buffer[pos] === '\\n') {\n          ++pos;\n        }\n\n        self.buffer = buffer.substr(pos);\n        return line;\n      } // 3.4 WebVTT region and WebVTT region settings syntax\n\n\n      function parseRegion(input) {\n        var settings = new Settings();\n        parseOptions(input, function (k, v) {\n          switch (k) {\n            case \"id\":\n              settings.set(k, v);\n              break;\n\n            case \"width\":\n              settings.percent(k, v);\n              break;\n\n            case \"lines\":\n              settings.integer(k, v);\n              break;\n\n            case \"regionanchor\":\n            case \"viewportanchor\":\n              var xy = v.split(',');\n\n              if (xy.length !== 2) {\n                break;\n              } // We have to make sure both x and y parse, so use a temporary\n              // settings object here.\n\n\n              var anchor = new Settings();\n              anchor.percent(\"x\", xy[0]);\n              anchor.percent(\"y\", xy[1]);\n\n              if (!anchor.has(\"x\") || !anchor.has(\"y\")) {\n                break;\n              }\n\n              settings.set(k + \"X\", anchor.get(\"x\"));\n              settings.set(k + \"Y\", anchor.get(\"y\"));\n              break;\n\n            case \"scroll\":\n              settings.alt(k, v, [\"up\"]);\n              break;\n          }\n        }, /=/, /\\s/); // Create the region, using default values for any values that were not\n        // specified.\n\n        if (settings.has(\"id\")) {\n          var region = new (self.vttjs.VTTRegion || self.window.VTTRegion)();\n          region.width = settings.get(\"width\", 100);\n          region.lines = settings.get(\"lines\", 3);\n          region.regionAnchorX = settings.get(\"regionanchorX\", 0);\n          region.regionAnchorY = settings.get(\"regionanchorY\", 100);\n          region.viewportAnchorX = settings.get(\"viewportanchorX\", 0);\n          region.viewportAnchorY = settings.get(\"viewportanchorY\", 100);\n          region.scroll = settings.get(\"scroll\", \"\"); // Register the region.\n\n          self.onregion && self.onregion(region); // Remember the VTTRegion for later in case we parse any VTTCues that\n          // reference it.\n\n          self.regionList.push({\n            id: settings.get(\"id\"),\n            region: region\n          });\n        }\n      } // draft-pantos-http-live-streaming-20\n      // https://tools.ietf.org/html/draft-pantos-http-live-streaming-20#section-3.5\n      // 3.5 WebVTT\n\n\n      function parseTimestampMap(input) {\n        var settings = new Settings();\n        parseOptions(input, function (k, v) {\n          switch (k) {\n            case \"MPEGT\":\n              settings.integer(k + 'S', v);\n              break;\n\n            case \"LOCA\":\n              settings.set(k + 'L', parseTimeStamp(v));\n              break;\n          }\n        }, /[^\\d]:/, /,/);\n        self.ontimestampmap && self.ontimestampmap({\n          \"MPEGTS\": settings.get(\"MPEGTS\"),\n          \"LOCAL\": settings.get(\"LOCAL\")\n        });\n      } // 3.2 WebVTT metadata header syntax\n\n\n      function parseHeader(input) {\n        if (input.match(/X-TIMESTAMP-MAP/)) {\n          // This line contains HLS X-TIMESTAMP-MAP metadata\n          parseOptions(input, function (k, v) {\n            switch (k) {\n              case \"X-TIMESTAMP-MAP\":\n                parseTimestampMap(v);\n                break;\n            }\n          }, /=/);\n        } else {\n          parseOptions(input, function (k, v) {\n            switch (k) {\n              case \"Region\":\n                // 3.3 WebVTT region metadata header syntax\n                parseRegion(v);\n                break;\n            }\n          }, /:/);\n        }\n      } // 5.1 WebVTT file parsing.\n\n\n      try {\n        var line;\n\n        if (self.state === \"INITIAL\") {\n          // We can't start parsing until we have the first line.\n          if (!/\\r\\n|\\n/.test(self.buffer)) {\n            return this;\n          }\n\n          line = collectNextLine();\n          var m = line.match(/^WEBVTT([ \\t].*)?$/);\n\n          if (!m || !m[0]) {\n            throw new ParsingError(ParsingError.Errors.BadSignature);\n          }\n\n          self.state = \"HEADER\";\n        }\n\n        var alreadyCollectedLine = false;\n\n        while (self.buffer) {\n          // We can't parse a line until we have the full line.\n          if (!/\\r\\n|\\n/.test(self.buffer)) {\n            return this;\n          }\n\n          if (!alreadyCollectedLine) {\n            line = collectNextLine();\n          } else {\n            alreadyCollectedLine = false;\n          }\n\n          switch (self.state) {\n            case \"HEADER\":\n              // 13-18 - Allow a header (metadata) under the WEBVTT line.\n              if (/:/.test(line)) {\n                parseHeader(line);\n              } else if (!line) {\n                // An empty line terminates the header and starts the body (cues).\n                self.state = \"ID\";\n              }\n\n              continue;\n\n            case \"NOTE\":\n              // Ignore NOTE blocks.\n              if (!line) {\n                self.state = \"ID\";\n              }\n\n              continue;\n\n            case \"ID\":\n              // Check for the start of NOTE blocks.\n              if (/^NOTE($|[ \\t])/.test(line)) {\n                self.state = \"NOTE\";\n                break;\n              } // 19-29 - Allow any number of line terminators, then initialize new cue values.\n\n\n              if (!line) {\n                continue;\n              }\n\n              self.cue = new (self.vttjs.VTTCue || self.window.VTTCue)(0, 0, \"\");\n              self.state = \"CUE\"; // 30-39 - Check if self line contains an optional identifier or timing data.\n\n              if (line.indexOf(\"-->\") === -1) {\n                self.cue.id = line;\n                continue;\n              }\n\n            // Process line as start of a cue.\n\n            /*falls through*/\n\n            case \"CUE\":\n              // 40 - Collect cue timings and settings.\n              try {\n                parseCue(line, self.cue, self.regionList);\n              } catch (e) {\n                self.reportOrThrowError(e); // In case of an error ignore rest of the cue.\n\n                self.cue = null;\n                self.state = \"BADCUE\";\n                continue;\n              }\n\n              self.state = \"CUETEXT\";\n              continue;\n\n            case \"CUETEXT\":\n              var hasSubstring = line.indexOf(\"-->\") !== -1; // 34 - If we have an empty line then report the cue.\n              // 35 - If we have the special substring '-->' then report the cue,\n              // but do not collect the line as we need to process the current\n              // one as a new cue.\n\n              if (!line || hasSubstring && (alreadyCollectedLine = true)) {\n                // We are done parsing self cue.\n                self.oncue && self.oncue(self.cue);\n                self.cue = null;\n                self.state = \"ID\";\n                continue;\n              }\n\n              if (self.cue.text) {\n                self.cue.text += \"\\n\";\n              }\n\n              self.cue.text += line;\n              continue;\n\n            case \"BADCUE\":\n              // BADCUE\n              // 54-62 - Collect and discard the remaining cue.\n              if (!line) {\n                self.state = \"ID\";\n              }\n\n              continue;\n          }\n        }\n      } catch (e) {\n        self.reportOrThrowError(e); // If we are currently parsing a cue, report what we have.\n\n        if (self.state === \"CUETEXT\" && self.cue && self.oncue) {\n          self.oncue(self.cue);\n        }\n\n        self.cue = null; // Enter BADWEBVTT state if header was not parsed correctly otherwise\n        // another exception occurred so enter BADCUE state.\n\n        self.state = self.state === \"INITIAL\" ? \"BADWEBVTT\" : \"BADCUE\";\n      }\n\n      return this;\n    },\n    flush: function flush() {\n      var self = this;\n\n      try {\n        // Finish decoding the stream.\n        self.buffer += self.decoder.decode(); // Synthesize the end of the current cue or region.\n\n        if (self.cue || self.state === \"HEADER\") {\n          self.buffer += \"\\n\\n\";\n          self.parse();\n        } // If we've flushed, parsed, and we're still on the INITIAL state then\n        // that means we don't have enough of the stream to parse the first\n        // line.\n\n\n        if (self.state === \"INITIAL\") {\n          throw new ParsingError(ParsingError.Errors.BadSignature);\n        }\n      } catch (e) {\n        self.reportOrThrowError(e);\n      }\n\n      self.onflush && self.onflush();\n      return this;\n    }\n  };\n  var vtt = WebVTT$1;\n\n  /**\n   * Copyright 2013 vtt.js Contributors\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *   http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n  var autoKeyword = \"auto\";\n  var directionSetting = {\n    \"\": 1,\n    \"lr\": 1,\n    \"rl\": 1\n  };\n  var alignSetting = {\n    \"start\": 1,\n    \"middle\": 1,\n    \"end\": 1,\n    \"left\": 1,\n    \"right\": 1\n  };\n\n  function findDirectionSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n\n    var dir = directionSetting[value.toLowerCase()];\n    return dir ? value.toLowerCase() : false;\n  }\n\n  function findAlignSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n\n    var align = alignSetting[value.toLowerCase()];\n    return align ? value.toLowerCase() : false;\n  }\n\n  function VTTCue(startTime, endTime, text) {\n    /**\n     * Shim implementation specific properties. These properties are not in\n     * the spec.\n     */\n    // Lets us know when the VTTCue's data has changed in such a way that we need\n    // to recompute its display state. This lets us compute its display state\n    // lazily.\n    this.hasBeenReset = false;\n    /**\n     * VTTCue and TextTrackCue properties\n     * http://dev.w3.org/html5/webvtt/#vttcue-interface\n     */\n\n    var _id = \"\";\n    var _pauseOnExit = false;\n    var _startTime = startTime;\n    var _endTime = endTime;\n    var _text = text;\n    var _region = null;\n    var _vertical = \"\";\n    var _snapToLines = true;\n    var _line = \"auto\";\n    var _lineAlign = \"start\";\n    var _position = 50;\n    var _positionAlign = \"middle\";\n    var _size = 50;\n    var _align = \"middle\";\n    Object.defineProperties(this, {\n      \"id\": {\n        enumerable: true,\n        get: function get() {\n          return _id;\n        },\n        set: function set(value) {\n          _id = \"\" + value;\n        }\n      },\n      \"pauseOnExit\": {\n        enumerable: true,\n        get: function get() {\n          return _pauseOnExit;\n        },\n        set: function set(value) {\n          _pauseOnExit = !!value;\n        }\n      },\n      \"startTime\": {\n        enumerable: true,\n        get: function get() {\n          return _startTime;\n        },\n        set: function set(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"Start time must be set to a number.\");\n          }\n\n          _startTime = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"endTime\": {\n        enumerable: true,\n        get: function get() {\n          return _endTime;\n        },\n        set: function set(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"End time must be set to a number.\");\n          }\n\n          _endTime = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"text\": {\n        enumerable: true,\n        get: function get() {\n          return _text;\n        },\n        set: function set(value) {\n          _text = \"\" + value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"region\": {\n        enumerable: true,\n        get: function get() {\n          return _region;\n        },\n        set: function set(value) {\n          _region = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"vertical\": {\n        enumerable: true,\n        get: function get() {\n          return _vertical;\n        },\n        set: function set(value) {\n          var setting = findDirectionSetting(value); // Have to check for false because the setting an be an empty string.\n\n          if (setting === false) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n\n          _vertical = setting;\n          this.hasBeenReset = true;\n        }\n      },\n      \"snapToLines\": {\n        enumerable: true,\n        get: function get() {\n          return _snapToLines;\n        },\n        set: function set(value) {\n          _snapToLines = !!value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"line\": {\n        enumerable: true,\n        get: function get() {\n          return _line;\n        },\n        set: function set(value) {\n          if (typeof value !== \"number\" && value !== autoKeyword) {\n            throw new SyntaxError(\"An invalid number or illegal string was specified.\");\n          }\n\n          _line = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"lineAlign\": {\n        enumerable: true,\n        get: function get() {\n          return _lineAlign;\n        },\n        set: function set(value) {\n          var setting = findAlignSetting(value);\n\n          if (!setting) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n\n          _lineAlign = setting;\n          this.hasBeenReset = true;\n        }\n      },\n      \"position\": {\n        enumerable: true,\n        get: function get() {\n          return _position;\n        },\n        set: function set(value) {\n          if (value < 0 || value > 100) {\n            throw new Error(\"Position must be between 0 and 100.\");\n          }\n\n          _position = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"positionAlign\": {\n        enumerable: true,\n        get: function get() {\n          return _positionAlign;\n        },\n        set: function set(value) {\n          var setting = findAlignSetting(value);\n\n          if (!setting) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n\n          _positionAlign = setting;\n          this.hasBeenReset = true;\n        }\n      },\n      \"size\": {\n        enumerable: true,\n        get: function get() {\n          return _size;\n        },\n        set: function set(value) {\n          if (value < 0 || value > 100) {\n            throw new Error(\"Size must be between 0 and 100.\");\n          }\n\n          _size = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"align\": {\n        enumerable: true,\n        get: function get() {\n          return _align;\n        },\n        set: function set(value) {\n          var setting = findAlignSetting(value);\n\n          if (!setting) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n\n          _align = setting;\n          this.hasBeenReset = true;\n        }\n      }\n    });\n    /**\n     * Other <track> spec defined properties\n     */\n    // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\n\n    this.displayState = undefined;\n  }\n  /**\n   * VTTCue methods\n   */\n\n\n  VTTCue.prototype.getCueAsHTML = function () {\n    // Assume WebVTT.convertCueToDOMTree is on the global.\n    return WebVTT.convertCueToDOMTree(window, this.text);\n  };\n\n  var vttcue = VTTCue;\n\n  /**\n   * Copyright 2013 vtt.js Contributors\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *   http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n  var scrollSetting = {\n    \"\": true,\n    \"up\": true\n  };\n\n  function findScrollSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n\n    var scroll = scrollSetting[value.toLowerCase()];\n    return scroll ? value.toLowerCase() : false;\n  }\n\n  function isValidPercentValue(value) {\n    return typeof value === \"number\" && value >= 0 && value <= 100;\n  } // VTTRegion shim http://dev.w3.org/html5/webvtt/#vttregion-interface\n\n\n  function VTTRegion() {\n    var _width = 100;\n    var _lines = 3;\n    var _regionAnchorX = 0;\n    var _regionAnchorY = 100;\n    var _viewportAnchorX = 0;\n    var _viewportAnchorY = 100;\n    var _scroll = \"\";\n    Object.defineProperties(this, {\n      \"width\": {\n        enumerable: true,\n        get: function get() {\n          return _width;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"Width must be between 0 and 100.\");\n          }\n\n          _width = value;\n        }\n      },\n      \"lines\": {\n        enumerable: true,\n        get: function get() {\n          return _lines;\n        },\n        set: function set(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"Lines must be set to a number.\");\n          }\n\n          _lines = value;\n        }\n      },\n      \"regionAnchorY\": {\n        enumerable: true,\n        get: function get() {\n          return _regionAnchorY;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"RegionAnchorX must be between 0 and 100.\");\n          }\n\n          _regionAnchorY = value;\n        }\n      },\n      \"regionAnchorX\": {\n        enumerable: true,\n        get: function get() {\n          return _regionAnchorX;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"RegionAnchorY must be between 0 and 100.\");\n          }\n\n          _regionAnchorX = value;\n        }\n      },\n      \"viewportAnchorY\": {\n        enumerable: true,\n        get: function get() {\n          return _viewportAnchorY;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"ViewportAnchorY must be between 0 and 100.\");\n          }\n\n          _viewportAnchorY = value;\n        }\n      },\n      \"viewportAnchorX\": {\n        enumerable: true,\n        get: function get() {\n          return _viewportAnchorX;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"ViewportAnchorX must be between 0 and 100.\");\n          }\n\n          _viewportAnchorX = value;\n        }\n      },\n      \"scroll\": {\n        enumerable: true,\n        get: function get() {\n          return _scroll;\n        },\n        set: function set(value) {\n          var setting = findScrollSetting(value); // Have to check for false as an empty string is a legal value.\n\n          if (setting === false) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n\n          _scroll = setting;\n        }\n      }\n    });\n  }\n\n  var vttregion = VTTRegion;\n\n  var browserIndex = createCommonjsModule(function (module) {\n    /**\n     * Copyright 2013 vtt.js Contributors\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *   http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    // Default exports for Node. Export the extended versions of VTTCue and\n    // VTTRegion in Node since we likely want the capability to convert back and\n    // forth between JSON. If we don't then it's not that big of a deal since we're\n    // off browser.\n    var vttjs = module.exports = {\n      WebVTT: vtt,\n      VTTCue: vttcue,\n      VTTRegion: vttregion\n    };\n    window$1.vttjs = vttjs;\n    window$1.WebVTT = vttjs.WebVTT;\n    var cueShim = vttjs.VTTCue;\n    var regionShim = vttjs.VTTRegion;\n    var nativeVTTCue = window$1.VTTCue;\n    var nativeVTTRegion = window$1.VTTRegion;\n\n    vttjs.shim = function () {\n      window$1.VTTCue = cueShim;\n      window$1.VTTRegion = regionShim;\n    };\n\n    vttjs.restore = function () {\n      window$1.VTTCue = nativeVTTCue;\n      window$1.VTTRegion = nativeVTTRegion;\n    };\n\n    if (!window$1.VTTCue) {\n      vttjs.shim();\n    }\n  });\n  var browserIndex_1 = browserIndex.WebVTT;\n  var browserIndex_2 = browserIndex.VTTCue;\n  var browserIndex_3 = browserIndex.VTTRegion;\n\n  /**\n   * An Object containing a structure like: `{src: 'url', type: 'mimetype'}` or string\n   * that just contains the src url alone.\n   * * `var SourceObject = {src: 'http://ex.com/video.mp4', type: 'video/mp4'};`\n     * `var SourceString = 'http://example.com/some-video.mp4';`\n   *\n   * @typedef {Object|string} Tech~SourceObject\n   *\n   * @property {string} src\n   *           The url to the source\n   *\n   * @property {string} type\n   *           The mime type of the source\n   */\n\n  /**\n   * A function used by {@link Tech} to create a new {@link TextTrack}.\n   *\n   * @private\n   *\n   * @param {Tech} self\n   *        An instance of the Tech class.\n   *\n   * @param {string} kind\n   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n   *\n   * @param {string} [label]\n   *        Label to identify the text track\n   *\n   * @param {string} [language]\n   *        Two letter language abbreviation\n   *\n   * @param {Object} [options={}]\n   *        An object with additional text track options\n   *\n   * @return {TextTrack}\n   *          The text track that was created.\n   */\n\n  function createTrackHelper(self, kind, label, language, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var tracks = self.textTracks();\n    options.kind = kind;\n\n    if (label) {\n      options.label = label;\n    }\n\n    if (language) {\n      options.language = language;\n    }\n\n    options.tech = self;\n    var track = new ALL.text.TrackClass(options);\n    tracks.addTrack(track);\n    return track;\n  }\n  /**\n   * This is the base class for media playback technology controllers, such as\n   * {@link Flash} and {@link HTML5}\n   *\n   * @extends Component\n   */\n\n\n  var Tech =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(Tech, _Component);\n\n    /**\n    * Create an instance of this Tech.\n    *\n    * @param {Object} [options]\n    *        The key/value store of player options.\n    *\n    * @param {Component~ReadyCallback} ready\n    *        Callback function to call when the `HTML5` Tech is ready.\n    */\n    function Tech(options, ready) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (ready === void 0) {\n        ready = function ready() {};\n      }\n\n      // we don't want the tech to report user activity automatically.\n      // This is done manually in addControlsListeners\n      options.reportTouchActivity = false;\n      _this = _Component.call(this, null, options, ready) || this; // keep track of whether the current source has played at all to\n      // implement a very limited played()\n\n      _this.hasStarted_ = false;\n\n      _this.on('playing', function () {\n        this.hasStarted_ = true;\n      });\n\n      _this.on('loadstart', function () {\n        this.hasStarted_ = false;\n      });\n\n      ALL.names.forEach(function (name) {\n        var props = ALL[name];\n\n        if (options && options[props.getterName]) {\n          _this[props.privateName] = options[props.getterName];\n        }\n      }); // Manually track progress in cases where the browser/flash player doesn't report it.\n\n      if (!_this.featuresProgressEvents) {\n        _this.manualProgressOn();\n      } // Manually track timeupdates in cases where the browser/flash player doesn't report it.\n\n\n      if (!_this.featuresTimeupdateEvents) {\n        _this.manualTimeUpdatesOn();\n      }\n\n      ['Text', 'Audio', 'Video'].forEach(function (track) {\n        if (options[\"native\" + track + \"Tracks\"] === false) {\n          _this[\"featuresNative\" + track + \"Tracks\"] = false;\n        }\n      });\n\n      if (options.nativeCaptions === false || options.nativeTextTracks === false) {\n        _this.featuresNativeTextTracks = false;\n      } else if (options.nativeCaptions === true || options.nativeTextTracks === true) {\n        _this.featuresNativeTextTracks = true;\n      }\n\n      if (!_this.featuresNativeTextTracks) {\n        _this.emulateTextTracks();\n      }\n\n      _this.autoRemoteTextTracks_ = new ALL.text.ListClass();\n\n      _this.initTrackListeners(); // Turn on component tap events only if not using native controls\n\n\n      if (!options.nativeControlsForTouch) {\n        _this.emitTapEvents();\n      }\n\n      if (_this.constructor) {\n        _this.name_ = _this.constructor.name || 'Unknown Tech';\n      }\n\n      return _this;\n    }\n    /**\n     * A special function to trigger source set in a way that will allow player\n     * to re-trigger if the player or tech are not ready yet.\n     *\n     * @fires Tech#sourceset\n     * @param {string} src The source string at the time of the source changing.\n     */\n\n\n    var _proto = Tech.prototype;\n\n    _proto.triggerSourceset = function triggerSourceset(src) {\n      var _this2 = this;\n\n      if (!this.isReady_) {\n        // on initial ready we have to trigger source set\n        // 1ms after ready so that player can watch for it.\n        this.one('ready', function () {\n          return _this2.setTimeout(function () {\n            return _this2.triggerSourceset(src);\n          }, 1);\n        });\n      }\n      /**\n       * Fired when the source is set on the tech causing the media element\n       * to reload.\n       *\n       * @see {@link Player#event:sourceset}\n       * @event Tech#sourceset\n       * @type {EventTarget~Event}\n       */\n\n\n      this.trigger({\n        src: src,\n        type: 'sourceset'\n      });\n    }\n    /* Fallbacks for unsupported event types\n    ================================================================================ */\n\n    /**\n     * Polyfill the `progress` event for browsers that don't support it natively.\n     *\n     * @see {@link Tech#trackProgress}\n     */\n    ;\n\n    _proto.manualProgressOn = function manualProgressOn() {\n      this.on('durationchange', this.onDurationChange);\n      this.manualProgress = true; // Trigger progress watching when a source begins loading\n\n      this.one('ready', this.trackProgress);\n    }\n    /**\n     * Turn off the polyfill for `progress` events that was created in\n     * {@link Tech#manualProgressOn}\n     */\n    ;\n\n    _proto.manualProgressOff = function manualProgressOff() {\n      this.manualProgress = false;\n      this.stopTrackingProgress();\n      this.off('durationchange', this.onDurationChange);\n    }\n    /**\n     * This is used to trigger a `progress` event when the buffered percent changes. It\n     * sets an interval function that will be called every 500 milliseconds to check if the\n     * buffer end percent has changed.\n     *\n     * > This function is called by {@link Tech#manualProgressOn}\n     *\n     * @param {EventTarget~Event} event\n     *        The `ready` event that caused this to run.\n     *\n     * @listens Tech#ready\n     * @fires Tech#progress\n     */\n    ;\n\n    _proto.trackProgress = function trackProgress(event) {\n      this.stopTrackingProgress();\n      this.progressInterval = this.setInterval(bind(this, function () {\n        // Don't trigger unless buffered amount is greater than last time\n        var numBufferedPercent = this.bufferedPercent();\n\n        if (this.bufferedPercent_ !== numBufferedPercent) {\n          /**\n           * See {@link Player#progress}\n           *\n           * @event Tech#progress\n           * @type {EventTarget~Event}\n           */\n          this.trigger('progress');\n        }\n\n        this.bufferedPercent_ = numBufferedPercent;\n\n        if (numBufferedPercent === 1) {\n          this.stopTrackingProgress();\n        }\n      }), 500);\n    }\n    /**\n     * Update our internal duration on a `durationchange` event by calling\n     * {@link Tech#duration}.\n     *\n     * @param {EventTarget~Event} event\n     *        The `durationchange` event that caused this to run.\n     *\n     * @listens Tech#durationchange\n     */\n    ;\n\n    _proto.onDurationChange = function onDurationChange(event) {\n      this.duration_ = this.duration();\n    }\n    /**\n     * Get and create a `TimeRange` object for buffering.\n     *\n     * @return {TimeRange}\n     *         The time range object that was created.\n     */\n    ;\n\n    _proto.buffered = function buffered() {\n      return createTimeRanges(0, 0);\n    }\n    /**\n     * Get the percentage of the current video that is currently buffered.\n     *\n     * @return {number}\n     *         A number from 0 to 1 that represents the decimal percentage of the\n     *         video that is buffered.\n     *\n     */\n    ;\n\n    _proto.bufferedPercent = function bufferedPercent$1() {\n      return bufferedPercent(this.buffered(), this.duration_);\n    }\n    /**\n     * Turn off the polyfill for `progress` events that was created in\n     * {@link Tech#manualProgressOn}\n     * Stop manually tracking progress events by clearing the interval that was set in\n     * {@link Tech#trackProgress}.\n     */\n    ;\n\n    _proto.stopTrackingProgress = function stopTrackingProgress() {\n      this.clearInterval(this.progressInterval);\n    }\n    /**\n     * Polyfill the `timeupdate` event for browsers that don't support it.\n     *\n     * @see {@link Tech#trackCurrentTime}\n     */\n    ;\n\n    _proto.manualTimeUpdatesOn = function manualTimeUpdatesOn() {\n      this.manualTimeUpdates = true;\n      this.on('play', this.trackCurrentTime);\n      this.on('pause', this.stopTrackingCurrentTime);\n    }\n    /**\n     * Turn off the polyfill for `timeupdate` events that was created in\n     * {@link Tech#manualTimeUpdatesOn}\n     */\n    ;\n\n    _proto.manualTimeUpdatesOff = function manualTimeUpdatesOff() {\n      this.manualTimeUpdates = false;\n      this.stopTrackingCurrentTime();\n      this.off('play', this.trackCurrentTime);\n      this.off('pause', this.stopTrackingCurrentTime);\n    }\n    /**\n     * Sets up an interval function to track current time and trigger `timeupdate` every\n     * 250 milliseconds.\n     *\n     * @listens Tech#play\n     * @triggers Tech#timeupdate\n     */\n    ;\n\n    _proto.trackCurrentTime = function trackCurrentTime() {\n      if (this.currentTimeInterval) {\n        this.stopTrackingCurrentTime();\n      }\n\n      this.currentTimeInterval = this.setInterval(function () {\n        /**\n         * Triggered at an interval of 250ms to indicated that time is passing in the video.\n         *\n         * @event Tech#timeupdate\n         * @type {EventTarget~Event}\n         */\n        this.trigger({\n          type: 'timeupdate',\n          target: this,\n          manuallyTriggered: true\n        }); // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n      }, 250);\n    }\n    /**\n     * Stop the interval function created in {@link Tech#trackCurrentTime} so that the\n     * `timeupdate` event is no longer triggered.\n     *\n     * @listens {Tech#pause}\n     */\n    ;\n\n    _proto.stopTrackingCurrentTime = function stopTrackingCurrentTime() {\n      this.clearInterval(this.currentTimeInterval); // #1002 - if the video ends right before the next timeupdate would happen,\n      // the progress bar won't make it all the way to the end\n\n      this.trigger({\n        type: 'timeupdate',\n        target: this,\n        manuallyTriggered: true\n      });\n    }\n    /**\n     * Turn off all event polyfills, clear the `Tech`s {@link AudioTrackList},\n     * {@link VideoTrackList}, and {@link TextTrackList}, and dispose of this Tech.\n     *\n     * @fires Component#dispose\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      // clear out all tracks because we can't reuse them between techs\n      this.clearTracks(NORMAL.names); // Turn off any manual progress or timeupdate tracking\n\n      if (this.manualProgress) {\n        this.manualProgressOff();\n      }\n\n      if (this.manualTimeUpdates) {\n        this.manualTimeUpdatesOff();\n      }\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Clear out a single `TrackList` or an array of `TrackLists` given their names.\n     *\n     * > Note: Techs without source handlers should call this between sources for `video`\n     *         & `audio` tracks. You don't want to use them between tracks!\n     *\n     * @param {string[]|string} types\n     *        TrackList names to clear, valid names are `video`, `audio`, and\n     *        `text`.\n     */\n    ;\n\n    _proto.clearTracks = function clearTracks(types) {\n      var _this3 = this;\n\n      types = [].concat(types); // clear out all tracks because we can't reuse them between techs\n\n      types.forEach(function (type) {\n        var list = _this3[type + \"Tracks\"]() || [];\n        var i = list.length;\n\n        while (i--) {\n          var track = list[i];\n\n          if (type === 'text') {\n            _this3.removeRemoteTextTrack(track);\n          }\n\n          list.removeTrack(track);\n        }\n      });\n    }\n    /**\n     * Remove any TextTracks added via addRemoteTextTrack that are\n     * flagged for automatic garbage collection\n     */\n    ;\n\n    _proto.cleanupAutoTextTracks = function cleanupAutoTextTracks() {\n      var list = this.autoRemoteTextTracks_ || [];\n      var i = list.length;\n\n      while (i--) {\n        var track = list[i];\n        this.removeRemoteTextTrack(track);\n      }\n    }\n    /**\n     * Reset the tech, which will removes all sources and reset the internal readyState.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.reset = function reset() {}\n    /**\n     * Get or set an error on the Tech.\n     *\n     * @param {MediaError} [err]\n     *        Error to set on the Tech\n     *\n     * @return {MediaError|null}\n     *         The current error object on the tech, or null if there isn't one.\n     */\n    ;\n\n    _proto.error = function error(err) {\n      if (err !== undefined) {\n        this.error_ = new MediaError(err);\n        this.trigger('error');\n      }\n\n      return this.error_;\n    }\n    /**\n     * Returns the `TimeRange`s that have been played through for the current source.\n     *\n     * > NOTE: This implementation is incomplete. It does not track the played `TimeRange`.\n     *         It only checks whether the source has played at all or not.\n     *\n     * @return {TimeRange}\n     *         - A single time range if this video has played\n     *         - An empty set of ranges if not.\n     */\n    ;\n\n    _proto.played = function played() {\n      if (this.hasStarted_) {\n        return createTimeRanges(0, 0);\n      }\n\n      return createTimeRanges();\n    }\n    /**\n     * Causes a manual time update to occur if {@link Tech#manualTimeUpdatesOn} was\n     * previously called.\n     *\n     * @fires Tech#timeupdate\n     */\n    ;\n\n    _proto.setCurrentTime = function setCurrentTime() {\n      // improve the accuracy of manual timeupdates\n      if (this.manualTimeUpdates) {\n        /**\n         * A manual `timeupdate` event.\n         *\n         * @event Tech#timeupdate\n         * @type {EventTarget~Event}\n         */\n        this.trigger({\n          type: 'timeupdate',\n          target: this,\n          manuallyTriggered: true\n        });\n      }\n    }\n    /**\n     * Turn on listeners for {@link VideoTrackList}, {@link {AudioTrackList}, and\n     * {@link TextTrackList} events.\n     *\n     * This adds {@link EventTarget~EventListeners} for `addtrack`, and  `removetrack`.\n     *\n     * @fires Tech#audiotrackchange\n     * @fires Tech#videotrackchange\n     * @fires Tech#texttrackchange\n     */\n    ;\n\n    _proto.initTrackListeners = function initTrackListeners() {\n      var _this4 = this;\n\n      /**\n        * Triggered when tracks are added or removed on the Tech {@link AudioTrackList}\n        *\n        * @event Tech#audiotrackchange\n        * @type {EventTarget~Event}\n        */\n\n      /**\n        * Triggered when tracks are added or removed on the Tech {@link VideoTrackList}\n        *\n        * @event Tech#videotrackchange\n        * @type {EventTarget~Event}\n        */\n\n      /**\n        * Triggered when tracks are added or removed on the Tech {@link TextTrackList}\n        *\n        * @event Tech#texttrackchange\n        * @type {EventTarget~Event}\n        */\n      NORMAL.names.forEach(function (name) {\n        var props = NORMAL[name];\n\n        var trackListChanges = function trackListChanges() {\n          _this4.trigger(name + \"trackchange\");\n        };\n\n        var tracks = _this4[props.getterName]();\n\n        tracks.addEventListener('removetrack', trackListChanges);\n        tracks.addEventListener('addtrack', trackListChanges);\n\n        _this4.on('dispose', function () {\n          tracks.removeEventListener('removetrack', trackListChanges);\n          tracks.removeEventListener('addtrack', trackListChanges);\n        });\n      });\n    }\n    /**\n     * Emulate TextTracks using vtt.js if necessary\n     *\n     * @fires Tech#vttjsloaded\n     * @fires Tech#vttjserror\n     */\n    ;\n\n    _proto.addWebVttScript_ = function addWebVttScript_() {\n      var _this5 = this;\n\n      if (window$1.WebVTT) {\n        return;\n      } // Initially, Tech.el_ is a child of a dummy-div wait until the Component system\n      // signals that the Tech is ready at which point Tech.el_ is part of the DOM\n      // before inserting the WebVTT script\n\n\n      if (document.body.contains(this.el())) {\n        // load via require if available and vtt.js script location was not passed in\n        // as an option. novtt builds will turn the above require call into an empty object\n        // which will cause this if check to always fail.\n        if (!this.options_['vtt.js'] && isPlain(browserIndex) && Object.keys(browserIndex).length > 0) {\n          this.trigger('vttjsloaded');\n          return;\n        } // load vtt.js via the script location option or the cdn of no location was\n        // passed in\n\n\n        var script = document.createElement('script');\n        script.src = this.options_['vtt.js'] || 'https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js';\n\n        script.onload = function () {\n          /**\n           * Fired when vtt.js is loaded.\n           *\n           * @event Tech#vttjsloaded\n           * @type {EventTarget~Event}\n           */\n          _this5.trigger('vttjsloaded');\n        };\n\n        script.onerror = function () {\n          /**\n           * Fired when vtt.js was not loaded due to an error\n           *\n           * @event Tech#vttjsloaded\n           * @type {EventTarget~Event}\n           */\n          _this5.trigger('vttjserror');\n        };\n\n        this.on('dispose', function () {\n          script.onload = null;\n          script.onerror = null;\n        }); // but have not loaded yet and we set it to true before the inject so that\n        // we don't overwrite the injected window.WebVTT if it loads right away\n\n        window$1.WebVTT = true;\n        this.el().parentNode.appendChild(script);\n      } else {\n        this.ready(this.addWebVttScript_);\n      }\n    }\n    /**\n     * Emulate texttracks\n     *\n     */\n    ;\n\n    _proto.emulateTextTracks = function emulateTextTracks() {\n      var _this6 = this;\n\n      var tracks = this.textTracks();\n      var remoteTracks = this.remoteTextTracks();\n\n      var handleAddTrack = function handleAddTrack(e) {\n        return tracks.addTrack(e.track);\n      };\n\n      var handleRemoveTrack = function handleRemoveTrack(e) {\n        return tracks.removeTrack(e.track);\n      };\n\n      remoteTracks.on('addtrack', handleAddTrack);\n      remoteTracks.on('removetrack', handleRemoveTrack);\n      this.addWebVttScript_();\n\n      var updateDisplay = function updateDisplay() {\n        return _this6.trigger('texttrackchange');\n      };\n\n      var textTracksChanges = function textTracksChanges() {\n        updateDisplay();\n\n        for (var i = 0; i < tracks.length; i++) {\n          var track = tracks[i];\n          track.removeEventListener('cuechange', updateDisplay);\n\n          if (track.mode === 'showing') {\n            track.addEventListener('cuechange', updateDisplay);\n          }\n        }\n      };\n\n      textTracksChanges();\n      tracks.addEventListener('change', textTracksChanges);\n      tracks.addEventListener('addtrack', textTracksChanges);\n      tracks.addEventListener('removetrack', textTracksChanges);\n      this.on('dispose', function () {\n        remoteTracks.off('addtrack', handleAddTrack);\n        remoteTracks.off('removetrack', handleRemoveTrack);\n        tracks.removeEventListener('change', textTracksChanges);\n        tracks.removeEventListener('addtrack', textTracksChanges);\n        tracks.removeEventListener('removetrack', textTracksChanges);\n\n        for (var i = 0; i < tracks.length; i++) {\n          var track = tracks[i];\n          track.removeEventListener('cuechange', updateDisplay);\n        }\n      });\n    }\n    /**\n     * Create and returns a remote {@link TextTrack} object.\n     *\n     * @param {string} kind\n     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n     *\n     * @param {string} [label]\n     *        Label to identify the text track\n     *\n     * @param {string} [language]\n     *        Two letter language abbreviation\n     *\n     * @return {TextTrack}\n     *         The TextTrack that gets created.\n     */\n    ;\n\n    _proto.addTextTrack = function addTextTrack(kind, label, language) {\n      if (!kind) {\n        throw new Error('TextTrack kind is required but was not provided');\n      }\n\n      return createTrackHelper(this, kind, label, language);\n    }\n    /**\n     * Create an emulated TextTrack for use by addRemoteTextTrack\n     *\n     * This is intended to be overridden by classes that inherit from\n     * Tech in order to create native or custom TextTracks.\n     *\n     * @param {Object} options\n     *        The object should contain the options to initialize the TextTrack with.\n     *\n     * @param {string} [options.kind]\n     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata).\n     *\n     * @param {string} [options.label].\n     *        Label to identify the text track\n     *\n     * @param {string} [options.language]\n     *        Two letter language abbreviation.\n     *\n     * @return {HTMLTrackElement}\n     *         The track element that gets created.\n     */\n    ;\n\n    _proto.createRemoteTextTrack = function createRemoteTextTrack(options) {\n      var track = mergeOptions(options, {\n        tech: this\n      });\n      return new REMOTE.remoteTextEl.TrackClass(track);\n    }\n    /**\n     * Creates a remote text track object and returns an html track element.\n     *\n     * > Note: This can be an emulated {@link HTMLTrackElement} or a native one.\n     *\n     * @param {Object} options\n     *        See {@link Tech#createRemoteTextTrack} for more detailed properties.\n     *\n     * @param {boolean} [manualCleanup=true]\n     *        - When false: the TextTrack will be automatically removed from the video\n     *          element whenever the source changes\n     *        - When True: The TextTrack will have to be cleaned up manually\n     *\n     * @return {HTMLTrackElement}\n     *         An Html Track Element.\n     *\n     * @deprecated The default functionality for this function will be equivalent\n     *             to \"manualCleanup=false\" in the future. The manualCleanup parameter will\n     *             also be removed.\n     */\n    ;\n\n    _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n      var _this7 = this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      var htmlTrackElement = this.createRemoteTextTrack(options);\n\n      if (manualCleanup !== true && manualCleanup !== false) {\n        // deprecation warning\n        log.warn('Calling addRemoteTextTrack without explicitly setting the \"manualCleanup\" parameter to `true` is deprecated and default to `false` in future version of video.js');\n        manualCleanup = true;\n      } // store HTMLTrackElement and TextTrack to remote list\n\n\n      this.remoteTextTrackEls().addTrackElement_(htmlTrackElement);\n      this.remoteTextTracks().addTrack(htmlTrackElement.track);\n\n      if (manualCleanup !== true) {\n        // create the TextTrackList if it doesn't exist\n        this.ready(function () {\n          return _this7.autoRemoteTextTracks_.addTrack(htmlTrackElement.track);\n        });\n      }\n\n      return htmlTrackElement;\n    }\n    /**\n     * Remove a remote text track from the remote `TextTrackList`.\n     *\n     * @param {TextTrack} track\n     *        `TextTrack` to remove from the `TextTrackList`\n     */\n    ;\n\n    _proto.removeRemoteTextTrack = function removeRemoteTextTrack(track) {\n      var trackElement = this.remoteTextTrackEls().getTrackElementByTrack_(track); // remove HTMLTrackElement and TextTrack from remote list\n\n      this.remoteTextTrackEls().removeTrackElement_(trackElement);\n      this.remoteTextTracks().removeTrack(track);\n      this.autoRemoteTextTracks_.removeTrack(track);\n    }\n    /**\n     * Gets available media playback quality metrics as specified by the W3C's Media\n     * Playback Quality API.\n     *\n     * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n     *\n     * @return {Object}\n     *         An object with supported media playback quality metrics\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n      return {};\n    }\n    /**\n     * Attempt to create a floating video window always on top of other windows\n     * so that users may continue consuming media while they interact with other\n     * content sites, or applications on their device.\n     *\n     * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n     *\n     * @return {Promise|undefined}\n     *         A promise with a Picture-in-Picture window if the browser supports\n     *         Promises (or one was passed in as an option). It returns undefined\n     *         otherwise.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.requestPictureInPicture = function requestPictureInPicture() {\n      var PromiseClass = this.options_.Promise || window$1.Promise;\n\n      if (PromiseClass) {\n        return PromiseClass.reject();\n      }\n    }\n    /**\n     * A method to set a poster from a `Tech`.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.setPoster = function setPoster() {}\n    /**\n     * A method to check for the presence of the 'playsinline' <video> attribute.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.playsinline = function playsinline() {}\n    /**\n     * A method to set or unset the 'playsinline' <video> attribute.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.setPlaysinline = function setPlaysinline() {}\n    /**\n     * Attempt to force override of native audio tracks.\n     *\n     * @param {boolean} override - If set to true native audio will be overridden,\n     * otherwise native audio will potentially be used.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.overrideNativeAudioTracks = function overrideNativeAudioTracks() {}\n    /**\n     * Attempt to force override of native video tracks.\n     *\n     * @param {boolean} override - If set to true native video will be overridden,\n     * otherwise native video will potentially be used.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.overrideNativeVideoTracks = function overrideNativeVideoTracks() {}\n    /*\n     * Check if the tech can support the given mime-type.\n     *\n     * The base tech does not support any type, but source handlers might\n     * overwrite this.\n     *\n     * @param  {string} type\n     *         The mimetype to check for support\n     *\n     * @return {string}\n     *         'probably', 'maybe', or empty string\n     *\n     * @see [Spec]{@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/canPlayType}\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.canPlayType = function canPlayType() {\n      return '';\n    }\n    /**\n     * Check if the type is supported by this tech.\n     *\n     * The base tech does not support any type, but source handlers might\n     * overwrite this.\n     *\n     * @param {string} type\n     *        The media type to check\n     * @return {string} Returns the native video element's response\n     */\n    ;\n\n    Tech.canPlayType = function canPlayType() {\n      return '';\n    }\n    /**\n     * Check if the tech can support the given source\n     *\n     * @param {Object} srcObj\n     *        The source object\n     * @param {Object} options\n     *        The options passed to the tech\n     * @return {string} 'probably', 'maybe', or '' (empty string)\n     */\n    ;\n\n    Tech.canPlaySource = function canPlaySource(srcObj, options) {\n      return Tech.canPlayType(srcObj.type);\n    }\n    /*\n     * Return whether the argument is a Tech or not.\n     * Can be passed either a Class like `Html5` or a instance like `player.tech_`\n     *\n     * @param {Object} component\n     *        The item to check\n     *\n     * @return {boolean}\n     *         Whether it is a tech or not\n     *         - True if it is a tech\n     *         - False if it is not\n     */\n    ;\n\n    Tech.isTech = function isTech(component) {\n      return component.prototype instanceof Tech || component instanceof Tech || component === Tech;\n    }\n    /**\n     * Registers a `Tech` into a shared list for videojs.\n     *\n     * @param {string} name\n     *        Name of the `Tech` to register.\n     *\n     * @param {Object} tech\n     *        The `Tech` class to register.\n     */\n    ;\n\n    Tech.registerTech = function registerTech(name, tech) {\n      if (!Tech.techs_) {\n        Tech.techs_ = {};\n      }\n\n      if (!Tech.isTech(tech)) {\n        throw new Error(\"Tech \" + name + \" must be a Tech\");\n      }\n\n      if (!Tech.canPlayType) {\n        throw new Error('Techs must have a static canPlayType method on them');\n      }\n\n      if (!Tech.canPlaySource) {\n        throw new Error('Techs must have a static canPlaySource method on them');\n      }\n\n      name = toTitleCase(name);\n      Tech.techs_[name] = tech;\n      Tech.techs_[toLowerCase(name)] = tech;\n\n      if (name !== 'Tech') {\n        // camel case the techName for use in techOrder\n        Tech.defaultTechOrder_.push(name);\n      }\n\n      return tech;\n    }\n    /**\n     * Get a `Tech` from the shared list by name.\n     *\n     * @param {string} name\n     *        `camelCase` or `TitleCase` name of the Tech to get\n     *\n     * @return {Tech|undefined}\n     *         The `Tech` or undefined if there was no tech with the name requested.\n     */\n    ;\n\n    Tech.getTech = function getTech(name) {\n      if (!name) {\n        return;\n      }\n\n      if (Tech.techs_ && Tech.techs_[name]) {\n        return Tech.techs_[name];\n      }\n\n      name = toTitleCase(name);\n\n      if (window$1 && window$1.videojs && window$1.videojs[name]) {\n        log.warn(\"The \" + name + \" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)\");\n        return window$1.videojs[name];\n      }\n    };\n\n    return Tech;\n  }(Component);\n  /**\n   * Get the {@link VideoTrackList}\n   *\n   * @returns {VideoTrackList}\n   * @method Tech.prototype.videoTracks\n   */\n\n  /**\n   * Get the {@link AudioTrackList}\n   *\n   * @returns {AudioTrackList}\n   * @method Tech.prototype.audioTracks\n   */\n\n  /**\n   * Get the {@link TextTrackList}\n   *\n   * @returns {TextTrackList}\n   * @method Tech.prototype.textTracks\n   */\n\n  /**\n   * Get the remote element {@link TextTrackList}\n   *\n   * @returns {TextTrackList}\n   * @method Tech.prototype.remoteTextTracks\n   */\n\n  /**\n   * Get the remote element {@link HtmlTrackElementList}\n   *\n   * @returns {HtmlTrackElementList}\n   * @method Tech.prototype.remoteTextTrackEls\n   */\n\n\n  ALL.names.forEach(function (name) {\n    var props = ALL[name];\n\n    Tech.prototype[props.getterName] = function () {\n      this[props.privateName] = this[props.privateName] || new props.ListClass();\n      return this[props.privateName];\n    };\n  });\n  /**\n   * List of associated text tracks\n   *\n   * @type {TextTrackList}\n   * @private\n   * @property Tech#textTracks_\n   */\n\n  /**\n   * List of associated audio tracks.\n   *\n   * @type {AudioTrackList}\n   * @private\n   * @property Tech#audioTracks_\n   */\n\n  /**\n   * List of associated video tracks.\n   *\n   * @type {VideoTrackList}\n   * @private\n   * @property Tech#videoTracks_\n   */\n\n  /**\n   * Boolean indicating whether the `Tech` supports volume control.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresVolumeControl = true;\n  /**\n   * Boolean indicating whether the `Tech` supports muting volume.\n   *\n   * @type {bolean}\n   * @default\n   */\n\n  Tech.prototype.featuresMuteControl = true;\n  /**\n   * Boolean indicating whether the `Tech` supports fullscreen resize control.\n   * Resizing plugins using request fullscreen reloads the plugin\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresFullscreenResize = false;\n  /**\n   * Boolean indicating whether the `Tech` supports changing the speed at which the video\n   * plays. Examples:\n   *   - Set player to play 2x (twice) as fast\n   *   - Set player to play 0.5x (half) as fast\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresPlaybackRate = false;\n  /**\n   * Boolean indicating whether the `Tech` supports the `progress` event. This is currently\n   * not triggered by video-js-swf. This will be used to determine if\n   * {@link Tech#manualProgressOn} should be called.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresProgressEvents = false;\n  /**\n   * Boolean indicating whether the `Tech` supports the `sourceset` event.\n   *\n   * A tech should set this to `true` and then use {@link Tech#triggerSourceset}\n   * to trigger a {@link Tech#event:sourceset} at the earliest time after getting\n   * a new source.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresSourceset = false;\n  /**\n   * Boolean indicating whether the `Tech` supports the `timeupdate` event. This is currently\n   * not triggered by video-js-swf. This will be used to determine if\n   * {@link Tech#manualTimeUpdates} should be called.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresTimeupdateEvents = false;\n  /**\n   * Boolean indicating whether the `Tech` supports the native `TextTrack`s.\n   * This will help us integrate with native `TextTrack`s if the browser supports them.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresNativeTextTracks = false;\n  /**\n   * A functional mixin for techs that want to use the Source Handler pattern.\n   * Source handlers are scripts for handling specific formats.\n   * The source handler pattern is used for adaptive formats (HLS, DASH) that\n   * manually load video data and feed it into a Source Buffer (Media Source Extensions)\n   * Example: `Tech.withSourceHandlers.call(MyTech);`\n   *\n   * @param {Tech} _Tech\n   *        The tech to add source handler functions to.\n   *\n   * @mixes Tech~SourceHandlerAdditions\n   */\n\n  Tech.withSourceHandlers = function (_Tech) {\n    /**\n     * Register a source handler\n     *\n     * @param {Function} handler\n     *        The source handler class\n     *\n     * @param {number} [index]\n     *        Register it at the following index\n     */\n    _Tech.registerSourceHandler = function (handler, index) {\n      var handlers = _Tech.sourceHandlers;\n\n      if (!handlers) {\n        handlers = _Tech.sourceHandlers = [];\n      }\n\n      if (index === undefined) {\n        // add to the end of the list\n        index = handlers.length;\n      }\n\n      handlers.splice(index, 0, handler);\n    };\n    /**\n     * Check if the tech can support the given type. Also checks the\n     * Techs sourceHandlers.\n     *\n     * @param {string} type\n     *         The mimetype to check.\n     *\n     * @return {string}\n     *         'probably', 'maybe', or '' (empty string)\n     */\n\n\n    _Tech.canPlayType = function (type) {\n      var handlers = _Tech.sourceHandlers || [];\n      var can;\n\n      for (var i = 0; i < handlers.length; i++) {\n        can = handlers[i].canPlayType(type);\n\n        if (can) {\n          return can;\n        }\n      }\n\n      return '';\n    };\n    /**\n     * Returns the first source handler that supports the source.\n     *\n     * TODO: Answer question: should 'probably' be prioritized over 'maybe'\n     *\n     * @param {Tech~SourceObject} source\n     *        The source object\n     *\n     * @param {Object} options\n     *        The options passed to the tech\n     *\n     * @return {SourceHandler|null}\n     *          The first source handler that supports the source or null if\n     *          no SourceHandler supports the source\n     */\n\n\n    _Tech.selectSourceHandler = function (source, options) {\n      var handlers = _Tech.sourceHandlers || [];\n      var can;\n\n      for (var i = 0; i < handlers.length; i++) {\n        can = handlers[i].canHandleSource(source, options);\n\n        if (can) {\n          return handlers[i];\n        }\n      }\n\n      return null;\n    };\n    /**\n     * Check if the tech can support the given source.\n     *\n     * @param {Tech~SourceObject} srcObj\n     *        The source object\n     *\n     * @param {Object} options\n     *        The options passed to the tech\n     *\n     * @return {string}\n     *         'probably', 'maybe', or '' (empty string)\n     */\n\n\n    _Tech.canPlaySource = function (srcObj, options) {\n      var sh = _Tech.selectSourceHandler(srcObj, options);\n\n      if (sh) {\n        return sh.canHandleSource(srcObj, options);\n      }\n\n      return '';\n    };\n    /**\n     * When using a source handler, prefer its implementation of\n     * any function normally provided by the tech.\n     */\n\n\n    var deferrable = ['seekable', 'seeking', 'duration'];\n    /**\n     * A wrapper around {@link Tech#seekable} that will call a `SourceHandler`s seekable\n     * function if it exists, with a fallback to the Techs seekable function.\n     *\n     * @method _Tech.seekable\n     */\n\n    /**\n     * A wrapper around {@link Tech#duration} that will call a `SourceHandler`s duration\n     * function if it exists, otherwise it will fallback to the techs duration function.\n     *\n     * @method _Tech.duration\n     */\n\n    deferrable.forEach(function (fnName) {\n      var originalFn = this[fnName];\n\n      if (typeof originalFn !== 'function') {\n        return;\n      }\n\n      this[fnName] = function () {\n        if (this.sourceHandler_ && this.sourceHandler_[fnName]) {\n          return this.sourceHandler_[fnName].apply(this.sourceHandler_, arguments);\n        }\n\n        return originalFn.apply(this, arguments);\n      };\n    }, _Tech.prototype);\n    /**\n     * Create a function for setting the source using a source object\n     * and source handlers.\n     * Should never be called unless a source handler was found.\n     *\n     * @param {Tech~SourceObject} source\n     *        A source object with src and type keys\n     */\n\n    _Tech.prototype.setSource = function (source) {\n      var sh = _Tech.selectSourceHandler(source, this.options_);\n\n      if (!sh) {\n        // Fall back to a native source hander when unsupported sources are\n        // deliberately set\n        if (_Tech.nativeSourceHandler) {\n          sh = _Tech.nativeSourceHandler;\n        } else {\n          log.error('No source handler found for the current source.');\n        }\n      } // Dispose any existing source handler\n\n\n      this.disposeSourceHandler();\n      this.off('dispose', this.disposeSourceHandler);\n\n      if (sh !== _Tech.nativeSourceHandler) {\n        this.currentSource_ = source;\n      }\n\n      this.sourceHandler_ = sh.handleSource(source, this, this.options_);\n      this.one('dispose', this.disposeSourceHandler);\n    };\n    /**\n     * Clean up any existing SourceHandlers and listeners when the Tech is disposed.\n     *\n     * @listens Tech#dispose\n     */\n\n\n    _Tech.prototype.disposeSourceHandler = function () {\n      // if we have a source and get another one\n      // then we are loading something new\n      // than clear all of our current tracks\n      if (this.currentSource_) {\n        this.clearTracks(['audio', 'video']);\n        this.currentSource_ = null;\n      } // always clean up auto-text tracks\n\n\n      this.cleanupAutoTextTracks();\n\n      if (this.sourceHandler_) {\n        if (this.sourceHandler_.dispose) {\n          this.sourceHandler_.dispose();\n        }\n\n        this.sourceHandler_ = null;\n      }\n    };\n  }; // The base Tech class needs to be registered as a Component. It is the only\n  // Tech that can be registered as a Component.\n\n\n  Component.registerComponent('Tech', Tech);\n  Tech.registerTech('Tech', Tech);\n  /**\n   * A list of techs that should be added to techOrder on Players\n   *\n   * @private\n   */\n\n  Tech.defaultTechOrder_ = [];\n\n  /**\n   * @file middleware.js\n   * @module middleware\n   */\n  var middlewares = {};\n  var middlewareInstances = {};\n  var TERMINATOR = {};\n  /**\n   * A middleware object is a plain JavaScript object that has methods that\n   * match the {@link Tech} methods found in the lists of allowed\n   * {@link module:middleware.allowedGetters|getters},\n   * {@link module:middleware.allowedSetters|setters}, and\n   * {@link module:middleware.allowedMediators|mediators}.\n   *\n   * @typedef {Object} MiddlewareObject\n   */\n\n  /**\n   * A middleware factory function that should return a\n   * {@link module:middleware~MiddlewareObject|MiddlewareObject}.\n   *\n   * This factory will be called for each player when needed, with the player\n   * passed in as an argument.\n   *\n   * @callback MiddlewareFactory\n   * @param {Player} player\n   *        A Video.js player.\n   */\n\n  /**\n   * Define a middleware that the player should use by way of a factory function\n   * that returns a middleware object.\n   *\n   * @param  {string} type\n   *         The MIME type to match or `\"*\"` for all MIME types.\n   *\n   * @param  {MiddlewareFactory} middleware\n   *         A middleware factory function that will be executed for\n   *         matching types.\n   */\n\n  function use(type, middleware) {\n    middlewares[type] = middlewares[type] || [];\n    middlewares[type].push(middleware);\n  }\n  /**\n   * Asynchronously sets a source using middleware by recursing through any\n   * matching middlewares and calling `setSource` on each, passing along the\n   * previous returned value each time.\n   *\n   * @param  {Player} player\n   *         A {@link Player} instance.\n   *\n   * @param  {Tech~SourceObject} src\n   *         A source object.\n   *\n   * @param  {Function}\n   *         The next middleware to run.\n   */\n\n  function setSource(player, src, next) {\n    player.setTimeout(function () {\n      return setSourceHelper(src, middlewares[src.type], next, player);\n    }, 1);\n  }\n  /**\n   * When the tech is set, passes the tech to each middleware's `setTech` method.\n   *\n   * @param {Object[]} middleware\n   *        An array of middleware instances.\n   *\n   * @param {Tech} tech\n   *        A Video.js tech.\n   */\n\n  function setTech(middleware, tech) {\n    middleware.forEach(function (mw) {\n      return mw.setTech && mw.setTech(tech);\n    });\n  }\n  /**\n   * Calls a getter on the tech first, through each middleware\n   * from right to left to the player.\n   *\n   * @param  {Object[]} middleware\n   *         An array of middleware instances.\n   *\n   * @param  {Tech} tech\n   *         The current tech.\n   *\n   * @param  {string} method\n   *         A method name.\n   *\n   * @return {Mixed}\n   *         The final value from the tech after middleware has intercepted it.\n   */\n\n  function get(middleware, tech, method) {\n    return middleware.reduceRight(middlewareIterator(method), tech[method]());\n  }\n  /**\n   * Takes the argument given to the player and calls the setter method on each\n   * middleware from left to right to the tech.\n   *\n   * @param  {Object[]} middleware\n   *         An array of middleware instances.\n   *\n   * @param  {Tech} tech\n   *         The current tech.\n   *\n   * @param  {string} method\n   *         A method name.\n   *\n   * @param  {Mixed} arg\n   *         The value to set on the tech.\n   *\n   * @return {Mixed}\n   *         The return value of the `method` of the `tech`.\n   */\n\n  function set(middleware, tech, method, arg) {\n    return tech[method](middleware.reduce(middlewareIterator(method), arg));\n  }\n  /**\n   * Takes the argument given to the player and calls the `call` version of the\n   * method on each middleware from left to right.\n   *\n   * Then, call the passed in method on the tech and return the result unchanged\n   * back to the player, through middleware, this time from right to left.\n   *\n   * @param  {Object[]} middleware\n   *         An array of middleware instances.\n   *\n   * @param  {Tech} tech\n   *         The current tech.\n   *\n   * @param  {string} method\n   *         A method name.\n   *\n   * @param  {Mixed} arg\n   *         The value to set on the tech.\n   *\n   * @return {Mixed}\n   *         The return value of the `method` of the `tech`, regardless of the\n   *         return values of middlewares.\n   */\n\n  function mediate(middleware, tech, method, arg) {\n    if (arg === void 0) {\n      arg = null;\n    }\n\n    var callMethod = 'call' + toTitleCase(method);\n    var middlewareValue = middleware.reduce(middlewareIterator(callMethod), arg);\n    var terminated = middlewareValue === TERMINATOR; // deprecated. The `null` return value should instead return TERMINATOR to\n    // prevent confusion if a techs method actually returns null.\n\n    var returnValue = terminated ? null : tech[method](middlewareValue);\n    executeRight(middleware, method, returnValue, terminated);\n    return returnValue;\n  }\n  /**\n   * Enumeration of allowed getters where the keys are method names.\n   *\n   * @type {Object}\n   */\n\n  var allowedGetters = {\n    buffered: 1,\n    currentTime: 1,\n    duration: 1,\n    seekable: 1,\n    played: 1,\n    paused: 1,\n    volume: 1\n  };\n  /**\n   * Enumeration of allowed setters where the keys are method names.\n   *\n   * @type {Object}\n   */\n\n  var allowedSetters = {\n    setCurrentTime: 1,\n    setVolume: 1\n  };\n  /**\n   * Enumeration of allowed mediators where the keys are method names.\n   *\n   * @type {Object}\n   */\n\n  var allowedMediators = {\n    play: 1,\n    pause: 1\n  };\n\n  function middlewareIterator(method) {\n    return function (value, mw) {\n      // if the previous middleware terminated, pass along the termination\n      if (value === TERMINATOR) {\n        return TERMINATOR;\n      }\n\n      if (mw[method]) {\n        return mw[method](value);\n      }\n\n      return value;\n    };\n  }\n\n  function executeRight(mws, method, value, terminated) {\n    for (var i = mws.length - 1; i >= 0; i--) {\n      var mw = mws[i];\n\n      if (mw[method]) {\n        mw[method](terminated, value);\n      }\n    }\n  }\n  /**\n   * Clear the middleware cache for a player.\n   *\n   * @param  {Player} player\n   *         A {@link Player} instance.\n   */\n\n\n  function clearCacheForPlayer(player) {\n    middlewareInstances[player.id()] = null;\n  }\n  /**\n   * {\n   *  [playerId]: [[mwFactory, mwInstance], ...]\n   * }\n   *\n   * @private\n   */\n\n  function getOrCreateFactory(player, mwFactory) {\n    var mws = middlewareInstances[player.id()];\n    var mw = null;\n\n    if (mws === undefined || mws === null) {\n      mw = mwFactory(player);\n      middlewareInstances[player.id()] = [[mwFactory, mw]];\n      return mw;\n    }\n\n    for (var i = 0; i < mws.length; i++) {\n      var _mws$i = mws[i],\n          mwf = _mws$i[0],\n          mwi = _mws$i[1];\n\n      if (mwf !== mwFactory) {\n        continue;\n      }\n\n      mw = mwi;\n    }\n\n    if (mw === null) {\n      mw = mwFactory(player);\n      mws.push([mwFactory, mw]);\n    }\n\n    return mw;\n  }\n\n  function setSourceHelper(src, middleware, next, player, acc, lastRun) {\n    if (src === void 0) {\n      src = {};\n    }\n\n    if (middleware === void 0) {\n      middleware = [];\n    }\n\n    if (acc === void 0) {\n      acc = [];\n    }\n\n    if (lastRun === void 0) {\n      lastRun = false;\n    }\n\n    var _middleware = middleware,\n        mwFactory = _middleware[0],\n        mwrest = _middleware.slice(1); // if mwFactory is a string, then we're at a fork in the road\n\n\n    if (typeof mwFactory === 'string') {\n      setSourceHelper(src, middlewares[mwFactory], next, player, acc, lastRun); // if we have an mwFactory, call it with the player to get the mw,\n      // then call the mw's setSource method\n    } else if (mwFactory) {\n      var mw = getOrCreateFactory(player, mwFactory); // if setSource isn't present, implicitly select this middleware\n\n      if (!mw.setSource) {\n        acc.push(mw);\n        return setSourceHelper(src, mwrest, next, player, acc, lastRun);\n      }\n\n      mw.setSource(assign({}, src), function (err, _src) {\n        // something happened, try the next middleware on the current level\n        // make sure to use the old src\n        if (err) {\n          return setSourceHelper(src, mwrest, next, player, acc, lastRun);\n        } // we've succeeded, now we need to go deeper\n\n\n        acc.push(mw); // if it's the same type, continue down the current chain\n        // otherwise, we want to go down the new chain\n\n        setSourceHelper(_src, src.type === _src.type ? mwrest : middlewares[_src.type], next, player, acc, lastRun);\n      });\n    } else if (mwrest.length) {\n      setSourceHelper(src, mwrest, next, player, acc, lastRun);\n    } else if (lastRun) {\n      next(src, acc);\n    } else {\n      setSourceHelper(src, middlewares['*'], next, player, acc, true);\n    }\n  }\n\n  /**\n   * Mimetypes\n   *\n   * @see http://hul.harvard.edu/ois/////systems/wax/wax-public-help/mimetypes.htm\n   * @typedef Mimetypes~Kind\n   * @enum\n   */\n\n  var MimetypesKind = {\n    opus: 'video/ogg',\n    ogv: 'video/ogg',\n    mp4: 'video/mp4',\n    mov: 'video/mp4',\n    m4v: 'video/mp4',\n    mkv: 'video/x-matroska',\n    m4a: 'audio/mp4',\n    mp3: 'audio/mpeg',\n    aac: 'audio/aac',\n    oga: 'audio/ogg',\n    m3u8: 'application/x-mpegURL',\n    jpg: 'image/jpeg',\n    jpeg: 'image/jpeg',\n    gif: 'image/gif',\n    png: 'image/png',\n    svg: 'image/svg+xml',\n    webp: 'image/webp'\n  };\n  /**\n   * Get the mimetype of a given src url if possible\n   *\n   * @param {string} src\n   *        The url to the src\n   *\n   * @return {string}\n   *         return the mimetype if it was known or empty string otherwise\n   */\n\n  var getMimetype = function getMimetype(src) {\n    if (src === void 0) {\n      src = '';\n    }\n\n    var ext = getFileExtension(src);\n    var mimetype = MimetypesKind[ext.toLowerCase()];\n    return mimetype || '';\n  };\n  /**\n   * Find the mime type of a given source string if possible. Uses the player\n   * source cache.\n   *\n   * @param {Player} player\n   *        The player object\n   *\n   * @param {string} src\n   *        The source string\n   *\n   * @return {string}\n   *         The type that was found\n   */\n\n  var findMimetype = function findMimetype(player, src) {\n    if (!src) {\n      return '';\n    } // 1. check for the type in the `source` cache\n\n\n    if (player.cache_.source.src === src && player.cache_.source.type) {\n      return player.cache_.source.type;\n    } // 2. see if we have this source in our `currentSources` cache\n\n\n    var matchingSources = player.cache_.sources.filter(function (s) {\n      return s.src === src;\n    });\n\n    if (matchingSources.length) {\n      return matchingSources[0].type;\n    } // 3. look for the src url in source elements and use the type there\n\n\n    var sources = player.$$('source');\n\n    for (var i = 0; i < sources.length; i++) {\n      var s = sources[i];\n\n      if (s.type && s.src && s.src === src) {\n        return s.type;\n      }\n    } // 4. finally fallback to our list of mime types based on src url extension\n\n\n    return getMimetype(src);\n  };\n\n  /**\n   * @module filter-source\n   */\n  /**\n   * Filter out single bad source objects or multiple source objects in an\n   * array. Also flattens nested source object arrays into a 1 dimensional\n   * array of source objects.\n   *\n   * @param {Tech~SourceObject|Tech~SourceObject[]} src\n   *        The src object to filter\n   *\n   * @return {Tech~SourceObject[]}\n   *         An array of sourceobjects containing only valid sources\n   *\n   * @private\n   */\n\n  var filterSource = function filterSource(src) {\n    // traverse array\n    if (Array.isArray(src)) {\n      var newsrc = [];\n      src.forEach(function (srcobj) {\n        srcobj = filterSource(srcobj);\n\n        if (Array.isArray(srcobj)) {\n          newsrc = newsrc.concat(srcobj);\n        } else if (isObject(srcobj)) {\n          newsrc.push(srcobj);\n        }\n      });\n      src = newsrc;\n    } else if (typeof src === 'string' && src.trim()) {\n      // convert string into object\n      src = [fixSource({\n        src: src\n      })];\n    } else if (isObject(src) && typeof src.src === 'string' && src.src && src.src.trim()) {\n      // src is already valid\n      src = [fixSource(src)];\n    } else {\n      // invalid source, turn it into an empty array\n      src = [];\n    }\n\n    return src;\n  };\n  /**\n   * Checks src mimetype, adding it when possible\n   *\n   * @param {Tech~SourceObject} src\n   *        The src object to check\n   * @return {Tech~SourceObject}\n   *        src Object with known type\n   */\n\n\n  function fixSource(src) {\n    if (!src.type) {\n      var mimetype = getMimetype(src.src);\n\n      if (mimetype) {\n        src.type = mimetype;\n      }\n    }\n\n    return src;\n  }\n\n  /**\n   * The `MediaLoader` is the `Component` that decides which playback technology to load\n   * when a player is initialized.\n   *\n   * @extends Component\n   */\n\n  var MediaLoader =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(MediaLoader, _Component);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should attach to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function that is run when this component is ready.\n     */\n    function MediaLoader(player, options, ready) {\n      var _this;\n\n      // MediaLoader has no element\n      var options_ = mergeOptions({\n        createEl: false\n      }, options);\n      _this = _Component.call(this, player, options_, ready) || this; // If there are no sources when the player is initialized,\n      // load the first supported playback technology.\n\n      if (!options.playerOptions.sources || options.playerOptions.sources.length === 0) {\n        for (var i = 0, j = options.playerOptions.techOrder; i < j.length; i++) {\n          var techName = toTitleCase(j[i]);\n          var tech = Tech.getTech(techName); // Support old behavior of techs being registered as components.\n          // Remove once that deprecated behavior is removed.\n\n          if (!techName) {\n            tech = Component.getComponent(techName);\n          } // Check if the browser supports this technology\n\n\n          if (tech && tech.isSupported()) {\n            player.loadTech_(techName);\n            break;\n          }\n        }\n      } else {\n        // Loop through playback technologies (HTML5, Flash) and check for support.\n        // Then load the best source.\n        // A few assumptions here:\n        //   All playback technologies respect preload false.\n        player.src(options.playerOptions.sources);\n      }\n\n      return _this;\n    }\n\n    return MediaLoader;\n  }(Component);\n\n  Component.registerComponent('MediaLoader', MediaLoader);\n\n  /**\n   * Component which is clickable or keyboard actionable, but is not a\n   * native HTML button.\n   *\n   * @extends Component\n   */\n\n  var ClickableComponent =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(ClickableComponent, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param  {Player} player\n     *         The `Player` that this class should be attached to.\n     *\n     * @param  {Object} [options]\n     *         The key/value store of player options.\n     */\n    function ClickableComponent(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n\n      _this.emitTapEvents();\n\n      _this.enable();\n\n      return _this;\n    }\n    /**\n     * Create the `ClickableComponent`s DOM element.\n     *\n     * @param {string} [tag=div]\n     *        The element's node type.\n     *\n     * @param {Object} [props={}]\n     *        An object of properties that should be set on the element.\n     *\n     * @param {Object} [attributes={}]\n     *        An object of attributes that should be set on the element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n\n\n    var _proto = ClickableComponent.prototype;\n\n    _proto.createEl = function createEl(tag, props, attributes) {\n      if (tag === void 0) {\n        tag = 'div';\n      }\n\n      if (props === void 0) {\n        props = {};\n      }\n\n      if (attributes === void 0) {\n        attributes = {};\n      }\n\n      props = assign({\n        innerHTML: '<span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>',\n        className: this.buildCSSClass(),\n        tabIndex: 0\n      }, props);\n\n      if (tag === 'button') {\n        log.error(\"Creating a ClickableComponent with an HTML element of \" + tag + \" is not supported; use a Button instead.\");\n      } // Add ARIA attributes for clickable element which is not a native HTML button\n\n\n      attributes = assign({\n        role: 'button'\n      }, attributes);\n      this.tabIndex_ = props.tabIndex;\n\n      var el = _Component.prototype.createEl.call(this, tag, props, attributes);\n\n      this.createControlTextEl(el);\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      // remove controlTextEl_ on dispose\n      this.controlTextEl_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Create a control text element on this `ClickableComponent`\n     *\n     * @param {Element} [el]\n     *        Parent element for the control text.\n     *\n     * @return {Element}\n     *         The control text element that gets created.\n     */\n    ;\n\n    _proto.createControlTextEl = function createControlTextEl(el) {\n      this.controlTextEl_ = createEl('span', {\n        className: 'vjs-control-text'\n      }, {\n        // let the screen reader user know that the text of the element may change\n        'aria-live': 'polite'\n      });\n\n      if (el) {\n        el.appendChild(this.controlTextEl_);\n      }\n\n      this.controlText(this.controlText_, el);\n      return this.controlTextEl_;\n    }\n    /**\n     * Get or set the localize text to use for the controls on the `ClickableComponent`.\n     *\n     * @param {string} [text]\n     *        Control text for element.\n     *\n     * @param {Element} [el=this.el()]\n     *        Element to set the title on.\n     *\n     * @return {string}\n     *         - The control text when getting\n     */\n    ;\n\n    _proto.controlText = function controlText(text, el) {\n      if (el === void 0) {\n        el = this.el();\n      }\n\n      if (text === undefined) {\n        return this.controlText_ || 'Need Text';\n      }\n\n      var localizedText = this.localize(text);\n      this.controlText_ = text;\n      textContent(this.controlTextEl_, localizedText);\n\n      if (!this.nonIconControl) {\n        // Set title attribute if only an icon is shown\n        el.setAttribute('title', localizedText);\n      }\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-control vjs-button \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Enable this `ClickableComponent`\n     */\n    ;\n\n    _proto.enable = function enable() {\n      if (!this.enabled_) {\n        this.enabled_ = true;\n        this.removeClass('vjs-disabled');\n        this.el_.setAttribute('aria-disabled', 'false');\n\n        if (typeof this.tabIndex_ !== 'undefined') {\n          this.el_.setAttribute('tabIndex', this.tabIndex_);\n        }\n\n        this.on(['tap', 'click'], this.handleClick);\n        this.on('keydown', this.handleKeyDown);\n      }\n    }\n    /**\n     * Disable this `ClickableComponent`\n     */\n    ;\n\n    _proto.disable = function disable() {\n      this.enabled_ = false;\n      this.addClass('vjs-disabled');\n      this.el_.setAttribute('aria-disabled', 'true');\n\n      if (typeof this.tabIndex_ !== 'undefined') {\n        this.el_.removeAttribute('tabIndex');\n      }\n\n      this.off('mouseover', this.handleMouseOver);\n      this.off('mouseout', this.handleMouseOut);\n      this.off(['tap', 'click'], this.handleClick);\n      this.off('keydown', this.handleKeyDown);\n    }\n    /**\n     * Event handler that is called when a `ClickableComponent` receives a\n     * `click` or `tap` event.\n     *\n     * @param {EventTarget~Event} event\n     *        The `tap` or `click` event that caused this function to be called.\n     *\n     * @listens tap\n     * @listens click\n     * @abstract\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {}\n    /**\n     * Event handler that is called when a `ClickableComponent` receives a\n     * `keydown` event.\n     *\n     * By default, if the key is Space or Enter, it will trigger a `click` event.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Support Space or Enter key operation to fire a click event. Also,\n      // prevent the event from propagating through the DOM and triggering\n      // Player hotkeys.\n      if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.trigger('click');\n      } else {\n        // Pass keypress handling up for unsupported keys\n        _Component.prototype.handleKeyDown.call(this, event);\n      }\n    };\n\n    return ClickableComponent;\n  }(Component);\n\n  Component.registerComponent('ClickableComponent', ClickableComponent);\n\n  /**\n   * A `ClickableComponent` that handles showing the poster image for the player.\n   *\n   * @extends ClickableComponent\n   */\n\n  var PosterImage =\n  /*#__PURE__*/\n  function (_ClickableComponent) {\n    _inheritsLoose(PosterImage, _ClickableComponent);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should attach to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function PosterImage(player, options) {\n      var _this;\n\n      _this = _ClickableComponent.call(this, player, options) || this;\n\n      _this.update();\n\n      player.on('posterchange', bind(_assertThisInitialized(_this), _this.update));\n      return _this;\n    }\n    /**\n     * Clean up and dispose of the `PosterImage`.\n     */\n\n\n    var _proto = PosterImage.prototype;\n\n    _proto.dispose = function dispose() {\n      this.player().off('posterchange', this.update);\n\n      _ClickableComponent.prototype.dispose.call(this);\n    }\n    /**\n     * Create the `PosterImage`s DOM element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl$1() {\n      var el = createEl('div', {\n        className: 'vjs-poster',\n        // Don't want poster to be tabbable.\n        tabIndex: -1\n      });\n      return el;\n    }\n    /**\n     * An {@link EventTarget~EventListener} for {@link Player#posterchange} events.\n     *\n     * @listens Player#posterchange\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `Player#posterchange` event that triggered this function.\n     */\n    ;\n\n    _proto.update = function update(event) {\n      var url = this.player().poster();\n      this.setSrc(url); // If there's no poster source we should display:none on this component\n      // so it's not still clickable or right-clickable\n\n      if (url) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }\n    /**\n     * Set the source of the `PosterImage` depending on the display method.\n     *\n     * @param {string} url\n     *        The URL to the source for the `PosterImage`.\n     */\n    ;\n\n    _proto.setSrc = function setSrc(url) {\n      var backgroundImage = ''; // Any falsy value should stay as an empty string, otherwise\n      // this will throw an extra error\n\n      if (url) {\n        backgroundImage = \"url(\\\"\" + url + \"\\\")\";\n      }\n\n      this.el_.style.backgroundImage = backgroundImage;\n    }\n    /**\n     * An {@link EventTarget~EventListener} for clicks on the `PosterImage`. See\n     * {@link ClickableComponent#handleClick} for instances where this will be triggered.\n     *\n     * @listens tap\n     * @listens click\n     * @listens keydown\n     *\n     * @param {EventTarget~Event} event\n     +        The `click`, `tap` or `keydown` event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      // We don't want a click to trigger playback when controls are disabled\n      if (!this.player_.controls()) {\n        return;\n      }\n\n      if (this.player_.tech(true)) {\n        this.player_.tech(true).focus();\n      }\n\n      if (this.player_.paused()) {\n        silencePromise(this.player_.play());\n      } else {\n        this.player_.pause();\n      }\n    };\n\n    return PosterImage;\n  }(ClickableComponent);\n\n  Component.registerComponent('PosterImage', PosterImage);\n\n  var darkGray = '#222';\n  var lightGray = '#ccc';\n  var fontMap = {\n    monospace: 'monospace',\n    sansSerif: 'sans-serif',\n    serif: 'serif',\n    monospaceSansSerif: '\"Andale Mono\", \"Lucida Console\", monospace',\n    monospaceSerif: '\"Courier New\", monospace',\n    proportionalSansSerif: 'sans-serif',\n    proportionalSerif: 'serif',\n    casual: '\"Comic Sans MS\", Impact, fantasy',\n    script: '\"Monotype Corsiva\", cursive',\n    smallcaps: '\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'\n  };\n  /**\n   * Construct an rgba color from a given hex color code.\n   *\n   * @param {number} color\n   *        Hex number for color, like #f0e or #f604e2.\n   *\n   * @param {number} opacity\n   *        Value for opacity, 0.0 - 1.0.\n   *\n   * @return {string}\n   *         The rgba color that was created, like 'rgba(255, 0, 0, 0.3)'.\n   */\n\n  function constructColor(color, opacity) {\n    var hex;\n\n    if (color.length === 4) {\n      // color looks like \"#f0e\"\n      hex = color[1] + color[1] + color[2] + color[2] + color[3] + color[3];\n    } else if (color.length === 7) {\n      // color looks like \"#f604e2\"\n      hex = color.slice(1);\n    } else {\n      throw new Error('Invalid color code provided, ' + color + '; must be formatted as e.g. #f0e or #f604e2.');\n    }\n\n    return 'rgba(' + parseInt(hex.slice(0, 2), 16) + ',' + parseInt(hex.slice(2, 4), 16) + ',' + parseInt(hex.slice(4, 6), 16) + ',' + opacity + ')';\n  }\n  /**\n   * Try to update the style of a DOM element. Some style changes will throw an error,\n   * particularly in IE8. Those should be noops.\n   *\n   * @param {Element} el\n   *        The DOM element to be styled.\n   *\n   * @param {string} style\n   *        The CSS property on the element that should be styled.\n   *\n   * @param {string} rule\n   *        The style rule that should be applied to the property.\n   *\n   * @private\n   */\n\n  function tryUpdateStyle(el, style, rule) {\n    try {\n      el.style[style] = rule;\n    } catch (e) {\n      // Satisfies linter.\n      return;\n    }\n  }\n  /**\n   * The component for displaying text track cues.\n   *\n   * @extends Component\n   */\n\n\n  var TextTrackDisplay =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(TextTrackDisplay, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when `TextTrackDisplay` is ready.\n     */\n    function TextTrackDisplay(player, options, ready) {\n      var _this;\n\n      _this = _Component.call(this, player, options, ready) || this;\n      var updateDisplayHandler = bind(_assertThisInitialized(_this), _this.updateDisplay);\n      player.on('loadstart', bind(_assertThisInitialized(_this), _this.toggleDisplay));\n      player.on('texttrackchange', updateDisplayHandler);\n      player.on('loadedmetadata', bind(_assertThisInitialized(_this), _this.preselectTrack)); // This used to be called during player init, but was causing an error\n      // if a track should show by default and the display hadn't loaded yet.\n      // Should probably be moved to an external track loader when we support\n      // tracks that don't need a display.\n\n      player.ready(bind(_assertThisInitialized(_this), function () {\n        if (player.tech_ && player.tech_.featuresNativeTextTracks) {\n          this.hide();\n          return;\n        }\n\n        player.on('fullscreenchange', updateDisplayHandler);\n        player.on('playerresize', updateDisplayHandler);\n        window$1.addEventListener('orientationchange', updateDisplayHandler);\n        player.on('dispose', function () {\n          return window$1.removeEventListener('orientationchange', updateDisplayHandler);\n        });\n        var tracks = this.options_.playerOptions.tracks || [];\n\n        for (var i = 0; i < tracks.length; i++) {\n          this.player_.addRemoteTextTrack(tracks[i], true);\n        }\n\n        this.preselectTrack();\n      }));\n      return _this;\n    }\n    /**\n    * Preselect a track following this precedence:\n    * - matches the previously selected {@link TextTrack}'s language and kind\n    * - matches the previously selected {@link TextTrack}'s language only\n    * - is the first default captions track\n    * - is the first default descriptions track\n    *\n    * @listens Player#loadstart\n    */\n\n\n    var _proto = TextTrackDisplay.prototype;\n\n    _proto.preselectTrack = function preselectTrack() {\n      var modes = {\n        captions: 1,\n        subtitles: 1\n      };\n      var trackList = this.player_.textTracks();\n      var userPref = this.player_.cache_.selectedLanguage;\n      var firstDesc;\n      var firstCaptions;\n      var preferredTrack;\n\n      for (var i = 0; i < trackList.length; i++) {\n        var track = trackList[i];\n\n        if (userPref && userPref.enabled && userPref.language && userPref.language === track.language && track.kind in modes) {\n          // Always choose the track that matches both language and kind\n          if (track.kind === userPref.kind) {\n            preferredTrack = track; // or choose the first track that matches language\n          } else if (!preferredTrack) {\n            preferredTrack = track;\n          } // clear everything if offTextTrackMenuItem was clicked\n\n        } else if (userPref && !userPref.enabled) {\n          preferredTrack = null;\n          firstDesc = null;\n          firstCaptions = null;\n        } else if (track[\"default\"]) {\n          if (track.kind === 'descriptions' && !firstDesc) {\n            firstDesc = track;\n          } else if (track.kind in modes && !firstCaptions) {\n            firstCaptions = track;\n          }\n        }\n      } // The preferredTrack matches the user preference and takes\n      // precedence over all the other tracks.\n      // So, display the preferredTrack before the first default track\n      // and the subtitles/captions track before the descriptions track\n\n\n      if (preferredTrack) {\n        preferredTrack.mode = 'showing';\n      } else if (firstCaptions) {\n        firstCaptions.mode = 'showing';\n      } else if (firstDesc) {\n        firstDesc.mode = 'showing';\n      }\n    }\n    /**\n     * Turn display of {@link TextTrack}'s from the current state into the other state.\n     * There are only two states:\n     * - 'shown'\n     * - 'hidden'\n     *\n     * @listens Player#loadstart\n     */\n    ;\n\n    _proto.toggleDisplay = function toggleDisplay() {\n      if (this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n    /**\n     * Create the {@link Component}'s DOM element.\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-text-track-display'\n      }, {\n        'aria-live': 'off',\n        'aria-atomic': 'true'\n      });\n    }\n    /**\n     * Clear all displayed {@link TextTrack}s.\n     */\n    ;\n\n    _proto.clearDisplay = function clearDisplay() {\n      if (typeof window$1.WebVTT === 'function') {\n        window$1.WebVTT.processCues(window$1, [], this.el_);\n      }\n    }\n    /**\n     * Update the displayed TextTrack when a either a {@link Player#texttrackchange} or\n     * a {@link Player#fullscreenchange} is fired.\n     *\n     * @listens Player#texttrackchange\n     * @listens Player#fullscreenchange\n     */\n    ;\n\n    _proto.updateDisplay = function updateDisplay() {\n      var tracks = this.player_.textTracks();\n      var allowMultipleShowingTracks = this.options_.allowMultipleShowingTracks;\n      this.clearDisplay();\n\n      if (allowMultipleShowingTracks) {\n        var showingTracks = [];\n\n        for (var _i = 0; _i < tracks.length; ++_i) {\n          var track = tracks[_i];\n\n          if (track.mode !== 'showing') {\n            continue;\n          }\n\n          showingTracks.push(track);\n        }\n\n        this.updateForTrack(showingTracks);\n        return;\n      } //  Track display prioritization model: if multiple tracks are 'showing',\n      //  display the first 'subtitles' or 'captions' track which is 'showing',\n      //  otherwise display the first 'descriptions' track which is 'showing'\n\n\n      var descriptionsTrack = null;\n      var captionsSubtitlesTrack = null;\n      var i = tracks.length;\n\n      while (i--) {\n        var _track = tracks[i];\n\n        if (_track.mode === 'showing') {\n          if (_track.kind === 'descriptions') {\n            descriptionsTrack = _track;\n          } else {\n            captionsSubtitlesTrack = _track;\n          }\n        }\n      }\n\n      if (captionsSubtitlesTrack) {\n        if (this.getAttribute('aria-live') !== 'off') {\n          this.setAttribute('aria-live', 'off');\n        }\n\n        this.updateForTrack(captionsSubtitlesTrack);\n      } else if (descriptionsTrack) {\n        if (this.getAttribute('aria-live') !== 'assertive') {\n          this.setAttribute('aria-live', 'assertive');\n        }\n\n        this.updateForTrack(descriptionsTrack);\n      }\n    }\n    /**\n     * Style {@Link TextTrack} activeCues according to {@Link TextTrackSettings}.\n     *\n     * @param {TextTrack} track\n     *        Text track object containing active cues to style.\n     */\n    ;\n\n    _proto.updateDisplayState = function updateDisplayState(track) {\n      var overrides = this.player_.textTrackSettings.getValues();\n      var cues = track.activeCues;\n      var i = cues.length;\n\n      while (i--) {\n        var cue = cues[i];\n\n        if (!cue) {\n          continue;\n        }\n\n        var cueDiv = cue.displayState;\n\n        if (overrides.color) {\n          cueDiv.firstChild.style.color = overrides.color;\n        }\n\n        if (overrides.textOpacity) {\n          tryUpdateStyle(cueDiv.firstChild, 'color', constructColor(overrides.color || '#fff', overrides.textOpacity));\n        }\n\n        if (overrides.backgroundColor) {\n          cueDiv.firstChild.style.backgroundColor = overrides.backgroundColor;\n        }\n\n        if (overrides.backgroundOpacity) {\n          tryUpdateStyle(cueDiv.firstChild, 'backgroundColor', constructColor(overrides.backgroundColor || '#000', overrides.backgroundOpacity));\n        }\n\n        if (overrides.windowColor) {\n          if (overrides.windowOpacity) {\n            tryUpdateStyle(cueDiv, 'backgroundColor', constructColor(overrides.windowColor, overrides.windowOpacity));\n          } else {\n            cueDiv.style.backgroundColor = overrides.windowColor;\n          }\n        }\n\n        if (overrides.edgeStyle) {\n          if (overrides.edgeStyle === 'dropshadow') {\n            cueDiv.firstChild.style.textShadow = \"2px 2px 3px \" + darkGray + \", 2px 2px 4px \" + darkGray + \", 2px 2px 5px \" + darkGray;\n          } else if (overrides.edgeStyle === 'raised') {\n            cueDiv.firstChild.style.textShadow = \"1px 1px \" + darkGray + \", 2px 2px \" + darkGray + \", 3px 3px \" + darkGray;\n          } else if (overrides.edgeStyle === 'depressed') {\n            cueDiv.firstChild.style.textShadow = \"1px 1px \" + lightGray + \", 0 1px \" + lightGray + \", -1px -1px \" + darkGray + \", 0 -1px \" + darkGray;\n          } else if (overrides.edgeStyle === 'uniform') {\n            cueDiv.firstChild.style.textShadow = \"0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray;\n          }\n        }\n\n        if (overrides.fontPercent && overrides.fontPercent !== 1) {\n          var fontSize = window$1.parseFloat(cueDiv.style.fontSize);\n          cueDiv.style.fontSize = fontSize * overrides.fontPercent + 'px';\n          cueDiv.style.height = 'auto';\n          cueDiv.style.top = 'auto';\n          cueDiv.style.bottom = '2px';\n        }\n\n        if (overrides.fontFamily && overrides.fontFamily !== 'default') {\n          if (overrides.fontFamily === 'small-caps') {\n            cueDiv.firstChild.style.fontVariant = 'small-caps';\n          } else {\n            cueDiv.firstChild.style.fontFamily = fontMap[overrides.fontFamily];\n          }\n        }\n      }\n    }\n    /**\n     * Add an {@link TextTrack} to to the {@link Tech}s {@link TextTrackList}.\n     *\n     * @param {TextTrack|TextTrack[]} tracks\n     *        Text track object or text track array to be added to the list.\n     */\n    ;\n\n    _proto.updateForTrack = function updateForTrack(tracks) {\n      if (!Array.isArray(tracks)) {\n        tracks = [tracks];\n      }\n\n      if (typeof window$1.WebVTT !== 'function' || tracks.every(function (track) {\n        return !track.activeCues;\n      })) {\n        return;\n      }\n\n      var cues = []; // push all active track cues\n\n      for (var i = 0; i < tracks.length; ++i) {\n        var track = tracks[i];\n\n        for (var j = 0; j < track.activeCues.length; ++j) {\n          cues.push(track.activeCues[j]);\n        }\n      } // removes all cues before it processes new ones\n\n\n      window$1.WebVTT.processCues(window$1, cues, this.el_); // add unique class to each language text track & add settings styling if necessary\n\n      for (var _i2 = 0; _i2 < tracks.length; ++_i2) {\n        var _track2 = tracks[_i2];\n\n        for (var _j = 0; _j < _track2.activeCues.length; ++_j) {\n          var cueEl = _track2.activeCues[_j].displayState;\n          addClass(cueEl, 'vjs-text-track-cue');\n          addClass(cueEl, 'vjs-text-track-cue-' + (_track2.language ? _track2.language : _i2));\n        }\n\n        if (this.player_.textTrackSettings) {\n          this.updateDisplayState(_track2);\n        }\n      }\n    };\n\n    return TextTrackDisplay;\n  }(Component);\n\n  Component.registerComponent('TextTrackDisplay', TextTrackDisplay);\n\n  /**\n   * A loading spinner for use during waiting/loading events.\n   *\n   * @extends Component\n   */\n\n  var LoadingSpinner =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(LoadingSpinner, _Component);\n\n    function LoadingSpinner() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = LoadingSpinner.prototype;\n\n    /**\n     * Create the `LoadingSpinner`s DOM element.\n     *\n     * @return {Element}\n     *         The dom element that gets created.\n     */\n    _proto.createEl = function createEl$1() {\n      var isAudio = this.player_.isAudio();\n      var playerType = this.localize(isAudio ? 'Audio Player' : 'Video Player');\n      var controlText = createEl('span', {\n        className: 'vjs-control-text',\n        innerHTML: this.localize('{1} is loading.', [playerType])\n      });\n\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-loading-spinner',\n        dir: 'ltr'\n      });\n\n      el.appendChild(controlText);\n      return el;\n    };\n\n    return LoadingSpinner;\n  }(Component);\n\n  Component.registerComponent('LoadingSpinner', LoadingSpinner);\n\n  /**\n   * Base class for all buttons.\n   *\n   * @extends ClickableComponent\n   */\n\n  var Button =\n  /*#__PURE__*/\n  function (_ClickableComponent) {\n    _inheritsLoose(Button, _ClickableComponent);\n\n    function Button() {\n      return _ClickableComponent.apply(this, arguments) || this;\n    }\n\n    var _proto = Button.prototype;\n\n    /**\n     * Create the `Button`s DOM element.\n     *\n     * @param {string} [tag=\"button\"]\n     *        The element's node type. This argument is IGNORED: no matter what\n     *        is passed, it will always create a `button` element.\n     *\n     * @param {Object} [props={}]\n     *        An object of properties that should be set on the element.\n     *\n     * @param {Object} [attributes={}]\n     *        An object of attributes that should be set on the element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    _proto.createEl = function createEl(tag, props, attributes) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      if (attributes === void 0) {\n        attributes = {};\n      }\n\n      tag = 'button';\n      props = assign({\n        innerHTML: '<span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>',\n        className: this.buildCSSClass()\n      }, props); // Add attributes for button element\n\n      attributes = assign({\n        // Necessary since the default button type is \"submit\"\n        type: 'button'\n      }, attributes);\n      var el = Component.prototype.createEl.call(this, tag, props, attributes);\n      this.createControlTextEl(el);\n      return el;\n    }\n    /**\n     * Add a child `Component` inside of this `Button`.\n     *\n     * @param {string|Component} child\n     *        The name or instance of a child to add.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of options that will get passed to children of\n     *        the child.\n     *\n     * @return {Component}\n     *         The `Component` that gets added as a child. When using a string the\n     *         `Component` will get created by this process.\n     *\n     * @deprecated since version 5\n     */\n    ;\n\n    _proto.addChild = function addChild(child, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      var className = this.constructor.name;\n      log.warn(\"Adding an actionable (user controllable) child to a Button (\" + className + \") is not supported; use a ClickableComponent instead.\"); // Avoid the error message generated by ClickableComponent's addChild method\n\n      return Component.prototype.addChild.call(this, child, options);\n    }\n    /**\n     * Enable the `Button` element so that it can be activated or clicked. Use this with\n     * {@link Button#disable}.\n     */\n    ;\n\n    _proto.enable = function enable() {\n      _ClickableComponent.prototype.enable.call(this);\n\n      this.el_.removeAttribute('disabled');\n    }\n    /**\n     * Disable the `Button` element so that it cannot be activated or clicked. Use this with\n     * {@link Button#enable}.\n     */\n    ;\n\n    _proto.disable = function disable() {\n      _ClickableComponent.prototype.disable.call(this);\n\n      this.el_.setAttribute('disabled', 'disabled');\n    }\n    /**\n     * This gets called when a `Button` has focus and `keydown` is triggered via a key\n     * press.\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to get called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Ignore Space or Enter key operation, which is handled by the browser for\n      // a button - though not for its super class, ClickableComponent. Also,\n      // prevent the event from propagating through the DOM and triggering Player\n      // hotkeys. We do not preventDefault here because we _want_ the browser to\n      // handle it.\n      if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n        event.stopPropagation();\n        return;\n      } // Pass keypress handling up for unsupported keys\n\n\n      _ClickableComponent.prototype.handleKeyDown.call(this, event);\n    };\n\n    return Button;\n  }(ClickableComponent);\n\n  Component.registerComponent('Button', Button);\n\n  /**\n   * The initial play button that shows before the video has played. The hiding of the\n   * `BigPlayButton` get done via CSS and `Player` states.\n   *\n   * @extends Button\n   */\n\n  var BigPlayButton =\n  /*#__PURE__*/\n  function (_Button) {\n    _inheritsLoose(BigPlayButton, _Button);\n\n    function BigPlayButton(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this;\n      _this.mouseused_ = false;\n\n      _this.on('mousedown', _this.handleMouseDown);\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object. Always returns 'vjs-big-play-button'.\n     */\n\n\n    var _proto = BigPlayButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return 'vjs-big-play-button';\n    }\n    /**\n     * This gets called when a `BigPlayButton` \"clicked\". See {@link ClickableComponent}\n     * for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      var playPromise = this.player_.play(); // exit early if clicked via the mouse\n\n      if (this.mouseused_ && event.clientX && event.clientY) {\n        silencePromise(playPromise);\n\n        if (this.player_.tech(true)) {\n          this.player_.tech(true).focus();\n        }\n\n        return;\n      }\n\n      var cb = this.player_.getChild('controlBar');\n      var playToggle = cb && cb.getChild('playToggle');\n\n      if (!playToggle) {\n        this.player_.tech(true).focus();\n        return;\n      }\n\n      var playFocus = function playFocus() {\n        return playToggle.focus();\n      };\n\n      if (isPromise(playPromise)) {\n        playPromise.then(playFocus, function () {});\n      } else {\n        this.setTimeout(playFocus, 1);\n      }\n    };\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      this.mouseused_ = false;\n\n      _Button.prototype.handleKeyDown.call(this, event);\n    };\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      this.mouseused_ = true;\n    };\n\n    return BigPlayButton;\n  }(Button);\n  /**\n   * The text that should display over the `BigPlayButton`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  BigPlayButton.prototype.controlText_ = 'Play Video';\n  Component.registerComponent('BigPlayButton', BigPlayButton);\n\n  /**\n   * The `CloseButton` is a `{@link Button}` that fires a `close` event when\n   * it gets clicked.\n   *\n   * @extends Button\n   */\n\n  var CloseButton =\n  /*#__PURE__*/\n  function (_Button) {\n    _inheritsLoose(CloseButton, _Button);\n\n    /**\n    * Creates an instance of the this class.\n    *\n    * @param  {Player} player\n    *         The `Player` that this class should be attached to.\n    *\n    * @param  {Object} [options]\n    *         The key/value store of player options.\n    */\n    function CloseButton(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this;\n\n      _this.controlText(options && options.controlText || _this.localize('Close'));\n\n      return _this;\n    }\n    /**\n    * Builds the default DOM `className`.\n    *\n    * @return {string}\n    *         The DOM `className` for this object.\n    */\n\n\n    var _proto = CloseButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-close-button \" + _Button.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * This gets called when a `CloseButton` gets clicked. See\n     * {@link ClickableComponent#handleClick} for more information on when\n     * this will be triggered\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     * @fires CloseButton#close\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      /**\n       * Triggered when the a `CloseButton` is clicked.\n       *\n       * @event CloseButton#close\n       * @type {EventTarget~Event}\n       *\n       * @property {boolean} [bubbles=false]\n       *           set to false so that the close event does not\n       *           bubble up to parents if there is no listener\n       */\n      this.trigger({\n        type: 'close',\n        bubbles: false\n      });\n    }\n    /**\n     * Event handler that is called when a `CloseButton` receives a\n     * `keydown` event.\n     *\n     * By default, if the key is Esc, it will trigger a `click` event.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Esc button will trigger `click` event\n      if (keycode.isEventKey(event, 'Esc')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.trigger('click');\n      } else {\n        // Pass keypress handling up for unsupported keys\n        _Button.prototype.handleKeyDown.call(this, event);\n      }\n    };\n\n    return CloseButton;\n  }(Button);\n\n  Component.registerComponent('CloseButton', CloseButton);\n\n  /**\n   * Button to toggle between play and pause.\n   *\n   * @extends Button\n   */\n\n  var PlayToggle =\n  /*#__PURE__*/\n  function (_Button) {\n    _inheritsLoose(PlayToggle, _Button);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function PlayToggle(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _Button.call(this, player, options) || this; // show or hide replay icon\n\n      options.replay = options.replay === undefined || options.replay;\n\n      _this.on(player, 'play', _this.handlePlay);\n\n      _this.on(player, 'pause', _this.handlePause);\n\n      if (options.replay) {\n        _this.on(player, 'ended', _this.handleEnded);\n      }\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = PlayToggle.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-play-control \" + _Button.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * This gets called when an `PlayToggle` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      if (this.player_.paused()) {\n        this.player_.play();\n      } else {\n        this.player_.pause();\n      }\n    }\n    /**\n     * This gets called once after the video has ended and the user seeks so that\n     * we can change the replay button back to a play button.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#seeked\n     */\n    ;\n\n    _proto.handleSeeked = function handleSeeked(event) {\n      this.removeClass('vjs-ended');\n\n      if (this.player_.paused()) {\n        this.handlePause(event);\n      } else {\n        this.handlePlay(event);\n      }\n    }\n    /**\n     * Add the vjs-playing class to the element so it can change appearance.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#play\n     */\n    ;\n\n    _proto.handlePlay = function handlePlay(event) {\n      this.removeClass('vjs-ended');\n      this.removeClass('vjs-paused');\n      this.addClass('vjs-playing'); // change the button text to \"Pause\"\n\n      this.controlText('Pause');\n    }\n    /**\n     * Add the vjs-paused class to the element so it can change appearance.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#pause\n     */\n    ;\n\n    _proto.handlePause = function handlePause(event) {\n      this.removeClass('vjs-playing');\n      this.addClass('vjs-paused'); // change the button text to \"Play\"\n\n      this.controlText('Play');\n    }\n    /**\n     * Add the vjs-ended class to the element so it can change appearance\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#ended\n     */\n    ;\n\n    _proto.handleEnded = function handleEnded(event) {\n      this.removeClass('vjs-playing');\n      this.addClass('vjs-ended'); // change the button text to \"Replay\"\n\n      this.controlText('Replay'); // on the next seek remove the replay button\n\n      this.one(this.player_, 'seeked', this.handleSeeked);\n    };\n\n    return PlayToggle;\n  }(Button);\n  /**\n   * The text that should display over the `PlayToggle`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  PlayToggle.prototype.controlText_ = 'Play';\n  Component.registerComponent('PlayToggle', PlayToggle);\n\n  /**\n   * @file format-time.js\n   * @module format-time\n   */\n\n  /**\n   * Format seconds as a time string, H:MM:SS or M:SS. Supplying a guide (in\n   * seconds) will force a number of leading zeros to cover the length of the\n   * guide.\n   *\n   * @private\n   * @param  {number} seconds\n   *         Number of seconds to be turned into a string\n   *\n   * @param  {number} guide\n   *         Number (in seconds) to model the string after\n   *\n   * @return {string}\n   *         Time formatted as H:MM:SS or M:SS\n   */\n  var defaultImplementation = function defaultImplementation(seconds, guide) {\n    seconds = seconds < 0 ? 0 : seconds;\n    var s = Math.floor(seconds % 60);\n    var m = Math.floor(seconds / 60 % 60);\n    var h = Math.floor(seconds / 3600);\n    var gm = Math.floor(guide / 60 % 60);\n    var gh = Math.floor(guide / 3600); // handle invalid times\n\n    if (isNaN(seconds) || seconds === Infinity) {\n      // '-' is false for all relational operators (e.g. <, >=) so this setting\n      // will add the minimum number of fields specified by the guide\n      h = m = s = '-';\n    } // Check if we need to show hours\n\n\n    h = h > 0 || gh > 0 ? h + ':' : ''; // If hours are showing, we may need to add a leading zero.\n    // Always show at least one digit of minutes.\n\n    m = ((h || gm >= 10) && m < 10 ? '0' + m : m) + ':'; // Check if leading zero is need for seconds\n\n    s = s < 10 ? '0' + s : s;\n    return h + m + s;\n  }; // Internal pointer to the current implementation.\n\n\n  var implementation$3 = defaultImplementation;\n  /**\n   * Replaces the default formatTime implementation with a custom implementation.\n   *\n   * @param {Function} customImplementation\n   *        A function which will be used in place of the default formatTime\n   *        implementation. Will receive the current time in seconds and the\n   *        guide (in seconds) as arguments.\n   */\n\n  function setFormatTime(customImplementation) {\n    implementation$3 = customImplementation;\n  }\n  /**\n   * Resets formatTime to the default implementation.\n   */\n\n  function resetFormatTime() {\n    implementation$3 = defaultImplementation;\n  }\n  /**\n   * Delegates to either the default time formatting function or a custom\n   * function supplied via `setFormatTime`.\n   *\n   * Formats seconds as a time string (H:MM:SS or M:SS). Supplying a\n   * guide (in seconds) will force a number of leading zeros to cover the\n   * length of the guide.\n   *\n   * @static\n   * @example  formatTime(125, 600) === \"02:05\"\n   * @param    {number} seconds\n   *           Number of seconds to be turned into a string\n   *\n   * @param    {number} guide\n   *           Number (in seconds) to model the string after\n   *\n   * @return   {string}\n   *           Time formatted as H:MM:SS or M:SS\n   */\n\n  function formatTime(seconds, guide) {\n    if (guide === void 0) {\n      guide = seconds;\n    }\n\n    return implementation$3(seconds, guide);\n  }\n\n  /**\n   * Displays time information about the video\n   *\n   * @extends Component\n   */\n\n  var TimeDisplay =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(TimeDisplay, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function TimeDisplay(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.throttledUpdateContent = throttle(bind(_assertThisInitialized(_this), _this.updateContent), UPDATE_REFRESH_INTERVAL);\n\n      _this.on(player, 'timeupdate', _this.throttledUpdateContent);\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = TimeDisplay.prototype;\n\n    _proto.createEl = function createEl$1() {\n      var className = this.buildCSSClass();\n\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: className + \" vjs-time-control vjs-control\",\n        innerHTML: \"<span class=\\\"vjs-control-text\\\" role=\\\"presentation\\\">\" + this.localize(this.labelText_) + \"\\xA0</span>\"\n      });\n\n      this.contentEl_ = createEl('span', {\n        className: className + \"-display\"\n      }, {\n        // tell screen readers not to automatically read the time as it changes\n        'aria-live': 'off',\n        // span elements have no implicit role, but some screen readers (notably VoiceOver)\n        // treat them as a break between items in the DOM when using arrow keys\n        // (or left-to-right swipes on iOS) to read contents of a page. Using\n        // role='presentation' causes VoiceOver to NOT treat this span as a break.\n        'role': 'presentation'\n      });\n      this.updateTextNode_();\n      el.appendChild(this.contentEl_);\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      this.contentEl_ = null;\n      this.textNode_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Updates the \"remaining time\" text node with new content using the\n     * contents of the `formattedTime_` property.\n     *\n     * @private\n     */\n    ;\n\n    _proto.updateTextNode_ = function updateTextNode_() {\n      if (!this.contentEl_) {\n        return;\n      }\n\n      while (this.contentEl_.firstChild) {\n        this.contentEl_.removeChild(this.contentEl_.firstChild);\n      }\n\n      this.textNode_ = document.createTextNode(this.formattedTime_ || this.formatTime_(0));\n      this.contentEl_.appendChild(this.textNode_);\n    }\n    /**\n     * Generates a formatted time for this component to use in display.\n     *\n     * @param  {number} time\n     *         A numeric time, in seconds.\n     *\n     * @return {string}\n     *         A formatted time\n     *\n     * @private\n     */\n    ;\n\n    _proto.formatTime_ = function formatTime_(time) {\n      return formatTime(time);\n    }\n    /**\n     * Updates the time display text node if it has what was passed in changed\n     * the formatted time.\n     *\n     * @param {number} time\n     *        The time to update to\n     *\n     * @private\n     */\n    ;\n\n    _proto.updateFormattedTime_ = function updateFormattedTime_(time) {\n      var formattedTime = this.formatTime_(time);\n\n      if (formattedTime === this.formattedTime_) {\n        return;\n      }\n\n      this.formattedTime_ = formattedTime;\n      this.requestAnimationFrame(this.updateTextNode_);\n    }\n    /**\n     * To be filled out in the child class, should update the displayed time\n     * in accordance with the fact that the current time has changed.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `timeupdate`  event that caused this to run.\n     *\n     * @listens Player#timeupdate\n     */\n    ;\n\n    _proto.updateContent = function updateContent(event) {};\n\n    return TimeDisplay;\n  }(Component);\n  /**\n   * The text that is added to the `TimeDisplay` for screen reader users.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  TimeDisplay.prototype.labelText_ = 'Time';\n  /**\n   * The text that should display over the `TimeDisplay`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   *\n   * @deprecated in v7; controlText_ is not used in non-active display Components\n   */\n\n  TimeDisplay.prototype.controlText_ = 'Time';\n  Component.registerComponent('TimeDisplay', TimeDisplay);\n\n  /**\n   * Displays the current time\n   *\n   * @extends Component\n   */\n\n  var CurrentTimeDisplay =\n  /*#__PURE__*/\n  function (_TimeDisplay) {\n    _inheritsLoose(CurrentTimeDisplay, _TimeDisplay);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function CurrentTimeDisplay(player, options) {\n      var _this;\n\n      _this = _TimeDisplay.call(this, player, options) || this;\n\n      _this.on(player, 'ended', _this.handleEnded);\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = CurrentTimeDisplay.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return 'vjs-current-time';\n    }\n    /**\n     * Update current time display\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `timeupdate` event that caused this function to run.\n     *\n     * @listens Player#timeupdate\n     */\n    ;\n\n    _proto.updateContent = function updateContent(event) {\n      // Allows for smooth scrubbing, when player can't keep up.\n      var time = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n      this.updateFormattedTime_(time);\n    }\n    /**\n     * When the player fires ended there should be no time left. Sadly\n     * this is not always the case, lets make it seem like that is the case\n     * for users.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `ended` event that caused this to run.\n     *\n     * @listens Player#ended\n     */\n    ;\n\n    _proto.handleEnded = function handleEnded(event) {\n      if (!this.player_.duration()) {\n        return;\n      }\n\n      this.updateFormattedTime_(this.player_.duration());\n    };\n\n    return CurrentTimeDisplay;\n  }(TimeDisplay);\n  /**\n   * The text that is added to the `CurrentTimeDisplay` for screen reader users.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  CurrentTimeDisplay.prototype.labelText_ = 'Current Time';\n  /**\n   * The text that should display over the `CurrentTimeDisplay`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   *\n   * @deprecated in v7; controlText_ is not used in non-active display Components\n   */\n\n  CurrentTimeDisplay.prototype.controlText_ = 'Current Time';\n  Component.registerComponent('CurrentTimeDisplay', CurrentTimeDisplay);\n\n  /**\n   * Displays the duration\n   *\n   * @extends Component\n   */\n\n  var DurationDisplay =\n  /*#__PURE__*/\n  function (_TimeDisplay) {\n    _inheritsLoose(DurationDisplay, _TimeDisplay);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function DurationDisplay(player, options) {\n      var _this;\n\n      _this = _TimeDisplay.call(this, player, options) || this; // we do not want to/need to throttle duration changes,\n      // as they should always display the changed duration as\n      // it has changed\n\n      _this.on(player, 'durationchange', _this.updateContent); // Listen to loadstart because the player duration is reset when a new media element is loaded,\n      // but the durationchange on the user agent will not fire.\n      // @see [Spec]{@link https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-element-load-algorithm}\n\n\n      _this.on(player, 'loadstart', _this.updateContent); // Also listen for timeupdate (in the parent) and loadedmetadata because removing those\n      // listeners could have broken dependent applications/libraries. These\n      // can likely be removed for 7.0.\n\n\n      _this.on(player, 'loadedmetadata', _this.throttledUpdateContent);\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = DurationDisplay.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return 'vjs-duration';\n    }\n    /**\n     * Update duration time display.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `durationchange`, `timeupdate`, or `loadedmetadata` event that caused\n     *        this function to be called.\n     *\n     * @listens Player#durationchange\n     * @listens Player#timeupdate\n     * @listens Player#loadedmetadata\n     */\n    ;\n\n    _proto.updateContent = function updateContent(event) {\n      var duration = this.player_.duration();\n\n      if (this.duration_ !== duration) {\n        this.duration_ = duration;\n        this.updateFormattedTime_(duration);\n      }\n    };\n\n    return DurationDisplay;\n  }(TimeDisplay);\n  /**\n   * The text that is added to the `DurationDisplay` for screen reader users.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  DurationDisplay.prototype.labelText_ = 'Duration';\n  /**\n   * The text that should display over the `DurationDisplay`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   *\n   * @deprecated in v7; controlText_ is not used in non-active display Components\n   */\n\n  DurationDisplay.prototype.controlText_ = 'Duration';\n  Component.registerComponent('DurationDisplay', DurationDisplay);\n\n  /**\n   * The separator between the current time and duration.\n   * Can be hidden if it's not needed in the design.\n   *\n   * @extends Component\n   */\n\n  var TimeDivider =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(TimeDivider, _Component);\n\n    function TimeDivider() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = TimeDivider.prototype;\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-time-control vjs-time-divider',\n        innerHTML: '<div><span>/</span></div>'\n      }, {\n        // this element and its contents can be hidden from assistive techs since\n        // it is made extraneous by the announcement of the control text\n        // for the current time and duration displays\n        'aria-hidden': true\n      });\n    };\n\n    return TimeDivider;\n  }(Component);\n\n  Component.registerComponent('TimeDivider', TimeDivider);\n\n  /**\n   * Displays the time left in the video\n   *\n   * @extends Component\n   */\n\n  var RemainingTimeDisplay =\n  /*#__PURE__*/\n  function (_TimeDisplay) {\n    _inheritsLoose(RemainingTimeDisplay, _TimeDisplay);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function RemainingTimeDisplay(player, options) {\n      var _this;\n\n      _this = _TimeDisplay.call(this, player, options) || this;\n\n      _this.on(player, 'durationchange', _this.throttledUpdateContent);\n\n      _this.on(player, 'ended', _this.handleEnded);\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = RemainingTimeDisplay.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return 'vjs-remaining-time';\n    }\n    /**\n     * Create the `Component`'s DOM element with the \"minus\" characted prepend to the time\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl$1() {\n      var el = _TimeDisplay.prototype.createEl.call(this);\n\n      el.insertBefore(createEl('span', {}, {\n        'aria-hidden': true\n      }, '-'), this.contentEl_);\n      return el;\n    }\n    /**\n     * Update remaining time display.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `timeupdate` or `durationchange` event that caused this to run.\n     *\n     * @listens Player#timeupdate\n     * @listens Player#durationchange\n     */\n    ;\n\n    _proto.updateContent = function updateContent(event) {\n      if (typeof this.player_.duration() !== 'number') {\n        return;\n      } // @deprecated We should only use remainingTimeDisplay\n      // as of video.js 7\n\n\n      if (this.player_.remainingTimeDisplay) {\n        this.updateFormattedTime_(this.player_.remainingTimeDisplay());\n      } else {\n        this.updateFormattedTime_(this.player_.remainingTime());\n      }\n    }\n    /**\n     * When the player fires ended there should be no time left. Sadly\n     * this is not always the case, lets make it seem like that is the case\n     * for users.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `ended` event that caused this to run.\n     *\n     * @listens Player#ended\n     */\n    ;\n\n    _proto.handleEnded = function handleEnded(event) {\n      if (!this.player_.duration()) {\n        return;\n      }\n\n      this.updateFormattedTime_(0);\n    };\n\n    return RemainingTimeDisplay;\n  }(TimeDisplay);\n  /**\n   * The text that is added to the `RemainingTimeDisplay` for screen reader users.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  RemainingTimeDisplay.prototype.labelText_ = 'Remaining Time';\n  /**\n   * The text that should display over the `RemainingTimeDisplay`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   *\n   * @deprecated in v7; controlText_ is not used in non-active display Components\n   */\n\n  RemainingTimeDisplay.prototype.controlText_ = 'Remaining Time';\n  Component.registerComponent('RemainingTimeDisplay', RemainingTimeDisplay);\n\n  /**\n   * Displays the live indicator when duration is Infinity.\n   *\n   * @extends Component\n   */\n\n  var LiveDisplay =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(LiveDisplay, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function LiveDisplay(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n\n      _this.updateShowing();\n\n      _this.on(_this.player(), 'durationchange', _this.updateShowing);\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = LiveDisplay.prototype;\n\n    _proto.createEl = function createEl$1() {\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-live-control vjs-control'\n      });\n\n      this.contentEl_ = createEl('div', {\n        className: 'vjs-live-display',\n        innerHTML: \"<span class=\\\"vjs-control-text\\\">\" + this.localize('Stream Type') + \"\\xA0</span>\" + this.localize('LIVE')\n      }, {\n        'aria-live': 'off'\n      });\n      el.appendChild(this.contentEl_);\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      this.contentEl_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Check the duration to see if the LiveDisplay should be showing or not. Then show/hide\n     * it accordingly\n     *\n     * @param {EventTarget~Event} [event]\n     *        The {@link Player#durationchange} event that caused this function to run.\n     *\n     * @listens Player#durationchange\n     */\n    ;\n\n    _proto.updateShowing = function updateShowing(event) {\n      if (this.player().duration() === Infinity) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    };\n\n    return LiveDisplay;\n  }(Component);\n\n  Component.registerComponent('LiveDisplay', LiveDisplay);\n\n  /**\n   * Displays the live indicator when duration is Infinity.\n   *\n   * @extends Component\n   */\n\n  var SeekToLive =\n  /*#__PURE__*/\n  function (_Button) {\n    _inheritsLoose(SeekToLive, _Button);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function SeekToLive(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this;\n\n      _this.updateLiveEdgeStatus();\n\n      if (_this.player_.liveTracker) {\n        _this.on(_this.player_.liveTracker, 'liveedgechange', _this.updateLiveEdgeStatus);\n      }\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = SeekToLive.prototype;\n\n    _proto.createEl = function createEl$1() {\n      var el = _Button.prototype.createEl.call(this, 'button', {\n        className: 'vjs-seek-to-live-control vjs-control'\n      });\n\n      this.textEl_ = createEl('span', {\n        className: 'vjs-seek-to-live-text',\n        innerHTML: this.localize('LIVE')\n      }, {\n        'aria-hidden': 'true'\n      });\n      el.appendChild(this.textEl_);\n      return el;\n    }\n    /**\n     * Update the state of this button if we are at the live edge\n     * or not\n     */\n    ;\n\n    _proto.updateLiveEdgeStatus = function updateLiveEdgeStatus(e) {\n      // default to live edge\n      if (!this.player_.liveTracker || this.player_.liveTracker.atLiveEdge()) {\n        this.setAttribute('aria-disabled', true);\n        this.addClass('vjs-at-live-edge');\n        this.controlText('Seek to live, currently playing live');\n      } else {\n        this.setAttribute('aria-disabled', false);\n        this.removeClass('vjs-at-live-edge');\n        this.controlText('Seek to live, currently behind live');\n      }\n    }\n    /**\n     * On click bring us as near to the live point as possible.\n     * This requires that we wait for the next `live-seekable-change`\n     * event which will happen every segment length seconds.\n     */\n    ;\n\n    _proto.handleClick = function handleClick() {\n      this.player_.liveTracker.seekToLiveEdge();\n    }\n    /**\n     * Dispose of the element and stop tracking\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      if (this.player_.liveTracker) {\n        this.off(this.player_.liveTracker, 'liveedgechange', this.updateLiveEdgeStatus);\n      }\n\n      this.textEl_ = null;\n\n      _Button.prototype.dispose.call(this);\n    };\n\n    return SeekToLive;\n  }(Button);\n\n  SeekToLive.prototype.controlText_ = 'Seek to live, currently playing live';\n  Component.registerComponent('SeekToLive', SeekToLive);\n\n  /**\n   * The base functionality for a slider. Can be vertical or horizontal.\n   * For instance the volume bar or the seek bar on a video is a slider.\n   *\n   * @extends Component\n   */\n\n  var Slider =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(Slider, _Component);\n\n    /**\n    * Create an instance of this class\n    *\n    * @param {Player} player\n    *        The `Player` that this class should be attached to.\n    *\n    * @param {Object} [options]\n    *        The key/value store of player options.\n    */\n    function Slider(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this; // Set property names to bar to match with the child Slider class is looking for\n\n      _this.bar = _this.getChild(_this.options_.barName); // Set a horizontal or vertical class on the slider depending on the slider type\n\n      _this.vertical(!!_this.options_.vertical);\n\n      _this.enable();\n\n      return _this;\n    }\n    /**\n     * Are controls are currently enabled for this slider or not.\n     *\n     * @return {boolean}\n     *         true if controls are enabled, false otherwise\n     */\n\n\n    var _proto = Slider.prototype;\n\n    _proto.enabled = function enabled() {\n      return this.enabled_;\n    }\n    /**\n     * Enable controls for this slider if they are disabled\n     */\n    ;\n\n    _proto.enable = function enable() {\n      if (this.enabled()) {\n        return;\n      }\n\n      this.on('mousedown', this.handleMouseDown);\n      this.on('touchstart', this.handleMouseDown);\n      this.on('keydown', this.handleKeyDown);\n      this.on('click', this.handleClick); // TODO: deprecated, controlsvisible does not seem to be fired\n\n      this.on(this.player_, 'controlsvisible', this.update);\n\n      if (this.playerEvent) {\n        this.on(this.player_, this.playerEvent, this.update);\n      }\n\n      this.removeClass('disabled');\n      this.setAttribute('tabindex', 0);\n      this.enabled_ = true;\n    }\n    /**\n     * Disable controls for this slider if they are enabled\n     */\n    ;\n\n    _proto.disable = function disable() {\n      if (!this.enabled()) {\n        return;\n      }\n\n      var doc = this.bar.el_.ownerDocument;\n      this.off('mousedown', this.handleMouseDown);\n      this.off('touchstart', this.handleMouseDown);\n      this.off('keydown', this.handleKeyDown);\n      this.off('click', this.handleClick);\n      this.off(this.player_, 'controlsvisible', this.update);\n      this.off(doc, 'mousemove', this.handleMouseMove);\n      this.off(doc, 'mouseup', this.handleMouseUp);\n      this.off(doc, 'touchmove', this.handleMouseMove);\n      this.off(doc, 'touchend', this.handleMouseUp);\n      this.removeAttribute('tabindex');\n      this.addClass('disabled');\n\n      if (this.playerEvent) {\n        this.off(this.player_, this.playerEvent, this.update);\n      }\n\n      this.enabled_ = false;\n    }\n    /**\n     * Create the `Slider`s DOM element.\n     *\n     * @param {string} type\n     *        Type of element to create.\n     *\n     * @param {Object} [props={}]\n     *        List of properties in Object form.\n     *\n     * @param {Object} [attributes={}]\n     *        list of attributes in Object form.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl(type, props, attributes) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      if (attributes === void 0) {\n        attributes = {};\n      }\n\n      // Add the slider element class to all sub classes\n      props.className = props.className + ' vjs-slider';\n      props = assign({\n        tabIndex: 0\n      }, props);\n      attributes = assign({\n        'role': 'slider',\n        'aria-valuenow': 0,\n        'aria-valuemin': 0,\n        'aria-valuemax': 100,\n        'tabIndex': 0\n      }, attributes);\n      return _Component.prototype.createEl.call(this, type, props, attributes);\n    }\n    /**\n     * Handle `mousedown` or `touchstart` events on the `Slider`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousedown\n     * @listens touchstart\n     * @fires Slider#slideractive\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      var doc = this.bar.el_.ownerDocument;\n\n      if (event.type === 'mousedown') {\n        event.preventDefault();\n      } // Do not call preventDefault() on touchstart in Chrome\n      // to avoid console warnings. Use a 'touch-action: none' style\n      // instead to prevent unintented scrolling.\n      // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n\n\n      if (event.type === 'touchstart' && !IS_CHROME) {\n        event.preventDefault();\n      }\n\n      blockTextSelection();\n      this.addClass('vjs-sliding');\n      /**\n       * Triggered when the slider is in an active state\n       *\n       * @event Slider#slideractive\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('slideractive');\n      this.on(doc, 'mousemove', this.handleMouseMove);\n      this.on(doc, 'mouseup', this.handleMouseUp);\n      this.on(doc, 'touchmove', this.handleMouseMove);\n      this.on(doc, 'touchend', this.handleMouseUp);\n      this.handleMouseMove(event);\n    }\n    /**\n     * Handle the `mousemove`, `touchmove`, and `mousedown` events on this `Slider`.\n     * The `mousemove` and `touchmove` events will only only trigger this function during\n     * `mousedown` and `touchstart`. This is due to {@link Slider#handleMouseDown} and\n     * {@link Slider#handleMouseUp}.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown`, `mousemove`, `touchstart`, or `touchmove` event that triggered\n     *        this function\n     *\n     * @listens mousemove\n     * @listens touchmove\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event) {}\n    /**\n     * Handle `mouseup` or `touchend` events on the `Slider`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mouseup` or `touchend` event that triggered this function.\n     *\n     * @listens touchend\n     * @listens mouseup\n     * @fires Slider#sliderinactive\n     */\n    ;\n\n    _proto.handleMouseUp = function handleMouseUp() {\n      var doc = this.bar.el_.ownerDocument;\n      unblockTextSelection();\n      this.removeClass('vjs-sliding');\n      /**\n       * Triggered when the slider is no longer in an active state.\n       *\n       * @event Slider#sliderinactive\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('sliderinactive');\n      this.off(doc, 'mousemove', this.handleMouseMove);\n      this.off(doc, 'mouseup', this.handleMouseUp);\n      this.off(doc, 'touchmove', this.handleMouseMove);\n      this.off(doc, 'touchend', this.handleMouseUp);\n      this.update();\n    }\n    /**\n     * Update the progress bar of the `Slider`.\n     *\n     * @return {number}\n     *          The percentage of progress the progress bar represents as a\n     *          number from 0 to 1.\n     */\n    ;\n\n    _proto.update = function update() {\n      // In VolumeBar init we have a setTimeout for update that pops and update\n      // to the end of the execution stack. The player is destroyed before then\n      // update will cause an error\n      if (!this.el_) {\n        return;\n      } // If scrubbing, we could use a cached value to make the handle keep up\n      // with the user's mouse. On HTML5 browsers scrubbing is really smooth, but\n      // some flash players are slow, so we might want to utilize this later.\n      // var progress =  (this.player_.scrubbing()) ? this.player_.getCache().currentTime / this.player_.duration() : this.player_.currentTime() / this.player_.duration();\n\n\n      var progress = this.getPercent();\n      var bar = this.bar; // If there's no bar...\n\n      if (!bar) {\n        return;\n      } // Protect against no duration and other division issues\n\n\n      if (typeof progress !== 'number' || progress !== progress || progress < 0 || progress === Infinity) {\n        progress = 0;\n      } // Convert to a percentage for setting\n\n\n      var percentage = (progress * 100).toFixed(2) + '%';\n      var style = bar.el().style; // Set the new bar width or height\n\n      var sizeKey = this.vertical() ? 'height' : 'width';\n\n      if (style[sizeKey] !== percentage) {\n        style[sizeKey] = percentage;\n      }\n\n      return progress;\n    }\n    /**\n     * Calculate distance for slider\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to run.\n     *\n     * @return {number}\n     *         The current position of the Slider.\n     *         - position.x for vertical `Slider`s\n     *         - position.y for horizontal `Slider`s\n     */\n    ;\n\n    _proto.calculateDistance = function calculateDistance(event) {\n      var position = getPointerPosition(this.el_, event);\n\n      if (this.vertical()) {\n        return position.y;\n      }\n\n      return position.x;\n    }\n    /**\n     * Handle a `keydown` event on the `Slider`. Watches for left, rigth, up, and down\n     * arrow keys. This function will only be called when the slider has focus. See\n     * {@link Slider#handleFocus} and {@link Slider#handleBlur}.\n     *\n     * @param {EventTarget~Event} event\n     *        the `keydown` event that caused this function to run.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Left and Down Arrows\n      if (keycode.isEventKey(event, 'Left') || keycode.isEventKey(event, 'Down')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.stepBack(); // Up and Right Arrows\n      } else if (keycode.isEventKey(event, 'Right') || keycode.isEventKey(event, 'Up')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.stepForward();\n      } else {\n        // Pass keydown handling up for unsupported keys\n        _Component.prototype.handleKeyDown.call(this, event);\n      }\n    }\n    /**\n     * Listener for click events on slider, used to prevent clicks\n     *   from bubbling up to parent elements like button menus.\n     *\n     * @param {Object} event\n     *        Event that caused this object to run\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    /**\n     * Get/set if slider is horizontal for vertical\n     *\n     * @param {boolean} [bool]\n     *        - true if slider is vertical,\n     *        - false is horizontal\n     *\n     * @return {boolean}\n     *         - true if slider is vertical, and getting\n     *         - false if the slider is horizontal, and getting\n     */\n    ;\n\n    _proto.vertical = function vertical(bool) {\n      if (bool === undefined) {\n        return this.vertical_ || false;\n      }\n\n      this.vertical_ = !!bool;\n\n      if (this.vertical_) {\n        this.addClass('vjs-slider-vertical');\n      } else {\n        this.addClass('vjs-slider-horizontal');\n      }\n    };\n\n    return Slider;\n  }(Component);\n\n  Component.registerComponent('Slider', Slider);\n\n  /**\n   * Shows loading progress\n   *\n   * @extends Component\n   */\n\n  var LoadProgressBar =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(LoadProgressBar, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function LoadProgressBar(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.partEls_ = [];\n\n      _this.on(player, 'progress', _this.update);\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = LoadProgressBar.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-load-progress',\n        innerHTML: \"<span class=\\\"vjs-control-text\\\"><span>\" + this.localize('Loaded') + \"</span>: <span class=\\\"vjs-control-text-loaded-percentage\\\">0%</span></span>\"\n      });\n    };\n\n    _proto.dispose = function dispose() {\n      this.partEls_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Update progress bar\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `progress` event that caused this function to run.\n     *\n     * @listens Player#progress\n     */\n    ;\n\n    _proto.update = function update(event) {\n      var liveTracker = this.player_.liveTracker;\n      var buffered = this.player_.buffered();\n      var duration = liveTracker && liveTracker.isLive() ? liveTracker.seekableEnd() : this.player_.duration();\n      var bufferedEnd = this.player_.bufferedEnd();\n      var children = this.partEls_;\n      var controlTextPercentage = this.$('.vjs-control-text-loaded-percentage'); // get the percent width of a time compared to the total end\n\n      var percentify = function percentify(time, end, rounded) {\n        // no NaN\n        var percent = time / end || 0;\n        percent = (percent >= 1 ? 1 : percent) * 100;\n\n        if (rounded) {\n          percent = percent.toFixed(2);\n        }\n\n        return percent + '%';\n      }; // update the width of the progress bar\n\n\n      this.el_.style.width = percentify(bufferedEnd, duration); // update the control-text\n\n      textContent(controlTextPercentage, percentify(bufferedEnd, duration, true)); // add child elements to represent the individual buffered time ranges\n\n      for (var i = 0; i < buffered.length; i++) {\n        var start = buffered.start(i);\n        var end = buffered.end(i);\n        var part = children[i];\n\n        if (!part) {\n          part = this.el_.appendChild(createEl());\n          children[i] = part;\n        } // set the percent based on the width of the progress bar (bufferedEnd)\n\n\n        part.style.left = percentify(start, bufferedEnd);\n        part.style.width = percentify(end - start, bufferedEnd);\n      } // remove unused buffered range elements\n\n\n      for (var _i = children.length; _i > buffered.length; _i--) {\n        this.el_.removeChild(children[_i - 1]);\n      }\n\n      children.length = buffered.length;\n    };\n\n    return LoadProgressBar;\n  }(Component);\n\n  Component.registerComponent('LoadProgressBar', LoadProgressBar);\n\n  /**\n   * Time tooltips display a time above the progress bar.\n   *\n   * @extends Component\n   */\n\n  var TimeTooltip =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(TimeTooltip, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The {@link Player} that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function TimeTooltip(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.update = throttle(bind(_assertThisInitialized(_this), _this.update), UPDATE_REFRESH_INTERVAL);\n      return _this;\n    }\n    /**\n     * Create the time tooltip DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = TimeTooltip.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-time-tooltip'\n      }, {\n        'aria-hidden': 'true'\n      });\n    }\n    /**\n     * Updates the position of the time tooltip relative to the `SeekBar`.\n     *\n     * @param {Object} seekBarRect\n     *        The `ClientRect` for the {@link SeekBar} element.\n     *\n     * @param {number} seekBarPoint\n     *        A number from 0 to 1, representing a horizontal reference point\n     *        from the left edge of the {@link SeekBar}\n     */\n    ;\n\n    _proto.update = function update(seekBarRect, seekBarPoint, content) {\n      var tooltipRect = getBoundingClientRect(this.el_);\n      var playerRect = getBoundingClientRect(this.player_.el());\n      var seekBarPointPx = seekBarRect.width * seekBarPoint; // do nothing if either rect isn't available\n      // for example, if the player isn't in the DOM for testing\n\n      if (!playerRect || !tooltipRect) {\n        return;\n      } // This is the space left of the `seekBarPoint` available within the bounds\n      // of the player. We calculate any gap between the left edge of the player\n      // and the left edge of the `SeekBar` and add the number of pixels in the\n      // `SeekBar` before hitting the `seekBarPoint`\n\n\n      var spaceLeftOfPoint = seekBarRect.left - playerRect.left + seekBarPointPx; // This is the space right of the `seekBarPoint` available within the bounds\n      // of the player. We calculate the number of pixels from the `seekBarPoint`\n      // to the right edge of the `SeekBar` and add to that any gap between the\n      // right edge of the `SeekBar` and the player.\n\n      var spaceRightOfPoint = seekBarRect.width - seekBarPointPx + (playerRect.right - seekBarRect.right); // This is the number of pixels by which the tooltip will need to be pulled\n      // further to the right to center it over the `seekBarPoint`.\n\n      var pullTooltipBy = tooltipRect.width / 2; // Adjust the `pullTooltipBy` distance to the left or right depending on\n      // the results of the space calculations above.\n\n      if (spaceLeftOfPoint < pullTooltipBy) {\n        pullTooltipBy += pullTooltipBy - spaceLeftOfPoint;\n      } else if (spaceRightOfPoint < pullTooltipBy) {\n        pullTooltipBy = spaceRightOfPoint;\n      } // Due to the imprecision of decimal/ratio based calculations and varying\n      // rounding behaviors, there are cases where the spacing adjustment is off\n      // by a pixel or two. This adds insurance to these calculations.\n\n\n      if (pullTooltipBy < 0) {\n        pullTooltipBy = 0;\n      } else if (pullTooltipBy > tooltipRect.width) {\n        pullTooltipBy = tooltipRect.width;\n      }\n\n      this.el_.style.right = \"-\" + pullTooltipBy + \"px\";\n      this.write(content);\n    }\n    /**\n     * Write the time to the tooltip DOM element.\n     *\n     * @param {string} content\n     *        The formatted time for the tooltip.\n     */\n    ;\n\n    _proto.write = function write(content) {\n      textContent(this.el_, content);\n    }\n    /**\n     * Updates the position of the time tooltip relative to the `SeekBar`.\n     *\n     * @param {Object} seekBarRect\n     *        The `ClientRect` for the {@link SeekBar} element.\n     *\n     * @param {number} seekBarPoint\n     *        A number from 0 to 1, representing a horizontal reference point\n     *        from the left edge of the {@link SeekBar}\n     *\n     * @param {number} time\n     *        The time to update the tooltip to, not used during live playback\n     *\n     * @param {Function} cb\n     *        A function that will be called during the request animation frame\n     *        for tooltips that need to do additional animations from the default\n     */\n    ;\n\n    _proto.updateTime = function updateTime(seekBarRect, seekBarPoint, time, cb) {\n      var _this2 = this;\n\n      // If there is an existing rAF ID, cancel it so we don't over-queue.\n      if (this.rafId_) {\n        this.cancelAnimationFrame(this.rafId_);\n      }\n\n      this.rafId_ = this.requestAnimationFrame(function () {\n        var content;\n\n        var duration = _this2.player_.duration();\n\n        if (_this2.player_.liveTracker && _this2.player_.liveTracker.isLive()) {\n          var liveWindow = _this2.player_.liveTracker.liveWindow();\n\n          var secondsBehind = liveWindow - seekBarPoint * liveWindow;\n          content = (secondsBehind < 1 ? '' : '-') + formatTime(secondsBehind, liveWindow);\n        } else {\n          content = formatTime(time, duration);\n        }\n\n        _this2.update(seekBarRect, seekBarPoint, content);\n\n        if (cb) {\n          cb();\n        }\n      });\n    };\n\n    return TimeTooltip;\n  }(Component);\n\n  Component.registerComponent('TimeTooltip', TimeTooltip);\n\n  /**\n   * Used by {@link SeekBar} to display media playback progress as part of the\n   * {@link ProgressControl}.\n   *\n   * @extends Component\n   */\n\n  var PlayProgressBar =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(PlayProgressBar, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The {@link Player} that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function PlayProgressBar(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.update = throttle(bind(_assertThisInitialized(_this), _this.update), UPDATE_REFRESH_INTERVAL);\n      return _this;\n    }\n    /**\n     * Create the the DOM element for this class.\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = PlayProgressBar.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-play-progress vjs-slider-bar'\n      }, {\n        'aria-hidden': 'true'\n      });\n    }\n    /**\n     * Enqueues updates to its own DOM as well as the DOM of its\n     * {@link TimeTooltip} child.\n     *\n     * @param {Object} seekBarRect\n     *        The `ClientRect` for the {@link SeekBar} element.\n     *\n     * @param {number} seekBarPoint\n     *        A number from 0 to 1, representing a horizontal reference point\n     *        from the left edge of the {@link SeekBar}\n     */\n    ;\n\n    _proto.update = function update(seekBarRect, seekBarPoint) {\n      var timeTooltip = this.getChild('timeTooltip');\n\n      if (!timeTooltip) {\n        return;\n      }\n\n      var time = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n      timeTooltip.updateTime(seekBarRect, seekBarPoint, time);\n    };\n\n    return PlayProgressBar;\n  }(Component);\n  /**\n   * Default options for {@link PlayProgressBar}.\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  PlayProgressBar.prototype.options_ = {\n    children: []\n  }; // Time tooltips should not be added to a player on mobile devices\n\n  if (!IS_IOS && !IS_ANDROID) {\n    PlayProgressBar.prototype.options_.children.push('timeTooltip');\n  }\n\n  Component.registerComponent('PlayProgressBar', PlayProgressBar);\n\n  /**\n   * The {@link MouseTimeDisplay} component tracks mouse movement over the\n   * {@link ProgressControl}. It displays an indicator and a {@link TimeTooltip}\n   * indicating the time which is represented by a given point in the\n   * {@link ProgressControl}.\n   *\n   * @extends Component\n   */\n\n  var MouseTimeDisplay =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(MouseTimeDisplay, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The {@link Player} that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function MouseTimeDisplay(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.update = throttle(bind(_assertThisInitialized(_this), _this.update), UPDATE_REFRESH_INTERVAL);\n      return _this;\n    }\n    /**\n     * Create the DOM element for this class.\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = MouseTimeDisplay.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-mouse-display'\n      });\n    }\n    /**\n     * Enqueues updates to its own DOM as well as the DOM of its\n     * {@link TimeTooltip} child.\n     *\n     * @param {Object} seekBarRect\n     *        The `ClientRect` for the {@link SeekBar} element.\n     *\n     * @param {number} seekBarPoint\n     *        A number from 0 to 1, representing a horizontal reference point\n     *        from the left edge of the {@link SeekBar}\n     */\n    ;\n\n    _proto.update = function update(seekBarRect, seekBarPoint) {\n      var _this2 = this;\n\n      var time = seekBarPoint * this.player_.duration();\n      this.getChild('timeTooltip').updateTime(seekBarRect, seekBarPoint, time, function () {\n        _this2.el_.style.left = seekBarRect.width * seekBarPoint + \"px\";\n      });\n    };\n\n    return MouseTimeDisplay;\n  }(Component);\n  /**\n   * Default options for `MouseTimeDisplay`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  MouseTimeDisplay.prototype.options_ = {\n    children: ['timeTooltip']\n  };\n  Component.registerComponent('MouseTimeDisplay', MouseTimeDisplay);\n\n  var STEP_SECONDS = 5; // The multiplier of STEP_SECONDS that PgUp/PgDown move the timeline.\n\n  var PAGE_KEY_MULTIPLIER = 12; // The interval at which the bar should update as it progresses.\n\n  var UPDATE_REFRESH_INTERVAL$1 = 30;\n  /**\n   * Seek bar and container for the progress bars. Uses {@link PlayProgressBar}\n   * as its `bar`.\n   *\n   * @extends Slider\n   */\n\n  var SeekBar =\n  /*#__PURE__*/\n  function (_Slider) {\n    _inheritsLoose(SeekBar, _Slider);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function SeekBar(player, options) {\n      var _this;\n\n      _this = _Slider.call(this, player, options) || this;\n\n      _this.setEventHandlers_();\n\n      return _this;\n    }\n    /**\n     * Sets the event handlers\n     *\n     * @private\n     */\n\n\n    var _proto = SeekBar.prototype;\n\n    _proto.setEventHandlers_ = function setEventHandlers_() {\n      this.update = throttle(bind(this, this.update), UPDATE_REFRESH_INTERVAL$1);\n      this.on(this.player_, 'timeupdate', this.update);\n      this.on(this.player_, 'ended', this.handleEnded);\n      this.on(this.player_, 'durationchange', this.update);\n\n      if (this.player_.liveTracker) {\n        this.on(this.player_.liveTracker, 'liveedgechange', this.update);\n      } // when playing, let's ensure we smoothly update the play progress bar\n      // via an interval\n\n\n      this.updateInterval = null;\n      this.on(this.player_, ['playing'], this.enableInterval_);\n      this.on(this.player_, ['ended', 'pause', 'waiting'], this.disableInterval_); // we don't need to update the play progress if the document is hidden,\n      // also, this causes the CPU to spike and eventually crash the page on IE11.\n\n      if ('hidden' in document && 'visibilityState' in document) {\n        this.on(document, 'visibilitychange', this.toggleVisibility_);\n      }\n    };\n\n    _proto.toggleVisibility_ = function toggleVisibility_(e) {\n      if (document.hidden) {\n        this.disableInterval_(e);\n      } else {\n        this.enableInterval_(); // we just switched back to the page and someone may be looking, so, update ASAP\n\n        this.requestAnimationFrame(this.update);\n      }\n    };\n\n    _proto.enableInterval_ = function enableInterval_() {\n      var _this2 = this;\n\n      this.clearInterval(this.updateInterval);\n      this.updateInterval = this.setInterval(function () {\n        _this2.requestAnimationFrame(_this2.update);\n      }, UPDATE_REFRESH_INTERVAL$1);\n    };\n\n    _proto.disableInterval_ = function disableInterval_(e) {\n      if (this.player_.liveTracker && this.player_.liveTracker.isLive() && e.type !== 'ended') {\n        return;\n      }\n\n      this.clearInterval(this.updateInterval);\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      return _Slider.prototype.createEl.call(this, 'div', {\n        className: 'vjs-progress-holder'\n      }, {\n        'aria-label': this.localize('Progress Bar')\n      });\n    }\n    /**\n     * This function updates the play progress bar and accessibility\n     * attributes to whatever is passed in.\n     *\n     * @param {number} currentTime\n     *        The currentTime value that should be used for accessibility\n     *\n     * @param {number} percent\n     *        The percentage as a decimal that the bar should be filled from 0-1.\n     *\n     * @private\n     */\n    ;\n\n    _proto.update_ = function update_(currentTime, percent) {\n      var liveTracker = this.player_.liveTracker;\n      var duration = this.player_.duration();\n\n      if (liveTracker && liveTracker.isLive()) {\n        duration = this.player_.liveTracker.liveCurrentTime();\n      } // machine readable value of progress bar (percentage complete)\n\n\n      this.el_.setAttribute('aria-valuenow', (percent * 100).toFixed(2)); // human readable value of progress bar (time complete)\n\n      this.el_.setAttribute('aria-valuetext', this.localize('progress bar timing: currentTime={1} duration={2}', [formatTime(currentTime, duration), formatTime(duration, duration)], '{1} of {2}')); // Update the `PlayProgressBar`.\n\n      if (this.bar) {\n        this.bar.update(getBoundingClientRect(this.el_), percent);\n      }\n    }\n    /**\n     * Update the seek bar's UI.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `timeupdate` or `ended` event that caused this to run.\n     *\n     * @listens Player#timeupdate\n     *\n     * @return {number}\n     *          The current percent at a number from 0-1\n     */\n    ;\n\n    _proto.update = function update(event) {\n      // if the offsetParent is null, then this element is hidden, in which case\n      // we don't need to update it.\n      if (this.el().offsetParent === null) {\n        return;\n      }\n\n      var percent = _Slider.prototype.update.call(this);\n\n      this.update_(this.getCurrentTime_(), percent);\n      return percent;\n    }\n    /**\n     * Get the value of current time but allows for smooth scrubbing,\n     * when player can't keep up.\n     *\n     * @return {number}\n     *         The current time value to display\n     *\n     * @private\n     */\n    ;\n\n    _proto.getCurrentTime_ = function getCurrentTime_() {\n      return this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n    }\n    /**\n     * We want the seek bar to be full on ended\n     * no matter what the actual internal values are. so we force it.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `timeupdate` or `ended` event that caused this to run.\n     *\n     * @listens Player#ended\n     */\n    ;\n\n    _proto.handleEnded = function handleEnded(event) {\n      this.update_(this.player_.duration(), 1);\n    }\n    /**\n     * Get the percentage of media played so far.\n     *\n     * @return {number}\n     *         The percentage of media played so far (0 to 1).\n     */\n    ;\n\n    _proto.getPercent = function getPercent() {\n      var currentTime = this.getCurrentTime_();\n      var percent;\n      var liveTracker = this.player_.liveTracker;\n\n      if (liveTracker && liveTracker.isLive()) {\n        percent = (currentTime - liveTracker.seekableStart()) / liveTracker.liveWindow(); // prevent the percent from changing at the live edge\n\n        if (liveTracker.atLiveEdge()) {\n          percent = 1;\n        }\n      } else {\n        percent = currentTime / this.player_.duration();\n      }\n\n      return percent >= 1 ? 1 : percent || 0;\n    }\n    /**\n     * Handle mouse down on seek bar\n     *\n     * @param {EventTarget~Event} event\n     *        The `mousedown` event that caused this to run.\n     *\n     * @listens mousedown\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      if (!isSingleLeftClick(event)) {\n        return;\n      } // Stop event propagation to prevent double fire in progress-control.js\n\n\n      event.stopPropagation();\n      this.player_.scrubbing(true);\n      this.videoWasPlaying = !this.player_.paused();\n      this.player_.pause();\n\n      _Slider.prototype.handleMouseDown.call(this, event);\n    }\n    /**\n     * Handle mouse move on seek bar\n     *\n     * @param {EventTarget~Event} event\n     *        The `mousemove` event that caused this to run.\n     *\n     * @listens mousemove\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event) {\n      if (!isSingleLeftClick(event)) {\n        return;\n      }\n\n      var newTime;\n      var distance = this.calculateDistance(event);\n      var liveTracker = this.player_.liveTracker;\n\n      if (!liveTracker || !liveTracker.isLive()) {\n        newTime = distance * this.player_.duration(); // Don't let video end while scrubbing.\n\n        if (newTime === this.player_.duration()) {\n          newTime = newTime - 0.1;\n        }\n      } else {\n        var seekableStart = liveTracker.seekableStart();\n        var seekableEnd = liveTracker.liveCurrentTime();\n        newTime = seekableStart + distance * liveTracker.liveWindow(); // Don't let video end while scrubbing.\n\n        if (newTime >= seekableEnd) {\n          newTime = seekableEnd;\n        } // Compensate for precision differences so that currentTime is not less\n        // than seekable start\n\n\n        if (newTime <= seekableStart) {\n          newTime = seekableStart + 0.1;\n        } // On android seekableEnd can be Infinity sometimes,\n        // this will cause newTime to be Infinity, which is\n        // not a valid currentTime.\n\n\n        if (newTime === Infinity) {\n          return;\n        }\n      } // Set new time (tell player to seek to new time)\n\n\n      this.player_.currentTime(newTime);\n    };\n\n    _proto.enable = function enable() {\n      _Slider.prototype.enable.call(this);\n\n      var mouseTimeDisplay = this.getChild('mouseTimeDisplay');\n\n      if (!mouseTimeDisplay) {\n        return;\n      }\n\n      mouseTimeDisplay.show();\n    };\n\n    _proto.disable = function disable() {\n      _Slider.prototype.disable.call(this);\n\n      var mouseTimeDisplay = this.getChild('mouseTimeDisplay');\n\n      if (!mouseTimeDisplay) {\n        return;\n      }\n\n      mouseTimeDisplay.hide();\n    }\n    /**\n     * Handle mouse up on seek bar\n     *\n     * @param {EventTarget~Event} event\n     *        The `mouseup` event that caused this to run.\n     *\n     * @listens mouseup\n     */\n    ;\n\n    _proto.handleMouseUp = function handleMouseUp(event) {\n      _Slider.prototype.handleMouseUp.call(this, event); // Stop event propagation to prevent double fire in progress-control.js\n\n\n      if (event) {\n        event.stopPropagation();\n      }\n\n      this.player_.scrubbing(false);\n      /**\n       * Trigger timeupdate because we're done seeking and the time has changed.\n       * This is particularly useful for if the player is paused to time the time displays.\n       *\n       * @event Tech#timeupdate\n       * @type {EventTarget~Event}\n       */\n\n      this.player_.trigger({\n        type: 'timeupdate',\n        target: this,\n        manuallyTriggered: true\n      });\n\n      if (this.videoWasPlaying) {\n        silencePromise(this.player_.play());\n      }\n    }\n    /**\n     * Move more quickly fast forward for keyboard-only users\n     */\n    ;\n\n    _proto.stepForward = function stepForward() {\n      this.player_.currentTime(this.player_.currentTime() + STEP_SECONDS);\n    }\n    /**\n     * Move more quickly rewind for keyboard-only users\n     */\n    ;\n\n    _proto.stepBack = function stepBack() {\n      this.player_.currentTime(this.player_.currentTime() - STEP_SECONDS);\n    }\n    /**\n     * Toggles the playback state of the player\n     * This gets called when enter or space is used on the seekbar\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called\n     *\n     */\n    ;\n\n    _proto.handleAction = function handleAction(event) {\n      if (this.player_.paused()) {\n        this.player_.play();\n      } else {\n        this.player_.pause();\n      }\n    }\n    /**\n     * Called when this SeekBar has focus and a key gets pressed down.\n     * Supports the following keys:\n     *\n     *   Space or Enter key fire a click event\n     *   Home key moves to start of the timeline\n     *   End key moves to end of the timeline\n     *   Digit \"0\" through \"9\" keys move to 0%, 10% ... 80%, 90% of the timeline\n     *   PageDown key moves back a larger step than ArrowDown\n     *   PageUp key moves forward a large step\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.handleAction(event);\n      } else if (keycode.isEventKey(event, 'Home')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.player_.currentTime(0);\n      } else if (keycode.isEventKey(event, 'End')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.player_.currentTime(this.player_.duration());\n      } else if (/^[0-9]$/.test(keycode(event))) {\n        event.preventDefault();\n        event.stopPropagation();\n        var gotoFraction = (keycode.codes[keycode(event)] - keycode.codes['0']) * 10.0 / 100.0;\n        this.player_.currentTime(this.player_.duration() * gotoFraction);\n      } else if (keycode.isEventKey(event, 'PgDn')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.player_.currentTime(this.player_.currentTime() - STEP_SECONDS * PAGE_KEY_MULTIPLIER);\n      } else if (keycode.isEventKey(event, 'PgUp')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.player_.currentTime(this.player_.currentTime() + STEP_SECONDS * PAGE_KEY_MULTIPLIER);\n      } else {\n        // Pass keydown handling up for unsupported keys\n        _Slider.prototype.handleKeyDown.call(this, event);\n      }\n    };\n\n    return SeekBar;\n  }(Slider);\n  /**\n   * Default options for the `SeekBar`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  SeekBar.prototype.options_ = {\n    children: ['loadProgressBar', 'playProgressBar'],\n    barName: 'playProgressBar'\n  }; // MouseTimeDisplay tooltips should not be added to a player on mobile devices\n\n  if (!IS_IOS && !IS_ANDROID) {\n    SeekBar.prototype.options_.children.splice(1, 0, 'mouseTimeDisplay');\n  }\n\n  Component.registerComponent('SeekBar', SeekBar);\n\n  /**\n   * The Progress Control component contains the seek bar, load progress,\n   * and play progress.\n   *\n   * @extends Component\n   */\n\n  var ProgressControl =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(ProgressControl, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function ProgressControl(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.handleMouseMove = throttle(bind(_assertThisInitialized(_this), _this.handleMouseMove), UPDATE_REFRESH_INTERVAL);\n      _this.throttledHandleMouseSeek = throttle(bind(_assertThisInitialized(_this), _this.handleMouseSeek), UPDATE_REFRESH_INTERVAL);\n\n      _this.enable();\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = ProgressControl.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-progress-control vjs-control'\n      });\n    }\n    /**\n     * When the mouse moves over the `ProgressControl`, the pointer position\n     * gets passed down to the `MouseTimeDisplay` component.\n     *\n     * @param {EventTarget~Event} event\n     *        The `mousemove` event that caused this function to run.\n     *\n     * @listen mousemove\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event) {\n      var seekBar = this.getChild('seekBar');\n\n      if (seekBar) {\n        var mouseTimeDisplay = seekBar.getChild('mouseTimeDisplay');\n        var seekBarEl = seekBar.el();\n        var seekBarRect = getBoundingClientRect(seekBarEl);\n        var seekBarPoint = getPointerPosition(seekBarEl, event).x; // The default skin has a gap on either side of the `SeekBar`. This means\n        // that it's possible to trigger this behavior outside the boundaries of\n        // the `SeekBar`. This ensures we stay within it at all times.\n\n        if (seekBarPoint > 1) {\n          seekBarPoint = 1;\n        } else if (seekBarPoint < 0) {\n          seekBarPoint = 0;\n        }\n\n        if (mouseTimeDisplay) {\n          mouseTimeDisplay.update(seekBarRect, seekBarPoint);\n        }\n      }\n    }\n    /**\n     * A throttled version of the {@link ProgressControl#handleMouseSeek} listener.\n     *\n     * @method ProgressControl#throttledHandleMouseSeek\n     * @param {EventTarget~Event} event\n     *        The `mousemove` event that caused this function to run.\n     *\n     * @listen mousemove\n     * @listen touchmove\n     */\n\n    /**\n     * Handle `mousemove` or `touchmove` events on the `ProgressControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousemove\n     * @listens touchmove\n     */\n    ;\n\n    _proto.handleMouseSeek = function handleMouseSeek(event) {\n      var seekBar = this.getChild('seekBar');\n\n      if (seekBar) {\n        seekBar.handleMouseMove(event);\n      }\n    }\n    /**\n     * Are controls are currently enabled for this progress control.\n     *\n     * @return {boolean}\n     *         true if controls are enabled, false otherwise\n     */\n    ;\n\n    _proto.enabled = function enabled() {\n      return this.enabled_;\n    }\n    /**\n     * Disable all controls on the progress control and its children\n     */\n    ;\n\n    _proto.disable = function disable() {\n      this.children().forEach(function (child) {\n        return child.disable && child.disable();\n      });\n\n      if (!this.enabled()) {\n        return;\n      }\n\n      this.off(['mousedown', 'touchstart'], this.handleMouseDown);\n      this.off(this.el_, 'mousemove', this.handleMouseMove);\n      this.handleMouseUp();\n      this.addClass('disabled');\n      this.enabled_ = false;\n    }\n    /**\n     * Enable all controls on the progress control and its children\n     */\n    ;\n\n    _proto.enable = function enable() {\n      this.children().forEach(function (child) {\n        return child.enable && child.enable();\n      });\n\n      if (this.enabled()) {\n        return;\n      }\n\n      this.on(['mousedown', 'touchstart'], this.handleMouseDown);\n      this.on(this.el_, 'mousemove', this.handleMouseMove);\n      this.removeClass('disabled');\n      this.enabled_ = true;\n    }\n    /**\n     * Handle `mousedown` or `touchstart` events on the `ProgressControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousedown\n     * @listens touchstart\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      var doc = this.el_.ownerDocument;\n      var seekBar = this.getChild('seekBar');\n\n      if (seekBar) {\n        seekBar.handleMouseDown(event);\n      }\n\n      this.on(doc, 'mousemove', this.throttledHandleMouseSeek);\n      this.on(doc, 'touchmove', this.throttledHandleMouseSeek);\n      this.on(doc, 'mouseup', this.handleMouseUp);\n      this.on(doc, 'touchend', this.handleMouseUp);\n    }\n    /**\n     * Handle `mouseup` or `touchend` events on the `ProgressControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mouseup` or `touchend` event that triggered this function.\n     *\n     * @listens touchend\n     * @listens mouseup\n     */\n    ;\n\n    _proto.handleMouseUp = function handleMouseUp(event) {\n      var doc = this.el_.ownerDocument;\n      var seekBar = this.getChild('seekBar');\n\n      if (seekBar) {\n        seekBar.handleMouseUp(event);\n      }\n\n      this.off(doc, 'mousemove', this.throttledHandleMouseSeek);\n      this.off(doc, 'touchmove', this.throttledHandleMouseSeek);\n      this.off(doc, 'mouseup', this.handleMouseUp);\n      this.off(doc, 'touchend', this.handleMouseUp);\n    };\n\n    return ProgressControl;\n  }(Component);\n  /**\n   * Default options for `ProgressControl`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  ProgressControl.prototype.options_ = {\n    children: ['seekBar']\n  };\n  Component.registerComponent('ProgressControl', ProgressControl);\n\n  /**\n   * Toggle Picture-in-Picture mode\n   *\n   * @extends Button\n   */\n\n  var PictureInPictureToggle =\n  /*#__PURE__*/\n  function (_Button) {\n    _inheritsLoose(PictureInPictureToggle, _Button);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @listens Player#enterpictureinpicture\n     * @listens Player#leavepictureinpicture\n     */\n    function PictureInPictureToggle(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this;\n\n      _this.on(player, ['enterpictureinpicture', 'leavepictureinpicture'], _this.handlePictureInPictureChange); // TODO: Activate button on player loadedmetadata event.\n      // TODO: Deactivate button on player emptied event.\n      // TODO: Deactivate button if disablepictureinpicture attribute is present.\n\n\n      if (!document.pictureInPictureEnabled) {\n        _this.disable();\n      }\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = PictureInPictureToggle.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-picture-in-picture-control \" + _Button.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Handles enterpictureinpicture and leavepictureinpicture on the player and change control text accordingly.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The {@link Player#enterpictureinpicture} or {@link Player#leavepictureinpicture} event that caused this function to be\n     *        called.\n     *\n     * @listens Player#enterpictureinpicture\n     * @listens Player#leavepictureinpicture\n     */\n    ;\n\n    _proto.handlePictureInPictureChange = function handlePictureInPictureChange(event) {\n      if (this.player_.isInPictureInPicture()) {\n        this.controlText('Exit Picture-in-Picture');\n      } else {\n        this.controlText('Picture-in-Picture');\n      }\n    }\n    /**\n     * This gets called when an `PictureInPictureToggle` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      if (!this.player_.isInPictureInPicture()) {\n        this.player_.requestPictureInPicture();\n      } else {\n        this.player_.exitPictureInPicture();\n      }\n    };\n\n    return PictureInPictureToggle;\n  }(Button);\n  /**\n   * The text that should display over the `PictureInPictureToggle`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  PictureInPictureToggle.prototype.controlText_ = 'Picture-in-Picture';\n  Component.registerComponent('PictureInPictureToggle', PictureInPictureToggle);\n\n  /**\n   * Toggle fullscreen video\n   *\n   * @extends Button\n   */\n\n  var FullscreenToggle =\n  /*#__PURE__*/\n  function (_Button) {\n    _inheritsLoose(FullscreenToggle, _Button);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function FullscreenToggle(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this;\n\n      _this.on(player, 'fullscreenchange', _this.handleFullscreenChange);\n\n      if (document[player.fsApi_.fullscreenEnabled] === false) {\n        _this.disable();\n      }\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = FullscreenToggle.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-fullscreen-control \" + _Button.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Handles fullscreenchange on the player and change control text accordingly.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The {@link Player#fullscreenchange} event that caused this function to be\n     *        called.\n     *\n     * @listens Player#fullscreenchange\n     */\n    ;\n\n    _proto.handleFullscreenChange = function handleFullscreenChange(event) {\n      if (this.player_.isFullscreen()) {\n        this.controlText('Non-Fullscreen');\n      } else {\n        this.controlText('Fullscreen');\n      }\n    }\n    /**\n     * This gets called when an `FullscreenToggle` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      if (!this.player_.isFullscreen()) {\n        this.player_.requestFullscreen();\n      } else {\n        this.player_.exitFullscreen();\n      }\n    };\n\n    return FullscreenToggle;\n  }(Button);\n  /**\n   * The text that should display over the `FullscreenToggle`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  FullscreenToggle.prototype.controlText_ = 'Fullscreen';\n  Component.registerComponent('FullscreenToggle', FullscreenToggle);\n\n  /**\n   * Check if volume control is supported and if it isn't hide the\n   * `Component` that was passed  using the `vjs-hidden` class.\n   *\n   * @param {Component} self\n   *        The component that should be hidden if volume is unsupported\n   *\n   * @param {Player} player\n   *        A reference to the player\n   *\n   * @private\n   */\n  var checkVolumeSupport = function checkVolumeSupport(self, player) {\n    // hide volume controls when they're not supported by the current tech\n    if (player.tech_ && !player.tech_.featuresVolumeControl) {\n      self.addClass('vjs-hidden');\n    }\n\n    self.on(player, 'loadstart', function () {\n      if (!player.tech_.featuresVolumeControl) {\n        self.addClass('vjs-hidden');\n      } else {\n        self.removeClass('vjs-hidden');\n      }\n    });\n  };\n\n  /**\n   * Shows volume level\n   *\n   * @extends Component\n   */\n\n  var VolumeLevel =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(VolumeLevel, _Component);\n\n    function VolumeLevel() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = VolumeLevel.prototype;\n\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-volume-level',\n        innerHTML: '<span class=\"vjs-control-text\"></span>'\n      });\n    };\n\n    return VolumeLevel;\n  }(Component);\n\n  Component.registerComponent('VolumeLevel', VolumeLevel);\n\n  /**\n   * The bar that contains the volume level and can be clicked on to adjust the level\n   *\n   * @extends Slider\n   */\n\n  var VolumeBar =\n  /*#__PURE__*/\n  function (_Slider) {\n    _inheritsLoose(VolumeBar, _Slider);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function VolumeBar(player, options) {\n      var _this;\n\n      _this = _Slider.call(this, player, options) || this;\n\n      _this.on('slideractive', _this.updateLastVolume_);\n\n      _this.on(player, 'volumechange', _this.updateARIAAttributes);\n\n      player.ready(function () {\n        return _this.updateARIAAttributes();\n      });\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = VolumeBar.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Slider.prototype.createEl.call(this, 'div', {\n        className: 'vjs-volume-bar vjs-slider-bar'\n      }, {\n        'aria-label': this.localize('Volume Level'),\n        'aria-live': 'polite'\n      });\n    }\n    /**\n     * Handle mouse down on volume bar\n     *\n     * @param {EventTarget~Event} event\n     *        The `mousedown` event that caused this to run.\n     *\n     * @listens mousedown\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      if (!isSingleLeftClick(event)) {\n        return;\n      }\n\n      _Slider.prototype.handleMouseDown.call(this, event);\n    }\n    /**\n     * Handle movement events on the {@link VolumeMenuButton}.\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to run.\n     *\n     * @listens mousemove\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event) {\n      if (!isSingleLeftClick(event)) {\n        return;\n      }\n\n      this.checkMuted();\n      this.player_.volume(this.calculateDistance(event));\n    }\n    /**\n     * If the player is muted unmute it.\n     */\n    ;\n\n    _proto.checkMuted = function checkMuted() {\n      if (this.player_.muted()) {\n        this.player_.muted(false);\n      }\n    }\n    /**\n     * Get percent of volume level\n     *\n     * @return {number}\n     *         Volume level percent as a decimal number.\n     */\n    ;\n\n    _proto.getPercent = function getPercent() {\n      if (this.player_.muted()) {\n        return 0;\n      }\n\n      return this.player_.volume();\n    }\n    /**\n     * Increase volume level for keyboard users\n     */\n    ;\n\n    _proto.stepForward = function stepForward() {\n      this.checkMuted();\n      this.player_.volume(this.player_.volume() + 0.1);\n    }\n    /**\n     * Decrease volume level for keyboard users\n     */\n    ;\n\n    _proto.stepBack = function stepBack() {\n      this.checkMuted();\n      this.player_.volume(this.player_.volume() - 0.1);\n    }\n    /**\n     * Update ARIA accessibility attributes\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `volumechange` event that caused this function to run.\n     *\n     * @listens Player#volumechange\n     */\n    ;\n\n    _proto.updateARIAAttributes = function updateARIAAttributes(event) {\n      var ariaValue = this.player_.muted() ? 0 : this.volumeAsPercentage_();\n      this.el_.setAttribute('aria-valuenow', ariaValue);\n      this.el_.setAttribute('aria-valuetext', ariaValue + '%');\n    }\n    /**\n     * Returns the current value of the player volume as a percentage\n     *\n     * @private\n     */\n    ;\n\n    _proto.volumeAsPercentage_ = function volumeAsPercentage_() {\n      return Math.round(this.player_.volume() * 100);\n    }\n    /**\n     * When user starts dragging the VolumeBar, store the volume and listen for\n     * the end of the drag. When the drag ends, if the volume was set to zero,\n     * set lastVolume to the stored volume.\n     *\n     * @listens slideractive\n     * @private\n     */\n    ;\n\n    _proto.updateLastVolume_ = function updateLastVolume_() {\n      var _this2 = this;\n\n      var volumeBeforeDrag = this.player_.volume();\n      this.one('sliderinactive', function () {\n        if (_this2.player_.volume() === 0) {\n          _this2.player_.lastVolume_(volumeBeforeDrag);\n        }\n      });\n    };\n\n    return VolumeBar;\n  }(Slider);\n  /**\n   * Default options for the `VolumeBar`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  VolumeBar.prototype.options_ = {\n    children: ['volumeLevel'],\n    barName: 'volumeLevel'\n  };\n  /**\n   * Call the update event for this Slider when this event happens on the player.\n   *\n   * @type {string}\n   */\n\n  VolumeBar.prototype.playerEvent = 'volumechange';\n  Component.registerComponent('VolumeBar', VolumeBar);\n\n  /**\n   * The component for controlling the volume level\n   *\n   * @extends Component\n   */\n\n  var VolumeControl =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(VolumeControl, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function VolumeControl(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      options.vertical = options.vertical || false; // Pass the vertical option down to the VolumeBar if\n      // the VolumeBar is turned on.\n\n      if (typeof options.volumeBar === 'undefined' || isPlain(options.volumeBar)) {\n        options.volumeBar = options.volumeBar || {};\n        options.volumeBar.vertical = options.vertical;\n      }\n\n      _this = _Component.call(this, player, options) || this; // hide this control if volume support is missing\n\n      checkVolumeSupport(_assertThisInitialized(_this), player);\n      _this.throttledHandleMouseMove = throttle(bind(_assertThisInitialized(_this), _this.handleMouseMove), UPDATE_REFRESH_INTERVAL);\n\n      _this.on('mousedown', _this.handleMouseDown);\n\n      _this.on('touchstart', _this.handleMouseDown); // while the slider is active (the mouse has been pressed down and\n      // is dragging) or in focus we do not want to hide the VolumeBar\n\n\n      _this.on(_this.volumeBar, ['focus', 'slideractive'], function () {\n        _this.volumeBar.addClass('vjs-slider-active');\n\n        _this.addClass('vjs-slider-active');\n\n        _this.trigger('slideractive');\n      });\n\n      _this.on(_this.volumeBar, ['blur', 'sliderinactive'], function () {\n        _this.volumeBar.removeClass('vjs-slider-active');\n\n        _this.removeClass('vjs-slider-active');\n\n        _this.trigger('sliderinactive');\n      });\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = VolumeControl.prototype;\n\n    _proto.createEl = function createEl() {\n      var orientationClass = 'vjs-volume-horizontal';\n\n      if (this.options_.vertical) {\n        orientationClass = 'vjs-volume-vertical';\n      }\n\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: \"vjs-volume-control vjs-control \" + orientationClass\n      });\n    }\n    /**\n     * Handle `mousedown` or `touchstart` events on the `VolumeControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousedown\n     * @listens touchstart\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      var doc = this.el_.ownerDocument;\n      this.on(doc, 'mousemove', this.throttledHandleMouseMove);\n      this.on(doc, 'touchmove', this.throttledHandleMouseMove);\n      this.on(doc, 'mouseup', this.handleMouseUp);\n      this.on(doc, 'touchend', this.handleMouseUp);\n    }\n    /**\n     * Handle `mouseup` or `touchend` events on the `VolumeControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mouseup` or `touchend` event that triggered this function.\n     *\n     * @listens touchend\n     * @listens mouseup\n     */\n    ;\n\n    _proto.handleMouseUp = function handleMouseUp(event) {\n      var doc = this.el_.ownerDocument;\n      this.off(doc, 'mousemove', this.throttledHandleMouseMove);\n      this.off(doc, 'touchmove', this.throttledHandleMouseMove);\n      this.off(doc, 'mouseup', this.handleMouseUp);\n      this.off(doc, 'touchend', this.handleMouseUp);\n    }\n    /**\n     * Handle `mousedown` or `touchstart` events on the `VolumeControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousedown\n     * @listens touchstart\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event) {\n      this.volumeBar.handleMouseMove(event);\n    };\n\n    return VolumeControl;\n  }(Component);\n  /**\n   * Default options for the `VolumeControl`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  VolumeControl.prototype.options_ = {\n    children: ['volumeBar']\n  };\n  Component.registerComponent('VolumeControl', VolumeControl);\n\n  /**\n   * Check if muting volume is supported and if it isn't hide the mute toggle\n   * button.\n   *\n   * @param {Component} self\n   *        A reference to the mute toggle button\n   *\n   * @param {Player} player\n   *        A reference to the player\n   *\n   * @private\n   */\n  var checkMuteSupport = function checkMuteSupport(self, player) {\n    // hide mute toggle button if it's not supported by the current tech\n    if (player.tech_ && !player.tech_.featuresMuteControl) {\n      self.addClass('vjs-hidden');\n    }\n\n    self.on(player, 'loadstart', function () {\n      if (!player.tech_.featuresMuteControl) {\n        self.addClass('vjs-hidden');\n      } else {\n        self.removeClass('vjs-hidden');\n      }\n    });\n  };\n\n  /**\n   * A button component for muting the audio.\n   *\n   * @extends Button\n   */\n\n  var MuteToggle =\n  /*#__PURE__*/\n  function (_Button) {\n    _inheritsLoose(MuteToggle, _Button);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function MuteToggle(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this; // hide this control if volume support is missing\n\n      checkMuteSupport(_assertThisInitialized(_this), player);\n\n      _this.on(player, ['loadstart', 'volumechange'], _this.update);\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = MuteToggle.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-mute-control \" + _Button.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * This gets called when an `MuteToggle` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      var vol = this.player_.volume();\n      var lastVolume = this.player_.lastVolume_();\n\n      if (vol === 0) {\n        var volumeToSet = lastVolume < 0.1 ? 0.1 : lastVolume;\n        this.player_.volume(volumeToSet);\n        this.player_.muted(false);\n      } else {\n        this.player_.muted(this.player_.muted() ? false : true);\n      }\n    }\n    /**\n     * Update the `MuteToggle` button based on the state of `volume` and `muted`\n     * on the player.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The {@link Player#loadstart} event if this function was called\n     *        through an event.\n     *\n     * @listens Player#loadstart\n     * @listens Player#volumechange\n     */\n    ;\n\n    _proto.update = function update(event) {\n      this.updateIcon_();\n      this.updateControlText_();\n    }\n    /**\n     * Update the appearance of the `MuteToggle` icon.\n     *\n     * Possible states (given `level` variable below):\n     * - 0: crossed out\n     * - 1: zero bars of volume\n     * - 2: one bar of volume\n     * - 3: two bars of volume\n     *\n     * @private\n     */\n    ;\n\n    _proto.updateIcon_ = function updateIcon_() {\n      var vol = this.player_.volume();\n      var level = 3; // in iOS when a player is loaded with muted attribute\n      // and volume is changed with a native mute button\n      // we want to make sure muted state is updated\n\n      if (IS_IOS && this.player_.tech_ && this.player_.tech_.el_) {\n        this.player_.muted(this.player_.tech_.el_.muted);\n      }\n\n      if (vol === 0 || this.player_.muted()) {\n        level = 0;\n      } else if (vol < 0.33) {\n        level = 1;\n      } else if (vol < 0.67) {\n        level = 2;\n      } // TODO improve muted icon classes\n\n\n      for (var i = 0; i < 4; i++) {\n        removeClass(this.el_, \"vjs-vol-\" + i);\n      }\n\n      addClass(this.el_, \"vjs-vol-\" + level);\n    }\n    /**\n     * If `muted` has changed on the player, update the control text\n     * (`title` attribute on `vjs-mute-control` element and content of\n     * `vjs-control-text` element).\n     *\n     * @private\n     */\n    ;\n\n    _proto.updateControlText_ = function updateControlText_() {\n      var soundOff = this.player_.muted() || this.player_.volume() === 0;\n      var text = soundOff ? 'Unmute' : 'Mute';\n\n      if (this.controlText() !== text) {\n        this.controlText(text);\n      }\n    };\n\n    return MuteToggle;\n  }(Button);\n  /**\n   * The text that should display over the `MuteToggle`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  MuteToggle.prototype.controlText_ = 'Mute';\n  Component.registerComponent('MuteToggle', MuteToggle);\n\n  /**\n   * A Component to contain the MuteToggle and VolumeControl so that\n   * they can work together.\n   *\n   * @extends Component\n   */\n\n  var VolumePanel =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(VolumePanel, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function VolumePanel(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (typeof options.inline !== 'undefined') {\n        options.inline = options.inline;\n      } else {\n        options.inline = true;\n      } // pass the inline option down to the VolumeControl as vertical if\n      // the VolumeControl is on.\n\n\n      if (typeof options.volumeControl === 'undefined' || isPlain(options.volumeControl)) {\n        options.volumeControl = options.volumeControl || {};\n        options.volumeControl.vertical = !options.inline;\n      }\n\n      _this = _Component.call(this, player, options) || this;\n\n      _this.on(player, ['loadstart'], _this.volumePanelState_);\n\n      _this.on(_this.muteToggle, 'keyup', _this.handleKeyPress);\n\n      _this.on(_this.volumeControl, 'keyup', _this.handleVolumeControlKeyUp);\n\n      _this.on('keydown', _this.handleKeyPress);\n\n      _this.on('mouseover', _this.handleMouseOver);\n\n      _this.on('mouseout', _this.handleMouseOut); // while the slider is active (the mouse has been pressed down and\n      // is dragging) we do not want to hide the VolumeBar\n\n\n      _this.on(_this.volumeControl, ['slideractive'], _this.sliderActive_);\n\n      _this.on(_this.volumeControl, ['sliderinactive'], _this.sliderInactive_);\n\n      return _this;\n    }\n    /**\n     * Add vjs-slider-active class to the VolumePanel\n     *\n     * @listens VolumeControl#slideractive\n     * @private\n     */\n\n\n    var _proto = VolumePanel.prototype;\n\n    _proto.sliderActive_ = function sliderActive_() {\n      this.addClass('vjs-slider-active');\n    }\n    /**\n     * Removes vjs-slider-active class to the VolumePanel\n     *\n     * @listens VolumeControl#sliderinactive\n     * @private\n     */\n    ;\n\n    _proto.sliderInactive_ = function sliderInactive_() {\n      this.removeClass('vjs-slider-active');\n    }\n    /**\n     * Adds vjs-hidden or vjs-mute-toggle-only to the VolumePanel\n     * depending on MuteToggle and VolumeControl state\n     *\n     * @listens Player#loadstart\n     * @private\n     */\n    ;\n\n    _proto.volumePanelState_ = function volumePanelState_() {\n      // hide volume panel if neither volume control or mute toggle\n      // are displayed\n      if (this.volumeControl.hasClass('vjs-hidden') && this.muteToggle.hasClass('vjs-hidden')) {\n        this.addClass('vjs-hidden');\n      } // if only mute toggle is visible we don't want\n      // volume panel expanding when hovered or active\n\n\n      if (this.volumeControl.hasClass('vjs-hidden') && !this.muteToggle.hasClass('vjs-hidden')) {\n        this.addClass('vjs-mute-toggle-only');\n      }\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      var orientationClass = 'vjs-volume-panel-horizontal';\n\n      if (!this.options_.inline) {\n        orientationClass = 'vjs-volume-panel-vertical';\n      }\n\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: \"vjs-volume-panel vjs-control \" + orientationClass\n      });\n    }\n    /**\n     * Dispose of the `volume-panel` and all child components.\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      this.handleMouseOut();\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Handles `keyup` events on the `VolumeControl`, looking for ESC, which closes\n     * the volume panel and sets focus on `MuteToggle`.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keyup` event that caused this function to be called.\n     *\n     * @listens keyup\n     */\n    ;\n\n    _proto.handleVolumeControlKeyUp = function handleVolumeControlKeyUp(event) {\n      if (keycode.isEventKey(event, 'Esc')) {\n        this.muteToggle.focus();\n      }\n    }\n    /**\n     * This gets called when a `VolumePanel` gains hover via a `mouseover` event.\n     * Turns on listening for `mouseover` event. When they happen it\n     * calls `this.handleMouseOver`.\n     *\n     * @param {EventTarget~Event} event\n     *        The `mouseover` event that caused this function to be called.\n     *\n     * @listens mouseover\n     */\n    ;\n\n    _proto.handleMouseOver = function handleMouseOver(event) {\n      this.addClass('vjs-hover');\n      on(document, 'keyup', bind(this, this.handleKeyPress));\n    }\n    /**\n     * This gets called when a `VolumePanel` gains hover via a `mouseout` event.\n     * Turns on listening for `mouseout` event. When they happen it\n     * calls `this.handleMouseOut`.\n     *\n     * @param {EventTarget~Event} event\n     *        The `mouseout` event that caused this function to be called.\n     *\n     * @listens mouseout\n     */\n    ;\n\n    _proto.handleMouseOut = function handleMouseOut(event) {\n      this.removeClass('vjs-hover');\n      off(document, 'keyup', bind(this, this.handleKeyPress));\n    }\n    /**\n     * Handles `keyup` event on the document or `keydown` event on the `VolumePanel`,\n     * looking for ESC, which hides the `VolumeControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        The keypress that triggered this event.\n     *\n     * @listens keydown | keyup\n     */\n    ;\n\n    _proto.handleKeyPress = function handleKeyPress(event) {\n      if (keycode.isEventKey(event, 'Esc')) {\n        this.handleMouseOut();\n      }\n    };\n\n    return VolumePanel;\n  }(Component);\n  /**\n   * Default options for the `VolumeControl`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  VolumePanel.prototype.options_ = {\n    children: ['muteToggle', 'volumeControl']\n  };\n  Component.registerComponent('VolumePanel', VolumePanel);\n\n  /**\n   * The Menu component is used to build popup menus, including subtitle and\n   * captions selection menus.\n   *\n   * @extends Component\n   */\n\n  var Menu =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(Menu, _Component);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Player} player\n     *        the player that this component should attach to\n     *\n     * @param {Object} [options]\n     *        Object of option names and values\n     *\n     */\n    function Menu(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n\n      if (options) {\n        _this.menuButton_ = options.menuButton;\n      }\n\n      _this.focusedChild_ = -1;\n\n      _this.on('keydown', _this.handleKeyDown); // All the menu item instances share the same blur handler provided by the menu container.\n\n\n      _this.boundHandleBlur_ = bind(_assertThisInitialized(_this), _this.handleBlur);\n      _this.boundHandleTapClick_ = bind(_assertThisInitialized(_this), _this.handleTapClick);\n      return _this;\n    }\n    /**\n     * Add event listeners to the {@link MenuItem}.\n     *\n     * @param {Object} component\n     *        The instance of the `MenuItem` to add listeners to.\n     *\n     */\n\n\n    var _proto = Menu.prototype;\n\n    _proto.addEventListenerForItem = function addEventListenerForItem(component) {\n      if (!(component instanceof Component)) {\n        return;\n      }\n\n      this.on(component, 'blur', this.boundHandleBlur_);\n      this.on(component, ['tap', 'click'], this.boundHandleTapClick_);\n    }\n    /**\n     * Remove event listeners from the {@link MenuItem}.\n     *\n     * @param {Object} component\n     *        The instance of the `MenuItem` to remove listeners.\n     *\n     */\n    ;\n\n    _proto.removeEventListenerForItem = function removeEventListenerForItem(component) {\n      if (!(component instanceof Component)) {\n        return;\n      }\n\n      this.off(component, 'blur', this.boundHandleBlur_);\n      this.off(component, ['tap', 'click'], this.boundHandleTapClick_);\n    }\n    /**\n     * This method will be called indirectly when the component has been added\n     * before the component adds to the new menu instance by `addItem`.\n     * In this case, the original menu instance will remove the component\n     * by calling `removeChild`.\n     *\n     * @param {Object} component\n     *        The instance of the `MenuItem`\n     */\n    ;\n\n    _proto.removeChild = function removeChild(component) {\n      if (typeof component === 'string') {\n        component = this.getChild(component);\n      }\n\n      this.removeEventListenerForItem(component);\n\n      _Component.prototype.removeChild.call(this, component);\n    }\n    /**\n     * Add a {@link MenuItem} to the menu.\n     *\n     * @param {Object|string} component\n     *        The name or instance of the `MenuItem` to add.\n     *\n     */\n    ;\n\n    _proto.addItem = function addItem(component) {\n      var childComponent = this.addChild(component);\n\n      if (childComponent) {\n        this.addEventListenerForItem(childComponent);\n      }\n    }\n    /**\n     * Create the `Menu`s DOM element.\n     *\n     * @return {Element}\n     *         the element that was created\n     */\n    ;\n\n    _proto.createEl = function createEl$1() {\n      var contentElType = this.options_.contentElType || 'ul';\n      this.contentEl_ = createEl(contentElType, {\n        className: 'vjs-menu-content'\n      });\n      this.contentEl_.setAttribute('role', 'menu');\n\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        append: this.contentEl_,\n        className: 'vjs-menu'\n      });\n\n      el.appendChild(this.contentEl_); // Prevent clicks from bubbling up. Needed for Menu Buttons,\n      // where a click on the parent is significant\n\n      on(el, 'click', function (event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      });\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      this.contentEl_ = null;\n      this.boundHandleBlur_ = null;\n      this.boundHandleTapClick_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Called when a `MenuItem` loses focus.\n     *\n     * @param {EventTarget~Event} event\n     *        The `blur` event that caused this function to be called.\n     *\n     * @listens blur\n     */\n    ;\n\n    _proto.handleBlur = function handleBlur(event) {\n      var relatedTarget = event.relatedTarget || document.activeElement; // Close menu popup when a user clicks outside the menu\n\n      if (!this.children().some(function (element) {\n        return element.el() === relatedTarget;\n      })) {\n        var btn = this.menuButton_;\n\n        if (btn && btn.buttonPressed_ && relatedTarget !== btn.el().firstChild) {\n          btn.unpressButton();\n        }\n      }\n    }\n    /**\n     * Called when a `MenuItem` gets clicked or tapped.\n     *\n     * @param {EventTarget~Event} event\n     *        The `click` or `tap` event that caused this function to be called.\n     *\n     * @listens click,tap\n     */\n    ;\n\n    _proto.handleTapClick = function handleTapClick(event) {\n      // Unpress the associated MenuButton, and move focus back to it\n      if (this.menuButton_) {\n        this.menuButton_.unpressButton();\n        var childComponents = this.children();\n\n        if (!Array.isArray(childComponents)) {\n          return;\n        }\n\n        var foundComponent = childComponents.filter(function (component) {\n          return component.el() === event.target;\n        })[0];\n\n        if (!foundComponent) {\n          return;\n        } // don't focus menu button if item is a caption settings item\n        // because focus will move elsewhere\n\n\n        if (foundComponent.name() !== 'CaptionSettingsMenuItem') {\n          this.menuButton_.focus();\n        }\n      }\n    }\n    /**\n     * Handle a `keydown` event on this menu. This listener is added in the constructor.\n     *\n     * @param {EventTarget~Event} event\n     *        A `keydown` event that happened on the menu.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Left and Down Arrows\n      if (keycode.isEventKey(event, 'Left') || keycode.isEventKey(event, 'Down')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.stepForward(); // Up and Right Arrows\n      } else if (keycode.isEventKey(event, 'Right') || keycode.isEventKey(event, 'Up')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.stepBack();\n      }\n    }\n    /**\n     * Move to next (lower) menu item for keyboard users.\n     */\n    ;\n\n    _proto.stepForward = function stepForward() {\n      var stepChild = 0;\n\n      if (this.focusedChild_ !== undefined) {\n        stepChild = this.focusedChild_ + 1;\n      }\n\n      this.focus(stepChild);\n    }\n    /**\n     * Move to previous (higher) menu item for keyboard users.\n     */\n    ;\n\n    _proto.stepBack = function stepBack() {\n      var stepChild = 0;\n\n      if (this.focusedChild_ !== undefined) {\n        stepChild = this.focusedChild_ - 1;\n      }\n\n      this.focus(stepChild);\n    }\n    /**\n     * Set focus on a {@link MenuItem} in the `Menu`.\n     *\n     * @param {Object|string} [item=0]\n     *        Index of child item set focus on.\n     */\n    ;\n\n    _proto.focus = function focus(item) {\n      if (item === void 0) {\n        item = 0;\n      }\n\n      var children = this.children().slice();\n      var haveTitle = children.length && children[0].className && /vjs-menu-title/.test(children[0].className);\n\n      if (haveTitle) {\n        children.shift();\n      }\n\n      if (children.length > 0) {\n        if (item < 0) {\n          item = 0;\n        } else if (item >= children.length) {\n          item = children.length - 1;\n        }\n\n        this.focusedChild_ = item;\n        children[item].el_.focus();\n      }\n    };\n\n    return Menu;\n  }(Component);\n\n  Component.registerComponent('Menu', Menu);\n\n  /**\n   * A `MenuButton` class for any popup {@link Menu}.\n   *\n   * @extends Component\n   */\n\n  var MenuButton =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(MenuButton, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function MenuButton(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _Component.call(this, player, options) || this;\n      _this.menuButton_ = new Button(player, options);\n\n      _this.menuButton_.controlText(_this.controlText_);\n\n      _this.menuButton_.el_.setAttribute('aria-haspopup', 'true'); // Add buildCSSClass values to the button, not the wrapper\n\n\n      var buttonClass = Button.prototype.buildCSSClass();\n      _this.menuButton_.el_.className = _this.buildCSSClass() + ' ' + buttonClass;\n\n      _this.menuButton_.removeClass('vjs-control');\n\n      _this.addChild(_this.menuButton_);\n\n      _this.update();\n\n      _this.enabled_ = true;\n\n      _this.on(_this.menuButton_, 'tap', _this.handleClick);\n\n      _this.on(_this.menuButton_, 'click', _this.handleClick);\n\n      _this.on(_this.menuButton_, 'keydown', _this.handleKeyDown);\n\n      _this.on(_this.menuButton_, 'mouseenter', function () {\n        _this.addClass('vjs-hover');\n\n        _this.menu.show();\n\n        on(document, 'keyup', bind(_assertThisInitialized(_this), _this.handleMenuKeyUp));\n      });\n\n      _this.on('mouseleave', _this.handleMouseLeave);\n\n      _this.on('keydown', _this.handleSubmenuKeyDown);\n\n      return _this;\n    }\n    /**\n     * Update the menu based on the current state of its items.\n     */\n\n\n    var _proto = MenuButton.prototype;\n\n    _proto.update = function update() {\n      var menu = this.createMenu();\n\n      if (this.menu) {\n        this.menu.dispose();\n        this.removeChild(this.menu);\n      }\n\n      this.menu = menu;\n      this.addChild(menu);\n      /**\n       * Track the state of the menu button\n       *\n       * @type {Boolean}\n       * @private\n       */\n\n      this.buttonPressed_ = false;\n      this.menuButton_.el_.setAttribute('aria-expanded', 'false');\n\n      if (this.items && this.items.length <= this.hideThreshold_) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n    /**\n     * Create the menu and add all items to it.\n     *\n     * @return {Menu}\n     *         The constructed menu\n     */\n    ;\n\n    _proto.createMenu = function createMenu() {\n      var menu = new Menu(this.player_, {\n        menuButton: this\n      });\n      /**\n       * Hide the menu if the number of items is less than or equal to this threshold. This defaults\n       * to 0 and whenever we add items which can be hidden to the menu we'll increment it. We list\n       * it here because every time we run `createMenu` we need to reset the value.\n       *\n       * @protected\n       * @type {Number}\n       */\n\n      this.hideThreshold_ = 0; // Add a title list item to the top\n\n      if (this.options_.title) {\n        var titleEl = createEl('li', {\n          className: 'vjs-menu-title',\n          innerHTML: toTitleCase(this.options_.title),\n          tabIndex: -1\n        });\n        this.hideThreshold_ += 1;\n        var titleComponent = new Component(this.player_, {\n          el: titleEl\n        });\n        menu.addItem(titleComponent);\n      }\n\n      this.items = this.createItems();\n\n      if (this.items) {\n        // Add menu items to the menu\n        for (var i = 0; i < this.items.length; i++) {\n          menu.addItem(this.items[i]);\n        }\n      }\n\n      return menu;\n    }\n    /**\n     * Create the list of menu items. Specific to each subclass.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.createItems = function createItems() {}\n    /**\n     * Create the `MenuButtons`s DOM element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: this.buildWrapperCSSClass()\n      }, {});\n    }\n    /**\n     * Allow sub components to stack CSS class names for the wrapper element\n     *\n     * @return {string}\n     *         The constructed wrapper DOM `className`\n     */\n    ;\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      var menuButtonClass = 'vjs-menu-button'; // If the inline option is passed, we want to use different styles altogether.\n\n      if (this.options_.inline === true) {\n        menuButtonClass += '-inline';\n      } else {\n        menuButtonClass += '-popup';\n      } // TODO: Fix the CSS so that this isn't necessary\n\n\n      var buttonClass = Button.prototype.buildCSSClass();\n      return \"vjs-menu-button \" + menuButtonClass + \" \" + buttonClass + \" \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      var menuButtonClass = 'vjs-menu-button'; // If the inline option is passed, we want to use different styles altogether.\n\n      if (this.options_.inline === true) {\n        menuButtonClass += '-inline';\n      } else {\n        menuButtonClass += '-popup';\n      }\n\n      return \"vjs-menu-button \" + menuButtonClass + \" \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Get or set the localized control text that will be used for accessibility.\n     *\n     * > NOTE: This will come from the internal `menuButton_` element.\n     *\n     * @param {string} [text]\n     *        Control text for element.\n     *\n     * @param {Element} [el=this.menuButton_.el()]\n     *        Element to set the title on.\n     *\n     * @return {string}\n     *         - The control text when getting\n     */\n    ;\n\n    _proto.controlText = function controlText(text, el) {\n      if (el === void 0) {\n        el = this.menuButton_.el();\n      }\n\n      return this.menuButton_.controlText(text, el);\n    }\n    /**\n     * Dispose of the `menu-button` and all child components.\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      this.handleMouseLeave();\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Handle a click on a `MenuButton`.\n     * See {@link ClickableComponent#handleClick} for instances where this is called.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      if (this.buttonPressed_) {\n        this.unpressButton();\n      } else {\n        this.pressButton();\n      }\n    }\n    /**\n     * Handle `mouseleave` for `MenuButton`.\n     *\n     * @param {EventTarget~Event} event\n     *        The `mouseleave` event that caused this function to be called.\n     *\n     * @listens mouseleave\n     */\n    ;\n\n    _proto.handleMouseLeave = function handleMouseLeave(event) {\n      this.removeClass('vjs-hover');\n      off(document, 'keyup', bind(this, this.handleMenuKeyUp));\n    }\n    /**\n     * Set the focus to the actual button, not to this element\n     */\n    ;\n\n    _proto.focus = function focus() {\n      this.menuButton_.focus();\n    }\n    /**\n     * Remove the focus from the actual button, not this element\n     */\n    ;\n\n    _proto.blur = function blur() {\n      this.menuButton_.blur();\n    }\n    /**\n     * Handle tab, escape, down arrow, and up arrow keys for `MenuButton`. See\n     * {@link ClickableComponent#handleKeyDown} for instances where this is called.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Escape or Tab unpress the 'button'\n      if (keycode.isEventKey(event, 'Esc') || keycode.isEventKey(event, 'Tab')) {\n        if (this.buttonPressed_) {\n          this.unpressButton();\n        } // Don't preventDefault for Tab key - we still want to lose focus\n\n\n        if (!keycode.isEventKey(event, 'Tab')) {\n          event.preventDefault(); // Set focus back to the menu button's button\n\n          this.menuButton_.focus();\n        } // Up Arrow or Down Arrow also 'press' the button to open the menu\n\n      } else if (keycode.isEventKey(event, 'Up') || keycode.isEventKey(event, 'Down')) {\n        if (!this.buttonPressed_) {\n          event.preventDefault();\n          this.pressButton();\n        }\n      }\n    }\n    /**\n     * Handle a `keyup` event on a `MenuButton`. The listener for this is added in\n     * the constructor.\n     *\n     * @param {EventTarget~Event} event\n     *        Key press event\n     *\n     * @listens keyup\n     */\n    ;\n\n    _proto.handleMenuKeyUp = function handleMenuKeyUp(event) {\n      // Escape hides popup menu\n      if (keycode.isEventKey(event, 'Esc') || keycode.isEventKey(event, 'Tab')) {\n        this.removeClass('vjs-hover');\n      }\n    }\n    /**\n     * This method name now delegates to `handleSubmenuKeyDown`. This means\n     * anyone calling `handleSubmenuKeyPress` will not see their method calls\n     * stop working.\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleSubmenuKeyPress = function handleSubmenuKeyPress(event) {\n      this.handleSubmenuKeyDown(event);\n    }\n    /**\n     * Handle a `keydown` event on a sub-menu. The listener for this is added in\n     * the constructor.\n     *\n     * @param {EventTarget~Event} event\n     *        Key press event\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleSubmenuKeyDown = function handleSubmenuKeyDown(event) {\n      // Escape or Tab unpress the 'button'\n      if (keycode.isEventKey(event, 'Esc') || keycode.isEventKey(event, 'Tab')) {\n        if (this.buttonPressed_) {\n          this.unpressButton();\n        } // Don't preventDefault for Tab key - we still want to lose focus\n\n\n        if (!keycode.isEventKey(event, 'Tab')) {\n          event.preventDefault(); // Set focus back to the menu button's button\n\n          this.menuButton_.focus();\n        }\n      }\n    }\n    /**\n     * Put the current `MenuButton` into a pressed state.\n     */\n    ;\n\n    _proto.pressButton = function pressButton() {\n      if (this.enabled_) {\n        this.buttonPressed_ = true;\n        this.menu.show();\n        this.menu.lockShowing();\n        this.menuButton_.el_.setAttribute('aria-expanded', 'true'); // set the focus into the submenu, except on iOS where it is resulting in\n        // undesired scrolling behavior when the player is in an iframe\n\n        if (IS_IOS && isInFrame()) {\n          // Return early so that the menu isn't focused\n          return;\n        }\n\n        this.menu.focus();\n      }\n    }\n    /**\n     * Take the current `MenuButton` out of a pressed state.\n     */\n    ;\n\n    _proto.unpressButton = function unpressButton() {\n      if (this.enabled_) {\n        this.buttonPressed_ = false;\n        this.menu.unlockShowing();\n        this.menu.hide();\n        this.menuButton_.el_.setAttribute('aria-expanded', 'false');\n      }\n    }\n    /**\n     * Disable the `MenuButton`. Don't allow it to be clicked.\n     */\n    ;\n\n    _proto.disable = function disable() {\n      this.unpressButton();\n      this.enabled_ = false;\n      this.addClass('vjs-disabled');\n      this.menuButton_.disable();\n    }\n    /**\n     * Enable the `MenuButton`. Allow it to be clicked.\n     */\n    ;\n\n    _proto.enable = function enable() {\n      this.enabled_ = true;\n      this.removeClass('vjs-disabled');\n      this.menuButton_.enable();\n    };\n\n    return MenuButton;\n  }(Component);\n\n  Component.registerComponent('MenuButton', MenuButton);\n\n  /**\n   * The base class for buttons that toggle specific  track types (e.g. subtitles).\n   *\n   * @extends MenuButton\n   */\n\n  var TrackButton =\n  /*#__PURE__*/\n  function (_MenuButton) {\n    _inheritsLoose(TrackButton, _MenuButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function TrackButton(player, options) {\n      var _this;\n\n      var tracks = options.tracks;\n      _this = _MenuButton.call(this, player, options) || this;\n\n      if (_this.items.length <= 1) {\n        _this.hide();\n      }\n\n      if (!tracks) {\n        return _assertThisInitialized(_this);\n      }\n\n      var updateHandler = bind(_assertThisInitialized(_this), _this.update);\n      tracks.addEventListener('removetrack', updateHandler);\n      tracks.addEventListener('addtrack', updateHandler);\n\n      _this.player_.on('ready', updateHandler);\n\n      _this.player_.on('dispose', function () {\n        tracks.removeEventListener('removetrack', updateHandler);\n        tracks.removeEventListener('addtrack', updateHandler);\n      });\n\n      return _this;\n    }\n\n    return TrackButton;\n  }(MenuButton);\n\n  Component.registerComponent('TrackButton', TrackButton);\n\n  /**\n   * @file menu-keys.js\n   */\n\n  /**\n    * All keys used for operation of a menu (`MenuButton`, `Menu`, and `MenuItem`)\n    * Note that 'Enter' and 'Space' are not included here (otherwise they would\n    * prevent the `MenuButton` and `MenuItem` from being keyboard-clickable)\n    * @typedef MenuKeys\n    * @array\n    */\n  var MenuKeys = ['Tab', 'Esc', 'Up', 'Down', 'Right', 'Left'];\n\n  /**\n   * The component for a menu item. `<li>`\n   *\n   * @extends ClickableComponent\n   */\n\n  var MenuItem =\n  /*#__PURE__*/\n  function (_ClickableComponent) {\n    _inheritsLoose(MenuItem, _ClickableComponent);\n\n    /**\n     * Creates an instance of the this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     *\n     */\n    function MenuItem(player, options) {\n      var _this;\n\n      _this = _ClickableComponent.call(this, player, options) || this;\n      _this.selectable = options.selectable;\n      _this.isSelected_ = options.selected || false;\n      _this.multiSelectable = options.multiSelectable;\n\n      _this.selected(_this.isSelected_);\n\n      if (_this.selectable) {\n        if (_this.multiSelectable) {\n          _this.el_.setAttribute('role', 'menuitemcheckbox');\n        } else {\n          _this.el_.setAttribute('role', 'menuitemradio');\n        }\n      } else {\n        _this.el_.setAttribute('role', 'menuitem');\n      }\n\n      return _this;\n    }\n    /**\n     * Create the `MenuItem's DOM element\n     *\n     * @param {string} [type=li]\n     *        Element's node type, not actually used, always set to `li`.\n     *\n     * @param {Object} [props={}]\n     *        An object of properties that should be set on the element\n     *\n     * @param {Object} [attrs={}]\n     *        An object of attributes that should be set on the element\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n\n\n    var _proto = MenuItem.prototype;\n\n    _proto.createEl = function createEl(type, props, attrs) {\n      // The control is textual, not just an icon\n      this.nonIconControl = true;\n      return _ClickableComponent.prototype.createEl.call(this, 'li', assign({\n        className: 'vjs-menu-item',\n        innerHTML: \"<span class=\\\"vjs-menu-item-text\\\">\" + this.localize(this.options_.label) + \"</span>\",\n        tabIndex: -1\n      }, props), attrs);\n    }\n    /**\n     * Ignore keys which are used by the menu, but pass any other ones up. See\n     * {@link ClickableComponent#handleKeyDown} for instances where this is called.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      if (!MenuKeys.some(function (key) {\n        return keycode.isEventKey(event, key);\n      })) {\n        // Pass keydown handling up for unused keys\n        _ClickableComponent.prototype.handleKeyDown.call(this, event);\n      }\n    }\n    /**\n     * Any click on a `MenuItem` puts it into the selected state.\n     * See {@link ClickableComponent#handleClick} for instances where this is called.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      this.selected(true);\n    }\n    /**\n     * Set the state for this menu item as selected or not.\n     *\n     * @param {boolean} selected\n     *        if the menu item is selected or not\n     */\n    ;\n\n    _proto.selected = function selected(_selected) {\n      if (this.selectable) {\n        if (_selected) {\n          this.addClass('vjs-selected');\n          this.el_.setAttribute('aria-checked', 'true'); // aria-checked isn't fully supported by browsers/screen readers,\n          // so indicate selected state to screen reader in the control text.\n\n          this.controlText(', selected');\n          this.isSelected_ = true;\n        } else {\n          this.removeClass('vjs-selected');\n          this.el_.setAttribute('aria-checked', 'false'); // Indicate un-selected state to screen reader\n\n          this.controlText('');\n          this.isSelected_ = false;\n        }\n      }\n    };\n\n    return MenuItem;\n  }(ClickableComponent);\n\n  Component.registerComponent('MenuItem', MenuItem);\n\n  /**\n   * The specific menu item type for selecting a language within a text track kind\n   *\n   * @extends MenuItem\n   */\n\n  var TextTrackMenuItem =\n  /*#__PURE__*/\n  function (_MenuItem) {\n    _inheritsLoose(TextTrackMenuItem, _MenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function TextTrackMenuItem(player, options) {\n      var _this;\n\n      var track = options.track;\n      var tracks = player.textTracks(); // Modify options for parent MenuItem class's init.\n\n      options.label = track.label || track.language || 'Unknown';\n      options.selected = track.mode === 'showing';\n      _this = _MenuItem.call(this, player, options) || this;\n      _this.track = track; // Determine the relevant kind(s) of tracks for this component and filter\n      // out empty kinds.\n\n      _this.kinds = (options.kinds || [options.kind || _this.track.kind]).filter(Boolean);\n\n      var changeHandler = function changeHandler() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this.handleTracksChange.apply(_assertThisInitialized(_this), args);\n      };\n\n      var selectedLanguageChangeHandler = function selectedLanguageChangeHandler() {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        _this.handleSelectedLanguageChange.apply(_assertThisInitialized(_this), args);\n      };\n\n      player.on(['loadstart', 'texttrackchange'], changeHandler);\n      tracks.addEventListener('change', changeHandler);\n      tracks.addEventListener('selectedlanguagechange', selectedLanguageChangeHandler);\n\n      _this.on('dispose', function () {\n        player.off(['loadstart', 'texttrackchange'], changeHandler);\n        tracks.removeEventListener('change', changeHandler);\n        tracks.removeEventListener('selectedlanguagechange', selectedLanguageChangeHandler);\n      }); // iOS7 doesn't dispatch change events to TextTrackLists when an\n      // associated track's mode changes. Without something like\n      // Object.observe() (also not present on iOS7), it's not\n      // possible to detect changes to the mode attribute and polyfill\n      // the change event. As a poor substitute, we manually dispatch\n      // change events whenever the controls modify the mode.\n\n\n      if (tracks.onchange === undefined) {\n        var event;\n\n        _this.on(['tap', 'click'], function () {\n          if (typeof window$1.Event !== 'object') {\n            // Android 2.3 throws an Illegal Constructor error for window.Event\n            try {\n              event = new window$1.Event('change');\n            } catch (err) {// continue regardless of error\n            }\n          }\n\n          if (!event) {\n            event = document.createEvent('Event');\n            event.initEvent('change', true, true);\n          }\n\n          tracks.dispatchEvent(event);\n        });\n      } // set the default state based on current tracks\n\n\n      _this.handleTracksChange();\n\n      return _this;\n    }\n    /**\n     * This gets called when an `TextTrackMenuItem` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n\n\n    var _proto = TextTrackMenuItem.prototype;\n\n    _proto.handleClick = function handleClick(event) {\n      var referenceTrack = this.track;\n      var tracks = this.player_.textTracks();\n\n      _MenuItem.prototype.handleClick.call(this, event);\n\n      if (!tracks) {\n        return;\n      }\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i]; // If the track from the text tracks list is not of the right kind,\n        // skip it. We do not want to affect tracks of incompatible kind(s).\n\n        if (this.kinds.indexOf(track.kind) === -1) {\n          continue;\n        } // If this text track is the component's track and it is not showing,\n        // set it to showing.\n\n\n        if (track === referenceTrack) {\n          if (track.mode !== 'showing') {\n            track.mode = 'showing';\n          } // If this text track is not the component's track and it is not\n          // disabled, set it to disabled.\n\n        } else if (track.mode !== 'disabled') {\n          track.mode = 'disabled';\n        }\n      }\n    }\n    /**\n     * Handle text track list change\n     *\n     * @param {EventTarget~Event} event\n     *        The `change` event that caused this function to be called.\n     *\n     * @listens TextTrackList#change\n     */\n    ;\n\n    _proto.handleTracksChange = function handleTracksChange(event) {\n      var shouldBeSelected = this.track.mode === 'showing'; // Prevent redundant selected() calls because they may cause\n      // screen readers to read the appended control text unnecessarily\n\n      if (shouldBeSelected !== this.isSelected_) {\n        this.selected(shouldBeSelected);\n      }\n    };\n\n    _proto.handleSelectedLanguageChange = function handleSelectedLanguageChange(event) {\n      if (this.track.mode === 'showing') {\n        var selectedLanguage = this.player_.cache_.selectedLanguage; // Don't replace the kind of track across the same language\n\n        if (selectedLanguage && selectedLanguage.enabled && selectedLanguage.language === this.track.language && selectedLanguage.kind !== this.track.kind) {\n          return;\n        }\n\n        this.player_.cache_.selectedLanguage = {\n          enabled: true,\n          language: this.track.language,\n          kind: this.track.kind\n        };\n      }\n    };\n\n    _proto.dispose = function dispose() {\n      // remove reference to track object on dispose\n      this.track = null;\n\n      _MenuItem.prototype.dispose.call(this);\n    };\n\n    return TextTrackMenuItem;\n  }(MenuItem);\n\n  Component.registerComponent('TextTrackMenuItem', TextTrackMenuItem);\n\n  /**\n   * A special menu item for turning of a specific type of text track\n   *\n   * @extends TextTrackMenuItem\n   */\n\n  var OffTextTrackMenuItem =\n  /*#__PURE__*/\n  function (_TextTrackMenuItem) {\n    _inheritsLoose(OffTextTrackMenuItem, _TextTrackMenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function OffTextTrackMenuItem(player, options) {\n      // Create pseudo track info\n      // Requires options['kind']\n      options.track = {\n        player: player,\n        // it is no longer necessary to store `kind` or `kinds` on the track itself\n        // since they are now stored in the `kinds` property of all instances of\n        // TextTrackMenuItem, but this will remain for backwards compatibility\n        kind: options.kind,\n        kinds: options.kinds,\n        \"default\": false,\n        mode: 'disabled'\n      };\n\n      if (!options.kinds) {\n        options.kinds = [options.kind];\n      }\n\n      if (options.label) {\n        options.track.label = options.label;\n      } else {\n        options.track.label = options.kinds.join(' and ') + ' off';\n      } // MenuItem is selectable\n\n\n      options.selectable = true; // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n\n      options.multiSelectable = false;\n      return _TextTrackMenuItem.call(this, player, options) || this;\n    }\n    /**\n     * Handle text track change\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to run\n     */\n\n\n    var _proto = OffTextTrackMenuItem.prototype;\n\n    _proto.handleTracksChange = function handleTracksChange(event) {\n      var tracks = this.player().textTracks();\n      var shouldBeSelected = true;\n\n      for (var i = 0, l = tracks.length; i < l; i++) {\n        var track = tracks[i];\n\n        if (this.options_.kinds.indexOf(track.kind) > -1 && track.mode === 'showing') {\n          shouldBeSelected = false;\n          break;\n        }\n      } // Prevent redundant selected() calls because they may cause\n      // screen readers to read the appended control text unnecessarily\n\n\n      if (shouldBeSelected !== this.isSelected_) {\n        this.selected(shouldBeSelected);\n      }\n    };\n\n    _proto.handleSelectedLanguageChange = function handleSelectedLanguageChange(event) {\n      var tracks = this.player().textTracks();\n      var allHidden = true;\n\n      for (var i = 0, l = tracks.length; i < l; i++) {\n        var track = tracks[i];\n\n        if (['captions', 'descriptions', 'subtitles'].indexOf(track.kind) > -1 && track.mode === 'showing') {\n          allHidden = false;\n          break;\n        }\n      }\n\n      if (allHidden) {\n        this.player_.cache_.selectedLanguage = {\n          enabled: false\n        };\n      }\n    };\n\n    return OffTextTrackMenuItem;\n  }(TextTrackMenuItem);\n\n  Component.registerComponent('OffTextTrackMenuItem', OffTextTrackMenuItem);\n\n  /**\n   * The base class for buttons that toggle specific text track types (e.g. subtitles)\n   *\n   * @extends MenuButton\n   */\n\n  var TextTrackButton =\n  /*#__PURE__*/\n  function (_TrackButton) {\n    _inheritsLoose(TextTrackButton, _TrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function TextTrackButton(player, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      options.tracks = player.textTracks();\n      return _TrackButton.call(this, player, options) || this;\n    }\n    /**\n     * Create a menu item for each text track\n     *\n     * @param {TextTrackMenuItem[]} [items=[]]\n     *        Existing array of items to use during creation\n     *\n     * @return {TextTrackMenuItem[]}\n     *         Array of menu items that were created\n     */\n\n\n    var _proto = TextTrackButton.prototype;\n\n    _proto.createItems = function createItems(items, TrackMenuItem) {\n      if (items === void 0) {\n        items = [];\n      }\n\n      if (TrackMenuItem === void 0) {\n        TrackMenuItem = TextTrackMenuItem;\n      }\n\n      // Label is an override for the [track] off label\n      // USed to localise captions/subtitles\n      var label;\n\n      if (this.label_) {\n        label = this.label_ + \" off\";\n      } // Add an OFF menu item to turn all tracks off\n\n\n      items.push(new OffTextTrackMenuItem(this.player_, {\n        kinds: this.kinds_,\n        kind: this.kind_,\n        label: label\n      }));\n      this.hideThreshold_ += 1;\n      var tracks = this.player_.textTracks();\n\n      if (!Array.isArray(this.kinds_)) {\n        this.kinds_ = [this.kind_];\n      }\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i]; // only add tracks that are of an appropriate kind and have a label\n\n        if (this.kinds_.indexOf(track.kind) > -1) {\n          var item = new TrackMenuItem(this.player_, {\n            track: track,\n            kinds: this.kinds_,\n            kind: this.kind_,\n            // MenuItem is selectable\n            selectable: true,\n            // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n            multiSelectable: false\n          });\n          item.addClass(\"vjs-\" + track.kind + \"-menu-item\");\n          items.push(item);\n        }\n      }\n\n      return items;\n    };\n\n    return TextTrackButton;\n  }(TrackButton);\n\n  Component.registerComponent('TextTrackButton', TextTrackButton);\n\n  /**\n   * The chapter track menu item\n   *\n   * @extends MenuItem\n   */\n\n  var ChaptersTrackMenuItem =\n  /*#__PURE__*/\n  function (_MenuItem) {\n    _inheritsLoose(ChaptersTrackMenuItem, _MenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function ChaptersTrackMenuItem(player, options) {\n      var _this;\n\n      var track = options.track;\n      var cue = options.cue;\n      var currentTime = player.currentTime(); // Modify options for parent MenuItem class's init.\n\n      options.selectable = true;\n      options.multiSelectable = false;\n      options.label = cue.text;\n      options.selected = cue.startTime <= currentTime && currentTime < cue.endTime;\n      _this = _MenuItem.call(this, player, options) || this;\n      _this.track = track;\n      _this.cue = cue;\n      track.addEventListener('cuechange', bind(_assertThisInitialized(_this), _this.update));\n      return _this;\n    }\n    /**\n     * This gets called when an `ChaptersTrackMenuItem` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n\n\n    var _proto = ChaptersTrackMenuItem.prototype;\n\n    _proto.handleClick = function handleClick(event) {\n      _MenuItem.prototype.handleClick.call(this);\n\n      this.player_.currentTime(this.cue.startTime);\n      this.update(this.cue.startTime);\n    }\n    /**\n     * Update chapter menu item\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `cuechange` event that caused this function to run.\n     *\n     * @listens TextTrack#cuechange\n     */\n    ;\n\n    _proto.update = function update(event) {\n      var cue = this.cue;\n      var currentTime = this.player_.currentTime(); // vjs.log(currentTime, cue.startTime);\n\n      this.selected(cue.startTime <= currentTime && currentTime < cue.endTime);\n    };\n\n    return ChaptersTrackMenuItem;\n  }(MenuItem);\n\n  Component.registerComponent('ChaptersTrackMenuItem', ChaptersTrackMenuItem);\n\n  /**\n   * The button component for toggling and selecting chapters\n   * Chapters act much differently than other text tracks\n   * Cues are navigation vs. other tracks of alternative languages\n   *\n   * @extends TextTrackButton\n   */\n\n  var ChaptersButton =\n  /*#__PURE__*/\n  function (_TextTrackButton) {\n    _inheritsLoose(ChaptersButton, _TextTrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when this function is ready.\n     */\n    function ChaptersButton(player, options, ready) {\n      return _TextTrackButton.call(this, player, options, ready) || this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = ChaptersButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-chapters-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-chapters-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Update the menu based on the current state of its items.\n     *\n     * @param {EventTarget~Event} [event]\n     *        An event that triggered this function to run.\n     *\n     * @listens TextTrackList#addtrack\n     * @listens TextTrackList#removetrack\n     * @listens TextTrackList#change\n     */\n    ;\n\n    _proto.update = function update(event) {\n      if (!this.track_ || event && (event.type === 'addtrack' || event.type === 'removetrack')) {\n        this.setTrack(this.findChaptersTrack());\n      }\n\n      _TextTrackButton.prototype.update.call(this);\n    }\n    /**\n     * Set the currently selected track for the chapters button.\n     *\n     * @param {TextTrack} track\n     *        The new track to select. Nothing will change if this is the currently selected\n     *        track.\n     */\n    ;\n\n    _proto.setTrack = function setTrack(track) {\n      if (this.track_ === track) {\n        return;\n      }\n\n      if (!this.updateHandler_) {\n        this.updateHandler_ = this.update.bind(this);\n      } // here this.track_ refers to the old track instance\n\n\n      if (this.track_) {\n        var remoteTextTrackEl = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);\n\n        if (remoteTextTrackEl) {\n          remoteTextTrackEl.removeEventListener('load', this.updateHandler_);\n        }\n\n        this.track_ = null;\n      }\n\n      this.track_ = track; // here this.track_ refers to the new track instance\n\n      if (this.track_) {\n        this.track_.mode = 'hidden';\n\n        var _remoteTextTrackEl = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);\n\n        if (_remoteTextTrackEl) {\n          _remoteTextTrackEl.addEventListener('load', this.updateHandler_);\n        }\n      }\n    }\n    /**\n     * Find the track object that is currently in use by this ChaptersButton\n     *\n     * @return {TextTrack|undefined}\n     *         The current track or undefined if none was found.\n     */\n    ;\n\n    _proto.findChaptersTrack = function findChaptersTrack() {\n      var tracks = this.player_.textTracks() || [];\n\n      for (var i = tracks.length - 1; i >= 0; i--) {\n        // We will always choose the last track as our chaptersTrack\n        var track = tracks[i];\n\n        if (track.kind === this.kind_) {\n          return track;\n        }\n      }\n    }\n    /**\n     * Get the caption for the ChaptersButton based on the track label. This will also\n     * use the current tracks localized kind as a fallback if a label does not exist.\n     *\n     * @return {string}\n     *         The tracks current label or the localized track kind.\n     */\n    ;\n\n    _proto.getMenuCaption = function getMenuCaption() {\n      if (this.track_ && this.track_.label) {\n        return this.track_.label;\n      }\n\n      return this.localize(toTitleCase(this.kind_));\n    }\n    /**\n     * Create menu from chapter track\n     *\n     * @return {Menu}\n     *         New menu for the chapter buttons\n     */\n    ;\n\n    _proto.createMenu = function createMenu() {\n      this.options_.title = this.getMenuCaption();\n      return _TextTrackButton.prototype.createMenu.call(this);\n    }\n    /**\n     * Create a menu item for each text track\n     *\n     * @return {TextTrackMenuItem[]}\n     *         Array of menu items\n     */\n    ;\n\n    _proto.createItems = function createItems() {\n      var items = [];\n\n      if (!this.track_) {\n        return items;\n      }\n\n      var cues = this.track_.cues;\n\n      if (!cues) {\n        return items;\n      }\n\n      for (var i = 0, l = cues.length; i < l; i++) {\n        var cue = cues[i];\n        var mi = new ChaptersTrackMenuItem(this.player_, {\n          track: this.track_,\n          cue: cue\n        });\n        items.push(mi);\n      }\n\n      return items;\n    };\n\n    return ChaptersButton;\n  }(TextTrackButton);\n  /**\n   * `kind` of TextTrack to look for to associate it with this menu.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  ChaptersButton.prototype.kind_ = 'chapters';\n  /**\n   * The text that should display over the `ChaptersButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n  ChaptersButton.prototype.controlText_ = 'Chapters';\n  Component.registerComponent('ChaptersButton', ChaptersButton);\n\n  /**\n   * The button component for toggling and selecting descriptions\n   *\n   * @extends TextTrackButton\n   */\n\n  var DescriptionsButton =\n  /*#__PURE__*/\n  function (_TextTrackButton) {\n    _inheritsLoose(DescriptionsButton, _TextTrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when this component is ready.\n     */\n    function DescriptionsButton(player, options, ready) {\n      var _this;\n\n      _this = _TextTrackButton.call(this, player, options, ready) || this;\n      var tracks = player.textTracks();\n      var changeHandler = bind(_assertThisInitialized(_this), _this.handleTracksChange);\n      tracks.addEventListener('change', changeHandler);\n\n      _this.on('dispose', function () {\n        tracks.removeEventListener('change', changeHandler);\n      });\n\n      return _this;\n    }\n    /**\n     * Handle text track change\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to run\n     *\n     * @listens TextTrackList#change\n     */\n\n\n    var _proto = DescriptionsButton.prototype;\n\n    _proto.handleTracksChange = function handleTracksChange(event) {\n      var tracks = this.player().textTracks();\n      var disabled = false; // Check whether a track of a different kind is showing\n\n      for (var i = 0, l = tracks.length; i < l; i++) {\n        var track = tracks[i];\n\n        if (track.kind !== this.kind_ && track.mode === 'showing') {\n          disabled = true;\n          break;\n        }\n      } // If another track is showing, disable this menu button\n\n\n      if (disabled) {\n        this.disable();\n      } else {\n        this.enable();\n      }\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-descriptions-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-descriptions-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    };\n\n    return DescriptionsButton;\n  }(TextTrackButton);\n  /**\n   * `kind` of TextTrack to look for to associate it with this menu.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  DescriptionsButton.prototype.kind_ = 'descriptions';\n  /**\n   * The text that should display over the `DescriptionsButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n  DescriptionsButton.prototype.controlText_ = 'Descriptions';\n  Component.registerComponent('DescriptionsButton', DescriptionsButton);\n\n  /**\n   * The button component for toggling and selecting subtitles\n   *\n   * @extends TextTrackButton\n   */\n\n  var SubtitlesButton =\n  /*#__PURE__*/\n  function (_TextTrackButton) {\n    _inheritsLoose(SubtitlesButton, _TextTrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when this component is ready.\n     */\n    function SubtitlesButton(player, options, ready) {\n      return _TextTrackButton.call(this, player, options, ready) || this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = SubtitlesButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-subtitles-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-subtitles-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    };\n\n    return SubtitlesButton;\n  }(TextTrackButton);\n  /**\n   * `kind` of TextTrack to look for to associate it with this menu.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  SubtitlesButton.prototype.kind_ = 'subtitles';\n  /**\n   * The text that should display over the `SubtitlesButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n  SubtitlesButton.prototype.controlText_ = 'Subtitles';\n  Component.registerComponent('SubtitlesButton', SubtitlesButton);\n\n  /**\n   * The menu item for caption track settings menu\n   *\n   * @extends TextTrackMenuItem\n   */\n\n  var CaptionSettingsMenuItem =\n  /*#__PURE__*/\n  function (_TextTrackMenuItem) {\n    _inheritsLoose(CaptionSettingsMenuItem, _TextTrackMenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function CaptionSettingsMenuItem(player, options) {\n      var _this;\n\n      options.track = {\n        player: player,\n        kind: options.kind,\n        label: options.kind + ' settings',\n        selectable: false,\n        \"default\": false,\n        mode: 'disabled'\n      }; // CaptionSettingsMenuItem has no concept of 'selected'\n\n      options.selectable = false;\n      options.name = 'CaptionSettingsMenuItem';\n      _this = _TextTrackMenuItem.call(this, player, options) || this;\n\n      _this.addClass('vjs-texttrack-settings');\n\n      _this.controlText(', opens ' + options.kind + ' settings dialog');\n\n      return _this;\n    }\n    /**\n     * This gets called when an `CaptionSettingsMenuItem` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n\n\n    var _proto = CaptionSettingsMenuItem.prototype;\n\n    _proto.handleClick = function handleClick(event) {\n      this.player().getChild('textTrackSettings').open();\n    };\n\n    return CaptionSettingsMenuItem;\n  }(TextTrackMenuItem);\n\n  Component.registerComponent('CaptionSettingsMenuItem', CaptionSettingsMenuItem);\n\n  /**\n   * The button component for toggling and selecting captions\n   *\n   * @extends TextTrackButton\n   */\n\n  var CaptionsButton =\n  /*#__PURE__*/\n  function (_TextTrackButton) {\n    _inheritsLoose(CaptionsButton, _TextTrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when this component is ready.\n     */\n    function CaptionsButton(player, options, ready) {\n      return _TextTrackButton.call(this, player, options, ready) || this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = CaptionsButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-captions-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-captions-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Create caption menu items\n     *\n     * @return {CaptionSettingsMenuItem[]}\n     *         The array of current menu items.\n     */\n    ;\n\n    _proto.createItems = function createItems() {\n      var items = [];\n\n      if (!(this.player().tech_ && this.player().tech_.featuresNativeTextTracks) && this.player().getChild('textTrackSettings')) {\n        items.push(new CaptionSettingsMenuItem(this.player_, {\n          kind: this.kind_\n        }));\n        this.hideThreshold_ += 1;\n      }\n\n      return _TextTrackButton.prototype.createItems.call(this, items);\n    };\n\n    return CaptionsButton;\n  }(TextTrackButton);\n  /**\n   * `kind` of TextTrack to look for to associate it with this menu.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  CaptionsButton.prototype.kind_ = 'captions';\n  /**\n   * The text that should display over the `CaptionsButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n  CaptionsButton.prototype.controlText_ = 'Captions';\n  Component.registerComponent('CaptionsButton', CaptionsButton);\n\n  /**\n   * SubsCapsMenuItem has an [cc] icon to distinguish captions from subtitles\n   * in the SubsCapsMenu.\n   *\n   * @extends TextTrackMenuItem\n   */\n\n  var SubsCapsMenuItem =\n  /*#__PURE__*/\n  function (_TextTrackMenuItem) {\n    _inheritsLoose(SubsCapsMenuItem, _TextTrackMenuItem);\n\n    function SubsCapsMenuItem() {\n      return _TextTrackMenuItem.apply(this, arguments) || this;\n    }\n\n    var _proto = SubsCapsMenuItem.prototype;\n\n    _proto.createEl = function createEl(type, props, attrs) {\n      var innerHTML = \"<span class=\\\"vjs-menu-item-text\\\">\" + this.localize(this.options_.label);\n\n      if (this.options_.track.kind === 'captions') {\n        innerHTML += \"\\n        <span aria-hidden=\\\"true\\\" class=\\\"vjs-icon-placeholder\\\"></span>\\n        <span class=\\\"vjs-control-text\\\"> \" + this.localize('Captions') + \"</span>\\n      \";\n      }\n\n      innerHTML += '</span>';\n\n      var el = _TextTrackMenuItem.prototype.createEl.call(this, type, assign({\n        innerHTML: innerHTML\n      }, props), attrs);\n\n      return el;\n    };\n\n    return SubsCapsMenuItem;\n  }(TextTrackMenuItem);\n\n  Component.registerComponent('SubsCapsMenuItem', SubsCapsMenuItem);\n\n  /**\n   * The button component for toggling and selecting captions and/or subtitles\n   *\n   * @extends TextTrackButton\n   */\n\n  var SubsCapsButton =\n  /*#__PURE__*/\n  function (_TextTrackButton) {\n    _inheritsLoose(SubsCapsButton, _TextTrackButton);\n\n    function SubsCapsButton(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _TextTrackButton.call(this, player, options) || this; // Although North America uses \"captions\" in most cases for\n      // \"captions and subtitles\" other locales use \"subtitles\"\n\n      _this.label_ = 'subtitles';\n\n      if (['en', 'en-us', 'en-ca', 'fr-ca'].indexOf(_this.player_.language_) > -1) {\n        _this.label_ = 'captions';\n      }\n\n      _this.menuButton_.controlText(toTitleCase(_this.label_));\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = SubsCapsButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-subs-caps-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-subs-caps-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Create caption/subtitles menu items\n     *\n     * @return {CaptionSettingsMenuItem[]}\n     *         The array of current menu items.\n     */\n    ;\n\n    _proto.createItems = function createItems() {\n      var items = [];\n\n      if (!(this.player().tech_ && this.player().tech_.featuresNativeTextTracks) && this.player().getChild('textTrackSettings')) {\n        items.push(new CaptionSettingsMenuItem(this.player_, {\n          kind: this.label_\n        }));\n        this.hideThreshold_ += 1;\n      }\n\n      items = _TextTrackButton.prototype.createItems.call(this, items, SubsCapsMenuItem);\n      return items;\n    };\n\n    return SubsCapsButton;\n  }(TextTrackButton);\n  /**\n   * `kind`s of TextTrack to look for to associate it with this menu.\n   *\n   * @type {array}\n   * @private\n   */\n\n\n  SubsCapsButton.prototype.kinds_ = ['captions', 'subtitles'];\n  /**\n   * The text that should display over the `SubsCapsButton`s controls.\n   *\n   *\n   * @type {string}\n   * @private\n   */\n\n  SubsCapsButton.prototype.controlText_ = 'Subtitles';\n  Component.registerComponent('SubsCapsButton', SubsCapsButton);\n\n  /**\n   * An {@link AudioTrack} {@link MenuItem}\n   *\n   * @extends MenuItem\n   */\n\n  var AudioTrackMenuItem =\n  /*#__PURE__*/\n  function (_MenuItem) {\n    _inheritsLoose(AudioTrackMenuItem, _MenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function AudioTrackMenuItem(player, options) {\n      var _this;\n\n      var track = options.track;\n      var tracks = player.audioTracks(); // Modify options for parent MenuItem class's init.\n\n      options.label = track.label || track.language || 'Unknown';\n      options.selected = track.enabled;\n      _this = _MenuItem.call(this, player, options) || this;\n      _this.track = track;\n\n      _this.addClass(\"vjs-\" + track.kind + \"-menu-item\");\n\n      var changeHandler = function changeHandler() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this.handleTracksChange.apply(_assertThisInitialized(_this), args);\n      };\n\n      tracks.addEventListener('change', changeHandler);\n\n      _this.on('dispose', function () {\n        tracks.removeEventListener('change', changeHandler);\n      });\n\n      return _this;\n    }\n\n    var _proto = AudioTrackMenuItem.prototype;\n\n    _proto.createEl = function createEl(type, props, attrs) {\n      var innerHTML = \"<span class=\\\"vjs-menu-item-text\\\">\" + this.localize(this.options_.label);\n\n      if (this.options_.track.kind === 'main-desc') {\n        innerHTML += \"\\n        <span aria-hidden=\\\"true\\\" class=\\\"vjs-icon-placeholder\\\"></span>\\n        <span class=\\\"vjs-control-text\\\"> \" + this.localize('Descriptions') + \"</span>\\n      \";\n      }\n\n      innerHTML += '</span>';\n\n      var el = _MenuItem.prototype.createEl.call(this, type, assign({\n        innerHTML: innerHTML\n      }, props), attrs);\n\n      return el;\n    }\n    /**\n     * This gets called when an `AudioTrackMenuItem is \"clicked\". See {@link ClickableComponent}\n     * for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      var tracks = this.player_.audioTracks();\n\n      _MenuItem.prototype.handleClick.call(this, event);\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n        track.enabled = track === this.track;\n      }\n    }\n    /**\n     * Handle any {@link AudioTrack} change.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The {@link AudioTrackList#change} event that caused this to run.\n     *\n     * @listens AudioTrackList#change\n     */\n    ;\n\n    _proto.handleTracksChange = function handleTracksChange(event) {\n      this.selected(this.track.enabled);\n    };\n\n    return AudioTrackMenuItem;\n  }(MenuItem);\n\n  Component.registerComponent('AudioTrackMenuItem', AudioTrackMenuItem);\n\n  /**\n   * The base class for buttons that toggle specific {@link AudioTrack} types.\n   *\n   * @extends TrackButton\n   */\n\n  var AudioTrackButton =\n  /*#__PURE__*/\n  function (_TrackButton) {\n    _inheritsLoose(AudioTrackButton, _TrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function AudioTrackButton(player, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      options.tracks = player.audioTracks();\n      return _TrackButton.call(this, player, options) || this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = AudioTrackButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-audio-button \" + _TrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-audio-button \" + _TrackButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Create a menu item for each audio track\n     *\n     * @param {AudioTrackMenuItem[]} [items=[]]\n     *        An array of existing menu items to use.\n     *\n     * @return {AudioTrackMenuItem[]}\n     *         An array of menu items\n     */\n    ;\n\n    _proto.createItems = function createItems(items) {\n      if (items === void 0) {\n        items = [];\n      }\n\n      // if there's only one audio track, there no point in showing it\n      this.hideThreshold_ = 1;\n      var tracks = this.player_.audioTracks();\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n        items.push(new AudioTrackMenuItem(this.player_, {\n          track: track,\n          // MenuItem is selectable\n          selectable: true,\n          // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n          multiSelectable: false\n        }));\n      }\n\n      return items;\n    };\n\n    return AudioTrackButton;\n  }(TrackButton);\n  /**\n   * The text that should display over the `AudioTrackButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  AudioTrackButton.prototype.controlText_ = 'Audio Track';\n  Component.registerComponent('AudioTrackButton', AudioTrackButton);\n\n  /**\n   * The specific menu item type for selecting a playback rate.\n   *\n   * @extends MenuItem\n   */\n\n  var PlaybackRateMenuItem =\n  /*#__PURE__*/\n  function (_MenuItem) {\n    _inheritsLoose(PlaybackRateMenuItem, _MenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function PlaybackRateMenuItem(player, options) {\n      var _this;\n\n      var label = options.rate;\n      var rate = parseFloat(label, 10); // Modify options for parent MenuItem class's init.\n\n      options.label = label;\n      options.selected = rate === 1;\n      options.selectable = true;\n      options.multiSelectable = false;\n      _this = _MenuItem.call(this, player, options) || this;\n      _this.label = label;\n      _this.rate = rate;\n\n      _this.on(player, 'ratechange', _this.update);\n\n      return _this;\n    }\n    /**\n     * This gets called when an `PlaybackRateMenuItem` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n\n\n    var _proto = PlaybackRateMenuItem.prototype;\n\n    _proto.handleClick = function handleClick(event) {\n      _MenuItem.prototype.handleClick.call(this);\n\n      this.player().playbackRate(this.rate);\n    }\n    /**\n     * Update the PlaybackRateMenuItem when the playbackrate changes.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `ratechange` event that caused this function to run.\n     *\n     * @listens Player#ratechange\n     */\n    ;\n\n    _proto.update = function update(event) {\n      this.selected(this.player().playbackRate() === this.rate);\n    };\n\n    return PlaybackRateMenuItem;\n  }(MenuItem);\n  /**\n   * The text that should display over the `PlaybackRateMenuItem`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  PlaybackRateMenuItem.prototype.contentElType = 'button';\n  Component.registerComponent('PlaybackRateMenuItem', PlaybackRateMenuItem);\n\n  /**\n   * The component for controlling the playback rate.\n   *\n   * @extends MenuButton\n   */\n\n  var PlaybackRateMenuButton =\n  /*#__PURE__*/\n  function (_MenuButton) {\n    _inheritsLoose(PlaybackRateMenuButton, _MenuButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function PlaybackRateMenuButton(player, options) {\n      var _this;\n\n      _this = _MenuButton.call(this, player, options) || this;\n\n      _this.updateVisibility();\n\n      _this.updateLabel();\n\n      _this.on(player, 'loadstart', _this.updateVisibility);\n\n      _this.on(player, 'ratechange', _this.updateLabel);\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = PlaybackRateMenuButton.prototype;\n\n    _proto.createEl = function createEl$1() {\n      var el = _MenuButton.prototype.createEl.call(this);\n\n      this.labelEl_ = createEl('div', {\n        className: 'vjs-playback-rate-value',\n        innerHTML: '1x'\n      });\n      el.appendChild(this.labelEl_);\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      this.labelEl_ = null;\n\n      _MenuButton.prototype.dispose.call(this);\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-playback-rate \" + _MenuButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-playback-rate \" + _MenuButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Create the playback rate menu\n     *\n     * @return {Menu}\n     *         Menu object populated with {@link PlaybackRateMenuItem}s\n     */\n    ;\n\n    _proto.createMenu = function createMenu() {\n      var menu = new Menu(this.player());\n      var rates = this.playbackRates();\n\n      if (rates) {\n        for (var i = rates.length - 1; i >= 0; i--) {\n          menu.addChild(new PlaybackRateMenuItem(this.player(), {\n            rate: rates[i] + 'x'\n          }));\n        }\n      }\n\n      return menu;\n    }\n    /**\n     * Updates ARIA accessibility attributes\n     */\n    ;\n\n    _proto.updateARIAAttributes = function updateARIAAttributes() {\n      // Current playback rate\n      this.el().setAttribute('aria-valuenow', this.player().playbackRate());\n    }\n    /**\n     * This gets called when an `PlaybackRateMenuButton` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      // select next rate option\n      var currentRate = this.player().playbackRate();\n      var rates = this.playbackRates(); // this will select first one if the last one currently selected\n\n      var newRate = rates[0];\n\n      for (var i = 0; i < rates.length; i++) {\n        if (rates[i] > currentRate) {\n          newRate = rates[i];\n          break;\n        }\n      }\n\n      this.player().playbackRate(newRate);\n    }\n    /**\n     * Get possible playback rates\n     *\n     * @return {Array}\n     *         All possible playback rates\n     */\n    ;\n\n    _proto.playbackRates = function playbackRates() {\n      return this.options_.playbackRates || this.options_.playerOptions && this.options_.playerOptions.playbackRates;\n    }\n    /**\n     * Get whether playback rates is supported by the tech\n     * and an array of playback rates exists\n     *\n     * @return {boolean}\n     *         Whether changing playback rate is supported\n     */\n    ;\n\n    _proto.playbackRateSupported = function playbackRateSupported() {\n      return this.player().tech_ && this.player().tech_.featuresPlaybackRate && this.playbackRates() && this.playbackRates().length > 0;\n    }\n    /**\n     * Hide playback rate controls when they're no playback rate options to select\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#loadstart\n     */\n    ;\n\n    _proto.updateVisibility = function updateVisibility(event) {\n      if (this.playbackRateSupported()) {\n        this.removeClass('vjs-hidden');\n      } else {\n        this.addClass('vjs-hidden');\n      }\n    }\n    /**\n     * Update button label when rate changed\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#ratechange\n     */\n    ;\n\n    _proto.updateLabel = function updateLabel(event) {\n      if (this.playbackRateSupported()) {\n        this.labelEl_.innerHTML = this.player().playbackRate() + 'x';\n      }\n    };\n\n    return PlaybackRateMenuButton;\n  }(MenuButton);\n  /**\n   * The text that should display over the `FullscreenToggle`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  PlaybackRateMenuButton.prototype.controlText_ = 'Playback Rate';\n  Component.registerComponent('PlaybackRateMenuButton', PlaybackRateMenuButton);\n\n  /**\n   * Just an empty spacer element that can be used as an append point for plugins, etc.\n   * Also can be used to create space between elements when necessary.\n   *\n   * @extends Component\n   */\n\n  var Spacer =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(Spacer, _Component);\n\n    function Spacer() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = Spacer.prototype;\n\n    /**\n    * Builds the default DOM `className`.\n    *\n    * @return {string}\n    *         The DOM `className` for this object.\n    */\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-spacer \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: this.buildCSSClass()\n      });\n    };\n\n    return Spacer;\n  }(Component);\n\n  Component.registerComponent('Spacer', Spacer);\n\n  /**\n   * Spacer specifically meant to be used as an insertion point for new plugins, etc.\n   *\n   * @extends Spacer\n   */\n\n  var CustomControlSpacer =\n  /*#__PURE__*/\n  function (_Spacer) {\n    _inheritsLoose(CustomControlSpacer, _Spacer);\n\n    function CustomControlSpacer() {\n      return _Spacer.apply(this, arguments) || this;\n    }\n\n    var _proto = CustomControlSpacer.prototype;\n\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-custom-control-spacer \" + _Spacer.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      var el = _Spacer.prototype.createEl.call(this, {\n        className: this.buildCSSClass()\n      }); // No-flex/table-cell mode requires there be some content\n      // in the cell to fill the remaining space of the table.\n\n\n      el.innerHTML = \"\\xA0\";\n      return el;\n    };\n\n    return CustomControlSpacer;\n  }(Spacer);\n\n  Component.registerComponent('CustomControlSpacer', CustomControlSpacer);\n\n  /**\n   * Container of main controls.\n   *\n   * @extends Component\n   */\n\n  var ControlBar =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(ControlBar, _Component);\n\n    function ControlBar() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = ControlBar.prototype;\n\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-control-bar',\n        dir: 'ltr'\n      });\n    };\n\n    return ControlBar;\n  }(Component);\n  /**\n   * Default options for `ControlBar`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  ControlBar.prototype.options_ = {\n    children: ['playToggle', 'volumePanel', 'currentTimeDisplay', 'timeDivider', 'durationDisplay', 'progressControl', 'liveDisplay', 'seekToLive', 'remainingTimeDisplay', 'customControlSpacer', 'playbackRateMenuButton', 'chaptersButton', 'descriptionsButton', 'subsCapsButton', 'audioTrackButton', 'fullscreenToggle']\n  };\n\n  if ('exitPictureInPicture' in document) {\n    ControlBar.prototype.options_.children.splice(ControlBar.prototype.options_.children.length - 1, 0, 'pictureInPictureToggle');\n  }\n\n  Component.registerComponent('ControlBar', ControlBar);\n\n  /**\n   * A display that indicates an error has occurred. This means that the video\n   * is unplayable.\n   *\n   * @extends ModalDialog\n   */\n\n  var ErrorDisplay =\n  /*#__PURE__*/\n  function (_ModalDialog) {\n    _inheritsLoose(ErrorDisplay, _ModalDialog);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param  {Player} player\n     *         The `Player` that this class should be attached to.\n     *\n     * @param  {Object} [options]\n     *         The key/value store of player options.\n     */\n    function ErrorDisplay(player, options) {\n      var _this;\n\n      _this = _ModalDialog.call(this, player, options) || this;\n\n      _this.on(player, 'error', _this.open);\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     *\n     * @deprecated Since version 5.\n     */\n\n\n    var _proto = ErrorDisplay.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-error-display \" + _ModalDialog.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Gets the localized error message based on the `Player`s error.\n     *\n     * @return {string}\n     *         The `Player`s error message localized or an empty string.\n     */\n    ;\n\n    _proto.content = function content() {\n      var error = this.player().error();\n      return error ? this.localize(error.message) : '';\n    };\n\n    return ErrorDisplay;\n  }(ModalDialog);\n  /**\n   * The default options for an `ErrorDisplay`.\n   *\n   * @private\n   */\n\n\n  ErrorDisplay.prototype.options_ = mergeOptions(ModalDialog.prototype.options_, {\n    pauseOnOpen: false,\n    fillAlways: true,\n    temporary: false,\n    uncloseable: true\n  });\n  Component.registerComponent('ErrorDisplay', ErrorDisplay);\n\n  var LOCAL_STORAGE_KEY = 'vjs-text-track-settings';\n  var COLOR_BLACK = ['#000', 'Black'];\n  var COLOR_BLUE = ['#00F', 'Blue'];\n  var COLOR_CYAN = ['#0FF', 'Cyan'];\n  var COLOR_GREEN = ['#0F0', 'Green'];\n  var COLOR_MAGENTA = ['#F0F', 'Magenta'];\n  var COLOR_RED = ['#F00', 'Red'];\n  var COLOR_WHITE = ['#FFF', 'White'];\n  var COLOR_YELLOW = ['#FF0', 'Yellow'];\n  var OPACITY_OPAQUE = ['1', 'Opaque'];\n  var OPACITY_SEMI = ['0.5', 'Semi-Transparent'];\n  var OPACITY_TRANS = ['0', 'Transparent']; // Configuration for the various <select> elements in the DOM of this component.\n  //\n  // Possible keys include:\n  //\n  // `default`:\n  //   The default option index. Only needs to be provided if not zero.\n  // `parser`:\n  //   A function which is used to parse the value from the selected option in\n  //   a customized way.\n  // `selector`:\n  //   The selector used to find the associated <select> element.\n\n  var selectConfigs = {\n    backgroundColor: {\n      selector: '.vjs-bg-color > select',\n      id: 'captions-background-color-%s',\n      label: 'Color',\n      options: [COLOR_BLACK, COLOR_WHITE, COLOR_RED, COLOR_GREEN, COLOR_BLUE, COLOR_YELLOW, COLOR_MAGENTA, COLOR_CYAN]\n    },\n    backgroundOpacity: {\n      selector: '.vjs-bg-opacity > select',\n      id: 'captions-background-opacity-%s',\n      label: 'Transparency',\n      options: [OPACITY_OPAQUE, OPACITY_SEMI, OPACITY_TRANS]\n    },\n    color: {\n      selector: '.vjs-fg-color > select',\n      id: 'captions-foreground-color-%s',\n      label: 'Color',\n      options: [COLOR_WHITE, COLOR_BLACK, COLOR_RED, COLOR_GREEN, COLOR_BLUE, COLOR_YELLOW, COLOR_MAGENTA, COLOR_CYAN]\n    },\n    edgeStyle: {\n      selector: '.vjs-edge-style > select',\n      id: '%s',\n      label: 'Text Edge Style',\n      options: [['none', 'None'], ['raised', 'Raised'], ['depressed', 'Depressed'], ['uniform', 'Uniform'], ['dropshadow', 'Dropshadow']]\n    },\n    fontFamily: {\n      selector: '.vjs-font-family > select',\n      id: 'captions-font-family-%s',\n      label: 'Font Family',\n      options: [['proportionalSansSerif', 'Proportional Sans-Serif'], ['monospaceSansSerif', 'Monospace Sans-Serif'], ['proportionalSerif', 'Proportional Serif'], ['monospaceSerif', 'Monospace Serif'], ['casual', 'Casual'], ['script', 'Script'], ['small-caps', 'Small Caps']]\n    },\n    fontPercent: {\n      selector: '.vjs-font-percent > select',\n      id: 'captions-font-size-%s',\n      label: 'Font Size',\n      options: [['0.50', '50%'], ['0.75', '75%'], ['1.00', '100%'], ['1.25', '125%'], ['1.50', '150%'], ['1.75', '175%'], ['2.00', '200%'], ['3.00', '300%'], ['4.00', '400%']],\n      \"default\": 2,\n      parser: function parser(v) {\n        return v === '1.00' ? null : Number(v);\n      }\n    },\n    textOpacity: {\n      selector: '.vjs-text-opacity > select',\n      id: 'captions-foreground-opacity-%s',\n      label: 'Transparency',\n      options: [OPACITY_OPAQUE, OPACITY_SEMI]\n    },\n    // Options for this object are defined below.\n    windowColor: {\n      selector: '.vjs-window-color > select',\n      id: 'captions-window-color-%s',\n      label: 'Color'\n    },\n    // Options for this object are defined below.\n    windowOpacity: {\n      selector: '.vjs-window-opacity > select',\n      id: 'captions-window-opacity-%s',\n      label: 'Transparency',\n      options: [OPACITY_TRANS, OPACITY_SEMI, OPACITY_OPAQUE]\n    }\n  };\n  selectConfigs.windowColor.options = selectConfigs.backgroundColor.options;\n  /**\n   * Get the actual value of an option.\n   *\n   * @param  {string} value\n   *         The value to get\n   *\n   * @param  {Function} [parser]\n   *         Optional function to adjust the value.\n   *\n   * @return {Mixed}\n   *         - Will be `undefined` if no value exists\n   *         - Will be `undefined` if the given value is \"none\".\n   *         - Will be the actual value otherwise.\n   *\n   * @private\n   */\n\n  function parseOptionValue(value, parser) {\n    if (parser) {\n      value = parser(value);\n    }\n\n    if (value && value !== 'none') {\n      return value;\n    }\n  }\n  /**\n   * Gets the value of the selected <option> element within a <select> element.\n   *\n   * @param  {Element} el\n   *         the element to look in\n   *\n   * @param  {Function} [parser]\n   *         Optional function to adjust the value.\n   *\n   * @return {Mixed}\n   *         - Will be `undefined` if no value exists\n   *         - Will be `undefined` if the given value is \"none\".\n   *         - Will be the actual value otherwise.\n   *\n   * @private\n   */\n\n\n  function getSelectedOptionValue(el, parser) {\n    var value = el.options[el.options.selectedIndex].value;\n    return parseOptionValue(value, parser);\n  }\n  /**\n   * Sets the selected <option> element within a <select> element based on a\n   * given value.\n   *\n   * @param {Element} el\n   *        The element to look in.\n   *\n   * @param {string} value\n   *        the property to look on.\n   *\n   * @param {Function} [parser]\n   *        Optional function to adjust the value before comparing.\n   *\n   * @private\n   */\n\n\n  function setSelectedOption(el, value, parser) {\n    if (!value) {\n      return;\n    }\n\n    for (var i = 0; i < el.options.length; i++) {\n      if (parseOptionValue(el.options[i].value, parser) === value) {\n        el.selectedIndex = i;\n        break;\n      }\n    }\n  }\n  /**\n   * Manipulate Text Tracks settings.\n   *\n   * @extends ModalDialog\n   */\n\n\n  var TextTrackSettings =\n  /*#__PURE__*/\n  function (_ModalDialog) {\n    _inheritsLoose(TextTrackSettings, _ModalDialog);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *         The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *         The key/value store of player options.\n     */\n    function TextTrackSettings(player, options) {\n      var _this;\n\n      options.temporary = false;\n      _this = _ModalDialog.call(this, player, options) || this;\n      _this.updateDisplay = bind(_assertThisInitialized(_this), _this.updateDisplay); // fill the modal and pretend we have opened it\n\n      _this.fill();\n\n      _this.hasBeenOpened_ = _this.hasBeenFilled_ = true;\n      _this.endDialog = createEl('p', {\n        className: 'vjs-control-text',\n        textContent: _this.localize('End of dialog window.')\n      });\n\n      _this.el().appendChild(_this.endDialog);\n\n      _this.setDefaults(); // Grab `persistTextTrackSettings` from the player options if not passed in child options\n\n\n      if (options.persistTextTrackSettings === undefined) {\n        _this.options_.persistTextTrackSettings = _this.options_.playerOptions.persistTextTrackSettings;\n      }\n\n      _this.on(_this.$('.vjs-done-button'), 'click', function () {\n        _this.saveSettings();\n\n        _this.close();\n      });\n\n      _this.on(_this.$('.vjs-default-button'), 'click', function () {\n        _this.setDefaults();\n\n        _this.updateDisplay();\n      });\n\n      each(selectConfigs, function (config) {\n        _this.on(_this.$(config.selector), 'change', _this.updateDisplay);\n      });\n\n      if (_this.options_.persistTextTrackSettings) {\n        _this.restoreSettings();\n      }\n\n      return _this;\n    }\n\n    var _proto = TextTrackSettings.prototype;\n\n    _proto.dispose = function dispose() {\n      this.endDialog = null;\n\n      _ModalDialog.prototype.dispose.call(this);\n    }\n    /**\n     * Create a <select> element with configured options.\n     *\n     * @param {string} key\n     *        Configuration key to use during creation.\n     *\n     * @return {string}\n     *         An HTML string.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElSelect_ = function createElSelect_(key, legendId, type) {\n      var _this2 = this;\n\n      if (legendId === void 0) {\n        legendId = '';\n      }\n\n      if (type === void 0) {\n        type = 'label';\n      }\n\n      var config = selectConfigs[key];\n      var id = config.id.replace('%s', this.id_);\n      var selectLabelledbyIds = [legendId, id].join(' ').trim();\n      return [\"<\" + type + \" id=\\\"\" + id + \"\\\" class=\\\"\" + (type === 'label' ? 'vjs-label' : '') + \"\\\">\", this.localize(config.label), \"</\" + type + \">\", \"<select aria-labelledby=\\\"\" + selectLabelledbyIds + \"\\\">\"].concat(config.options.map(function (o) {\n        var optionId = id + '-' + o[1].replace(/\\W+/g, '');\n        return [\"<option id=\\\"\" + optionId + \"\\\" value=\\\"\" + o[0] + \"\\\" \", \"aria-labelledby=\\\"\" + selectLabelledbyIds + \" \" + optionId + \"\\\">\", _this2.localize(o[1]), '</option>'].join('');\n      })).concat('</select>').join('');\n    }\n    /**\n     * Create foreground color element for the component\n     *\n     * @return {string}\n     *         An HTML string.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElFgColor_ = function createElFgColor_() {\n      var legendId = \"captions-text-legend-\" + this.id_;\n      return ['<fieldset class=\"vjs-fg-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Text'), '</legend>', this.createElSelect_('color', legendId), '<span class=\"vjs-text-opacity vjs-opacity\">', this.createElSelect_('textOpacity', legendId), '</span>', '</fieldset>'].join('');\n    }\n    /**\n     * Create background color element for the component\n     *\n     * @return {string}\n     *         An HTML string.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElBgColor_ = function createElBgColor_() {\n      var legendId = \"captions-background-\" + this.id_;\n      return ['<fieldset class=\"vjs-bg-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Background'), '</legend>', this.createElSelect_('backgroundColor', legendId), '<span class=\"vjs-bg-opacity vjs-opacity\">', this.createElSelect_('backgroundOpacity', legendId), '</span>', '</fieldset>'].join('');\n    }\n    /**\n     * Create window color element for the component\n     *\n     * @return {string}\n     *         An HTML string.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElWinColor_ = function createElWinColor_() {\n      var legendId = \"captions-window-\" + this.id_;\n      return ['<fieldset class=\"vjs-window-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Window'), '</legend>', this.createElSelect_('windowColor', legendId), '<span class=\"vjs-window-opacity vjs-opacity\">', this.createElSelect_('windowOpacity', legendId), '</span>', '</fieldset>'].join('');\n    }\n    /**\n     * Create color elements for the component\n     *\n     * @return {Element}\n     *         The element that was created\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElColors_ = function createElColors_() {\n      return createEl('div', {\n        className: 'vjs-track-settings-colors',\n        innerHTML: [this.createElFgColor_(), this.createElBgColor_(), this.createElWinColor_()].join('')\n      });\n    }\n    /**\n     * Create font elements for the component\n     *\n     * @return {Element}\n     *         The element that was created.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElFont_ = function createElFont_() {\n      return createEl('div', {\n        className: 'vjs-track-settings-font',\n        innerHTML: ['<fieldset class=\"vjs-font-percent vjs-track-setting\">', this.createElSelect_('fontPercent', '', 'legend'), '</fieldset>', '<fieldset class=\"vjs-edge-style vjs-track-setting\">', this.createElSelect_('edgeStyle', '', 'legend'), '</fieldset>', '<fieldset class=\"vjs-font-family vjs-track-setting\">', this.createElSelect_('fontFamily', '', 'legend'), '</fieldset>'].join('')\n      });\n    }\n    /**\n     * Create controls for the component\n     *\n     * @return {Element}\n     *         The element that was created.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElControls_ = function createElControls_() {\n      var defaultsDescription = this.localize('restore all settings to the default values');\n      return createEl('div', {\n        className: 'vjs-track-settings-controls',\n        innerHTML: [\"<button type=\\\"button\\\" class=\\\"vjs-default-button\\\" title=\\\"\" + defaultsDescription + \"\\\">\", this.localize('Reset'), \"<span class=\\\"vjs-control-text\\\"> \" + defaultsDescription + \"</span>\", '</button>', \"<button type=\\\"button\\\" class=\\\"vjs-done-button\\\">\" + this.localize('Done') + \"</button>\"].join('')\n      });\n    };\n\n    _proto.content = function content() {\n      return [this.createElColors_(), this.createElFont_(), this.createElControls_()];\n    };\n\n    _proto.label = function label() {\n      return this.localize('Caption Settings Dialog');\n    };\n\n    _proto.description = function description() {\n      return this.localize('Beginning of dialog window. Escape will cancel and close the window.');\n    };\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return _ModalDialog.prototype.buildCSSClass.call(this) + ' vjs-text-track-settings';\n    }\n    /**\n     * Gets an object of text track settings (or null).\n     *\n     * @return {Object}\n     *         An object with config values parsed from the DOM or localStorage.\n     */\n    ;\n\n    _proto.getValues = function getValues() {\n      var _this3 = this;\n\n      return reduce(selectConfigs, function (accum, config, key) {\n        var value = getSelectedOptionValue(_this3.$(config.selector), config.parser);\n\n        if (value !== undefined) {\n          accum[key] = value;\n        }\n\n        return accum;\n      }, {});\n    }\n    /**\n     * Sets text track settings from an object of values.\n     *\n     * @param {Object} values\n     *        An object with config values parsed from the DOM or localStorage.\n     */\n    ;\n\n    _proto.setValues = function setValues(values) {\n      var _this4 = this;\n\n      each(selectConfigs, function (config, key) {\n        setSelectedOption(_this4.$(config.selector), values[key], config.parser);\n      });\n    }\n    /**\n     * Sets all `<select>` elements to their default values.\n     */\n    ;\n\n    _proto.setDefaults = function setDefaults() {\n      var _this5 = this;\n\n      each(selectConfigs, function (config) {\n        var index = config.hasOwnProperty('default') ? config[\"default\"] : 0;\n        _this5.$(config.selector).selectedIndex = index;\n      });\n    }\n    /**\n     * Restore texttrack settings from localStorage\n     */\n    ;\n\n    _proto.restoreSettings = function restoreSettings() {\n      var values;\n\n      try {\n        values = JSON.parse(window$1.localStorage.getItem(LOCAL_STORAGE_KEY));\n      } catch (err) {\n        log.warn(err);\n      }\n\n      if (values) {\n        this.setValues(values);\n      }\n    }\n    /**\n     * Save text track settings to localStorage\n     */\n    ;\n\n    _proto.saveSettings = function saveSettings() {\n      if (!this.options_.persistTextTrackSettings) {\n        return;\n      }\n\n      var values = this.getValues();\n\n      try {\n        if (Object.keys(values).length) {\n          window$1.localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(values));\n        } else {\n          window$1.localStorage.removeItem(LOCAL_STORAGE_KEY);\n        }\n      } catch (err) {\n        log.warn(err);\n      }\n    }\n    /**\n     * Update display of text track settings\n     */\n    ;\n\n    _proto.updateDisplay = function updateDisplay() {\n      var ttDisplay = this.player_.getChild('textTrackDisplay');\n\n      if (ttDisplay) {\n        ttDisplay.updateDisplay();\n      }\n    }\n    /**\n     * conditionally blur the element and refocus the captions button\n     *\n     * @private\n     */\n    ;\n\n    _proto.conditionalBlur_ = function conditionalBlur_() {\n      this.previouslyActiveEl_ = null;\n      var cb = this.player_.controlBar;\n      var subsCapsBtn = cb && cb.subsCapsButton;\n      var ccBtn = cb && cb.captionsButton;\n\n      if (subsCapsBtn) {\n        subsCapsBtn.focus();\n      } else if (ccBtn) {\n        ccBtn.focus();\n      }\n    };\n\n    return TextTrackSettings;\n  }(ModalDialog);\n\n  Component.registerComponent('TextTrackSettings', TextTrackSettings);\n\n  /**\n   * A Resize Manager. It is in charge of triggering `playerresize` on the player in the right conditions.\n   *\n   * It'll either create an iframe and use a debounced resize handler on it or use the new {@link https://wicg.github.io/ResizeObserver/|ResizeObserver}.\n   *\n   * If the ResizeObserver is available natively, it will be used. A polyfill can be passed in as an option.\n   * If a `playerresize` event is not needed, the ResizeManager component can be removed from the player, see the example below.\n   * @example <caption>How to disable the resize manager</caption>\n   * const player = videojs('#vid', {\n   *   resizeManager: false\n   * });\n   *\n   * @see {@link https://wicg.github.io/ResizeObserver/|ResizeObserver specification}\n   *\n   * @extends Component\n   */\n\n  var ResizeManager =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(ResizeManager, _Component);\n\n    /**\n     * Create the ResizeManager.\n     *\n     * @param {Object} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of ResizeManager options.\n     *\n     * @param {Object} [options.ResizeObserver]\n     *        A polyfill for ResizeObserver can be passed in here.\n     *        If this is set to null it will ignore the native ResizeObserver and fall back to the iframe fallback.\n     */\n    function ResizeManager(player, options) {\n      var _this;\n\n      var RESIZE_OBSERVER_AVAILABLE = options.ResizeObserver || window$1.ResizeObserver; // if `null` was passed, we want to disable the ResizeObserver\n\n      if (options.ResizeObserver === null) {\n        RESIZE_OBSERVER_AVAILABLE = false;\n      } // Only create an element when ResizeObserver isn't available\n\n\n      var options_ = mergeOptions({\n        createEl: !RESIZE_OBSERVER_AVAILABLE,\n        reportTouchActivity: false\n      }, options);\n      _this = _Component.call(this, player, options_) || this;\n      _this.ResizeObserver = options.ResizeObserver || window$1.ResizeObserver;\n      _this.loadListener_ = null;\n      _this.resizeObserver_ = null;\n      _this.debouncedHandler_ = debounce(function () {\n        _this.resizeHandler();\n      }, 100, false, _assertThisInitialized(_this));\n\n      if (RESIZE_OBSERVER_AVAILABLE) {\n        _this.resizeObserver_ = new _this.ResizeObserver(_this.debouncedHandler_);\n\n        _this.resizeObserver_.observe(player.el());\n      } else {\n        _this.loadListener_ = function () {\n          if (!_this.el_ || !_this.el_.contentWindow) {\n            return;\n          }\n\n          var debouncedHandler_ = _this.debouncedHandler_;\n\n          var unloadListener_ = _this.unloadListener_ = function () {\n            off(this, 'resize', debouncedHandler_);\n            off(this, 'unload', unloadListener_);\n            unloadListener_ = null;\n          }; // safari and edge can unload the iframe before resizemanager dispose\n          // we have to dispose of event handlers correctly before that happens\n\n\n          on(_this.el_.contentWindow, 'unload', unloadListener_);\n          on(_this.el_.contentWindow, 'resize', debouncedHandler_);\n        };\n\n        _this.one('load', _this.loadListener_);\n      }\n\n      return _this;\n    }\n\n    var _proto = ResizeManager.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'iframe', {\n        className: 'vjs-resize-manager',\n        tabIndex: -1\n      }, {\n        'aria-hidden': 'true'\n      });\n    }\n    /**\n     * Called when a resize is triggered on the iframe or a resize is observed via the ResizeObserver\n     *\n     * @fires Player#playerresize\n     */\n    ;\n\n    _proto.resizeHandler = function resizeHandler() {\n      /**\n       * Called when the player size has changed\n       *\n       * @event Player#playerresize\n       * @type {EventTarget~Event}\n       */\n      // make sure player is still around to trigger\n      // prevents this from causing an error after dispose\n      if (!this.player_ || !this.player_.trigger) {\n        return;\n      }\n\n      this.player_.trigger('playerresize');\n    };\n\n    _proto.dispose = function dispose() {\n      if (this.debouncedHandler_) {\n        this.debouncedHandler_.cancel();\n      }\n\n      if (this.resizeObserver_) {\n        if (this.player_.el()) {\n          this.resizeObserver_.unobserve(this.player_.el());\n        }\n\n        this.resizeObserver_.disconnect();\n      }\n\n      if (this.loadListener_) {\n        this.off('load', this.loadListener_);\n      }\n\n      if (this.el_ && this.el_.contentWindow && this.unloadListener_) {\n        this.unloadListener_.call(this.el_.contentWindow);\n      }\n\n      this.ResizeObserver = null;\n      this.resizeObserver = null;\n      this.debouncedHandler_ = null;\n      this.loadListener_ = null;\n\n      _Component.prototype.dispose.call(this);\n    };\n\n    return ResizeManager;\n  }(Component);\n\n  Component.registerComponent('ResizeManager', ResizeManager);\n\n  /**\n   * Computes the median of an array.\n   *\n   * @param {number[]} arr\n   *        Input array of numbers.\n   *\n   * @return {number}\n   *        Median value.\n   */\n  var median = function median(arr) {\n    var mid = Math.floor(arr.length / 2);\n    var sortedList = [].concat(arr).sort(function (a, b) {\n      return a - b;\n    });\n    return arr.length % 2 !== 0 ? sortedList[mid] : (sortedList[mid - 1] + sortedList[mid]) / 2;\n  };\n\n  /* track when we are at the live edge, and other helpers for live playback */\n\n  var LiveTracker =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(LiveTracker, _Component);\n\n    function LiveTracker(player, options) {\n      var _this;\n\n      // LiveTracker does not need an element\n      var options_ = mergeOptions({\n        createEl: false\n      }, options);\n      _this = _Component.call(this, player, options_) || this;\n\n      _this.reset_();\n\n      _this.on(_this.player_, 'durationchange', _this.handleDurationchange); // we don't need to track live playback if the document is hidden,\n      // also, tracking when the document is hidden can\n      // cause the CPU to spike and eventually crash the page on IE11.\n\n\n      if (IE_VERSION && 'hidden' in document && 'visibilityState' in document) {\n        _this.on(document, 'visibilitychange', _this.handleVisibilityChange);\n      }\n\n      return _this;\n    }\n\n    var _proto = LiveTracker.prototype;\n\n    _proto.handleVisibilityChange = function handleVisibilityChange() {\n      if (this.player_.duration() !== Infinity) {\n        return;\n      }\n\n      if (document.hidden) {\n        this.stopTracking();\n      } else {\n        this.startTracking();\n      }\n    };\n\n    _proto.isBehind_ = function isBehind_() {\n      // don't report that we are behind until a timeupdate has been seen\n      if (!this.timeupdateSeen_) {\n        return false;\n      }\n\n      var liveCurrentTime = this.liveCurrentTime();\n      var currentTime = this.player_.currentTime(); // the live edge window is the amount of seconds away from live\n      // that a player can be, but still be considered live.\n      // we add 0.07 because the live tracking happens every 30ms\n      // and we want some wiggle room for short segment live playback\n\n      var liveEdgeWindow = this.seekableIncrement_ * 2 + 0.07; // on Android liveCurrentTime can bee Infinity, because seekableEnd\n      // can be Infinity, so we handle that case.\n\n      return liveCurrentTime !== Infinity && liveCurrentTime - liveEdgeWindow >= currentTime;\n    } // all the functionality for tracking when seek end changes\n    // and for tracking how far past seek end we should be\n    ;\n\n    _proto.trackLive_ = function trackLive_() {\n      this.pastSeekEnd_ = this.pastSeekEnd_;\n      var seekable = this.player_.seekable(); // skip undefined seekable\n\n      if (!seekable || !seekable.length) {\n        return;\n      }\n\n      var newSeekEnd = this.seekableEnd(); // we can only tell if we are behind live, when seekable changes\n      // once we detect that seekable has changed we check the new seek\n      // end against current time, with a fudge value of half a second.\n\n      if (newSeekEnd !== this.lastSeekEnd_) {\n        if (this.lastSeekEnd_) {\n          // we try to get the best fit value for the seeking increment\n          // variable from the last 12 values.\n          this.seekableIncrementList_ = this.seekableIncrementList_.slice(-11);\n          this.seekableIncrementList_.push(Math.abs(newSeekEnd - this.lastSeekEnd_));\n\n          if (this.seekableIncrementList_.length > 3) {\n            this.seekableIncrement_ = median(this.seekableIncrementList_);\n          }\n        }\n\n        this.pastSeekEnd_ = 0;\n        this.lastSeekEnd_ = newSeekEnd;\n        this.trigger('seekableendchange');\n      }\n\n      this.pastSeekEnd_ = this.pastSeekEnd() + 0.03;\n\n      if (this.isBehind_() !== this.behindLiveEdge()) {\n        this.behindLiveEdge_ = this.isBehind_();\n        this.trigger('liveedgechange');\n      }\n    }\n    /**\n     * handle a durationchange event on the player\n     * and start/stop tracking accordingly.\n     */\n    ;\n\n    _proto.handleDurationchange = function handleDurationchange() {\n      if (this.player_.duration() === Infinity) {\n        this.startTracking();\n      } else {\n        this.stopTracking();\n      }\n    }\n    /**\n     * start tracking live playback\n     */\n    ;\n\n    _proto.startTracking = function startTracking() {\n      var _this2 = this;\n\n      if (this.isTracking()) {\n        return;\n      } // If we haven't seen a timeupdate, we need to check whether playback\n      // began before this component started tracking. This can happen commonly\n      // when using autoplay.\n\n\n      if (!this.timeupdateSeen_) {\n        this.timeupdateSeen_ = this.player_.hasStarted();\n      }\n\n      this.trackingInterval_ = this.setInterval(this.trackLive_, 30);\n      this.trackLive_();\n      this.on(this.player_, 'play', this.trackLive_);\n      this.on(this.player_, 'pause', this.trackLive_); // this is to prevent showing that we are not live\n      // before a video starts to play\n\n      if (!this.timeupdateSeen_) {\n        this.one(this.player_, 'play', this.handlePlay);\n\n        this.handleTimeupdate = function () {\n          _this2.timeupdateSeen_ = true;\n          _this2.handleTimeupdate = null;\n        };\n\n        this.one(this.player_, 'timeupdate', this.handleTimeupdate);\n      }\n    };\n\n    _proto.handlePlay = function handlePlay() {\n      this.one(this.player_, 'timeupdate', this.seekToLiveEdge);\n    }\n    /**\n     * Stop tracking, and set all internal variables to\n     * their initial value.\n     */\n    ;\n\n    _proto.reset_ = function reset_() {\n      this.pastSeekEnd_ = 0;\n      this.lastSeekEnd_ = null;\n      this.behindLiveEdge_ = null;\n      this.timeupdateSeen_ = false;\n      this.clearInterval(this.trackingInterval_);\n      this.trackingInterval_ = null;\n      this.seekableIncrement_ = 12;\n      this.seekableIncrementList_ = [];\n      this.off(this.player_, 'play', this.trackLive_);\n      this.off(this.player_, 'pause', this.trackLive_);\n      this.off(this.player_, 'play', this.handlePlay);\n      this.off(this.player_, 'timeupdate', this.seekToLiveEdge);\n\n      if (this.handleTimeupdate) {\n        this.off(this.player_, 'timeupdate', this.handleTimeupdate);\n        this.handleTimeupdate = null;\n      }\n    }\n    /**\n     * stop tracking live playback\n     */\n    ;\n\n    _proto.stopTracking = function stopTracking() {\n      if (!this.isTracking()) {\n        return;\n      }\n\n      this.reset_();\n    }\n    /**\n     * A helper to get the player seekable end\n     * so that we don't have to null check everywhere\n     */\n    ;\n\n    _proto.seekableEnd = function seekableEnd() {\n      var seekable = this.player_.seekable();\n      var seekableEnds = [];\n      var i = seekable ? seekable.length : 0;\n\n      while (i--) {\n        seekableEnds.push(seekable.end(i));\n      } // grab the furthest seekable end after sorting, or if there are none\n      // default to Infinity\n\n\n      return seekableEnds.length ? seekableEnds.sort()[seekableEnds.length - 1] : Infinity;\n    }\n    /**\n     * A helper to get the player seekable start\n     * so that we don't have to null check everywhere\n     */\n    ;\n\n    _proto.seekableStart = function seekableStart() {\n      var seekable = this.player_.seekable();\n      var seekableStarts = [];\n      var i = seekable ? seekable.length : 0;\n\n      while (i--) {\n        seekableStarts.push(seekable.start(i));\n      } // grab the first seekable start after sorting, or if there are none\n      // default to 0\n\n\n      return seekableStarts.length ? seekableStarts.sort()[0] : 0;\n    }\n    /**\n     * Get the live time window\n     */\n    ;\n\n    _proto.liveWindow = function liveWindow() {\n      var liveCurrentTime = this.liveCurrentTime();\n\n      if (liveCurrentTime === Infinity) {\n        return Infinity;\n      }\n\n      return liveCurrentTime - this.seekableStart();\n    }\n    /**\n     * Determines if the player is live, only checks if this component\n     * is tracking live playback or not\n     */\n    ;\n\n    _proto.isLive = function isLive() {\n      return this.isTracking();\n    }\n    /**\n     * Determines if currentTime is at the live edge and won't fall behind\n     * on each seekableendchange\n     */\n    ;\n\n    _proto.atLiveEdge = function atLiveEdge() {\n      return !this.behindLiveEdge();\n    }\n    /**\n     * get what we expect the live current time to be\n     */\n    ;\n\n    _proto.liveCurrentTime = function liveCurrentTime() {\n      return this.pastSeekEnd() + this.seekableEnd();\n    }\n    /**\n     * Returns how far past seek end we expect current time to be\n     */\n    ;\n\n    _proto.pastSeekEnd = function pastSeekEnd() {\n      return this.pastSeekEnd_;\n    }\n    /**\n     * If we are currently behind the live edge, aka currentTime will be\n     * behind on a seekableendchange\n     */\n    ;\n\n    _proto.behindLiveEdge = function behindLiveEdge() {\n      return this.behindLiveEdge_;\n    };\n\n    _proto.isTracking = function isTracking() {\n      return typeof this.trackingInterval_ === 'number';\n    }\n    /**\n     * Seek to the live edge if we are behind the live edge\n     */\n    ;\n\n    _proto.seekToLiveEdge = function seekToLiveEdge() {\n      if (this.atLiveEdge()) {\n        return;\n      }\n\n      this.player_.currentTime(this.liveCurrentTime());\n\n      if (this.player_.paused()) {\n        this.player_.play();\n      }\n    };\n\n    _proto.dispose = function dispose() {\n      this.stopTracking();\n\n      _Component.prototype.dispose.call(this);\n    };\n\n    return LiveTracker;\n  }(Component);\n\n  Component.registerComponent('LiveTracker', LiveTracker);\n\n  /**\n   * This function is used to fire a sourceset when there is something\n   * similar to `mediaEl.load()` being called. It will try to find the source via\n   * the `src` attribute and then the `<source>` elements. It will then fire `sourceset`\n   * with the source that was found or empty string if we cannot know. If it cannot\n   * find a source then `sourceset` will not be fired.\n   *\n   * @param {Html5} tech\n   *        The tech object that sourceset was setup on\n   *\n   * @return {boolean}\n   *         returns false if the sourceset was not fired and true otherwise.\n   */\n\n  var sourcesetLoad = function sourcesetLoad(tech) {\n    var el = tech.el(); // if `el.src` is set, that source will be loaded.\n\n    if (el.hasAttribute('src')) {\n      tech.triggerSourceset(el.src);\n      return true;\n    }\n    /**\n     * Since there isn't a src property on the media element, source elements will be used for\n     * implementing the source selection algorithm. This happens asynchronously and\n     * for most cases were there is more than one source we cannot tell what source will\n     * be loaded, without re-implementing the source selection algorithm. At this time we are not\n     * going to do that. There are three special cases that we do handle here though:\n     *\n     * 1. If there are no sources, do not fire `sourceset`.\n     * 2. If there is only one `<source>` with a `src` property/attribute that is our `src`\n     * 3. If there is more than one `<source>` but all of them have the same `src` url.\n     *    That will be our src.\n     */\n\n\n    var sources = tech.$$('source');\n    var srcUrls = [];\n    var src = ''; // if there are no sources, do not fire sourceset\n\n    if (!sources.length) {\n      return false;\n    } // only count valid/non-duplicate source elements\n\n\n    for (var i = 0; i < sources.length; i++) {\n      var url = sources[i].src;\n\n      if (url && srcUrls.indexOf(url) === -1) {\n        srcUrls.push(url);\n      }\n    } // there were no valid sources\n\n\n    if (!srcUrls.length) {\n      return false;\n    } // there is only one valid source element url\n    // use that\n\n\n    if (srcUrls.length === 1) {\n      src = srcUrls[0];\n    }\n\n    tech.triggerSourceset(src);\n    return true;\n  };\n  /**\n   * our implementation of an `innerHTML` descriptor for browsers\n   * that do not have one.\n   */\n\n\n  var innerHTMLDescriptorPolyfill = Object.defineProperty({}, 'innerHTML', {\n    get: function get() {\n      return this.cloneNode(true).innerHTML;\n    },\n    set: function set(v) {\n      // make a dummy node to use innerHTML on\n      var dummy = document.createElement(this.nodeName.toLowerCase()); // set innerHTML to the value provided\n\n      dummy.innerHTML = v; // make a document fragment to hold the nodes from dummy\n\n      var docFrag = document.createDocumentFragment(); // copy all of the nodes created by the innerHTML on dummy\n      // to the document fragment\n\n      while (dummy.childNodes.length) {\n        docFrag.appendChild(dummy.childNodes[0]);\n      } // remove content\n\n\n      this.innerText = ''; // now we add all of that html in one by appending the\n      // document fragment. This is how innerHTML does it.\n\n      window$1.Element.prototype.appendChild.call(this, docFrag); // then return the result that innerHTML's setter would\n\n      return this.innerHTML;\n    }\n  });\n  /**\n   * Get a property descriptor given a list of priorities and the\n   * property to get.\n   */\n\n  var getDescriptor = function getDescriptor(priority, prop) {\n    var descriptor = {};\n\n    for (var i = 0; i < priority.length; i++) {\n      descriptor = Object.getOwnPropertyDescriptor(priority[i], prop);\n\n      if (descriptor && descriptor.set && descriptor.get) {\n        break;\n      }\n    }\n\n    descriptor.enumerable = true;\n    descriptor.configurable = true;\n    return descriptor;\n  };\n\n  var getInnerHTMLDescriptor = function getInnerHTMLDescriptor(tech) {\n    return getDescriptor([tech.el(), window$1.HTMLMediaElement.prototype, window$1.Element.prototype, innerHTMLDescriptorPolyfill], 'innerHTML');\n  };\n  /**\n   * Patches browser internal functions so that we can tell synchronously\n   * if a `<source>` was appended to the media element. For some reason this\n   * causes a `sourceset` if the the media element is ready and has no source.\n   * This happens when:\n   * - The page has just loaded and the media element does not have a source.\n   * - The media element was emptied of all sources, then `load()` was called.\n   *\n   * It does this by patching the following functions/properties when they are supported:\n   *\n   * - `append()` - can be used to add a `<source>` element to the media element\n   * - `appendChild()` - can be used to add a `<source>` element to the media element\n   * - `insertAdjacentHTML()` -  can be used to add a `<source>` element to the media element\n   * - `innerHTML` -  can be used to add a `<source>` element to the media element\n   *\n   * @param {Html5} tech\n   *        The tech object that sourceset is being setup on.\n   */\n\n\n  var firstSourceWatch = function firstSourceWatch(tech) {\n    var el = tech.el(); // make sure firstSourceWatch isn't setup twice.\n\n    if (el.resetSourceWatch_) {\n      return;\n    }\n\n    var old = {};\n    var innerDescriptor = getInnerHTMLDescriptor(tech);\n\n    var appendWrapper = function appendWrapper(appendFn) {\n      return function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        var retval = appendFn.apply(el, args);\n        sourcesetLoad(tech);\n        return retval;\n      };\n    };\n\n    ['append', 'appendChild', 'insertAdjacentHTML'].forEach(function (k) {\n      if (!el[k]) {\n        return;\n      } // store the old function\n\n\n      old[k] = el[k]; // call the old function with a sourceset if a source\n      // was loaded\n\n      el[k] = appendWrapper(old[k]);\n    });\n    Object.defineProperty(el, 'innerHTML', mergeOptions(innerDescriptor, {\n      set: appendWrapper(innerDescriptor.set)\n    }));\n\n    el.resetSourceWatch_ = function () {\n      el.resetSourceWatch_ = null;\n      Object.keys(old).forEach(function (k) {\n        el[k] = old[k];\n      });\n      Object.defineProperty(el, 'innerHTML', innerDescriptor);\n    }; // on the first sourceset, we need to revert our changes\n\n\n    tech.one('sourceset', el.resetSourceWatch_);\n  };\n  /**\n   * our implementation of a `src` descriptor for browsers\n   * that do not have one.\n   */\n\n\n  var srcDescriptorPolyfill = Object.defineProperty({}, 'src', {\n    get: function get() {\n      if (this.hasAttribute('src')) {\n        return getAbsoluteURL(window$1.Element.prototype.getAttribute.call(this, 'src'));\n      }\n\n      return '';\n    },\n    set: function set(v) {\n      window$1.Element.prototype.setAttribute.call(this, 'src', v);\n      return v;\n    }\n  });\n\n  var getSrcDescriptor = function getSrcDescriptor(tech) {\n    return getDescriptor([tech.el(), window$1.HTMLMediaElement.prototype, srcDescriptorPolyfill], 'src');\n  };\n  /**\n   * setup `sourceset` handling on the `Html5` tech. This function\n   * patches the following element properties/functions:\n   *\n   * - `src` - to determine when `src` is set\n   * - `setAttribute()` - to determine when `src` is set\n   * - `load()` - this re-triggers the source selection algorithm, and can\n   *              cause a sourceset.\n   *\n   * If there is no source when we are adding `sourceset` support or during a `load()`\n   * we also patch the functions listed in `firstSourceWatch`.\n   *\n   * @param {Html5} tech\n   *        The tech to patch\n   */\n\n\n  var setupSourceset = function setupSourceset(tech) {\n    if (!tech.featuresSourceset) {\n      return;\n    }\n\n    var el = tech.el(); // make sure sourceset isn't setup twice.\n\n    if (el.resetSourceset_) {\n      return;\n    }\n\n    var srcDescriptor = getSrcDescriptor(tech);\n    var oldSetAttribute = el.setAttribute;\n    var oldLoad = el.load;\n    Object.defineProperty(el, 'src', mergeOptions(srcDescriptor, {\n      set: function set(v) {\n        var retval = srcDescriptor.set.call(el, v); // we use the getter here to get the actual value set on src\n\n        tech.triggerSourceset(el.src);\n        return retval;\n      }\n    }));\n\n    el.setAttribute = function (n, v) {\n      var retval = oldSetAttribute.call(el, n, v);\n\n      if (/src/i.test(n)) {\n        tech.triggerSourceset(el.src);\n      }\n\n      return retval;\n    };\n\n    el.load = function () {\n      var retval = oldLoad.call(el); // if load was called, but there was no source to fire\n      // sourceset on. We have to watch for a source append\n      // as that can trigger a `sourceset` when the media element\n      // has no source\n\n      if (!sourcesetLoad(tech)) {\n        tech.triggerSourceset('');\n        firstSourceWatch(tech);\n      }\n\n      return retval;\n    };\n\n    if (el.currentSrc) {\n      tech.triggerSourceset(el.currentSrc);\n    } else if (!sourcesetLoad(tech)) {\n      firstSourceWatch(tech);\n    }\n\n    el.resetSourceset_ = function () {\n      el.resetSourceset_ = null;\n      el.load = oldLoad;\n      el.setAttribute = oldSetAttribute;\n      Object.defineProperty(el, 'src', srcDescriptor);\n\n      if (el.resetSourceWatch_) {\n        el.resetSourceWatch_();\n      }\n    };\n  };\n\n  /**\n   * HTML5 Media Controller - Wrapper for HTML5 Media API\n   *\n   * @mixes Tech~SourceHandlerAdditions\n   * @extends Tech\n   */\n\n  var Html5 =\n  /*#__PURE__*/\n  function (_Tech) {\n    _inheritsLoose(Html5, _Tech);\n\n    /**\n    * Create an instance of this Tech.\n    *\n    * @param {Object} [options]\n    *        The key/value store of player options.\n    *\n    * @param {Component~ReadyCallback} ready\n    *        Callback function to call when the `HTML5` Tech is ready.\n    */\n    function Html5(options, ready) {\n      var _this;\n\n      _this = _Tech.call(this, options, ready) || this;\n      var source = options.source;\n      var crossoriginTracks = false; // Set the source if one is provided\n      // 1) Check if the source is new (if not, we want to keep the original so playback isn't interrupted)\n      // 2) Check to see if the network state of the tag was failed at init, and if so, reset the source\n      // anyway so the error gets fired.\n\n      if (source && (_this.el_.currentSrc !== source.src || options.tag && options.tag.initNetworkState_ === 3)) {\n        _this.setSource(source);\n      } else {\n        _this.handleLateInit_(_this.el_);\n      } // setup sourceset after late sourceset/init\n\n\n      if (options.enableSourceset) {\n        _this.setupSourcesetHandling_();\n      }\n\n      if (_this.el_.hasChildNodes()) {\n        var nodes = _this.el_.childNodes;\n        var nodesLength = nodes.length;\n        var removeNodes = [];\n\n        while (nodesLength--) {\n          var node = nodes[nodesLength];\n          var nodeName = node.nodeName.toLowerCase();\n\n          if (nodeName === 'track') {\n            if (!_this.featuresNativeTextTracks) {\n              // Empty video tag tracks so the built-in player doesn't use them also.\n              // This may not be fast enough to stop HTML5 browsers from reading the tags\n              // so we'll need to turn off any default tracks if we're manually doing\n              // captions and subtitles. videoElement.textTracks\n              removeNodes.push(node);\n            } else {\n              // store HTMLTrackElement and TextTrack to remote list\n              _this.remoteTextTrackEls().addTrackElement_(node);\n\n              _this.remoteTextTracks().addTrack(node.track);\n\n              _this.textTracks().addTrack(node.track);\n\n              if (!crossoriginTracks && !_this.el_.hasAttribute('crossorigin') && isCrossOrigin(node.src)) {\n                crossoriginTracks = true;\n              }\n            }\n          }\n        }\n\n        for (var i = 0; i < removeNodes.length; i++) {\n          _this.el_.removeChild(removeNodes[i]);\n        }\n      }\n\n      _this.proxyNativeTracks_();\n\n      if (_this.featuresNativeTextTracks && crossoriginTracks) {\n        log.warn('Text Tracks are being loaded from another origin but the crossorigin attribute isn\\'t used.\\n' + 'This may prevent text tracks from loading.');\n      } // prevent iOS Safari from disabling metadata text tracks during native playback\n\n\n      _this.restoreMetadataTracksInIOSNativePlayer_(); // Determine if native controls should be used\n      // Our goal should be to get the custom controls on mobile solid everywhere\n      // so we can remove this all together. Right now this will block custom\n      // controls on touch enabled laptops like the Chrome Pixel\n\n\n      if ((TOUCH_ENABLED || IS_IPHONE || IS_NATIVE_ANDROID) && options.nativeControlsForTouch === true) {\n        _this.setControls(true);\n      } // on iOS, we want to proxy `webkitbeginfullscreen` and `webkitendfullscreen`\n      // into a `fullscreenchange` event\n\n\n      _this.proxyWebkitFullscreen_();\n\n      _this.triggerReady();\n\n      return _this;\n    }\n    /**\n     * Dispose of `HTML5` media element and remove all tracks.\n     */\n\n\n    var _proto = Html5.prototype;\n\n    _proto.dispose = function dispose() {\n      if (this.el_ && this.el_.resetSourceset_) {\n        this.el_.resetSourceset_();\n      }\n\n      Html5.disposeMediaElement(this.el_);\n      this.options_ = null; // tech will handle clearing of the emulated track list\n\n      _Tech.prototype.dispose.call(this);\n    }\n    /**\n     * Modify the media element so that we can detect when\n     * the source is changed. Fires `sourceset` just after the source has changed\n     */\n    ;\n\n    _proto.setupSourcesetHandling_ = function setupSourcesetHandling_() {\n      setupSourceset(this);\n    }\n    /**\n     * When a captions track is enabled in the iOS Safari native player, all other\n     * tracks are disabled (including metadata tracks), which nulls all of their\n     * associated cue points. This will restore metadata tracks to their pre-fullscreen\n     * state in those cases so that cue points are not needlessly lost.\n     *\n     * @private\n     */\n    ;\n\n    _proto.restoreMetadataTracksInIOSNativePlayer_ = function restoreMetadataTracksInIOSNativePlayer_() {\n      var textTracks = this.textTracks();\n      var metadataTracksPreFullscreenState; // captures a snapshot of every metadata track's current state\n\n      var takeMetadataTrackSnapshot = function takeMetadataTrackSnapshot() {\n        metadataTracksPreFullscreenState = [];\n\n        for (var i = 0; i < textTracks.length; i++) {\n          var track = textTracks[i];\n\n          if (track.kind === 'metadata') {\n            metadataTracksPreFullscreenState.push({\n              track: track,\n              storedMode: track.mode\n            });\n          }\n        }\n      }; // snapshot each metadata track's initial state, and update the snapshot\n      // each time there is a track 'change' event\n\n\n      takeMetadataTrackSnapshot();\n      textTracks.addEventListener('change', takeMetadataTrackSnapshot);\n      this.on('dispose', function () {\n        return textTracks.removeEventListener('change', takeMetadataTrackSnapshot);\n      });\n\n      var restoreTrackMode = function restoreTrackMode() {\n        for (var i = 0; i < metadataTracksPreFullscreenState.length; i++) {\n          var storedTrack = metadataTracksPreFullscreenState[i];\n\n          if (storedTrack.track.mode === 'disabled' && storedTrack.track.mode !== storedTrack.storedMode) {\n            storedTrack.track.mode = storedTrack.storedMode;\n          }\n        } // we only want this handler to be executed on the first 'change' event\n\n\n        textTracks.removeEventListener('change', restoreTrackMode);\n      }; // when we enter fullscreen playback, stop updating the snapshot and\n      // restore all track modes to their pre-fullscreen state\n\n\n      this.on('webkitbeginfullscreen', function () {\n        textTracks.removeEventListener('change', takeMetadataTrackSnapshot); // remove the listener before adding it just in case it wasn't previously removed\n\n        textTracks.removeEventListener('change', restoreTrackMode);\n        textTracks.addEventListener('change', restoreTrackMode);\n      }); // start updating the snapshot again after leaving fullscreen\n\n      this.on('webkitendfullscreen', function () {\n        // remove the listener before adding it just in case it wasn't previously removed\n        textTracks.removeEventListener('change', takeMetadataTrackSnapshot);\n        textTracks.addEventListener('change', takeMetadataTrackSnapshot); // remove the restoreTrackMode handler in case it wasn't triggered during fullscreen playback\n\n        textTracks.removeEventListener('change', restoreTrackMode);\n      });\n    }\n    /**\n     * Attempt to force override of tracks for the given type\n     *\n     * @param {string} type - Track type to override, possible values include 'Audio',\n     * 'Video', and 'Text'.\n     * @param {boolean} override - If set to true native audio/video will be overridden,\n     * otherwise native audio/video will potentially be used.\n     * @private\n     */\n    ;\n\n    _proto.overrideNative_ = function overrideNative_(type, override) {\n      var _this2 = this;\n\n      // If there is no behavioral change don't add/remove listeners\n      if (override !== this[\"featuresNative\" + type + \"Tracks\"]) {\n        return;\n      }\n\n      var lowerCaseType = type.toLowerCase();\n\n      if (this[lowerCaseType + \"TracksListeners_\"]) {\n        Object.keys(this[lowerCaseType + \"TracksListeners_\"]).forEach(function (eventName) {\n          var elTracks = _this2.el()[lowerCaseType + \"Tracks\"];\n\n          elTracks.removeEventListener(eventName, _this2[lowerCaseType + \"TracksListeners_\"][eventName]);\n        });\n      }\n\n      this[\"featuresNative\" + type + \"Tracks\"] = !override;\n      this[lowerCaseType + \"TracksListeners_\"] = null;\n      this.proxyNativeTracksForType_(lowerCaseType);\n    }\n    /**\n     * Attempt to force override of native audio tracks.\n     *\n     * @param {boolean} override - If set to true native audio will be overridden,\n     * otherwise native audio will potentially be used.\n     */\n    ;\n\n    _proto.overrideNativeAudioTracks = function overrideNativeAudioTracks(override) {\n      this.overrideNative_('Audio', override);\n    }\n    /**\n     * Attempt to force override of native video tracks.\n     *\n     * @param {boolean} override - If set to true native video will be overridden,\n     * otherwise native video will potentially be used.\n     */\n    ;\n\n    _proto.overrideNativeVideoTracks = function overrideNativeVideoTracks(override) {\n      this.overrideNative_('Video', override);\n    }\n    /**\n     * Proxy native track list events for the given type to our track\n     * lists if the browser we are playing in supports that type of track list.\n     *\n     * @param {string} name - Track type; values include 'audio', 'video', and 'text'\n     * @private\n     */\n    ;\n\n    _proto.proxyNativeTracksForType_ = function proxyNativeTracksForType_(name) {\n      var _this3 = this;\n\n      var props = NORMAL[name];\n      var elTracks = this.el()[props.getterName];\n      var techTracks = this[props.getterName]();\n\n      if (!this[\"featuresNative\" + props.capitalName + \"Tracks\"] || !elTracks || !elTracks.addEventListener) {\n        return;\n      }\n\n      var listeners = {\n        change: function change(e) {\n          techTracks.trigger({\n            type: 'change',\n            target: techTracks,\n            currentTarget: techTracks,\n            srcElement: techTracks\n          });\n        },\n        addtrack: function addtrack(e) {\n          techTracks.addTrack(e.track);\n        },\n        removetrack: function removetrack(e) {\n          techTracks.removeTrack(e.track);\n        }\n      };\n\n      var removeOldTracks = function removeOldTracks() {\n        var removeTracks = [];\n\n        for (var i = 0; i < techTracks.length; i++) {\n          var found = false;\n\n          for (var j = 0; j < elTracks.length; j++) {\n            if (elTracks[j] === techTracks[i]) {\n              found = true;\n              break;\n            }\n          }\n\n          if (!found) {\n            removeTracks.push(techTracks[i]);\n          }\n        }\n\n        while (removeTracks.length) {\n          techTracks.removeTrack(removeTracks.shift());\n        }\n      };\n\n      this[props.getterName + 'Listeners_'] = listeners;\n      Object.keys(listeners).forEach(function (eventName) {\n        var listener = listeners[eventName];\n        elTracks.addEventListener(eventName, listener);\n\n        _this3.on('dispose', function (e) {\n          return elTracks.removeEventListener(eventName, listener);\n        });\n      }); // Remove (native) tracks that are not used anymore\n\n      this.on('loadstart', removeOldTracks);\n      this.on('dispose', function (e) {\n        return _this3.off('loadstart', removeOldTracks);\n      });\n    }\n    /**\n     * Proxy all native track list events to our track lists if the browser we are playing\n     * in supports that type of track list.\n     *\n     * @private\n     */\n    ;\n\n    _proto.proxyNativeTracks_ = function proxyNativeTracks_() {\n      var _this4 = this;\n\n      NORMAL.names.forEach(function (name) {\n        _this4.proxyNativeTracksForType_(name);\n      });\n    }\n    /**\n     * Create the `Html5` Tech's DOM element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      var el = this.options_.tag; // Check if this browser supports moving the element into the box.\n      // On the iPhone video will break if you move the element,\n      // So we have to create a brand new element.\n      // If we ingested the player div, we do not need to move the media element.\n\n      if (!el || !(this.options_.playerElIngest || this.movingMediaElementInDOM)) {\n        // If the original tag is still there, clone and remove it.\n        if (el) {\n          var clone = el.cloneNode(true);\n\n          if (el.parentNode) {\n            el.parentNode.insertBefore(clone, el);\n          }\n\n          Html5.disposeMediaElement(el);\n          el = clone;\n        } else {\n          el = document.createElement('video'); // determine if native controls should be used\n\n          var tagAttributes = this.options_.tag && getAttributes(this.options_.tag);\n          var attributes = mergeOptions({}, tagAttributes);\n\n          if (!TOUCH_ENABLED || this.options_.nativeControlsForTouch !== true) {\n            delete attributes.controls;\n          }\n\n          setAttributes(el, assign(attributes, {\n            id: this.options_.techId,\n            \"class\": 'vjs-tech'\n          }));\n        }\n\n        el.playerId = this.options_.playerId;\n      }\n\n      if (typeof this.options_.preload !== 'undefined') {\n        setAttribute(el, 'preload', this.options_.preload);\n      } // Update specific tag settings, in case they were overridden\n      // `autoplay` has to be *last* so that `muted` and `playsinline` are present\n      // when iOS/Safari or other browsers attempt to autoplay.\n\n\n      var settingsAttrs = ['loop', 'muted', 'playsinline', 'autoplay'];\n\n      for (var i = 0; i < settingsAttrs.length; i++) {\n        var attr = settingsAttrs[i];\n        var value = this.options_[attr];\n\n        if (typeof value !== 'undefined') {\n          if (value) {\n            setAttribute(el, attr, attr);\n          } else {\n            removeAttribute(el, attr);\n          }\n\n          el[attr] = value;\n        }\n      }\n\n      return el;\n    }\n    /**\n     * This will be triggered if the loadstart event has already fired, before videojs was\n     * ready. Two known examples of when this can happen are:\n     * 1. If we're loading the playback object after it has started loading\n     * 2. The media is already playing the (often with autoplay on) then\n     *\n     * This function will fire another loadstart so that videojs can catchup.\n     *\n     * @fires Tech#loadstart\n     *\n     * @return {undefined}\n     *         returns nothing.\n     */\n    ;\n\n    _proto.handleLateInit_ = function handleLateInit_(el) {\n      if (el.networkState === 0 || el.networkState === 3) {\n        // The video element hasn't started loading the source yet\n        // or didn't find a source\n        return;\n      }\n\n      if (el.readyState === 0) {\n        // NetworkState is set synchronously BUT loadstart is fired at the\n        // end of the current stack, usually before setInterval(fn, 0).\n        // So at this point we know loadstart may have already fired or is\n        // about to fire, and either way the player hasn't seen it yet.\n        // We don't want to fire loadstart prematurely here and cause a\n        // double loadstart so we'll wait and see if it happens between now\n        // and the next loop, and fire it if not.\n        // HOWEVER, we also want to make sure it fires before loadedmetadata\n        // which could also happen between now and the next loop, so we'll\n        // watch for that also.\n        var loadstartFired = false;\n\n        var setLoadstartFired = function setLoadstartFired() {\n          loadstartFired = true;\n        };\n\n        this.on('loadstart', setLoadstartFired);\n\n        var triggerLoadstart = function triggerLoadstart() {\n          // We did miss the original loadstart. Make sure the player\n          // sees loadstart before loadedmetadata\n          if (!loadstartFired) {\n            this.trigger('loadstart');\n          }\n        };\n\n        this.on('loadedmetadata', triggerLoadstart);\n        this.ready(function () {\n          this.off('loadstart', setLoadstartFired);\n          this.off('loadedmetadata', triggerLoadstart);\n\n          if (!loadstartFired) {\n            // We did miss the original native loadstart. Fire it now.\n            this.trigger('loadstart');\n          }\n        });\n        return;\n      } // From here on we know that loadstart already fired and we missed it.\n      // The other readyState events aren't as much of a problem if we double\n      // them, so not going to go to as much trouble as loadstart to prevent\n      // that unless we find reason to.\n\n\n      var eventsToTrigger = ['loadstart']; // loadedmetadata: newly equal to HAVE_METADATA (1) or greater\n\n      eventsToTrigger.push('loadedmetadata'); // loadeddata: newly increased to HAVE_CURRENT_DATA (2) or greater\n\n      if (el.readyState >= 2) {\n        eventsToTrigger.push('loadeddata');\n      } // canplay: newly increased to HAVE_FUTURE_DATA (3) or greater\n\n\n      if (el.readyState >= 3) {\n        eventsToTrigger.push('canplay');\n      } // canplaythrough: newly equal to HAVE_ENOUGH_DATA (4)\n\n\n      if (el.readyState >= 4) {\n        eventsToTrigger.push('canplaythrough');\n      } // We still need to give the player time to add event listeners\n\n\n      this.ready(function () {\n        eventsToTrigger.forEach(function (type) {\n          this.trigger(type);\n        }, this);\n      });\n    }\n    /**\n     * Set current time for the `HTML5` tech.\n     *\n     * @param {number} seconds\n     *        Set the current time of the media to this.\n     */\n    ;\n\n    _proto.setCurrentTime = function setCurrentTime(seconds) {\n      try {\n        this.el_.currentTime = seconds;\n      } catch (e) {\n        log(e, 'Video is not ready. (Video.js)'); // this.warning(VideoJS.warnings.videoNotReady);\n      }\n    }\n    /**\n     * Get the current duration of the HTML5 media element.\n     *\n     * @return {number}\n     *         The duration of the media or 0 if there is no duration.\n     */\n    ;\n\n    _proto.duration = function duration() {\n      var _this5 = this;\n\n      // Android Chrome will report duration as Infinity for VOD HLS until after\n      // playback has started, which triggers the live display erroneously.\n      // Return NaN if playback has not started and trigger a durationupdate once\n      // the duration can be reliably known.\n      if (this.el_.duration === Infinity && IS_ANDROID && IS_CHROME && this.el_.currentTime === 0) {\n        // Wait for the first `timeupdate` with currentTime > 0 - there may be\n        // several with 0\n        var checkProgress = function checkProgress() {\n          if (_this5.el_.currentTime > 0) {\n            // Trigger durationchange for genuinely live video\n            if (_this5.el_.duration === Infinity) {\n              _this5.trigger('durationchange');\n            }\n\n            _this5.off('timeupdate', checkProgress);\n          }\n        };\n\n        this.on('timeupdate', checkProgress);\n        return NaN;\n      }\n\n      return this.el_.duration || NaN;\n    }\n    /**\n     * Get the current width of the HTML5 media element.\n     *\n     * @return {number}\n     *         The width of the HTML5 media element.\n     */\n    ;\n\n    _proto.width = function width() {\n      return this.el_.offsetWidth;\n    }\n    /**\n     * Get the current height of the HTML5 media element.\n     *\n     * @return {number}\n     *         The height of the HTML5 media element.\n     */\n    ;\n\n    _proto.height = function height() {\n      return this.el_.offsetHeight;\n    }\n    /**\n     * Proxy iOS `webkitbeginfullscreen` and `webkitendfullscreen` into\n     * `fullscreenchange` event.\n     *\n     * @private\n     * @fires fullscreenchange\n     * @listens webkitendfullscreen\n     * @listens webkitbeginfullscreen\n     * @listens webkitbeginfullscreen\n     */\n    ;\n\n    _proto.proxyWebkitFullscreen_ = function proxyWebkitFullscreen_() {\n      var _this6 = this;\n\n      if (!('webkitDisplayingFullscreen' in this.el_)) {\n        return;\n      }\n\n      var endFn = function endFn() {\n        this.trigger('fullscreenchange', {\n          isFullscreen: false\n        });\n      };\n\n      var beginFn = function beginFn() {\n        if ('webkitPresentationMode' in this.el_ && this.el_.webkitPresentationMode !== 'picture-in-picture') {\n          this.one('webkitendfullscreen', endFn);\n          this.trigger('fullscreenchange', {\n            isFullscreen: true\n          });\n        }\n      };\n\n      this.on('webkitbeginfullscreen', beginFn);\n      this.on('dispose', function () {\n        _this6.off('webkitbeginfullscreen', beginFn);\n\n        _this6.off('webkitendfullscreen', endFn);\n      });\n    }\n    /**\n     * Check if fullscreen is supported on the current playback device.\n     *\n     * @return {boolean}\n     *         - True if fullscreen is supported.\n     *         - False if fullscreen is not supported.\n     */\n    ;\n\n    _proto.supportsFullScreen = function supportsFullScreen() {\n      if (typeof this.el_.webkitEnterFullScreen === 'function') {\n        var userAgent = window$1.navigator && window$1.navigator.userAgent || ''; // Seems to be broken in Chromium/Chrome && Safari in Leopard\n\n        if (/Android/.test(userAgent) || !/Chrome|Mac OS X 10.5/.test(userAgent)) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n    /**\n     * Request that the `HTML5` Tech enter fullscreen.\n     */\n    ;\n\n    _proto.enterFullScreen = function enterFullScreen() {\n      var video = this.el_;\n\n      if (video.paused && video.networkState <= video.HAVE_METADATA) {\n        // attempt to prime the video element for programmatic access\n        // this isn't necessary on the desktop but shouldn't hurt\n        this.el_.play(); // playing and pausing synchronously during the transition to fullscreen\n        // can get iOS ~6.1 devices into a play/pause loop\n\n        this.setTimeout(function () {\n          video.pause();\n          video.webkitEnterFullScreen();\n        }, 0);\n      } else {\n        video.webkitEnterFullScreen();\n      }\n    }\n    /**\n     * Request that the `HTML5` Tech exit fullscreen.\n     */\n    ;\n\n    _proto.exitFullScreen = function exitFullScreen() {\n      this.el_.webkitExitFullScreen();\n    }\n    /**\n     * Create a floating video window always on top of other windows so that users may\n     * continue consuming media while they interact with other content sites, or\n     * applications on their device.\n     *\n     * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n     *\n     * @return {Promise}\n     *         A promise with a Picture-in-Picture window.\n     */\n    ;\n\n    _proto.requestPictureInPicture = function requestPictureInPicture() {\n      return this.el_.requestPictureInPicture();\n    }\n    /**\n     * A getter/setter for the `Html5` Tech's source object.\n     * > Note: Please use {@link Html5#setSource}\n     *\n     * @param {Tech~SourceObject} [src]\n     *        The source object you want to set on the `HTML5` techs element.\n     *\n     * @return {Tech~SourceObject|undefined}\n     *         - The current source object when a source is not passed in.\n     *         - undefined when setting\n     *\n     * @deprecated Since version 5.\n     */\n    ;\n\n    _proto.src = function src(_src) {\n      if (_src === undefined) {\n        return this.el_.src;\n      } // Setting src through `src` instead of `setSrc` will be deprecated\n\n\n      this.setSrc(_src);\n    }\n    /**\n     * Reset the tech by removing all sources and then calling\n     * {@link Html5.resetMediaElement}.\n     */\n    ;\n\n    _proto.reset = function reset() {\n      Html5.resetMediaElement(this.el_);\n    }\n    /**\n     * Get the current source on the `HTML5` Tech. Falls back to returning the source from\n     * the HTML5 media element.\n     *\n     * @return {Tech~SourceObject}\n     *         The current source object from the HTML5 tech. With a fallback to the\n     *         elements source.\n     */\n    ;\n\n    _proto.currentSrc = function currentSrc() {\n      if (this.currentSource_) {\n        return this.currentSource_.src;\n      }\n\n      return this.el_.currentSrc;\n    }\n    /**\n     * Set controls attribute for the HTML5 media Element.\n     *\n     * @param {string} val\n     *        Value to set the controls attribute to\n     */\n    ;\n\n    _proto.setControls = function setControls(val) {\n      this.el_.controls = !!val;\n    }\n    /**\n     * Create and returns a remote {@link TextTrack} object.\n     *\n     * @param {string} kind\n     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n     *\n     * @param {string} [label]\n     *        Label to identify the text track\n     *\n     * @param {string} [language]\n     *        Two letter language abbreviation\n     *\n     * @return {TextTrack}\n     *         The TextTrack that gets created.\n     */\n    ;\n\n    _proto.addTextTrack = function addTextTrack(kind, label, language) {\n      if (!this.featuresNativeTextTracks) {\n        return _Tech.prototype.addTextTrack.call(this, kind, label, language);\n      }\n\n      return this.el_.addTextTrack(kind, label, language);\n    }\n    /**\n     * Creates either native TextTrack or an emulated TextTrack depending\n     * on the value of `featuresNativeTextTracks`\n     *\n     * @param {Object} options\n     *        The object should contain the options to initialize the TextTrack with.\n     *\n     * @param {string} [options.kind]\n     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata).\n     *\n     * @param {string} [options.label]\n     *        Label to identify the text track\n     *\n     * @param {string} [options.language]\n     *        Two letter language abbreviation.\n     *\n     * @param {boolean} [options.default]\n     *        Default this track to on.\n     *\n     * @param {string} [options.id]\n     *        The internal id to assign this track.\n     *\n     * @param {string} [options.src]\n     *        A source url for the track.\n     *\n     * @return {HTMLTrackElement}\n     *         The track element that gets created.\n     */\n    ;\n\n    _proto.createRemoteTextTrack = function createRemoteTextTrack(options) {\n      if (!this.featuresNativeTextTracks) {\n        return _Tech.prototype.createRemoteTextTrack.call(this, options);\n      }\n\n      var htmlTrackElement = document.createElement('track');\n\n      if (options.kind) {\n        htmlTrackElement.kind = options.kind;\n      }\n\n      if (options.label) {\n        htmlTrackElement.label = options.label;\n      }\n\n      if (options.language || options.srclang) {\n        htmlTrackElement.srclang = options.language || options.srclang;\n      }\n\n      if (options[\"default\"]) {\n        htmlTrackElement[\"default\"] = options[\"default\"];\n      }\n\n      if (options.id) {\n        htmlTrackElement.id = options.id;\n      }\n\n      if (options.src) {\n        htmlTrackElement.src = options.src;\n      }\n\n      return htmlTrackElement;\n    }\n    /**\n     * Creates a remote text track object and returns an html track element.\n     *\n     * @param {Object} options The object should contain values for\n     * kind, language, label, and src (location of the WebVTT file)\n     * @param {boolean} [manualCleanup=true] if set to false, the TextTrack will be\n     * automatically removed from the video element whenever the source changes\n     * @return {HTMLTrackElement} An Html Track Element.\n     * This can be an emulated {@link HTMLTrackElement} or a native one.\n     * @deprecated The default value of the \"manualCleanup\" parameter will default\n     * to \"false\" in upcoming versions of Video.js\n     */\n    ;\n\n    _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n      var htmlTrackElement = _Tech.prototype.addRemoteTextTrack.call(this, options, manualCleanup);\n\n      if (this.featuresNativeTextTracks) {\n        this.el().appendChild(htmlTrackElement);\n      }\n\n      return htmlTrackElement;\n    }\n    /**\n     * Remove remote `TextTrack` from `TextTrackList` object\n     *\n     * @param {TextTrack} track\n     *        `TextTrack` object to remove\n     */\n    ;\n\n    _proto.removeRemoteTextTrack = function removeRemoteTextTrack(track) {\n      _Tech.prototype.removeRemoteTextTrack.call(this, track);\n\n      if (this.featuresNativeTextTracks) {\n        var tracks = this.$$('track');\n        var i = tracks.length;\n\n        while (i--) {\n          if (track === tracks[i] || track === tracks[i].track) {\n            this.el().removeChild(tracks[i]);\n          }\n        }\n      }\n    }\n    /**\n     * Gets available media playback quality metrics as specified by the W3C's Media\n     * Playback Quality API.\n     *\n     * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n     *\n     * @return {Object}\n     *         An object with supported media playback quality metrics\n     */\n    ;\n\n    _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n      if (typeof this.el().getVideoPlaybackQuality === 'function') {\n        return this.el().getVideoPlaybackQuality();\n      }\n\n      var videoPlaybackQuality = {};\n\n      if (typeof this.el().webkitDroppedFrameCount !== 'undefined' && typeof this.el().webkitDecodedFrameCount !== 'undefined') {\n        videoPlaybackQuality.droppedVideoFrames = this.el().webkitDroppedFrameCount;\n        videoPlaybackQuality.totalVideoFrames = this.el().webkitDecodedFrameCount;\n      }\n\n      if (window$1.performance && typeof window$1.performance.now === 'function') {\n        videoPlaybackQuality.creationTime = window$1.performance.now();\n      } else if (window$1.performance && window$1.performance.timing && typeof window$1.performance.timing.navigationStart === 'number') {\n        videoPlaybackQuality.creationTime = window$1.Date.now() - window$1.performance.timing.navigationStart;\n      }\n\n      return videoPlaybackQuality;\n    };\n\n    return Html5;\n  }(Tech);\n  /* HTML5 Support Testing ---------------------------------------------------- */\n\n\n  if (isReal()) {\n    /**\n     * Element for testing browser HTML5 media capabilities\n     *\n     * @type {Element}\n     * @constant\n     * @private\n     */\n    Html5.TEST_VID = document.createElement('video');\n    var track = document.createElement('track');\n    track.kind = 'captions';\n    track.srclang = 'en';\n    track.label = 'English';\n    Html5.TEST_VID.appendChild(track);\n  }\n  /**\n   * Check if HTML5 media is supported by this browser/device.\n   *\n   * @return {boolean}\n   *         - True if HTML5 media is supported.\n   *         - False if HTML5 media is not supported.\n   */\n\n\n  Html5.isSupported = function () {\n    // IE with no Media Player is a LIAR! (#984)\n    try {\n      Html5.TEST_VID.volume = 0.5;\n    } catch (e) {\n      return false;\n    }\n\n    return !!(Html5.TEST_VID && Html5.TEST_VID.canPlayType);\n  };\n  /**\n   * Check if the tech can support the given type\n   *\n   * @param {string} type\n   *        The mimetype to check\n   * @return {string} 'probably', 'maybe', or '' (empty string)\n   */\n\n\n  Html5.canPlayType = function (type) {\n    return Html5.TEST_VID.canPlayType(type);\n  };\n  /**\n   * Check if the tech can support the given source\n   *\n   * @param {Object} srcObj\n   *        The source object\n   * @param {Object} options\n   *        The options passed to the tech\n   * @return {string} 'probably', 'maybe', or '' (empty string)\n   */\n\n\n  Html5.canPlaySource = function (srcObj, options) {\n    return Html5.canPlayType(srcObj.type);\n  };\n  /**\n   * Check if the volume can be changed in this browser/device.\n   * Volume cannot be changed in a lot of mobile devices.\n   * Specifically, it can't be changed from 1 on iOS.\n   *\n   * @return {boolean}\n   *         - True if volume can be controlled\n   *         - False otherwise\n   */\n\n\n  Html5.canControlVolume = function () {\n    // IE will error if Windows Media Player not installed #3315\n    try {\n      var volume = Html5.TEST_VID.volume;\n      Html5.TEST_VID.volume = volume / 2 + 0.1;\n      return volume !== Html5.TEST_VID.volume;\n    } catch (e) {\n      return false;\n    }\n  };\n  /**\n   * Check if the volume can be muted in this browser/device.\n   * Some devices, e.g. iOS, don't allow changing volume\n   * but permits muting/unmuting.\n   *\n   * @return {bolean}\n   *      - True if volume can be muted\n   *      - False otherwise\n   */\n\n\n  Html5.canMuteVolume = function () {\n    try {\n      var muted = Html5.TEST_VID.muted; // in some versions of iOS muted property doesn't always\n      // work, so we want to set both property and attribute\n\n      Html5.TEST_VID.muted = !muted;\n\n      if (Html5.TEST_VID.muted) {\n        setAttribute(Html5.TEST_VID, 'muted', 'muted');\n      } else {\n        removeAttribute(Html5.TEST_VID, 'muted', 'muted');\n      }\n\n      return muted !== Html5.TEST_VID.muted;\n    } catch (e) {\n      return false;\n    }\n  };\n  /**\n   * Check if the playback rate can be changed in this browser/device.\n   *\n   * @return {boolean}\n   *         - True if playback rate can be controlled\n   *         - False otherwise\n   */\n\n\n  Html5.canControlPlaybackRate = function () {\n    // Playback rate API is implemented in Android Chrome, but doesn't do anything\n    // https://github.com/videojs/video.js/issues/3180\n    if (IS_ANDROID && IS_CHROME && CHROME_VERSION < 58) {\n      return false;\n    } // IE will error if Windows Media Player not installed #3315\n\n\n    try {\n      var playbackRate = Html5.TEST_VID.playbackRate;\n      Html5.TEST_VID.playbackRate = playbackRate / 2 + 0.1;\n      return playbackRate !== Html5.TEST_VID.playbackRate;\n    } catch (e) {\n      return false;\n    }\n  };\n  /**\n   * Check if we can override a video/audio elements attributes, with\n   * Object.defineProperty.\n   *\n   * @return {boolean}\n   *         - True if builtin attributes can be overridden\n   *         - False otherwise\n   */\n\n\n  Html5.canOverrideAttributes = function () {\n    // if we cannot overwrite the src/innerHTML property, there is no support\n    // iOS 7 safari for instance cannot do this.\n    try {\n      var noop = function noop() {};\n\n      Object.defineProperty(document.createElement('video'), 'src', {\n        get: noop,\n        set: noop\n      });\n      Object.defineProperty(document.createElement('audio'), 'src', {\n        get: noop,\n        set: noop\n      });\n      Object.defineProperty(document.createElement('video'), 'innerHTML', {\n        get: noop,\n        set: noop\n      });\n      Object.defineProperty(document.createElement('audio'), 'innerHTML', {\n        get: noop,\n        set: noop\n      });\n    } catch (e) {\n      return false;\n    }\n\n    return true;\n  };\n  /**\n   * Check to see if native `TextTrack`s are supported by this browser/device.\n   *\n   * @return {boolean}\n   *         - True if native `TextTrack`s are supported.\n   *         - False otherwise\n   */\n\n\n  Html5.supportsNativeTextTracks = function () {\n    return IS_ANY_SAFARI || IS_IOS && IS_CHROME;\n  };\n  /**\n   * Check to see if native `VideoTrack`s are supported by this browser/device\n   *\n   * @return {boolean}\n   *        - True if native `VideoTrack`s are supported.\n   *        - False otherwise\n   */\n\n\n  Html5.supportsNativeVideoTracks = function () {\n    return !!(Html5.TEST_VID && Html5.TEST_VID.videoTracks);\n  };\n  /**\n   * Check to see if native `AudioTrack`s are supported by this browser/device\n   *\n   * @return {boolean}\n   *        - True if native `AudioTrack`s are supported.\n   *        - False otherwise\n   */\n\n\n  Html5.supportsNativeAudioTracks = function () {\n    return !!(Html5.TEST_VID && Html5.TEST_VID.audioTracks);\n  };\n  /**\n   * An array of events available on the Html5 tech.\n   *\n   * @private\n   * @type {Array}\n   */\n\n\n  Html5.Events = ['loadstart', 'suspend', 'abort', 'error', 'emptied', 'stalled', 'loadedmetadata', 'loadeddata', 'canplay', 'canplaythrough', 'playing', 'waiting', 'seeking', 'seeked', 'ended', 'durationchange', 'timeupdate', 'progress', 'play', 'pause', 'ratechange', 'resize', 'volumechange'];\n  /**\n   * Boolean indicating whether the `Tech` supports volume control.\n   *\n   * @type {boolean}\n   * @default {@link Html5.canControlVolume}\n   */\n\n  Html5.prototype.featuresVolumeControl = Html5.canControlVolume();\n  /**\n   * Boolean indicating whether the `Tech` supports muting volume.\n   *\n   * @type {bolean}\n   * @default {@link Html5.canMuteVolume}\n   */\n\n  Html5.prototype.featuresMuteControl = Html5.canMuteVolume();\n  /**\n   * Boolean indicating whether the `Tech` supports changing the speed at which the media\n   * plays. Examples:\n   *   - Set player to play 2x (twice) as fast\n   *   - Set player to play 0.5x (half) as fast\n   *\n   * @type {boolean}\n   * @default {@link Html5.canControlPlaybackRate}\n   */\n\n  Html5.prototype.featuresPlaybackRate = Html5.canControlPlaybackRate();\n  /**\n   * Boolean indicating whether the `Tech` supports the `sourceset` event.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Html5.prototype.featuresSourceset = Html5.canOverrideAttributes();\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports the media element\n   * moving in the DOM. iOS breaks if you move the media element, so this is set this to\n   * false there. Everywhere else this should be true.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Html5.prototype.movingMediaElementInDOM = !IS_IOS; // TODO: Previous comment: No longer appears to be used. Can probably be removed.\n  //       Is this true?\n\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports automatic media resize\n   * when going into fullscreen.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Html5.prototype.featuresFullscreenResize = true;\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports the progress event.\n   * If this is false, manual `progress` events will be triggered instead.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Html5.prototype.featuresProgressEvents = true;\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports the timeupdate event.\n   * If this is false, manual `timeupdate` events will be triggered instead.\n   *\n   * @default\n   */\n\n  Html5.prototype.featuresTimeupdateEvents = true;\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports native `TextTrack`s.\n   *\n   * @type {boolean}\n   * @default {@link Html5.supportsNativeTextTracks}\n   */\n\n  Html5.prototype.featuresNativeTextTracks = Html5.supportsNativeTextTracks();\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports native `VideoTrack`s.\n   *\n   * @type {boolean}\n   * @default {@link Html5.supportsNativeVideoTracks}\n   */\n\n  Html5.prototype.featuresNativeVideoTracks = Html5.supportsNativeVideoTracks();\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports native `AudioTrack`s.\n   *\n   * @type {boolean}\n   * @default {@link Html5.supportsNativeAudioTracks}\n   */\n\n  Html5.prototype.featuresNativeAudioTracks = Html5.supportsNativeAudioTracks(); // HTML5 Feature detection and Device Fixes --------------------------------- //\n\n  var canPlayType = Html5.TEST_VID && Html5.TEST_VID.constructor.prototype.canPlayType;\n  var mpegurlRE = /^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i;\n\n  Html5.patchCanPlayType = function () {\n    // Android 4.0 and above can play HLS to some extent but it reports being unable to do so\n    // Firefox and Chrome report correctly\n    if (ANDROID_VERSION >= 4.0 && !IS_FIREFOX && !IS_CHROME) {\n      Html5.TEST_VID.constructor.prototype.canPlayType = function (type) {\n        if (type && mpegurlRE.test(type)) {\n          return 'maybe';\n        }\n\n        return canPlayType.call(this, type);\n      };\n    }\n  };\n\n  Html5.unpatchCanPlayType = function () {\n    var r = Html5.TEST_VID.constructor.prototype.canPlayType;\n    Html5.TEST_VID.constructor.prototype.canPlayType = canPlayType;\n    return r;\n  }; // by default, patch the media element\n\n\n  Html5.patchCanPlayType();\n\n  Html5.disposeMediaElement = function (el) {\n    if (!el) {\n      return;\n    }\n\n    if (el.parentNode) {\n      el.parentNode.removeChild(el);\n    } // remove any child track or source nodes to prevent their loading\n\n\n    while (el.hasChildNodes()) {\n      el.removeChild(el.firstChild);\n    } // remove any src reference. not setting `src=''` because that causes a warning\n    // in firefox\n\n\n    el.removeAttribute('src'); // force the media element to update its loading state by calling load()\n    // however IE on Windows 7N has a bug that throws an error so need a try/catch (#793)\n\n    if (typeof el.load === 'function') {\n      // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n      (function () {\n        try {\n          el.load();\n        } catch (e) {// not supported\n        }\n      })();\n    }\n  };\n\n  Html5.resetMediaElement = function (el) {\n    if (!el) {\n      return;\n    }\n\n    var sources = el.querySelectorAll('source');\n    var i = sources.length;\n\n    while (i--) {\n      el.removeChild(sources[i]);\n    } // remove any src reference.\n    // not setting `src=''` because that throws an error\n\n\n    el.removeAttribute('src');\n\n    if (typeof el.load === 'function') {\n      // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n      (function () {\n        try {\n          el.load();\n        } catch (e) {// satisfy linter\n        }\n      })();\n    }\n  };\n  /* Native HTML5 element property wrapping ----------------------------------- */\n  // Wrap native boolean attributes with getters that check both property and attribute\n  // The list is as followed:\n  // muted, defaultMuted, autoplay, controls, loop, playsinline\n\n\n  [\n  /**\n   * Get the value of `muted` from the media element. `muted` indicates\n   * that the volume for the media should be set to silent. This does not actually change\n   * the `volume` attribute.\n   *\n   * @method Html5#muted\n   * @return {boolean}\n   *         - True if the value of `volume` should be ignored and the audio set to silent.\n   *         - False if the value of `volume` should be used.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-muted}\n   */\n  'muted',\n  /**\n   * Get the value of `defaultMuted` from the media element. `defaultMuted` indicates\n   * whether the media should start muted or not. Only changes the default state of the\n   * media. `muted` and `defaultMuted` can have different values. {@link Html5#muted} indicates the\n   * current state.\n   *\n   * @method Html5#defaultMuted\n   * @return {boolean}\n   *         - The value of `defaultMuted` from the media element.\n   *         - True indicates that the media should start muted.\n   *         - False indicates that the media should not start muted\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultmuted}\n   */\n  'defaultMuted',\n  /**\n   * Get the value of `autoplay` from the media element. `autoplay` indicates\n   * that the media should start to play as soon as the page is ready.\n   *\n   * @method Html5#autoplay\n   * @return {boolean}\n   *         - The value of `autoplay` from the media element.\n   *         - True indicates that the media should start as soon as the page loads.\n   *         - False indicates that the media should not start as soon as the page loads.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-autoplay}\n   */\n  'autoplay',\n  /**\n   * Get the value of `controls` from the media element. `controls` indicates\n   * whether the native media controls should be shown or hidden.\n   *\n   * @method Html5#controls\n   * @return {boolean}\n   *         - The value of `controls` from the media element.\n   *         - True indicates that native controls should be showing.\n   *         - False indicates that native controls should be hidden.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-controls}\n   */\n  'controls',\n  /**\n   * Get the value of `loop` from the media element. `loop` indicates\n   * that the media should return to the start of the media and continue playing once\n   * it reaches the end.\n   *\n   * @method Html5#loop\n   * @return {boolean}\n   *         - The value of `loop` from the media element.\n   *         - True indicates that playback should seek back to start once\n   *           the end of a media is reached.\n   *         - False indicates that playback should not loop back to the start when the\n   *           end of the media is reached.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-loop}\n   */\n  'loop',\n  /**\n   * Get the value of `playsinline` from the media element. `playsinline` indicates\n   * to the browser that non-fullscreen playback is preferred when fullscreen\n   * playback is the native default, such as in iOS Safari.\n   *\n   * @method Html5#playsinline\n   * @return {boolean}\n   *         - The value of `playsinline` from the media element.\n   *         - True indicates that the media should play inline.\n   *         - False indicates that the media should not play inline.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n   */\n  'playsinline'].forEach(function (prop) {\n    Html5.prototype[prop] = function () {\n      return this.el_[prop] || this.el_.hasAttribute(prop);\n    };\n  }); // Wrap native boolean attributes with setters that set both property and attribute\n  // The list is as followed:\n  // setMuted, setDefaultMuted, setAutoplay, setLoop, setPlaysinline\n  // setControls is special-cased above\n\n  [\n  /**\n   * Set the value of `muted` on the media element. `muted` indicates that the current\n   * audio level should be silent.\n   *\n   * @method Html5#setMuted\n   * @param {boolean} muted\n   *        - True if the audio should be set to silent\n   *        - False otherwise\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-muted}\n   */\n  'muted',\n  /**\n   * Set the value of `defaultMuted` on the media element. `defaultMuted` indicates that the current\n   * audio level should be silent, but will only effect the muted level on intial playback..\n   *\n   * @method Html5.prototype.setDefaultMuted\n   * @param {boolean} defaultMuted\n   *        - True if the audio should be set to silent\n   *        - False otherwise\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultmuted}\n   */\n  'defaultMuted',\n  /**\n   * Set the value of `autoplay` on the media element. `autoplay` indicates\n   * that the media should start to play as soon as the page is ready.\n   *\n   * @method Html5#setAutoplay\n   * @param {boolean} autoplay\n   *         - True indicates that the media should start as soon as the page loads.\n   *         - False indicates that the media should not start as soon as the page loads.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-autoplay}\n   */\n  'autoplay',\n  /**\n   * Set the value of `loop` on the media element. `loop` indicates\n   * that the media should return to the start of the media and continue playing once\n   * it reaches the end.\n   *\n   * @method Html5#setLoop\n   * @param {boolean} loop\n   *         - True indicates that playback should seek back to start once\n   *           the end of a media is reached.\n   *         - False indicates that playback should not loop back to the start when the\n   *           end of the media is reached.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-loop}\n   */\n  'loop',\n  /**\n   * Set the value of `playsinline` from the media element. `playsinline` indicates\n   * to the browser that non-fullscreen playback is preferred when fullscreen\n   * playback is the native default, such as in iOS Safari.\n   *\n   * @method Html5#setPlaysinline\n   * @param {boolean} playsinline\n   *         - True indicates that the media should play inline.\n   *         - False indicates that the media should not play inline.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n   */\n  'playsinline'].forEach(function (prop) {\n    Html5.prototype['set' + toTitleCase(prop)] = function (v) {\n      this.el_[prop] = v;\n\n      if (v) {\n        this.el_.setAttribute(prop, prop);\n      } else {\n        this.el_.removeAttribute(prop);\n      }\n    };\n  }); // Wrap native properties with a getter\n  // The list is as followed\n  // paused, currentTime, buffered, volume, poster, preload, error, seeking\n  // seekable, ended, playbackRate, defaultPlaybackRate, played, networkState\n  // readyState, videoWidth, videoHeight\n\n  [\n  /**\n   * Get the value of `paused` from the media element. `paused` indicates whether the media element\n   * is currently paused or not.\n   *\n   * @method Html5#paused\n   * @return {boolean}\n   *         The value of `paused` from the media element.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-paused}\n   */\n  'paused',\n  /**\n   * Get the value of `currentTime` from the media element. `currentTime` indicates\n   * the current second that the media is at in playback.\n   *\n   * @method Html5#currentTime\n   * @return {number}\n   *         The value of `currentTime` from the media element.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-currenttime}\n   */\n  'currentTime',\n  /**\n   * Get the value of `buffered` from the media element. `buffered` is a `TimeRange`\n   * object that represents the parts of the media that are already downloaded and\n   * available for playback.\n   *\n   * @method Html5#buffered\n   * @return {TimeRange}\n   *         The value of `buffered` from the media element.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-buffered}\n   */\n  'buffered',\n  /**\n   * Get the value of `volume` from the media element. `volume` indicates\n   * the current playback volume of audio for a media. `volume` will be a value from 0\n   * (silent) to 1 (loudest and default).\n   *\n   * @method Html5#volume\n   * @return {number}\n   *         The value of `volume` from the media element. Value will be between 0-1.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-a-volume}\n   */\n  'volume',\n  /**\n   * Get the value of `poster` from the media element. `poster` indicates\n   * that the url of an image file that can/will be shown when no media data is available.\n   *\n   * @method Html5#poster\n   * @return {string}\n   *         The value of `poster` from the media element. Value will be a url to an\n   *         image.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-video-poster}\n   */\n  'poster',\n  /**\n   * Get the value of `preload` from the media element. `preload` indicates\n   * what should download before the media is interacted with. It can have the following\n   * values:\n   * - none: nothing should be downloaded\n   * - metadata: poster and the first few frames of the media may be downloaded to get\n   *   media dimensions and other metadata\n   * - auto: allow the media and metadata for the media to be downloaded before\n   *    interaction\n   *\n   * @method Html5#preload\n   * @return {string}\n   *         The value of `preload` from the media element. Will be 'none', 'metadata',\n   *         or 'auto'.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload}\n   */\n  'preload',\n  /**\n   * Get the value of the `error` from the media element. `error` indicates any\n   * MediaError that may have occurred during playback. If error returns null there is no\n   * current error.\n   *\n   * @method Html5#error\n   * @return {MediaError|null}\n   *         The value of `error` from the media element. Will be `MediaError` if there\n   *         is a current error and null otherwise.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-error}\n   */\n  'error',\n  /**\n   * Get the value of `seeking` from the media element. `seeking` indicates whether the\n   * media is currently seeking to a new position or not.\n   *\n   * @method Html5#seeking\n   * @return {boolean}\n   *         - The value of `seeking` from the media element.\n   *         - True indicates that the media is currently seeking to a new position.\n   *         - False indicates that the media is not seeking to a new position at this time.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seeking}\n   */\n  'seeking',\n  /**\n   * Get the value of `seekable` from the media element. `seekable` returns a\n   * `TimeRange` object indicating ranges of time that can currently be `seeked` to.\n   *\n   * @method Html5#seekable\n   * @return {TimeRange}\n   *         The value of `seekable` from the media element. A `TimeRange` object\n   *         indicating the current ranges of time that can be seeked to.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seekable}\n   */\n  'seekable',\n  /**\n   * Get the value of `ended` from the media element. `ended` indicates whether\n   * the media has reached the end or not.\n   *\n   * @method Html5#ended\n   * @return {boolean}\n   *         - The value of `ended` from the media element.\n   *         - True indicates that the media has ended.\n   *         - False indicates that the media has not ended.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-ended}\n   */\n  'ended',\n  /**\n   * Get the value of `playbackRate` from the media element. `playbackRate` indicates\n   * the rate at which the media is currently playing back. Examples:\n   *   - if playbackRate is set to 2, media will play twice as fast.\n   *   - if playbackRate is set to 0.5, media will play half as fast.\n   *\n   * @method Html5#playbackRate\n   * @return {number}\n   *         The value of `playbackRate` from the media element. A number indicating\n   *         the current playback speed of the media, where 1 is normal speed.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n   */\n  'playbackRate',\n  /**\n   * Get the value of `defaultPlaybackRate` from the media element. `defaultPlaybackRate` indicates\n   * the rate at which the media is currently playing back. This value will not indicate the current\n   * `playbackRate` after playback has started, use {@link Html5#playbackRate} for that.\n   *\n   * Examples:\n   *   - if defaultPlaybackRate is set to 2, media will play twice as fast.\n   *   - if defaultPlaybackRate is set to 0.5, media will play half as fast.\n   *\n   * @method Html5.prototype.defaultPlaybackRate\n   * @return {number}\n   *         The value of `defaultPlaybackRate` from the media element. A number indicating\n   *         the current playback speed of the media, where 1 is normal speed.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n   */\n  'defaultPlaybackRate',\n  /**\n   * Get the value of `played` from the media element. `played` returns a `TimeRange`\n   * object representing points in the media timeline that have been played.\n   *\n   * @method Html5#played\n   * @return {TimeRange}\n   *         The value of `played` from the media element. A `TimeRange` object indicating\n   *         the ranges of time that have been played.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-played}\n   */\n  'played',\n  /**\n   * Get the value of `networkState` from the media element. `networkState` indicates\n   * the current network state. It returns an enumeration from the following list:\n   * - 0: NETWORK_EMPTY\n   * - 1: NETWORK_IDLE\n   * - 2: NETWORK_LOADING\n   * - 3: NETWORK_NO_SOURCE\n   *\n   * @method Html5#networkState\n   * @return {number}\n   *         The value of `networkState` from the media element. This will be a number\n   *         from the list in the description.\n   *\n   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-networkstate}\n   */\n  'networkState',\n  /**\n   * Get the value of `readyState` from the media element. `readyState` indicates\n   * the current state of the media element. It returns an enumeration from the\n   * following list:\n   * - 0: HAVE_NOTHING\n   * - 1: HAVE_METADATA\n   * - 2: HAVE_CURRENT_DATA\n   * - 3: HAVE_FUTURE_DATA\n   * - 4: HAVE_ENOUGH_DATA\n   *\n   * @method Html5#readyState\n   * @return {number}\n   *         The value of `readyState` from the media element. This will be a number\n   *         from the list in the description.\n   *\n   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#ready-states}\n   */\n  'readyState',\n  /**\n   * Get the value of `videoWidth` from the video element. `videoWidth` indicates\n   * the current width of the video in css pixels.\n   *\n   * @method Html5#videoWidth\n   * @return {number}\n   *         The value of `videoWidth` from the video element. This will be a number\n   *         in css pixels.\n   *\n   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-video-videowidth}\n   */\n  'videoWidth',\n  /**\n   * Get the value of `videoHeight` from the video element. `videoHeight` indicates\n   * the current height of the video in css pixels.\n   *\n   * @method Html5#videoHeight\n   * @return {number}\n   *         The value of `videoHeight` from the video element. This will be a number\n   *         in css pixels.\n   *\n   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-video-videowidth}\n   */\n  'videoHeight'].forEach(function (prop) {\n    Html5.prototype[prop] = function () {\n      return this.el_[prop];\n    };\n  }); // Wrap native properties with a setter in this format:\n  // set + toTitleCase(name)\n  // The list is as follows:\n  // setVolume, setSrc, setPoster, setPreload, setPlaybackRate, setDefaultPlaybackRate\n\n  [\n  /**\n   * Set the value of `volume` on the media element. `volume` indicates the current\n   * audio level as a percentage in decimal form. This means that 1 is 100%, 0.5 is 50%, and\n   * so on.\n   *\n   * @method Html5#setVolume\n   * @param {number} percentAsDecimal\n   *        The volume percent as a decimal. Valid range is from 0-1.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-a-volume}\n   */\n  'volume',\n  /**\n   * Set the value of `src` on the media element. `src` indicates the current\n   * {@link Tech~SourceObject} for the media.\n   *\n   * @method Html5#setSrc\n   * @param {Tech~SourceObject} src\n   *        The source object to set as the current source.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-src}\n   */\n  'src',\n  /**\n   * Set the value of `poster` on the media element. `poster` is the url to\n   * an image file that can/will be shown when no media data is available.\n   *\n   * @method Html5#setPoster\n   * @param {string} poster\n   *        The url to an image that should be used as the `poster` for the media\n   *        element.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-poster}\n   */\n  'poster',\n  /**\n   * Set the value of `preload` on the media element. `preload` indicates\n   * what should download before the media is interacted with. It can have the following\n   * values:\n   * - none: nothing should be downloaded\n   * - metadata: poster and the first few frames of the media may be downloaded to get\n   *   media dimensions and other metadata\n   * - auto: allow the media and metadata for the media to be downloaded before\n   *    interaction\n   *\n   * @method Html5#setPreload\n   * @param {string} preload\n   *         The value of `preload` to set on the media element. Must be 'none', 'metadata',\n   *         or 'auto'.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload}\n   */\n  'preload',\n  /**\n   * Set the value of `playbackRate` on the media element. `playbackRate` indicates\n   * the rate at which the media should play back. Examples:\n   *   - if playbackRate is set to 2, media will play twice as fast.\n   *   - if playbackRate is set to 0.5, media will play half as fast.\n   *\n   * @method Html5#setPlaybackRate\n   * @return {number}\n   *         The value of `playbackRate` from the media element. A number indicating\n   *         the current playback speed of the media, where 1 is normal speed.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n   */\n  'playbackRate',\n  /**\n   * Set the value of `defaultPlaybackRate` on the media element. `defaultPlaybackRate` indicates\n   * the rate at which the media should play back upon initial startup. Changing this value\n   * after a video has started will do nothing. Instead you should used {@link Html5#setPlaybackRate}.\n   *\n   * Example Values:\n   *   - if playbackRate is set to 2, media will play twice as fast.\n   *   - if playbackRate is set to 0.5, media will play half as fast.\n   *\n   * @method Html5.prototype.setDefaultPlaybackRate\n   * @return {number}\n   *         The value of `defaultPlaybackRate` from the media element. A number indicating\n   *         the current playback speed of the media, where 1 is normal speed.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultplaybackrate}\n   */\n  'defaultPlaybackRate'].forEach(function (prop) {\n    Html5.prototype['set' + toTitleCase(prop)] = function (v) {\n      this.el_[prop] = v;\n    };\n  }); // wrap native functions with a function\n  // The list is as follows:\n  // pause, load, play\n\n  [\n  /**\n   * A wrapper around the media elements `pause` function. This will call the `HTML5`\n   * media elements `pause` function.\n   *\n   * @method Html5#pause\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-pause}\n   */\n  'pause',\n  /**\n   * A wrapper around the media elements `load` function. This will call the `HTML5`s\n   * media element `load` function.\n   *\n   * @method Html5#load\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-load}\n   */\n  'load',\n  /**\n   * A wrapper around the media elements `play` function. This will call the `HTML5`s\n   * media element `play` function.\n   *\n   * @method Html5#play\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-play}\n   */\n  'play'].forEach(function (prop) {\n    Html5.prototype[prop] = function () {\n      return this.el_[prop]();\n    };\n  });\n  Tech.withSourceHandlers(Html5);\n  /**\n   * Native source handler for Html5, simply passes the source to the media element.\n   *\n   * @property {Tech~SourceObject} source\n   *        The source object\n   *\n   * @property {Html5} tech\n   *        The instance of the HTML5 tech.\n   */\n\n  Html5.nativeSourceHandler = {};\n  /**\n   * Check if the media element can play the given mime type.\n   *\n   * @param {string} type\n   *        The mimetype to check\n   *\n   * @return {string}\n   *         'probably', 'maybe', or '' (empty string)\n   */\n\n  Html5.nativeSourceHandler.canPlayType = function (type) {\n    // IE without MediaPlayer throws an error (#519)\n    try {\n      return Html5.TEST_VID.canPlayType(type);\n    } catch (e) {\n      return '';\n    }\n  };\n  /**\n   * Check if the media element can handle a source natively.\n   *\n   * @param {Tech~SourceObject} source\n   *         The source object\n   *\n   * @param {Object} [options]\n   *         Options to be passed to the tech.\n   *\n   * @return {string}\n   *         'probably', 'maybe', or '' (empty string).\n   */\n\n\n  Html5.nativeSourceHandler.canHandleSource = function (source, options) {\n    // If a type was provided we should rely on that\n    if (source.type) {\n      return Html5.nativeSourceHandler.canPlayType(source.type); // If no type, fall back to checking 'video/[EXTENSION]'\n    } else if (source.src) {\n      var ext = getFileExtension(source.src);\n      return Html5.nativeSourceHandler.canPlayType(\"video/\" + ext);\n    }\n\n    return '';\n  };\n  /**\n   * Pass the source to the native media element.\n   *\n   * @param {Tech~SourceObject} source\n   *        The source object\n   *\n   * @param {Html5} tech\n   *        The instance of the Html5 tech\n   *\n   * @param {Object} [options]\n   *        The options to pass to the source\n   */\n\n\n  Html5.nativeSourceHandler.handleSource = function (source, tech, options) {\n    tech.setSrc(source.src);\n  };\n  /**\n   * A noop for the native dispose function, as cleanup is not needed.\n   */\n\n\n  Html5.nativeSourceHandler.dispose = function () {}; // Register the native source handler\n\n\n  Html5.registerSourceHandler(Html5.nativeSourceHandler);\n  Tech.registerTech('Html5', Html5);\n\n  // on the player when they happen\n\n  var TECH_EVENTS_RETRIGGER = [\n  /**\n   * Fired while the user agent is downloading media data.\n   *\n   * @event Player#progress\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `progress` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechProgress_\n   * @fires Player#progress\n   * @listens Tech#progress\n   */\n  'progress',\n  /**\n   * Fires when the loading of an audio/video is aborted.\n   *\n   * @event Player#abort\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `abort` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechAbort_\n   * @fires Player#abort\n   * @listens Tech#abort\n   */\n  'abort',\n  /**\n   * Fires when the browser is intentionally not getting media data.\n   *\n   * @event Player#suspend\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `suspend` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechSuspend_\n   * @fires Player#suspend\n   * @listens Tech#suspend\n   */\n  'suspend',\n  /**\n   * Fires when the current playlist is empty.\n   *\n   * @event Player#emptied\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `emptied` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechEmptied_\n   * @fires Player#emptied\n   * @listens Tech#emptied\n   */\n  'emptied',\n  /**\n   * Fires when the browser is trying to get media data, but data is not available.\n   *\n   * @event Player#stalled\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `stalled` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechStalled_\n   * @fires Player#stalled\n   * @listens Tech#stalled\n   */\n  'stalled',\n  /**\n   * Fires when the browser has loaded meta data for the audio/video.\n   *\n   * @event Player#loadedmetadata\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `stalled` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechLoadedmetadata_\n   * @fires Player#loadedmetadata\n   * @listens Tech#loadedmetadata\n   */\n  'loadedmetadata',\n  /**\n   * Fires when the browser has loaded the current frame of the audio/video.\n   *\n   * @event Player#loadeddata\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `loadeddata` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechLoaddeddata_\n   * @fires Player#loadeddata\n   * @listens Tech#loadeddata\n   */\n  'loadeddata',\n  /**\n   * Fires when the current playback position has changed.\n   *\n   * @event Player#timeupdate\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `timeupdate` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechTimeUpdate_\n   * @fires Player#timeupdate\n   * @listens Tech#timeupdate\n   */\n  'timeupdate',\n  /**\n   * Fires when the video's intrinsic dimensions change\n   *\n   * @event Player#resize\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `resize` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechResize_\n   * @fires Player#resize\n   * @listens Tech#resize\n   */\n  'resize',\n  /**\n   * Fires when the volume has been changed\n   *\n   * @event Player#volumechange\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `volumechange` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechVolumechange_\n   * @fires Player#volumechange\n   * @listens Tech#volumechange\n   */\n  'volumechange',\n  /**\n   * Fires when the text track has been changed\n   *\n   * @event Player#texttrackchange\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `texttrackchange` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechTexttrackchange_\n   * @fires Player#texttrackchange\n   * @listens Tech#texttrackchange\n   */\n  'texttrackchange']; // events to queue when playback rate is zero\n  // this is a hash for the sole purpose of mapping non-camel-cased event names\n  // to camel-cased function names\n\n  var TECH_EVENTS_QUEUE = {\n    canplay: 'CanPlay',\n    canplaythrough: 'CanPlayThrough',\n    playing: 'Playing',\n    seeked: 'Seeked'\n  };\n  var BREAKPOINT_ORDER = ['tiny', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'huge'];\n  var BREAKPOINT_CLASSES = {}; // grep: vjs-layout-tiny\n  // grep: vjs-layout-x-small\n  // grep: vjs-layout-small\n  // grep: vjs-layout-medium\n  // grep: vjs-layout-large\n  // grep: vjs-layout-x-large\n  // grep: vjs-layout-huge\n\n  BREAKPOINT_ORDER.forEach(function (k) {\n    var v = k.charAt(0) === 'x' ? \"x-\" + k.substring(1) : k;\n    BREAKPOINT_CLASSES[k] = \"vjs-layout-\" + v;\n  });\n  var DEFAULT_BREAKPOINTS = {\n    tiny: 210,\n    xsmall: 320,\n    small: 425,\n    medium: 768,\n    large: 1440,\n    xlarge: 2560,\n    huge: Infinity\n  };\n  /**\n   * An instance of the `Player` class is created when any of the Video.js setup methods\n   * are used to initialize a video.\n   *\n   * After an instance has been created it can be accessed globally in two ways:\n   * 1. By calling `videojs('example_video_1');`\n   * 2. By using it directly via  `videojs.players.example_video_1;`\n   *\n   * @extends Component\n   */\n\n  var Player =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(Player, _Component);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Element} tag\n     *        The original video DOM element used for configuring options.\n     *\n     * @param {Object} [options]\n     *        Object of option names and values.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        Ready callback function.\n     */\n    function Player(tag, options, ready) {\n      var _this;\n\n      // Make sure tag ID exists\n      tag.id = tag.id || options.id || \"vjs_video_\" + newGUID(); // Set Options\n      // The options argument overrides options set in the video tag\n      // which overrides globally set options.\n      // This latter part coincides with the load order\n      // (tag must exist before Player)\n\n      options = assign(Player.getTagSettings(tag), options); // Delay the initialization of children because we need to set up\n      // player properties first, and can't use `this` before `super()`\n\n      options.initChildren = false; // Same with creating the element\n\n      options.createEl = false; // don't auto mixin the evented mixin\n\n      options.evented = false; // we don't want the player to report touch activity on itself\n      // see enableTouchActivity in Component\n\n      options.reportTouchActivity = false; // If language is not set, get the closest lang attribute\n\n      if (!options.language) {\n        if (typeof tag.closest === 'function') {\n          var closest = tag.closest('[lang]');\n\n          if (closest && closest.getAttribute) {\n            options.language = closest.getAttribute('lang');\n          }\n        } else {\n          var element = tag;\n\n          while (element && element.nodeType === 1) {\n            if (getAttributes(element).hasOwnProperty('lang')) {\n              options.language = element.getAttribute('lang');\n              break;\n            }\n\n            element = element.parentNode;\n          }\n        }\n      } // Run base component initializing with new options\n\n\n      _this = _Component.call(this, null, options, ready) || this; // Create bound methods for document listeners.\n\n      _this.boundDocumentFullscreenChange_ = bind(_assertThisInitialized(_this), _this.documentFullscreenChange_);\n      _this.boundFullWindowOnEscKey_ = bind(_assertThisInitialized(_this), _this.fullWindowOnEscKey); // create logger\n\n      _this.log = createLogger$1(_this.id_); // Hold our own reference to fullscreen api so it can be mocked in tests\n\n      _this.fsApi_ = FullscreenApi; // Tracks when a tech changes the poster\n\n      _this.isPosterFromTech_ = false; // Holds callback info that gets queued when playback rate is zero\n      // and a seek is happening\n\n      _this.queuedCallbacks_ = []; // Turn off API access because we're loading a new tech that might load asynchronously\n\n      _this.isReady_ = false; // Init state hasStarted_\n\n      _this.hasStarted_ = false; // Init state userActive_\n\n      _this.userActive_ = false; // if the global option object was accidentally blown away by\n      // someone, bail early with an informative error\n\n      if (!_this.options_ || !_this.options_.techOrder || !_this.options_.techOrder.length) {\n        throw new Error('No techOrder specified. Did you overwrite ' + 'videojs.options instead of just changing the ' + 'properties you want to override?');\n      } // Store the original tag used to set options\n\n\n      _this.tag = tag; // Store the tag attributes used to restore html5 element\n\n      _this.tagAttributes = tag && getAttributes(tag); // Update current language\n\n      _this.language(_this.options_.language); // Update Supported Languages\n\n\n      if (options.languages) {\n        // Normalise player option languages to lowercase\n        var languagesToLower = {};\n        Object.getOwnPropertyNames(options.languages).forEach(function (name) {\n          languagesToLower[name.toLowerCase()] = options.languages[name];\n        });\n        _this.languages_ = languagesToLower;\n      } else {\n        _this.languages_ = Player.prototype.options_.languages;\n      }\n\n      _this.resetCache_(); // Set poster\n\n\n      _this.poster_ = options.poster || ''; // Set controls\n\n      _this.controls_ = !!options.controls; // Original tag settings stored in options\n      // now remove immediately so native controls don't flash.\n      // May be turned back on by HTML5 tech if nativeControlsForTouch is true\n\n      tag.controls = false;\n      tag.removeAttribute('controls');\n      _this.changingSrc_ = false;\n      _this.playCallbacks_ = [];\n      _this.playTerminatedQueue_ = []; // the attribute overrides the option\n\n      if (tag.hasAttribute('autoplay')) {\n        _this.autoplay(true);\n      } else {\n        // otherwise use the setter to validate and\n        // set the correct value.\n        _this.autoplay(_this.options_.autoplay);\n      } // check plugins\n\n\n      if (options.plugins) {\n        Object.keys(options.plugins).forEach(function (name) {\n          if (typeof _this[name] !== 'function') {\n            throw new Error(\"plugin \\\"\" + name + \"\\\" does not exist\");\n          }\n        });\n      }\n      /*\n       * Store the internal state of scrubbing\n       *\n       * @private\n       * @return {Boolean} True if the user is scrubbing\n       */\n\n\n      _this.scrubbing_ = false;\n      _this.el_ = _this.createEl(); // Make this an evented object and use `el_` as its event bus.\n\n      evented(_assertThisInitialized(_this), {\n        eventBusKey: 'el_'\n      });\n\n      if (_this.fluid_) {\n        _this.on('playerreset', _this.updateStyleEl_);\n      } // We also want to pass the original player options to each component and plugin\n      // as well so they don't need to reach back into the player for options later.\n      // We also need to do another copy of this.options_ so we don't end up with\n      // an infinite loop.\n\n\n      var playerOptionsCopy = mergeOptions(_this.options_); // Load plugins\n\n      if (options.plugins) {\n        Object.keys(options.plugins).forEach(function (name) {\n          _this[name](options.plugins[name]);\n        });\n      }\n\n      _this.options_.playerOptions = playerOptionsCopy;\n      _this.middleware_ = [];\n\n      _this.initChildren(); // Set isAudio based on whether or not an audio tag was used\n\n\n      _this.isAudio(tag.nodeName.toLowerCase() === 'audio'); // Update controls className. Can't do this when the controls are initially\n      // set because the element doesn't exist yet.\n\n\n      if (_this.controls()) {\n        _this.addClass('vjs-controls-enabled');\n      } else {\n        _this.addClass('vjs-controls-disabled');\n      } // Set ARIA label and region role depending on player type\n\n\n      _this.el_.setAttribute('role', 'region');\n\n      if (_this.isAudio()) {\n        _this.el_.setAttribute('aria-label', _this.localize('Audio Player'));\n      } else {\n        _this.el_.setAttribute('aria-label', _this.localize('Video Player'));\n      }\n\n      if (_this.isAudio()) {\n        _this.addClass('vjs-audio');\n      }\n\n      if (_this.flexNotSupported_()) {\n        _this.addClass('vjs-no-flex');\n      } // TODO: Make this smarter. Toggle user state between touching/mousing\n      // using events, since devices can have both touch and mouse events.\n      // TODO: Make this check be performed again when the window switches between monitors\n      // (See https://github.com/videojs/video.js/issues/5683)\n\n\n      if (TOUCH_ENABLED) {\n        _this.addClass('vjs-touch-enabled');\n      } // iOS Safari has broken hover handling\n\n\n      if (!IS_IOS) {\n        _this.addClass('vjs-workinghover');\n      } // Make player easily findable by ID\n\n\n      Player.players[_this.id_] = _assertThisInitialized(_this); // Add a major version class to aid css in plugins\n\n      var majorVersion = version.split('.')[0];\n\n      _this.addClass(\"vjs-v\" + majorVersion); // When the player is first initialized, trigger activity so components\n      // like the control bar show themselves if needed\n\n\n      _this.userActive(true);\n\n      _this.reportUserActivity();\n\n      _this.one('play', _this.listenForUserActivity_);\n\n      _this.on('stageclick', _this.handleStageClick_);\n\n      _this.on('keydown', _this.handleKeyDown);\n\n      _this.breakpoints(_this.options_.breakpoints);\n\n      _this.responsive(_this.options_.responsive);\n\n      return _this;\n    }\n    /**\n     * Destroys the video player and does any necessary cleanup.\n     *\n     * This is especially helpful if you are dynamically adding and removing videos\n     * to/from the DOM.\n     *\n     * @fires Player#dispose\n     */\n\n\n    var _proto = Player.prototype;\n\n    _proto.dispose = function dispose() {\n      var _this2 = this;\n\n      /**\n       * Called when the player is being disposed of.\n       *\n       * @event Player#dispose\n       * @type {EventTarget~Event}\n       */\n      this.trigger('dispose'); // prevent dispose from being called twice\n\n      this.off('dispose'); // Make sure all player-specific document listeners are unbound. This is\n\n      off(document, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_);\n      off(document, 'keydown', this.boundFullWindowOnEscKey_);\n\n      if (this.styleEl_ && this.styleEl_.parentNode) {\n        this.styleEl_.parentNode.removeChild(this.styleEl_);\n        this.styleEl_ = null;\n      } // Kill reference to this player\n\n\n      Player.players[this.id_] = null;\n\n      if (this.tag && this.tag.player) {\n        this.tag.player = null;\n      }\n\n      if (this.el_ && this.el_.player) {\n        this.el_.player = null;\n      }\n\n      if (this.tech_) {\n        this.tech_.dispose();\n        this.isPosterFromTech_ = false;\n        this.poster_ = '';\n      }\n\n      if (this.playerElIngest_) {\n        this.playerElIngest_ = null;\n      }\n\n      if (this.tag) {\n        this.tag = null;\n      }\n\n      clearCacheForPlayer(this); // remove all event handlers for track lists\n      // all tracks and track listeners are removed on\n      // tech dispose\n\n      ALL.names.forEach(function (name) {\n        var props = ALL[name];\n\n        var list = _this2[props.getterName](); // if it is not a native list\n        // we have to manually remove event listeners\n\n\n        if (list && list.off) {\n          list.off();\n        }\n      }); // the actual .el_ is removed here\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Create the `Player`'s DOM element.\n     *\n     * @return {Element}\n     *         The DOM element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      var tag = this.tag;\n      var el;\n      var playerElIngest = this.playerElIngest_ = tag.parentNode && tag.parentNode.hasAttribute && tag.parentNode.hasAttribute('data-vjs-player');\n      var divEmbed = this.tag.tagName.toLowerCase() === 'video-js';\n\n      if (playerElIngest) {\n        el = this.el_ = tag.parentNode;\n      } else if (!divEmbed) {\n        el = this.el_ = _Component.prototype.createEl.call(this, 'div');\n      } // Copy over all the attributes from the tag, including ID and class\n      // ID will now reference player box, not the video tag\n\n\n      var attrs = getAttributes(tag);\n\n      if (divEmbed) {\n        el = this.el_ = tag;\n        tag = this.tag = document.createElement('video');\n\n        while (el.children.length) {\n          tag.appendChild(el.firstChild);\n        }\n\n        if (!hasClass(el, 'video-js')) {\n          addClass(el, 'video-js');\n        }\n\n        el.appendChild(tag);\n        playerElIngest = this.playerElIngest_ = el; // move properties over from our custom `video-js` element\n        // to our new `video` element. This will move things like\n        // `src` or `controls` that were set via js before the player\n        // was initialized.\n\n        Object.keys(el).forEach(function (k) {\n          tag[k] = el[k];\n        });\n      } // set tabindex to -1 to remove the video element from the focus order\n\n\n      tag.setAttribute('tabindex', '-1');\n      attrs.tabindex = '-1'; // Workaround for #4583 (JAWS+IE doesn't announce BPB or play button), and\n      // for the same issue with Chrome (on Windows) with JAWS.\n      // See https://github.com/FreedomScientific/VFO-standards-support/issues/78\n      // Note that we can't detect if JAWS is being used, but this ARIA attribute\n      //  doesn't change behavior of IE11 or Chrome if JAWS is not being used\n\n      if (IE_VERSION || IS_CHROME && IS_WINDOWS) {\n        tag.setAttribute('role', 'application');\n        attrs.role = 'application';\n      } // Remove width/height attrs from tag so CSS can make it 100% width/height\n\n\n      tag.removeAttribute('width');\n      tag.removeAttribute('height');\n\n      if ('width' in attrs) {\n        delete attrs.width;\n      }\n\n      if ('height' in attrs) {\n        delete attrs.height;\n      }\n\n      Object.getOwnPropertyNames(attrs).forEach(function (attr) {\n        // don't copy over the class attribute to the player element when we're in a div embed\n        // the class is already set up properly in the divEmbed case\n        // and we want to make sure that the `video-js` class doesn't get lost\n        if (!(divEmbed && attr === 'class')) {\n          el.setAttribute(attr, attrs[attr]);\n        }\n\n        if (divEmbed) {\n          tag.setAttribute(attr, attrs[attr]);\n        }\n      }); // Update tag id/class for use as HTML5 playback tech\n      // Might think we should do this after embedding in container so .vjs-tech class\n      // doesn't flash 100% width/height, but class only applies with .video-js parent\n\n      tag.playerId = tag.id;\n      tag.id += '_html5_api';\n      tag.className = 'vjs-tech'; // Make player findable on elements\n\n      tag.player = el.player = this; // Default state of video is paused\n\n      this.addClass('vjs-paused'); // Add a style element in the player that we'll use to set the width/height\n      // of the player in a way that's still overrideable by CSS, just like the\n      // video element\n\n      if (window$1.VIDEOJS_NO_DYNAMIC_STYLE !== true) {\n        this.styleEl_ = createStyleElement('vjs-styles-dimensions');\n        var defaultsStyleEl = $('.vjs-styles-defaults');\n        var head = $('head');\n        head.insertBefore(this.styleEl_, defaultsStyleEl ? defaultsStyleEl.nextSibling : head.firstChild);\n      }\n\n      this.fill_ = false;\n      this.fluid_ = false; // Pass in the width/height/aspectRatio options which will update the style el\n\n      this.width(this.options_.width);\n      this.height(this.options_.height);\n      this.fill(this.options_.fill);\n      this.fluid(this.options_.fluid);\n      this.aspectRatio(this.options_.aspectRatio); // Hide any links within the video/audio tag,\n      // because IE doesn't hide them completely from screen readers.\n\n      var links = tag.getElementsByTagName('a');\n\n      for (var i = 0; i < links.length; i++) {\n        var linkEl = links.item(i);\n        addClass(linkEl, 'vjs-hidden');\n        linkEl.setAttribute('hidden', 'hidden');\n      } // insertElFirst seems to cause the networkState to flicker from 3 to 2, so\n      // keep track of the original for later so we can know if the source originally failed\n\n\n      tag.initNetworkState_ = tag.networkState; // Wrap video tag in div (el/box) container\n\n      if (tag.parentNode && !playerElIngest) {\n        tag.parentNode.insertBefore(el, tag);\n      } // insert the tag as the first child of the player element\n      // then manually add it to the children array so that this.addChild\n      // will work properly for other components\n      //\n      // Breaks iPhone, fixed in HTML5 setup.\n\n\n      prependTo(tag, el);\n      this.children_.unshift(tag); // Set lang attr on player to ensure CSS :lang() in consistent with player\n      // if it's been set to something different to the doc\n\n      this.el_.setAttribute('lang', this.language_);\n      this.el_ = el;\n      return el;\n    }\n    /**\n     * A getter/setter for the `Player`'s width. Returns the player's configured value.\n     * To get the current width use `currentWidth()`.\n     *\n     * @param {number} [value]\n     *        The value to set the `Player`'s width to.\n     *\n     * @return {number}\n     *         The current width of the `Player` when getting.\n     */\n    ;\n\n    _proto.width = function width(value) {\n      return this.dimension('width', value);\n    }\n    /**\n     * A getter/setter for the `Player`'s height. Returns the player's configured value.\n     * To get the current height use `currentheight()`.\n     *\n     * @param {number} [value]\n     *        The value to set the `Player`'s heigth to.\n     *\n     * @return {number}\n     *         The current height of the `Player` when getting.\n     */\n    ;\n\n    _proto.height = function height(value) {\n      return this.dimension('height', value);\n    }\n    /**\n     * A getter/setter for the `Player`'s width & height.\n     *\n     * @param {string} dimension\n     *        This string can be:\n     *        - 'width'\n     *        - 'height'\n     *\n     * @param {number} [value]\n     *        Value for dimension specified in the first argument.\n     *\n     * @return {number}\n     *         The dimension arguments value when getting (width/height).\n     */\n    ;\n\n    _proto.dimension = function dimension(_dimension, value) {\n      var privDimension = _dimension + '_';\n\n      if (value === undefined) {\n        return this[privDimension] || 0;\n      }\n\n      if (value === '') {\n        // If an empty string is given, reset the dimension to be automatic\n        this[privDimension] = undefined;\n        this.updateStyleEl_();\n        return;\n      }\n\n      var parsedVal = parseFloat(value);\n\n      if (isNaN(parsedVal)) {\n        log.error(\"Improper value \\\"\" + value + \"\\\" supplied for for \" + _dimension);\n        return;\n      }\n\n      this[privDimension] = parsedVal;\n      this.updateStyleEl_();\n    }\n    /**\n     * A getter/setter/toggler for the vjs-fluid `className` on the `Player`.\n     *\n     * Turning this on will turn off fill mode.\n     *\n     * @param {boolean} [bool]\n     *        - A value of true adds the class.\n     *        - A value of false removes the class.\n     *        - No value will be a getter.\n     *\n     * @return {boolean|undefined}\n     *         - The value of fluid when getting.\n     *         - `undefined` when setting.\n     */\n    ;\n\n    _proto.fluid = function fluid(bool) {\n      if (bool === undefined) {\n        return !!this.fluid_;\n      }\n\n      this.fluid_ = !!bool;\n\n      if (isEvented(this)) {\n        this.off('playerreset', this.updateStyleEl_);\n      }\n\n      if (bool) {\n        this.addClass('vjs-fluid');\n        this.fill(false);\n        addEventedCallback(function () {\n          this.on('playerreset', this.updateStyleEl_);\n        });\n      } else {\n        this.removeClass('vjs-fluid');\n      }\n\n      this.updateStyleEl_();\n    }\n    /**\n     * A getter/setter/toggler for the vjs-fill `className` on the `Player`.\n     *\n     * Turning this on will turn off fluid mode.\n     *\n     * @param {boolean} [bool]\n     *        - A value of true adds the class.\n     *        - A value of false removes the class.\n     *        - No value will be a getter.\n     *\n     * @return {boolean|undefined}\n     *         - The value of fluid when getting.\n     *         - `undefined` when setting.\n     */\n    ;\n\n    _proto.fill = function fill(bool) {\n      if (bool === undefined) {\n        return !!this.fill_;\n      }\n\n      this.fill_ = !!bool;\n\n      if (bool) {\n        this.addClass('vjs-fill');\n        this.fluid(false);\n      } else {\n        this.removeClass('vjs-fill');\n      }\n    }\n    /**\n     * Get/Set the aspect ratio\n     *\n     * @param {string} [ratio]\n     *        Aspect ratio for player\n     *\n     * @return {string|undefined}\n     *         returns the current aspect ratio when getting\n     */\n\n    /**\n     * A getter/setter for the `Player`'s aspect ratio.\n     *\n     * @param {string} [ratio]\n     *        The value to set the `Player's aspect ratio to.\n     *\n     * @return {string|undefined}\n     *         - The current aspect ratio of the `Player` when getting.\n     *         - undefined when setting\n     */\n    ;\n\n    _proto.aspectRatio = function aspectRatio(ratio) {\n      if (ratio === undefined) {\n        return this.aspectRatio_;\n      } // Check for width:height format\n\n\n      if (!/^\\d+\\:\\d+$/.test(ratio)) {\n        throw new Error('Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.');\n      }\n\n      this.aspectRatio_ = ratio; // We're assuming if you set an aspect ratio you want fluid mode,\n      // because in fixed mode you could calculate width and height yourself.\n\n      this.fluid(true);\n      this.updateStyleEl_();\n    }\n    /**\n     * Update styles of the `Player` element (height, width and aspect ratio).\n     *\n     * @private\n     * @listens Tech#loadedmetadata\n     */\n    ;\n\n    _proto.updateStyleEl_ = function updateStyleEl_() {\n      if (window$1.VIDEOJS_NO_DYNAMIC_STYLE === true) {\n        var _width = typeof this.width_ === 'number' ? this.width_ : this.options_.width;\n\n        var _height = typeof this.height_ === 'number' ? this.height_ : this.options_.height;\n\n        var techEl = this.tech_ && this.tech_.el();\n\n        if (techEl) {\n          if (_width >= 0) {\n            techEl.width = _width;\n          }\n\n          if (_height >= 0) {\n            techEl.height = _height;\n          }\n        }\n\n        return;\n      }\n\n      var width;\n      var height;\n      var aspectRatio;\n      var idClass; // The aspect ratio is either used directly or to calculate width and height.\n\n      if (this.aspectRatio_ !== undefined && this.aspectRatio_ !== 'auto') {\n        // Use any aspectRatio that's been specifically set\n        aspectRatio = this.aspectRatio_;\n      } else if (this.videoWidth() > 0) {\n        // Otherwise try to get the aspect ratio from the video metadata\n        aspectRatio = this.videoWidth() + ':' + this.videoHeight();\n      } else {\n        // Or use a default. The video element's is 2:1, but 16:9 is more common.\n        aspectRatio = '16:9';\n      } // Get the ratio as a decimal we can use to calculate dimensions\n\n\n      var ratioParts = aspectRatio.split(':');\n      var ratioMultiplier = ratioParts[1] / ratioParts[0];\n\n      if (this.width_ !== undefined) {\n        // Use any width that's been specifically set\n        width = this.width_;\n      } else if (this.height_ !== undefined) {\n        // Or calulate the width from the aspect ratio if a height has been set\n        width = this.height_ / ratioMultiplier;\n      } else {\n        // Or use the video's metadata, or use the video el's default of 300\n        width = this.videoWidth() || 300;\n      }\n\n      if (this.height_ !== undefined) {\n        // Use any height that's been specifically set\n        height = this.height_;\n      } else {\n        // Otherwise calculate the height from the ratio and the width\n        height = width * ratioMultiplier;\n      } // Ensure the CSS class is valid by starting with an alpha character\n\n\n      if (/^[^a-zA-Z]/.test(this.id())) {\n        idClass = 'dimensions-' + this.id();\n      } else {\n        idClass = this.id() + '-dimensions';\n      } // Ensure the right class is still on the player for the style element\n\n\n      this.addClass(idClass);\n      setTextContent(this.styleEl_, \"\\n      .\" + idClass + \" {\\n        width: \" + width + \"px;\\n        height: \" + height + \"px;\\n      }\\n\\n      .\" + idClass + \".vjs-fluid {\\n        padding-top: \" + ratioMultiplier * 100 + \"%;\\n      }\\n    \");\n    }\n    /**\n     * Load/Create an instance of playback {@link Tech} including element\n     * and API methods. Then append the `Tech` element in `Player` as a child.\n     *\n     * @param {string} techName\n     *        name of the playback technology\n     *\n     * @param {string} source\n     *        video source\n     *\n     * @private\n     */\n    ;\n\n    _proto.loadTech_ = function loadTech_(techName, source) {\n      var _this3 = this;\n\n      // Pause and remove current playback technology\n      if (this.tech_) {\n        this.unloadTech_();\n      }\n\n      var titleTechName = toTitleCase(techName);\n      var camelTechName = techName.charAt(0).toLowerCase() + techName.slice(1); // get rid of the HTML5 video tag as soon as we are using another tech\n\n      if (titleTechName !== 'Html5' && this.tag) {\n        Tech.getTech('Html5').disposeMediaElement(this.tag);\n        this.tag.player = null;\n        this.tag = null;\n      }\n\n      this.techName_ = titleTechName; // Turn off API access because we're loading a new tech that might load asynchronously\n\n      this.isReady_ = false; // if autoplay is a string we pass false to the tech\n      // because the player is going to handle autoplay on `loadstart`\n\n      var autoplay = typeof this.autoplay() === 'string' ? false : this.autoplay(); // Grab tech-specific options from player options and add source and parent element to use.\n\n      var techOptions = {\n        source: source,\n        autoplay: autoplay,\n        'nativeControlsForTouch': this.options_.nativeControlsForTouch,\n        'playerId': this.id(),\n        'techId': this.id() + \"_\" + camelTechName + \"_api\",\n        'playsinline': this.options_.playsinline,\n        'preload': this.options_.preload,\n        'loop': this.options_.loop,\n        'muted': this.options_.muted,\n        'poster': this.poster(),\n        'language': this.language(),\n        'playerElIngest': this.playerElIngest_ || false,\n        'vtt.js': this.options_['vtt.js'],\n        'canOverridePoster': !!this.options_.techCanOverridePoster,\n        'enableSourceset': this.options_.enableSourceset,\n        'Promise': this.options_.Promise\n      };\n      ALL.names.forEach(function (name) {\n        var props = ALL[name];\n        techOptions[props.getterName] = _this3[props.privateName];\n      });\n      assign(techOptions, this.options_[titleTechName]);\n      assign(techOptions, this.options_[camelTechName]);\n      assign(techOptions, this.options_[techName.toLowerCase()]);\n\n      if (this.tag) {\n        techOptions.tag = this.tag;\n      }\n\n      if (source && source.src === this.cache_.src && this.cache_.currentTime > 0) {\n        techOptions.startTime = this.cache_.currentTime;\n      } // Initialize tech instance\n\n\n      var TechClass = Tech.getTech(techName);\n\n      if (!TechClass) {\n        throw new Error(\"No Tech named '\" + titleTechName + \"' exists! '\" + titleTechName + \"' should be registered using videojs.registerTech()'\");\n      }\n\n      this.tech_ = new TechClass(techOptions); // player.triggerReady is always async, so don't need this to be async\n\n      this.tech_.ready(bind(this, this.handleTechReady_), true);\n      textTrackConverter.jsonToTextTracks(this.textTracksJson_ || [], this.tech_); // Listen to all HTML5-defined events and trigger them on the player\n\n      TECH_EVENTS_RETRIGGER.forEach(function (event) {\n        _this3.on(_this3.tech_, event, _this3[\"handleTech\" + toTitleCase(event) + \"_\"]);\n      });\n      Object.keys(TECH_EVENTS_QUEUE).forEach(function (event) {\n        _this3.on(_this3.tech_, event, function (eventObj) {\n          if (_this3.tech_.playbackRate() === 0 && _this3.tech_.seeking()) {\n            _this3.queuedCallbacks_.push({\n              callback: _this3[\"handleTech\" + TECH_EVENTS_QUEUE[event] + \"_\"].bind(_this3),\n              event: eventObj\n            });\n\n            return;\n          }\n\n          _this3[\"handleTech\" + TECH_EVENTS_QUEUE[event] + \"_\"](eventObj);\n        });\n      });\n      this.on(this.tech_, 'loadstart', this.handleTechLoadStart_);\n      this.on(this.tech_, 'sourceset', this.handleTechSourceset_);\n      this.on(this.tech_, 'waiting', this.handleTechWaiting_);\n      this.on(this.tech_, 'ended', this.handleTechEnded_);\n      this.on(this.tech_, 'seeking', this.handleTechSeeking_);\n      this.on(this.tech_, 'play', this.handleTechPlay_);\n      this.on(this.tech_, 'firstplay', this.handleTechFirstPlay_);\n      this.on(this.tech_, 'pause', this.handleTechPause_);\n      this.on(this.tech_, 'durationchange', this.handleTechDurationChange_);\n      this.on(this.tech_, 'fullscreenchange', this.handleTechFullscreenChange_);\n      this.on(this.tech_, 'enterpictureinpicture', this.handleTechEnterPictureInPicture_);\n      this.on(this.tech_, 'leavepictureinpicture', this.handleTechLeavePictureInPicture_);\n      this.on(this.tech_, 'error', this.handleTechError_);\n      this.on(this.tech_, 'loadedmetadata', this.updateStyleEl_);\n      this.on(this.tech_, 'posterchange', this.handleTechPosterChange_);\n      this.on(this.tech_, 'textdata', this.handleTechTextData_);\n      this.on(this.tech_, 'ratechange', this.handleTechRateChange_);\n      this.usingNativeControls(this.techGet_('controls'));\n\n      if (this.controls() && !this.usingNativeControls()) {\n        this.addTechControlsListeners_();\n      } // Add the tech element in the DOM if it was not already there\n      // Make sure to not insert the original video element if using Html5\n\n\n      if (this.tech_.el().parentNode !== this.el() && (titleTechName !== 'Html5' || !this.tag)) {\n        prependTo(this.tech_.el(), this.el());\n      } // Get rid of the original video tag reference after the first tech is loaded\n\n\n      if (this.tag) {\n        this.tag.player = null;\n        this.tag = null;\n      }\n    }\n    /**\n     * Unload and dispose of the current playback {@link Tech}.\n     *\n     * @private\n     */\n    ;\n\n    _proto.unloadTech_ = function unloadTech_() {\n      var _this4 = this;\n\n      // Save the current text tracks so that we can reuse the same text tracks with the next tech\n      ALL.names.forEach(function (name) {\n        var props = ALL[name];\n        _this4[props.privateName] = _this4[props.getterName]();\n      });\n      this.textTracksJson_ = textTrackConverter.textTracksToJson(this.tech_);\n      this.isReady_ = false;\n      this.tech_.dispose();\n      this.tech_ = false;\n\n      if (this.isPosterFromTech_) {\n        this.poster_ = '';\n        this.trigger('posterchange');\n      }\n\n      this.isPosterFromTech_ = false;\n    }\n    /**\n     * Return a reference to the current {@link Tech}.\n     * It will print a warning by default about the danger of using the tech directly\n     * but any argument that is passed in will silence the warning.\n     *\n     * @param {*} [safety]\n     *        Anything passed in to silence the warning\n     *\n     * @return {Tech}\n     *         The Tech\n     */\n    ;\n\n    _proto.tech = function tech(safety) {\n      if (safety === undefined) {\n        log.warn('Using the tech directly can be dangerous. I hope you know what you\\'re doing.\\n' + 'See https://github.com/videojs/video.js/issues/2617 for more info.\\n');\n      }\n\n      return this.tech_;\n    }\n    /**\n     * Set up click and touch listeners for the playback element\n     *\n     * - On desktops: a click on the video itself will toggle playback\n     * - On mobile devices: a click on the video toggles controls\n     *   which is done by toggling the user state between active and\n     *   inactive\n     * - A tap can signal that a user has become active or has become inactive\n     *   e.g. a quick tap on an iPhone movie should reveal the controls. Another\n     *   quick tap should hide them again (signaling the user is in an inactive\n     *   viewing state)\n     * - In addition to this, we still want the user to be considered inactive after\n     *   a few seconds of inactivity.\n     *\n     * > Note: the only part of iOS interaction we can't mimic with this setup\n     * is a touch and hold on the video element counting as activity in order to\n     * keep the controls showing, but that shouldn't be an issue. A touch and hold\n     * on any controls will still keep the user active\n     *\n     * @private\n     */\n    ;\n\n    _proto.addTechControlsListeners_ = function addTechControlsListeners_() {\n      // Make sure to remove all the previous listeners in case we are called multiple times.\n      this.removeTechControlsListeners_(); // Some browsers (Chrome & IE) don't trigger a click on a flash swf, but do\n      // trigger mousedown/up.\n      // http://stackoverflow.com/questions/1444562/javascript-onclick-event-over-flash-object\n      // Any touch events are set to block the mousedown event from happening\n\n      this.on(this.tech_, 'mouseup', this.handleTechClick_);\n      this.on(this.tech_, 'dblclick', this.handleTechDoubleClick_); // If the controls were hidden we don't want that to change without a tap event\n      // so we'll check if the controls were already showing before reporting user\n      // activity\n\n      this.on(this.tech_, 'touchstart', this.handleTechTouchStart_);\n      this.on(this.tech_, 'touchmove', this.handleTechTouchMove_);\n      this.on(this.tech_, 'touchend', this.handleTechTouchEnd_); // The tap listener needs to come after the touchend listener because the tap\n      // listener cancels out any reportedUserActivity when setting userActive(false)\n\n      this.on(this.tech_, 'tap', this.handleTechTap_);\n    }\n    /**\n     * Remove the listeners used for click and tap controls. This is needed for\n     * toggling to controls disabled, where a tap/touch should do nothing.\n     *\n     * @private\n     */\n    ;\n\n    _proto.removeTechControlsListeners_ = function removeTechControlsListeners_() {\n      // We don't want to just use `this.off()` because there might be other needed\n      // listeners added by techs that extend this.\n      this.off(this.tech_, 'tap', this.handleTechTap_);\n      this.off(this.tech_, 'touchstart', this.handleTechTouchStart_);\n      this.off(this.tech_, 'touchmove', this.handleTechTouchMove_);\n      this.off(this.tech_, 'touchend', this.handleTechTouchEnd_);\n      this.off(this.tech_, 'mouseup', this.handleTechClick_);\n      this.off(this.tech_, 'dblclick', this.handleTechDoubleClick_);\n    }\n    /**\n     * Player waits for the tech to be ready\n     *\n     * @private\n     */\n    ;\n\n    _proto.handleTechReady_ = function handleTechReady_() {\n      this.triggerReady(); // Keep the same volume as before\n\n      if (this.cache_.volume) {\n        this.techCall_('setVolume', this.cache_.volume);\n      } // Look if the tech found a higher resolution poster while loading\n\n\n      this.handleTechPosterChange_(); // Update the duration if available\n\n      this.handleTechDurationChange_();\n    }\n    /**\n     * Retrigger the `loadstart` event that was triggered by the {@link Tech}. This\n     * function will also trigger {@link Player#firstplay} if it is the first loadstart\n     * for a video.\n     *\n     * @fires Player#loadstart\n     * @fires Player#firstplay\n     * @listens Tech#loadstart\n     * @private\n     */\n    ;\n\n    _proto.handleTechLoadStart_ = function handleTechLoadStart_() {\n      // TODO: Update to use `emptied` event instead. See #1277.\n      this.removeClass('vjs-ended');\n      this.removeClass('vjs-seeking'); // reset the error state\n\n      this.error(null); // Update the duration\n\n      this.handleTechDurationChange_(); // If it's already playing we want to trigger a firstplay event now.\n      // The firstplay event relies on both the play and loadstart events\n      // which can happen in any order for a new source\n\n      if (!this.paused()) {\n        /**\n         * Fired when the user agent begins looking for media data\n         *\n         * @event Player#loadstart\n         * @type {EventTarget~Event}\n         */\n        this.trigger('loadstart');\n        this.trigger('firstplay');\n      } else {\n        // reset the hasStarted state\n        this.hasStarted(false);\n        this.trigger('loadstart');\n      } // autoplay happens after loadstart for the browser,\n      // so we mimic that behavior\n\n\n      this.manualAutoplay_(this.autoplay());\n    }\n    /**\n     * Handle autoplay string values, rather than the typical boolean\n     * values that should be handled by the tech. Note that this is not\n     * part of any specification. Valid values and what they do can be\n     * found on the autoplay getter at Player#autoplay()\n     */\n    ;\n\n    _proto.manualAutoplay_ = function manualAutoplay_(type) {\n      var _this5 = this;\n\n      if (!this.tech_ || typeof type !== 'string') {\n        return;\n      }\n\n      var muted = function muted() {\n        var previouslyMuted = _this5.muted();\n\n        _this5.muted(true);\n\n        var restoreMuted = function restoreMuted() {\n          _this5.muted(previouslyMuted);\n        }; // restore muted on play terminatation\n\n\n        _this5.playTerminatedQueue_.push(restoreMuted);\n\n        var mutedPromise = _this5.play();\n\n        if (!isPromise(mutedPromise)) {\n          return;\n        }\n\n        return mutedPromise[\"catch\"](restoreMuted);\n      };\n\n      var promise; // if muted defaults to true\n      // the only thing we can do is call play\n\n      if (type === 'any' && this.muted() !== true) {\n        promise = this.play();\n\n        if (isPromise(promise)) {\n          promise = promise[\"catch\"](muted);\n        }\n      } else if (type === 'muted' && this.muted() !== true) {\n        promise = muted();\n      } else {\n        promise = this.play();\n      }\n\n      if (!isPromise(promise)) {\n        return;\n      }\n\n      return promise.then(function () {\n        _this5.trigger({\n          type: 'autoplay-success',\n          autoplay: type\n        });\n      })[\"catch\"](function (e) {\n        _this5.trigger({\n          type: 'autoplay-failure',\n          autoplay: type\n        });\n      });\n    }\n    /**\n     * Update the internal source caches so that we return the correct source from\n     * `src()`, `currentSource()`, and `currentSources()`.\n     *\n     * > Note: `currentSources` will not be updated if the source that is passed in exists\n     *         in the current `currentSources` cache.\n     *\n     *\n     * @param {Tech~SourceObject} srcObj\n     *        A string or object source to update our caches to.\n     */\n    ;\n\n    _proto.updateSourceCaches_ = function updateSourceCaches_(srcObj) {\n      if (srcObj === void 0) {\n        srcObj = '';\n      }\n\n      var src = srcObj;\n      var type = '';\n\n      if (typeof src !== 'string') {\n        src = srcObj.src;\n        type = srcObj.type;\n      } // make sure all the caches are set to default values\n      // to prevent null checking\n\n\n      this.cache_.source = this.cache_.source || {};\n      this.cache_.sources = this.cache_.sources || []; // try to get the type of the src that was passed in\n\n      if (src && !type) {\n        type = findMimetype(this, src);\n      } // update `currentSource` cache always\n\n\n      this.cache_.source = mergeOptions({}, srcObj, {\n        src: src,\n        type: type\n      });\n      var matchingSources = this.cache_.sources.filter(function (s) {\n        return s.src && s.src === src;\n      });\n      var sourceElSources = [];\n      var sourceEls = this.$$('source');\n      var matchingSourceEls = [];\n\n      for (var i = 0; i < sourceEls.length; i++) {\n        var sourceObj = getAttributes(sourceEls[i]);\n        sourceElSources.push(sourceObj);\n\n        if (sourceObj.src && sourceObj.src === src) {\n          matchingSourceEls.push(sourceObj.src);\n        }\n      } // if we have matching source els but not matching sources\n      // the current source cache is not up to date\n\n\n      if (matchingSourceEls.length && !matchingSources.length) {\n        this.cache_.sources = sourceElSources; // if we don't have matching source or source els set the\n        // sources cache to the `currentSource` cache\n      } else if (!matchingSources.length) {\n        this.cache_.sources = [this.cache_.source];\n      } // update the tech `src` cache\n\n\n      this.cache_.src = src;\n    }\n    /**\n     * *EXPERIMENTAL* Fired when the source is set or changed on the {@link Tech}\n     * causing the media element to reload.\n     *\n     * It will fire for the initial source and each subsequent source.\n     * This event is a custom event from Video.js and is triggered by the {@link Tech}.\n     *\n     * The event object for this event contains a `src` property that will contain the source\n     * that was available when the event was triggered. This is generally only necessary if Video.js\n     * is switching techs while the source was being changed.\n     *\n     * It is also fired when `load` is called on the player (or media element)\n     * because the {@link https://html.spec.whatwg.org/multipage/media.html#dom-media-load|specification for `load`}\n     * says that the resource selection algorithm needs to be aborted and restarted.\n     * In this case, it is very likely that the `src` property will be set to the\n     * empty string `\"\"` to indicate we do not know what the source will be but\n     * that it is changing.\n     *\n     * *This event is currently still experimental and may change in minor releases.*\n     * __To use this, pass `enableSourceset` option to the player.__\n     *\n     * @event Player#sourceset\n     * @type {EventTarget~Event}\n     * @prop {string} src\n     *                The source url available when the `sourceset` was triggered.\n     *                It will be an empty string if we cannot know what the source is\n     *                but know that the source will change.\n     */\n\n    /**\n     * Retrigger the `sourceset` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#sourceset\n     * @listens Tech#sourceset\n     * @private\n     */\n    ;\n\n    _proto.handleTechSourceset_ = function handleTechSourceset_(event) {\n      var _this6 = this;\n\n      // only update the source cache when the source\n      // was not updated using the player api\n      if (!this.changingSrc_) {\n        var updateSourceCaches = function updateSourceCaches(src) {\n          return _this6.updateSourceCaches_(src);\n        };\n\n        var playerSrc = this.currentSource().src;\n        var eventSrc = event.src; // if we have a playerSrc that is not a blob, and a tech src that is a blob\n\n        if (playerSrc && !/^blob:/.test(playerSrc) && /^blob:/.test(eventSrc)) {\n          // if both the tech source and the player source were updated we assume\n          // something like @videojs/http-streaming did the sourceset and skip updating the source cache.\n          if (!this.lastSource_ || this.lastSource_.tech !== eventSrc && this.lastSource_.player !== playerSrc) {\n            updateSourceCaches = function updateSourceCaches() {};\n          }\n        } // update the source to the intial source right away\n        // in some cases this will be empty string\n\n\n        updateSourceCaches(eventSrc); // if the `sourceset` `src` was an empty string\n        // wait for a `loadstart` to update the cache to `currentSrc`.\n        // If a sourceset happens before a `loadstart`, we reset the state\n\n        if (!event.src) {\n          this.tech_.any(['sourceset', 'loadstart'], function (e) {\n            // if a sourceset happens before a `loadstart` there\n            // is nothing to do as this `handleTechSourceset_`\n            // will be called again and this will be handled there.\n            if (e.type === 'sourceset') {\n              return;\n            }\n\n            var techSrc = _this6.techGet('currentSrc');\n\n            _this6.lastSource_.tech = techSrc;\n\n            _this6.updateSourceCaches_(techSrc);\n          });\n        }\n      }\n\n      this.lastSource_ = {\n        player: this.currentSource().src,\n        tech: event.src\n      };\n      this.trigger({\n        src: event.src,\n        type: 'sourceset'\n      });\n    }\n    /**\n     * Add/remove the vjs-has-started class\n     *\n     * @fires Player#firstplay\n     *\n     * @param {boolean} request\n     *        - true: adds the class\n     *        - false: remove the class\n     *\n     * @return {boolean}\n     *         the boolean value of hasStarted_\n     */\n    ;\n\n    _proto.hasStarted = function hasStarted(request) {\n      if (request === undefined) {\n        // act as getter, if we have no request to change\n        return this.hasStarted_;\n      }\n\n      if (request === this.hasStarted_) {\n        return;\n      }\n\n      this.hasStarted_ = request;\n\n      if (this.hasStarted_) {\n        this.addClass('vjs-has-started');\n        this.trigger('firstplay');\n      } else {\n        this.removeClass('vjs-has-started');\n      }\n    }\n    /**\n     * Fired whenever the media begins or resumes playback\n     *\n     * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play}\n     * @fires Player#play\n     * @listens Tech#play\n     * @private\n     */\n    ;\n\n    _proto.handleTechPlay_ = function handleTechPlay_() {\n      this.removeClass('vjs-ended');\n      this.removeClass('vjs-paused');\n      this.addClass('vjs-playing'); // hide the poster when the user hits play\n\n      this.hasStarted(true);\n      /**\n       * Triggered whenever an {@link Tech#play} event happens. Indicates that\n       * playback has started or resumed.\n       *\n       * @event Player#play\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('play');\n    }\n    /**\n     * Retrigger the `ratechange` event that was triggered by the {@link Tech}.\n     *\n     * If there were any events queued while the playback rate was zero, fire\n     * those events now.\n     *\n     * @private\n     * @method Player#handleTechRateChange_\n     * @fires Player#ratechange\n     * @listens Tech#ratechange\n     */\n    ;\n\n    _proto.handleTechRateChange_ = function handleTechRateChange_() {\n      if (this.tech_.playbackRate() > 0 && this.cache_.lastPlaybackRate === 0) {\n        this.queuedCallbacks_.forEach(function (queued) {\n          return queued.callback(queued.event);\n        });\n        this.queuedCallbacks_ = [];\n      }\n\n      this.cache_.lastPlaybackRate = this.tech_.playbackRate();\n      /**\n       * Fires when the playing speed of the audio/video is changed\n       *\n       * @event Player#ratechange\n       * @type {event}\n       */\n\n      this.trigger('ratechange');\n    }\n    /**\n     * Retrigger the `waiting` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#waiting\n     * @listens Tech#waiting\n     * @private\n     */\n    ;\n\n    _proto.handleTechWaiting_ = function handleTechWaiting_() {\n      var _this7 = this;\n\n      this.addClass('vjs-waiting');\n      /**\n       * A readyState change on the DOM element has caused playback to stop.\n       *\n       * @event Player#waiting\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('waiting'); // Browsers may emit a timeupdate event after a waiting event. In order to prevent\n      // premature removal of the waiting class, wait for the time to change.\n\n      var timeWhenWaiting = this.currentTime();\n\n      var timeUpdateListener = function timeUpdateListener() {\n        if (timeWhenWaiting !== _this7.currentTime()) {\n          _this7.removeClass('vjs-waiting');\n\n          _this7.off('timeupdate', timeUpdateListener);\n        }\n      };\n\n      this.on('timeupdate', timeUpdateListener);\n    }\n    /**\n     * Retrigger the `canplay` event that was triggered by the {@link Tech}.\n     * > Note: This is not consistent between browsers. See #1351\n     *\n     * @fires Player#canplay\n     * @listens Tech#canplay\n     * @private\n     */\n    ;\n\n    _proto.handleTechCanPlay_ = function handleTechCanPlay_() {\n      this.removeClass('vjs-waiting');\n      /**\n       * The media has a readyState of HAVE_FUTURE_DATA or greater.\n       *\n       * @event Player#canplay\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('canplay');\n    }\n    /**\n     * Retrigger the `canplaythrough` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#canplaythrough\n     * @listens Tech#canplaythrough\n     * @private\n     */\n    ;\n\n    _proto.handleTechCanPlayThrough_ = function handleTechCanPlayThrough_() {\n      this.removeClass('vjs-waiting');\n      /**\n       * The media has a readyState of HAVE_ENOUGH_DATA or greater. This means that the\n       * entire media file can be played without buffering.\n       *\n       * @event Player#canplaythrough\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('canplaythrough');\n    }\n    /**\n     * Retrigger the `playing` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#playing\n     * @listens Tech#playing\n     * @private\n     */\n    ;\n\n    _proto.handleTechPlaying_ = function handleTechPlaying_() {\n      this.removeClass('vjs-waiting');\n      /**\n       * The media is no longer blocked from playback, and has started playing.\n       *\n       * @event Player#playing\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('playing');\n    }\n    /**\n     * Retrigger the `seeking` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#seeking\n     * @listens Tech#seeking\n     * @private\n     */\n    ;\n\n    _proto.handleTechSeeking_ = function handleTechSeeking_() {\n      this.addClass('vjs-seeking');\n      /**\n       * Fired whenever the player is jumping to a new time\n       *\n       * @event Player#seeking\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('seeking');\n    }\n    /**\n     * Retrigger the `seeked` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#seeked\n     * @listens Tech#seeked\n     * @private\n     */\n    ;\n\n    _proto.handleTechSeeked_ = function handleTechSeeked_() {\n      this.removeClass('vjs-seeking');\n      this.removeClass('vjs-ended');\n      /**\n       * Fired when the player has finished jumping to a new time\n       *\n       * @event Player#seeked\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('seeked');\n    }\n    /**\n     * Retrigger the `firstplay` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#firstplay\n     * @listens Tech#firstplay\n     * @deprecated As of 6.0 firstplay event is deprecated.\n     *             As of 6.0 passing the `starttime` option to the player and the firstplay event are deprecated.\n     * @private\n     */\n    ;\n\n    _proto.handleTechFirstPlay_ = function handleTechFirstPlay_() {\n      // If the first starttime attribute is specified\n      // then we will start at the given offset in seconds\n      if (this.options_.starttime) {\n        log.warn('Passing the `starttime` option to the player will be deprecated in 6.0');\n        this.currentTime(this.options_.starttime);\n      }\n\n      this.addClass('vjs-has-started');\n      /**\n       * Fired the first time a video is played. Not part of the HLS spec, and this is\n       * probably not the best implementation yet, so use sparingly. If you don't have a\n       * reason to prevent playback, use `myPlayer.one('play');` instead.\n       *\n       * @event Player#firstplay\n       * @deprecated As of 6.0 firstplay event is deprecated.\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('firstplay');\n    }\n    /**\n     * Retrigger the `pause` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#pause\n     * @listens Tech#pause\n     * @private\n     */\n    ;\n\n    _proto.handleTechPause_ = function handleTechPause_() {\n      this.removeClass('vjs-playing');\n      this.addClass('vjs-paused');\n      /**\n       * Fired whenever the media has been paused\n       *\n       * @event Player#pause\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('pause');\n    }\n    /**\n     * Retrigger the `ended` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#ended\n     * @listens Tech#ended\n     * @private\n     */\n    ;\n\n    _proto.handleTechEnded_ = function handleTechEnded_() {\n      this.addClass('vjs-ended');\n\n      if (this.options_.loop) {\n        this.currentTime(0);\n        this.play();\n      } else if (!this.paused()) {\n        this.pause();\n      }\n      /**\n       * Fired when the end of the media resource is reached (currentTime == duration)\n       *\n       * @event Player#ended\n       * @type {EventTarget~Event}\n       */\n\n\n      this.trigger('ended');\n    }\n    /**\n     * Fired when the duration of the media resource is first known or changed\n     *\n     * @listens Tech#durationchange\n     * @private\n     */\n    ;\n\n    _proto.handleTechDurationChange_ = function handleTechDurationChange_() {\n      this.duration(this.techGet_('duration'));\n    }\n    /**\n     * Handle a click on the media element to play/pause\n     *\n     * @param {EventTarget~Event} event\n     *        the event that caused this function to trigger\n     *\n     * @listens Tech#mouseup\n     * @private\n     */\n    ;\n\n    _proto.handleTechClick_ = function handleTechClick_(event) {\n      if (!isSingleLeftClick(event)) {\n        return;\n      } // When controls are disabled a click should not toggle playback because\n      // the click is considered a control\n\n\n      if (!this.controls_) {\n        return;\n      }\n\n      if (this.paused()) {\n        silencePromise(this.play());\n      } else {\n        this.pause();\n      }\n    }\n    /**\n     * Handle a double-click on the media element to enter/exit fullscreen\n     *\n     * @param {EventTarget~Event} event\n     *        the event that caused this function to trigger\n     *\n     * @listens Tech#dblclick\n     * @private\n     */\n    ;\n\n    _proto.handleTechDoubleClick_ = function handleTechDoubleClick_(event) {\n      if (!this.controls_) {\n        return;\n      } // we do not want to toggle fullscreen state\n      // when double-clicking inside a control bar or a modal\n\n\n      var inAllowedEls = Array.prototype.some.call(this.$$('.vjs-control-bar, .vjs-modal-dialog'), function (el) {\n        return el.contains(event.target);\n      });\n\n      if (!inAllowedEls) {\n        /*\n         * options.userActions.doubleClick\n         *\n         * If `undefined` or `true`, double-click toggles fullscreen if controls are present\n         * Set to `false` to disable double-click handling\n         * Set to a function to substitute an external double-click handler\n         */\n        if (this.options_ === undefined || this.options_.userActions === undefined || this.options_.userActions.doubleClick === undefined || this.options_.userActions.doubleClick !== false) {\n          if (this.options_ !== undefined && this.options_.userActions !== undefined && typeof this.options_.userActions.doubleClick === 'function') {\n            this.options_.userActions.doubleClick.call(this, event);\n          } else if (this.isFullscreen()) {\n            this.exitFullscreen();\n          } else {\n            this.requestFullscreen();\n          }\n        }\n      }\n    }\n    /**\n     * Handle a tap on the media element. It will toggle the user\n     * activity state, which hides and shows the controls.\n     *\n     * @listens Tech#tap\n     * @private\n     */\n    ;\n\n    _proto.handleTechTap_ = function handleTechTap_() {\n      this.userActive(!this.userActive());\n    }\n    /**\n     * Handle touch to start\n     *\n     * @listens Tech#touchstart\n     * @private\n     */\n    ;\n\n    _proto.handleTechTouchStart_ = function handleTechTouchStart_() {\n      this.userWasActive = this.userActive();\n    }\n    /**\n     * Handle touch to move\n     *\n     * @listens Tech#touchmove\n     * @private\n     */\n    ;\n\n    _proto.handleTechTouchMove_ = function handleTechTouchMove_() {\n      if (this.userWasActive) {\n        this.reportUserActivity();\n      }\n    }\n    /**\n     * Handle touch to end\n     *\n     * @param {EventTarget~Event} event\n     *        the touchend event that triggered\n     *        this function\n     *\n     * @listens Tech#touchend\n     * @private\n     */\n    ;\n\n    _proto.handleTechTouchEnd_ = function handleTechTouchEnd_(event) {\n      // Stop the mouse events from also happening\n      event.preventDefault();\n    }\n    /**\n     * native click events on the SWF aren't triggered on IE11, Win8.1RT\n     * use stageclick events triggered from inside the SWF instead\n     *\n     * @private\n     * @listens stageclick\n     */\n    ;\n\n    _proto.handleStageClick_ = function handleStageClick_() {\n      this.reportUserActivity();\n    }\n    /**\n     * @private\n     */\n    ;\n\n    _proto.toggleFullscreenClass_ = function toggleFullscreenClass_() {\n      if (this.isFullscreen()) {\n        this.addClass('vjs-fullscreen');\n      } else {\n        this.removeClass('vjs-fullscreen');\n      }\n    }\n    /**\n     * when the document fschange event triggers it calls this\n     */\n    ;\n\n    _proto.documentFullscreenChange_ = function documentFullscreenChange_(e) {\n      var el = this.el();\n      var isFs = document[this.fsApi_.fullscreenElement] === el;\n\n      if (!isFs && el.matches) {\n        isFs = el.matches(':' + this.fsApi_.fullscreen);\n      } else if (!isFs && el.msMatchesSelector) {\n        isFs = el.msMatchesSelector(':' + this.fsApi_.fullscreen);\n      }\n\n      this.isFullscreen(isFs); // If cancelling fullscreen, remove event listener.\n\n      if (this.isFullscreen() === false) {\n        off(document, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_);\n      }\n\n      if (this.fsApi_.prefixed) {\n        /**\n         * @event Player#fullscreenchange\n         * @type {EventTarget~Event}\n         */\n        this.trigger('fullscreenchange');\n      }\n    }\n    /**\n     * Handle Tech Fullscreen Change\n     *\n     * @param {EventTarget~Event} event\n     *        the fullscreenchange event that triggered this function\n     *\n     * @param {Object} data\n     *        the data that was sent with the event\n     *\n     * @private\n     * @listens Tech#fullscreenchange\n     * @fires Player#fullscreenchange\n     */\n    ;\n\n    _proto.handleTechFullscreenChange_ = function handleTechFullscreenChange_(event, data) {\n      if (data) {\n        this.isFullscreen(data.isFullscreen);\n      }\n      /**\n       * Fired when going in and out of fullscreen.\n       *\n       * @event Player#fullscreenchange\n       * @type {EventTarget~Event}\n       */\n\n\n      this.trigger('fullscreenchange');\n    }\n    /**\n     * @private\n     */\n    ;\n\n    _proto.togglePictureInPictureClass_ = function togglePictureInPictureClass_() {\n      if (this.isInPictureInPicture()) {\n        this.addClass('vjs-picture-in-picture');\n      } else {\n        this.removeClass('vjs-picture-in-picture');\n      }\n    }\n    /**\n     * Handle Tech Enter Picture-in-Picture.\n     *\n     * @param {EventTarget~Event} event\n     *        the enterpictureinpicture event that triggered this function\n     *\n     * @private\n     * @listens Tech#enterpictureinpicture\n     */\n    ;\n\n    _proto.handleTechEnterPictureInPicture_ = function handleTechEnterPictureInPicture_(event) {\n      this.isInPictureInPicture(true);\n    }\n    /**\n     * Handle Tech Leave Picture-in-Picture.\n     *\n     * @param {EventTarget~Event} event\n     *        the leavepictureinpicture event that triggered this function\n     *\n     * @private\n     * @listens Tech#leavepictureinpicture\n     */\n    ;\n\n    _proto.handleTechLeavePictureInPicture_ = function handleTechLeavePictureInPicture_(event) {\n      this.isInPictureInPicture(false);\n    }\n    /**\n     * Fires when an error occurred during the loading of an audio/video.\n     *\n     * @private\n     * @listens Tech#error\n     */\n    ;\n\n    _proto.handleTechError_ = function handleTechError_() {\n      var error = this.tech_.error();\n      this.error(error);\n    }\n    /**\n     * Retrigger the `textdata` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#textdata\n     * @listens Tech#textdata\n     * @private\n     */\n    ;\n\n    _proto.handleTechTextData_ = function handleTechTextData_() {\n      var data = null;\n\n      if (arguments.length > 1) {\n        data = arguments[1];\n      }\n      /**\n       * Fires when we get a textdata event from tech\n       *\n       * @event Player#textdata\n       * @type {EventTarget~Event}\n       */\n\n\n      this.trigger('textdata', data);\n    }\n    /**\n     * Get object for cached values.\n     *\n     * @return {Object}\n     *         get the current object cache\n     */\n    ;\n\n    _proto.getCache = function getCache() {\n      return this.cache_;\n    }\n    /**\n     * Resets the internal cache object.\n     *\n     * Using this function outside the player constructor or reset method may\n     * have unintended side-effects.\n     *\n     * @private\n     */\n    ;\n\n    _proto.resetCache_ = function resetCache_() {\n      this.cache_ = {\n        // Right now, the currentTime is not _really_ cached because it is always\n        // retrieved from the tech (see: currentTime). However, for completeness,\n        // we set it to zero here to ensure that if we do start actually caching\n        // it, we reset it along with everything else.\n        currentTime: 0,\n        inactivityTimeout: this.options_.inactivityTimeout,\n        duration: NaN,\n        lastVolume: 1,\n        lastPlaybackRate: this.defaultPlaybackRate(),\n        media: null,\n        src: '',\n        source: {},\n        sources: [],\n        volume: 1\n      };\n    }\n    /**\n     * Pass values to the playback tech\n     *\n     * @param {string} [method]\n     *        the method to call\n     *\n     * @param {Object} arg\n     *        the argument to pass\n     *\n     * @private\n     */\n    ;\n\n    _proto.techCall_ = function techCall_(method, arg) {\n      // If it's not ready yet, call method when it is\n      this.ready(function () {\n        if (method in allowedSetters) {\n          return set(this.middleware_, this.tech_, method, arg);\n        } else if (method in allowedMediators) {\n          return mediate(this.middleware_, this.tech_, method, arg);\n        }\n\n        try {\n          if (this.tech_) {\n            this.tech_[method](arg);\n          }\n        } catch (e) {\n          log(e);\n          throw e;\n        }\n      }, true);\n    }\n    /**\n     * Get calls can't wait for the tech, and sometimes don't need to.\n     *\n     * @param {string} method\n     *        Tech method\n     *\n     * @return {Function|undefined}\n     *         the method or undefined\n     *\n     * @private\n     */\n    ;\n\n    _proto.techGet_ = function techGet_(method) {\n      if (!this.tech_ || !this.tech_.isReady_) {\n        return;\n      }\n\n      if (method in allowedGetters) {\n        return get(this.middleware_, this.tech_, method);\n      } else if (method in allowedMediators) {\n        return mediate(this.middleware_, this.tech_, method);\n      } // Flash likes to die and reload when you hide or reposition it.\n      // In these cases the object methods go away and we get errors.\n      // When that happens we'll catch the errors and inform tech that it's not ready any more.\n\n\n      try {\n        return this.tech_[method]();\n      } catch (e) {\n        // When building additional tech libs, an expected method may not be defined yet\n        if (this.tech_[method] === undefined) {\n          log(\"Video.js: \" + method + \" method not defined for \" + this.techName_ + \" playback technology.\", e);\n          throw e;\n        } // When a method isn't available on the object it throws a TypeError\n\n\n        if (e.name === 'TypeError') {\n          log(\"Video.js: \" + method + \" unavailable on \" + this.techName_ + \" playback technology element.\", e);\n          this.tech_.isReady_ = false;\n          throw e;\n        } // If error unknown, just log and throw\n\n\n        log(e);\n        throw e;\n      }\n    }\n    /**\n     * Attempt to begin playback at the first opportunity.\n     *\n     * @return {Promise|undefined}\n     *         Returns a promise if the browser supports Promises (or one\n     *         was passed in as an option). This promise will be resolved on\n     *         the return value of play. If this is undefined it will fulfill the\n     *         promise chain otherwise the promise chain will be fulfilled when\n     *         the promise from play is fulfilled.\n     */\n    ;\n\n    _proto.play = function play() {\n      var _this8 = this;\n\n      var PromiseClass = this.options_.Promise || window$1.Promise;\n\n      if (PromiseClass) {\n        return new PromiseClass(function (resolve) {\n          _this8.play_(resolve);\n        });\n      }\n\n      return this.play_();\n    }\n    /**\n     * The actual logic for play, takes a callback that will be resolved on the\n     * return value of play. This allows us to resolve to the play promise if there\n     * is one on modern browsers.\n     *\n     * @private\n     * @param {Function} [callback]\n     *        The callback that should be called when the techs play is actually called\n     */\n    ;\n\n    _proto.play_ = function play_(callback) {\n      var _this9 = this;\n\n      if (callback === void 0) {\n        callback = silencePromise;\n      }\n\n      this.playCallbacks_.push(callback);\n      var isSrcReady = Boolean(!this.changingSrc_ && (this.src() || this.currentSrc())); // treat calls to play_ somewhat like the `one` event function\n\n      if (this.waitToPlay_) {\n        this.off(['ready', 'loadstart'], this.waitToPlay_);\n        this.waitToPlay_ = null;\n      } // if the player/tech is not ready or the src itself is not ready\n      // queue up a call to play on `ready` or `loadstart`\n\n\n      if (!this.isReady_ || !isSrcReady) {\n        this.waitToPlay_ = function (e) {\n          _this9.play_();\n        };\n\n        this.one(['ready', 'loadstart'], this.waitToPlay_); // if we are in Safari, there is a high chance that loadstart will trigger after the gesture timeperiod\n        // in that case, we need to prime the video element by calling load so it'll be ready in time\n\n        if (!isSrcReady && (IS_ANY_SAFARI || IS_IOS)) {\n          this.load();\n        }\n\n        return;\n      } // If the player/tech is ready and we have a source, we can attempt playback.\n\n\n      var val = this.techGet_('play'); // play was terminated if the returned value is null\n\n      if (val === null) {\n        this.runPlayTerminatedQueue_();\n      } else {\n        this.runPlayCallbacks_(val);\n      }\n    }\n    /**\n     * These functions will be run when if play is terminated. If play\n     * runPlayCallbacks_ is run these function will not be run. This allows us\n     * to differenciate between a terminated play and an actual call to play.\n     */\n    ;\n\n    _proto.runPlayTerminatedQueue_ = function runPlayTerminatedQueue_() {\n      var queue = this.playTerminatedQueue_.slice(0);\n      this.playTerminatedQueue_ = [];\n      queue.forEach(function (q) {\n        q();\n      });\n    }\n    /**\n     * When a callback to play is delayed we have to run these\n     * callbacks when play is actually called on the tech. This function\n     * runs the callbacks that were delayed and accepts the return value\n     * from the tech.\n     *\n     * @param {undefined|Promise} val\n     *        The return value from the tech.\n     */\n    ;\n\n    _proto.runPlayCallbacks_ = function runPlayCallbacks_(val) {\n      var callbacks = this.playCallbacks_.slice(0);\n      this.playCallbacks_ = []; // clear play terminatedQueue since we finished a real play\n\n      this.playTerminatedQueue_ = [];\n      callbacks.forEach(function (cb) {\n        cb(val);\n      });\n    }\n    /**\n     * Pause the video playback\n     *\n     * @return {Player}\n     *         A reference to the player object this function was called on\n     */\n    ;\n\n    _proto.pause = function pause() {\n      this.techCall_('pause');\n    }\n    /**\n     * Check if the player is paused or has yet to play\n     *\n     * @return {boolean}\n     *         - false: if the media is currently playing\n     *         - true: if media is not currently playing\n     */\n    ;\n\n    _proto.paused = function paused() {\n      // The initial state of paused should be true (in Safari it's actually false)\n      return this.techGet_('paused') === false ? false : true;\n    }\n    /**\n     * Get a TimeRange object representing the current ranges of time that the user\n     * has played.\n     *\n     * @return {TimeRange}\n     *         A time range object that represents all the increments of time that have\n     *         been played.\n     */\n    ;\n\n    _proto.played = function played() {\n      return this.techGet_('played') || createTimeRanges(0, 0);\n    }\n    /**\n     * Returns whether or not the user is \"scrubbing\". Scrubbing is\n     * when the user has clicked the progress bar handle and is\n     * dragging it along the progress bar.\n     *\n     * @param {boolean} [isScrubbing]\n     *        whether the user is or is not scrubbing\n     *\n     * @return {boolean}\n     *         The value of scrubbing when getting\n     */\n    ;\n\n    _proto.scrubbing = function scrubbing(isScrubbing) {\n      if (typeof isScrubbing === 'undefined') {\n        return this.scrubbing_;\n      }\n\n      this.scrubbing_ = !!isScrubbing;\n\n      if (isScrubbing) {\n        this.addClass('vjs-scrubbing');\n      } else {\n        this.removeClass('vjs-scrubbing');\n      }\n    }\n    /**\n     * Get or set the current time (in seconds)\n     *\n     * @param {number|string} [seconds]\n     *        The time to seek to in seconds\n     *\n     * @return {number}\n     *         - the current time in seconds when getting\n     */\n    ;\n\n    _proto.currentTime = function currentTime(seconds) {\n      if (typeof seconds !== 'undefined') {\n        if (seconds < 0) {\n          seconds = 0;\n        }\n\n        this.techCall_('setCurrentTime', seconds);\n        return;\n      } // cache last currentTime and return. default to 0 seconds\n      //\n      // Caching the currentTime is meant to prevent a massive amount of reads on the tech's\n      // currentTime when scrubbing, but may not provide much performance benefit afterall.\n      // Should be tested. Also something has to read the actual current time or the cache will\n      // never get updated.\n\n\n      this.cache_.currentTime = this.techGet_('currentTime') || 0;\n      return this.cache_.currentTime;\n    }\n    /**\n     * Normally gets the length in time of the video in seconds;\n     * in all but the rarest use cases an argument will NOT be passed to the method\n     *\n     * > **NOTE**: The video must have started loading before the duration can be\n     * known, and in the case of Flash, may not be known until the video starts\n     * playing.\n     *\n     * @fires Player#durationchange\n     *\n     * @param {number} [seconds]\n     *        The duration of the video to set in seconds\n     *\n     * @return {number}\n     *         - The duration of the video in seconds when getting\n     */\n    ;\n\n    _proto.duration = function duration(seconds) {\n      if (seconds === undefined) {\n        // return NaN if the duration is not known\n        return this.cache_.duration !== undefined ? this.cache_.duration : NaN;\n      }\n\n      seconds = parseFloat(seconds); // Standardize on Infinity for signaling video is live\n\n      if (seconds < 0) {\n        seconds = Infinity;\n      }\n\n      if (seconds !== this.cache_.duration) {\n        // Cache the last set value for optimized scrubbing (esp. Flash)\n        this.cache_.duration = seconds;\n\n        if (seconds === Infinity) {\n          this.addClass('vjs-live');\n\n          if (this.options_.liveui && this.player_.liveTracker) {\n            this.addClass('vjs-liveui');\n          }\n        } else {\n          this.removeClass('vjs-live');\n          this.removeClass('vjs-liveui');\n        }\n\n        if (!isNaN(seconds)) {\n          // Do not fire durationchange unless the duration value is known.\n          // @see [Spec]{@link https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-element-load-algorithm}\n\n          /**\n           * @event Player#durationchange\n           * @type {EventTarget~Event}\n           */\n          this.trigger('durationchange');\n        }\n      }\n    }\n    /**\n     * Calculates how much time is left in the video. Not part\n     * of the native video API.\n     *\n     * @return {number}\n     *         The time remaining in seconds\n     */\n    ;\n\n    _proto.remainingTime = function remainingTime() {\n      return this.duration() - this.currentTime();\n    }\n    /**\n     * A remaining time function that is intented to be used when\n     * the time is to be displayed directly to the user.\n     *\n     * @return {number}\n     *         The rounded time remaining in seconds\n     */\n    ;\n\n    _proto.remainingTimeDisplay = function remainingTimeDisplay() {\n      return Math.floor(this.duration()) - Math.floor(this.currentTime());\n    } //\n    // Kind of like an array of portions of the video that have been downloaded.\n\n    /**\n     * Get a TimeRange object with an array of the times of the video\n     * that have been downloaded. If you just want the percent of the\n     * video that's been downloaded, use bufferedPercent.\n     *\n     * @see [Buffered Spec]{@link http://dev.w3.org/html5/spec/video.html#dom-media-buffered}\n     *\n     * @return {TimeRange}\n     *         A mock TimeRange object (following HTML spec)\n     */\n    ;\n\n    _proto.buffered = function buffered() {\n      var buffered = this.techGet_('buffered');\n\n      if (!buffered || !buffered.length) {\n        buffered = createTimeRanges(0, 0);\n      }\n\n      return buffered;\n    }\n    /**\n     * Get the percent (as a decimal) of the video that's been downloaded.\n     * This method is not a part of the native HTML video API.\n     *\n     * @return {number}\n     *         A decimal between 0 and 1 representing the percent\n     *         that is buffered 0 being 0% and 1 being 100%\n     */\n    ;\n\n    _proto.bufferedPercent = function bufferedPercent$1() {\n      return bufferedPercent(this.buffered(), this.duration());\n    }\n    /**\n     * Get the ending time of the last buffered time range\n     * This is used in the progress bar to encapsulate all time ranges.\n     *\n     * @return {number}\n     *         The end of the last buffered time range\n     */\n    ;\n\n    _proto.bufferedEnd = function bufferedEnd() {\n      var buffered = this.buffered();\n      var duration = this.duration();\n      var end = buffered.end(buffered.length - 1);\n\n      if (end > duration) {\n        end = duration;\n      }\n\n      return end;\n    }\n    /**\n     * Get or set the current volume of the media\n     *\n     * @param  {number} [percentAsDecimal]\n     *         The new volume as a decimal percent:\n     *         - 0 is muted/0%/off\n     *         - 1.0 is 100%/full\n     *         - 0.5 is half volume or 50%\n     *\n     * @return {number}\n     *         The current volume as a percent when getting\n     */\n    ;\n\n    _proto.volume = function volume(percentAsDecimal) {\n      var vol;\n\n      if (percentAsDecimal !== undefined) {\n        // Force value to between 0 and 1\n        vol = Math.max(0, Math.min(1, parseFloat(percentAsDecimal)));\n        this.cache_.volume = vol;\n        this.techCall_('setVolume', vol);\n\n        if (vol > 0) {\n          this.lastVolume_(vol);\n        }\n\n        return;\n      } // Default to 1 when returning current volume.\n\n\n      vol = parseFloat(this.techGet_('volume'));\n      return isNaN(vol) ? 1 : vol;\n    }\n    /**\n     * Get the current muted state, or turn mute on or off\n     *\n     * @param {boolean} [muted]\n     *        - true to mute\n     *        - false to unmute\n     *\n     * @return {boolean}\n     *         - true if mute is on and getting\n     *         - false if mute is off and getting\n     */\n    ;\n\n    _proto.muted = function muted(_muted) {\n      if (_muted !== undefined) {\n        this.techCall_('setMuted', _muted);\n        return;\n      }\n\n      return this.techGet_('muted') || false;\n    }\n    /**\n     * Get the current defaultMuted state, or turn defaultMuted on or off. defaultMuted\n     * indicates the state of muted on initial playback.\n     *\n     * ```js\n     *   var myPlayer = videojs('some-player-id');\n     *\n     *   myPlayer.src(\"http://www.example.com/path/to/video.mp4\");\n     *\n     *   // get, should be false\n     *   console.log(myPlayer.defaultMuted());\n     *   // set to true\n     *   myPlayer.defaultMuted(true);\n     *   // get should be true\n     *   console.log(myPlayer.defaultMuted());\n     * ```\n     *\n     * @param {boolean} [defaultMuted]\n     *        - true to mute\n     *        - false to unmute\n     *\n     * @return {boolean|Player}\n     *         - true if defaultMuted is on and getting\n     *         - false if defaultMuted is off and getting\n     *         - A reference to the current player when setting\n     */\n    ;\n\n    _proto.defaultMuted = function defaultMuted(_defaultMuted) {\n      if (_defaultMuted !== undefined) {\n        return this.techCall_('setDefaultMuted', _defaultMuted);\n      }\n\n      return this.techGet_('defaultMuted') || false;\n    }\n    /**\n     * Get the last volume, or set it\n     *\n     * @param  {number} [percentAsDecimal]\n     *         The new last volume as a decimal percent:\n     *         - 0 is muted/0%/off\n     *         - 1.0 is 100%/full\n     *         - 0.5 is half volume or 50%\n     *\n     * @return {number}\n     *         the current value of lastVolume as a percent when getting\n     *\n     * @private\n     */\n    ;\n\n    _proto.lastVolume_ = function lastVolume_(percentAsDecimal) {\n      if (percentAsDecimal !== undefined && percentAsDecimal !== 0) {\n        this.cache_.lastVolume = percentAsDecimal;\n        return;\n      }\n\n      return this.cache_.lastVolume;\n    }\n    /**\n     * Check if current tech can support native fullscreen\n     * (e.g. with built in controls like iOS, so not our flash swf)\n     *\n     * @return {boolean}\n     *         if native fullscreen is supported\n     */\n    ;\n\n    _proto.supportsFullScreen = function supportsFullScreen() {\n      return this.techGet_('supportsFullScreen') || false;\n    }\n    /**\n     * Check if the player is in fullscreen mode or tell the player that it\n     * is or is not in fullscreen mode.\n     *\n     * > NOTE: As of the latest HTML5 spec, isFullscreen is no longer an official\n     * property and instead document.fullscreenElement is used. But isFullscreen is\n     * still a valuable property for internal player workings.\n     *\n     * @param  {boolean} [isFS]\n     *         Set the players current fullscreen state\n     *\n     * @return {boolean}\n     *         - true if fullscreen is on and getting\n     *         - false if fullscreen is off and getting\n     */\n    ;\n\n    _proto.isFullscreen = function isFullscreen(isFS) {\n      if (isFS !== undefined) {\n        this.isFullscreen_ = !!isFS;\n        this.toggleFullscreenClass_();\n        return;\n      }\n\n      return !!this.isFullscreen_;\n    }\n    /**\n     * Increase the size of the video to full screen\n     * In some browsers, full screen is not supported natively, so it enters\n     * \"full window mode\", where the video fills the browser window.\n     * In browsers and devices that support native full screen, sometimes the\n     * browser's default controls will be shown, and not the Video.js custom skin.\n     * This includes most mobile devices (iOS, Android) and older versions of\n     * Safari.\n     *\n     * @param  {Object} [fullscreenOptions]\n     *         Override the player fullscreen options\n     *\n     * @fires Player#fullscreenchange\n     */\n    ;\n\n    _proto.requestFullscreen = function requestFullscreen(fullscreenOptions) {\n      var fsOptions;\n      this.isFullscreen(true);\n\n      if (this.fsApi_.requestFullscreen) {\n        // the browser supports going fullscreen at the element level so we can\n        // take the controls fullscreen as well as the video\n        // Trigger fullscreenchange event after change\n        // We have to specifically add this each time, and remove\n        // when canceling fullscreen. Otherwise if there's multiple\n        // players on a page, they would all be reacting to the same fullscreen\n        // events\n        on(document, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_); // only pass FullscreenOptions to requestFullscreen if it isn't prefixed\n\n        if (!this.fsApi_.prefixed) {\n          fsOptions = this.options_.fullscreen && this.options_.fullscreen.options || {};\n\n          if (fullscreenOptions !== undefined) {\n            fsOptions = fullscreenOptions;\n          }\n        }\n\n        silencePromise(this.el_[this.fsApi_.requestFullscreen](fsOptions));\n      } else if (this.tech_.supportsFullScreen()) {\n        // we can't take the video.js controls fullscreen but we can go fullscreen\n        // with native controls\n        this.techCall_('enterFullScreen');\n      } else {\n        // fullscreen isn't supported so we'll just stretch the video element to\n        // fill the viewport\n        this.enterFullWindow();\n        /**\n         * @event Player#fullscreenchange\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('fullscreenchange');\n      }\n    }\n    /**\n     * Return the video to its normal size after having been in full screen mode\n     *\n     * @fires Player#fullscreenchange\n     */\n    ;\n\n    _proto.exitFullscreen = function exitFullscreen() {\n      this.isFullscreen(false); // Check for browser element fullscreen support\n\n      if (this.fsApi_.requestFullscreen) {\n        silencePromise(document[this.fsApi_.exitFullscreen]());\n      } else if (this.tech_.supportsFullScreen()) {\n        this.techCall_('exitFullScreen');\n      } else {\n        this.exitFullWindow();\n        /**\n         * @event Player#fullscreenchange\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('fullscreenchange');\n      }\n    }\n    /**\n     * When fullscreen isn't supported we can stretch the\n     * video container to as wide as the browser will let us.\n     *\n     * @fires Player#enterFullWindow\n     */\n    ;\n\n    _proto.enterFullWindow = function enterFullWindow() {\n      this.isFullWindow = true; // Storing original doc overflow value to return to when fullscreen is off\n\n      this.docOrigOverflow = document.documentElement.style.overflow; // Add listener for esc key to exit fullscreen\n\n      on(document, 'keydown', this.boundFullWindowOnEscKey_); // Hide any scroll bars\n\n      document.documentElement.style.overflow = 'hidden'; // Apply fullscreen styles\n\n      addClass(document.body, 'vjs-full-window');\n      /**\n       * @event Player#enterFullWindow\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('enterFullWindow');\n    }\n    /**\n     * Check for call to either exit full window or\n     * full screen on ESC key\n     *\n     * @param {string} event\n     *        Event to check for key press\n     */\n    ;\n\n    _proto.fullWindowOnEscKey = function fullWindowOnEscKey(event) {\n      if (keycode.isEventKey(event, 'Esc')) {\n        if (this.isFullscreen() === true) {\n          this.exitFullscreen();\n        } else {\n          this.exitFullWindow();\n        }\n      }\n    }\n    /**\n     * Exit full window\n     *\n     * @fires Player#exitFullWindow\n     */\n    ;\n\n    _proto.exitFullWindow = function exitFullWindow() {\n      this.isFullWindow = false;\n      off(document, 'keydown', this.boundFullWindowOnEscKey_); // Unhide scroll bars.\n\n      document.documentElement.style.overflow = this.docOrigOverflow; // Remove fullscreen styles\n\n      removeClass(document.body, 'vjs-full-window'); // Resize the box, controller, and poster to original sizes\n      // this.positionAll();\n\n      /**\n       * @event Player#exitFullWindow\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('exitFullWindow');\n    }\n    /**\n     * Check if the player is in Picture-in-Picture mode or tell the player that it\n     * is or is not in Picture-in-Picture mode.\n     *\n     * @param  {boolean} [isPiP]\n     *         Set the players current Picture-in-Picture state\n     *\n     * @return {boolean}\n     *         - true if Picture-in-Picture is on and getting\n     *         - false if Picture-in-Picture is off and getting\n     */\n    ;\n\n    _proto.isInPictureInPicture = function isInPictureInPicture(isPiP) {\n      if (isPiP !== undefined) {\n        this.isInPictureInPicture_ = !!isPiP;\n        this.togglePictureInPictureClass_();\n        return;\n      }\n\n      return !!this.isInPictureInPicture_;\n    }\n    /**\n     * Create a floating video window always on top of other windows so that users may\n     * continue consuming media while they interact with other content sites, or\n     * applications on their device.\n     *\n     * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n     *\n     * @fires Player#enterpictureinpicture\n     *\n     * @return {Promise}\n     *         A promise with a Picture-in-Picture window.\n     */\n    ;\n\n    _proto.requestPictureInPicture = function requestPictureInPicture() {\n      if ('pictureInPictureEnabled' in document) {\n        /**\n         * This event fires when the player enters picture in picture mode\n         *\n         * @event Player#enterpictureinpicture\n         * @type {EventTarget~Event}\n         */\n        return this.techGet_('requestPictureInPicture');\n      }\n    }\n    /**\n     * Exit Picture-in-Picture mode.\n     *\n     * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n     *\n     * @fires Player#leavepictureinpicture\n     *\n     * @return {Promise}\n     *         A promise.\n     */\n    ;\n\n    _proto.exitPictureInPicture = function exitPictureInPicture() {\n      if ('pictureInPictureEnabled' in document) {\n        /**\n         * This event fires when the player leaves picture in picture mode\n         *\n         * @event Player#leavepictureinpicture\n         * @type {EventTarget~Event}\n         */\n        return document.exitPictureInPicture();\n      }\n    }\n    /**\n     * Called when this Player has focus and a key gets pressed down, or when\n     * any Component of this player receives a key press that it doesn't handle.\n     * This allows player-wide hotkeys (either as defined below, or optionally\n     * by an external function).\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      var userActions = this.options_.userActions; // Bail out if hotkeys are not configured.\n\n      if (!userActions || !userActions.hotkeys) {\n        return;\n      } // Function that determines whether or not to exclude an element from\n      // hotkeys handling.\n\n\n      var excludeElement = function excludeElement(el) {\n        var tagName = el.tagName.toLowerCase(); // The first and easiest test is for `contenteditable` elements.\n\n        if (el.isContentEditable) {\n          return true;\n        } // Inputs matching these types will still trigger hotkey handling as\n        // they are not text inputs.\n\n\n        var allowedInputTypes = ['button', 'checkbox', 'hidden', 'radio', 'reset', 'submit'];\n\n        if (tagName === 'input') {\n          return allowedInputTypes.indexOf(el.type) === -1;\n        } // The final test is by tag name. These tags will be excluded entirely.\n\n\n        var excludedTags = ['textarea'];\n        return excludedTags.indexOf(tagName) !== -1;\n      }; // Bail out if the user is focused on an interactive form element.\n\n\n      if (excludeElement(this.el_.ownerDocument.activeElement)) {\n        return;\n      }\n\n      if (typeof userActions.hotkeys === 'function') {\n        userActions.hotkeys.call(this, event);\n      } else {\n        this.handleHotkeys(event);\n      }\n    }\n    /**\n     * Called when this Player receives a hotkey keydown event.\n     * Supported player-wide hotkeys are:\n     *\n     *   f          - toggle fullscreen\n     *   m          - toggle mute\n     *   k or Space - toggle play/pause\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleHotkeys = function handleHotkeys(event) {\n      var hotkeys = this.options_.userActions ? this.options_.userActions.hotkeys : {}; // set fullscreenKey, muteKey, playPauseKey from `hotkeys`, use defaults if not set\n\n      var _hotkeys$fullscreenKe = hotkeys.fullscreenKey,\n          fullscreenKey = _hotkeys$fullscreenKe === void 0 ? function (keydownEvent) {\n        return keycode.isEventKey(keydownEvent, 'f');\n      } : _hotkeys$fullscreenKe,\n          _hotkeys$muteKey = hotkeys.muteKey,\n          muteKey = _hotkeys$muteKey === void 0 ? function (keydownEvent) {\n        return keycode.isEventKey(keydownEvent, 'm');\n      } : _hotkeys$muteKey,\n          _hotkeys$playPauseKey = hotkeys.playPauseKey,\n          playPauseKey = _hotkeys$playPauseKey === void 0 ? function (keydownEvent) {\n        return keycode.isEventKey(keydownEvent, 'k') || keycode.isEventKey(keydownEvent, 'Space');\n      } : _hotkeys$playPauseKey;\n\n      if (fullscreenKey.call(this, event)) {\n        event.preventDefault();\n        event.stopPropagation();\n        var FSToggle = Component.getComponent('FullscreenToggle');\n\n        if (document[this.fsApi_.fullscreenEnabled] !== false) {\n          FSToggle.prototype.handleClick.call(this, event);\n        }\n      } else if (muteKey.call(this, event)) {\n        event.preventDefault();\n        event.stopPropagation();\n        var MuteToggle = Component.getComponent('MuteToggle');\n        MuteToggle.prototype.handleClick.call(this, event);\n      } else if (playPauseKey.call(this, event)) {\n        event.preventDefault();\n        event.stopPropagation();\n        var PlayToggle = Component.getComponent('PlayToggle');\n        PlayToggle.prototype.handleClick.call(this, event);\n      }\n    }\n    /**\n     * Check whether the player can play a given mimetype\n     *\n     * @see https://www.w3.org/TR/2011/WD-html5-20110113/video.html#dom-navigator-canplaytype\n     *\n     * @param {string} type\n     *        The mimetype to check\n     *\n     * @return {string}\n     *         'probably', 'maybe', or '' (empty string)\n     */\n    ;\n\n    _proto.canPlayType = function canPlayType(type) {\n      var can; // Loop through each playback technology in the options order\n\n      for (var i = 0, j = this.options_.techOrder; i < j.length; i++) {\n        var techName = j[i];\n        var tech = Tech.getTech(techName); // Support old behavior of techs being registered as components.\n        // Remove once that deprecated behavior is removed.\n\n        if (!tech) {\n          tech = Component.getComponent(techName);\n        } // Check if the current tech is defined before continuing\n\n\n        if (!tech) {\n          log.error(\"The \\\"\" + techName + \"\\\" tech is undefined. Skipped browser support check for that tech.\");\n          continue;\n        } // Check if the browser supports this technology\n\n\n        if (tech.isSupported()) {\n          can = tech.canPlayType(type);\n\n          if (can) {\n            return can;\n          }\n        }\n      }\n\n      return '';\n    }\n    /**\n     * Select source based on tech-order or source-order\n     * Uses source-order selection if `options.sourceOrder` is truthy. Otherwise,\n     * defaults to tech-order selection\n     *\n     * @param {Array} sources\n     *        The sources for a media asset\n     *\n     * @return {Object|boolean}\n     *         Object of source and tech order or false\n     */\n    ;\n\n    _proto.selectSource = function selectSource(sources) {\n      var _this10 = this;\n\n      // Get only the techs specified in `techOrder` that exist and are supported by the\n      // current platform\n      var techs = this.options_.techOrder.map(function (techName) {\n        return [techName, Tech.getTech(techName)];\n      }).filter(function (_ref) {\n        var techName = _ref[0],\n            tech = _ref[1];\n\n        // Check if the current tech is defined before continuing\n        if (tech) {\n          // Check if the browser supports this technology\n          return tech.isSupported();\n        }\n\n        log.error(\"The \\\"\" + techName + \"\\\" tech is undefined. Skipped browser support check for that tech.\");\n        return false;\n      }); // Iterate over each `innerArray` element once per `outerArray` element and execute\n      // `tester` with both. If `tester` returns a non-falsy value, exit early and return\n      // that value.\n\n      var findFirstPassingTechSourcePair = function findFirstPassingTechSourcePair(outerArray, innerArray, tester) {\n        var found;\n        outerArray.some(function (outerChoice) {\n          return innerArray.some(function (innerChoice) {\n            found = tester(outerChoice, innerChoice);\n\n            if (found) {\n              return true;\n            }\n          });\n        });\n        return found;\n      };\n\n      var foundSourceAndTech;\n\n      var flip = function flip(fn) {\n        return function (a, b) {\n          return fn(b, a);\n        };\n      };\n\n      var finder = function finder(_ref2, source) {\n        var techName = _ref2[0],\n            tech = _ref2[1];\n\n        if (tech.canPlaySource(source, _this10.options_[techName.toLowerCase()])) {\n          return {\n            source: source,\n            tech: techName\n          };\n        }\n      }; // Depending on the truthiness of `options.sourceOrder`, we swap the order of techs and sources\n      // to select from them based on their priority.\n\n\n      if (this.options_.sourceOrder) {\n        // Source-first ordering\n        foundSourceAndTech = findFirstPassingTechSourcePair(sources, techs, flip(finder));\n      } else {\n        // Tech-first ordering\n        foundSourceAndTech = findFirstPassingTechSourcePair(techs, sources, finder);\n      }\n\n      return foundSourceAndTech || false;\n    }\n    /**\n     * Get or set the video source.\n     *\n     * @param {Tech~SourceObject|Tech~SourceObject[]|string} [source]\n     *        A SourceObject, an array of SourceObjects, or a string referencing\n     *        a URL to a media source. It is _highly recommended_ that an object\n     *        or array of objects is used here, so that source selection\n     *        algorithms can take the `type` into account.\n     *\n     *        If not provided, this method acts as a getter.\n     *\n     * @return {string|undefined}\n     *         If the `source` argument is missing, returns the current source\n     *         URL. Otherwise, returns nothing/undefined.\n     */\n    ;\n\n    _proto.src = function src(source) {\n      var _this11 = this;\n\n      // getter usage\n      if (typeof source === 'undefined') {\n        return this.cache_.src || '';\n      } // filter out invalid sources and turn our source into\n      // an array of source objects\n\n\n      var sources = filterSource(source); // if a source was passed in then it is invalid because\n      // it was filtered to a zero length Array. So we have to\n      // show an error\n\n      if (!sources.length) {\n        this.setTimeout(function () {\n          this.error({\n            code: 4,\n            message: this.localize(this.options_.notSupportedMessage)\n          });\n        }, 0);\n        return;\n      } // intial sources\n\n\n      this.changingSrc_ = true;\n      this.cache_.sources = sources;\n      this.updateSourceCaches_(sources[0]); // middlewareSource is the source after it has been changed by middleware\n\n      setSource(this, sources[0], function (middlewareSource, mws) {\n        _this11.middleware_ = mws; // since sourceSet is async we have to update the cache again after we select a source since\n        // the source that is selected could be out of order from the cache update above this callback.\n\n        _this11.cache_.sources = sources;\n\n        _this11.updateSourceCaches_(middlewareSource);\n\n        var err = _this11.src_(middlewareSource);\n\n        if (err) {\n          if (sources.length > 1) {\n            return _this11.src(sources.slice(1));\n          }\n\n          _this11.changingSrc_ = false; // We need to wrap this in a timeout to give folks a chance to add error event handlers\n\n          _this11.setTimeout(function () {\n            this.error({\n              code: 4,\n              message: this.localize(this.options_.notSupportedMessage)\n            });\n          }, 0); // we could not find an appropriate tech, but let's still notify the delegate that this is it\n          // this needs a better comment about why this is needed\n\n\n          _this11.triggerReady();\n\n          return;\n        }\n\n        setTech(mws, _this11.tech_);\n      });\n    }\n    /**\n     * Set the source object on the tech, returns a boolean that indicates whether\n     * there is a tech that can play the source or not\n     *\n     * @param {Tech~SourceObject} source\n     *        The source object to set on the Tech\n     *\n     * @return {boolean}\n     *         - True if there is no Tech to playback this source\n     *         - False otherwise\n     *\n     * @private\n     */\n    ;\n\n    _proto.src_ = function src_(source) {\n      var _this12 = this;\n\n      var sourceTech = this.selectSource([source]);\n\n      if (!sourceTech) {\n        return true;\n      }\n\n      if (!titleCaseEquals(sourceTech.tech, this.techName_)) {\n        this.changingSrc_ = true; // load this technology with the chosen source\n\n        this.loadTech_(sourceTech.tech, sourceTech.source);\n        this.tech_.ready(function () {\n          _this12.changingSrc_ = false;\n        });\n        return false;\n      } // wait until the tech is ready to set the source\n      // and set it synchronously if possible (#2326)\n\n\n      this.ready(function () {\n        // The setSource tech method was added with source handlers\n        // so older techs won't support it\n        // We need to check the direct prototype for the case where subclasses\n        // of the tech do not support source handlers\n        if (this.tech_.constructor.prototype.hasOwnProperty('setSource')) {\n          this.techCall_('setSource', source);\n        } else {\n          this.techCall_('src', source.src);\n        }\n\n        this.changingSrc_ = false;\n      }, true);\n      return false;\n    }\n    /**\n     * Begin loading the src data.\n     */\n    ;\n\n    _proto.load = function load() {\n      this.techCall_('load');\n    }\n    /**\n     * Reset the player. Loads the first tech in the techOrder,\n     * removes all the text tracks in the existing `tech`,\n     * and calls `reset` on the `tech`.\n     */\n    ;\n\n    _proto.reset = function reset() {\n      var _this13 = this;\n\n      var PromiseClass = this.options_.Promise || window$1.Promise;\n\n      if (this.paused() || !PromiseClass) {\n        this.doReset_();\n      } else {\n        var playPromise = this.play();\n        silencePromise(playPromise.then(function () {\n          return _this13.doReset_();\n        }));\n      }\n    };\n\n    _proto.doReset_ = function doReset_() {\n      if (this.tech_) {\n        this.tech_.clearTracks('text');\n      }\n\n      this.resetCache_();\n      this.poster('');\n      this.loadTech_(this.options_.techOrder[0], null);\n      this.techCall_('reset');\n      this.resetControlBarUI_();\n\n      if (isEvented(this)) {\n        this.trigger('playerreset');\n      }\n    }\n    /**\n     * Reset Control Bar's UI by calling sub-methods that reset\n     * all of Control Bar's components\n     */\n    ;\n\n    _proto.resetControlBarUI_ = function resetControlBarUI_() {\n      this.resetProgressBar_();\n      this.resetPlaybackRate_();\n      this.resetVolumeBar_();\n    }\n    /**\n     * Reset tech's progress so progress bar is reset in the UI\n     */\n    ;\n\n    _proto.resetProgressBar_ = function resetProgressBar_() {\n      this.currentTime(0);\n      var _this$controlBar = this.controlBar,\n          durationDisplay = _this$controlBar.durationDisplay,\n          remainingTimeDisplay = _this$controlBar.remainingTimeDisplay;\n\n      if (durationDisplay) {\n        durationDisplay.updateContent();\n      }\n\n      if (remainingTimeDisplay) {\n        remainingTimeDisplay.updateContent();\n      }\n    }\n    /**\n     * Reset Playback ratio\n     */\n    ;\n\n    _proto.resetPlaybackRate_ = function resetPlaybackRate_() {\n      this.playbackRate(this.defaultPlaybackRate());\n      this.handleTechRateChange_();\n    }\n    /**\n     * Reset Volume bar\n     */\n    ;\n\n    _proto.resetVolumeBar_ = function resetVolumeBar_() {\n      this.volume(1.0);\n      this.trigger('volumechange');\n    }\n    /**\n     * Returns all of the current source objects.\n     *\n     * @return {Tech~SourceObject[]}\n     *         The current source objects\n     */\n    ;\n\n    _proto.currentSources = function currentSources() {\n      var source = this.currentSource();\n      var sources = []; // assume `{}` or `{ src }`\n\n      if (Object.keys(source).length !== 0) {\n        sources.push(source);\n      }\n\n      return this.cache_.sources || sources;\n    }\n    /**\n     * Returns the current source object.\n     *\n     * @return {Tech~SourceObject}\n     *         The current source object\n     */\n    ;\n\n    _proto.currentSource = function currentSource() {\n      return this.cache_.source || {};\n    }\n    /**\n     * Returns the fully qualified URL of the current source value e.g. http://mysite.com/video.mp4\n     * Can be used in conjunction with `currentType` to assist in rebuilding the current source object.\n     *\n     * @return {string}\n     *         The current source\n     */\n    ;\n\n    _proto.currentSrc = function currentSrc() {\n      return this.currentSource() && this.currentSource().src || '';\n    }\n    /**\n     * Get the current source type e.g. video/mp4\n     * This can allow you rebuild the current source object so that you could load the same\n     * source and tech later\n     *\n     * @return {string}\n     *         The source MIME type\n     */\n    ;\n\n    _proto.currentType = function currentType() {\n      return this.currentSource() && this.currentSource().type || '';\n    }\n    /**\n     * Get or set the preload attribute\n     *\n     * @param {boolean} [value]\n     *        - true means that we should preload\n     *        - false means that we should not preload\n     *\n     * @return {string}\n     *         The preload attribute value when getting\n     */\n    ;\n\n    _proto.preload = function preload(value) {\n      if (value !== undefined) {\n        this.techCall_('setPreload', value);\n        this.options_.preload = value;\n        return;\n      }\n\n      return this.techGet_('preload');\n    }\n    /**\n     * Get or set the autoplay option. When this is a boolean it will\n     * modify the attribute on the tech. When this is a string the attribute on\n     * the tech will be removed and `Player` will handle autoplay on loadstarts.\n     *\n     * @param {boolean|string} [value]\n     *        - true: autoplay using the browser behavior\n     *        - false: do not autoplay\n     *        - 'play': call play() on every loadstart\n     *        - 'muted': call muted() then play() on every loadstart\n     *        - 'any': call play() on every loadstart. if that fails call muted() then play().\n     *        - *: values other than those listed here will be set `autoplay` to true\n     *\n     * @return {boolean|string}\n     *         The current value of autoplay when getting\n     */\n    ;\n\n    _proto.autoplay = function autoplay(value) {\n      // getter usage\n      if (value === undefined) {\n        return this.options_.autoplay || false;\n      }\n\n      var techAutoplay; // if the value is a valid string set it to that\n\n      if (typeof value === 'string' && /(any|play|muted)/.test(value)) {\n        this.options_.autoplay = value;\n        this.manualAutoplay_(value);\n        techAutoplay = false; // any falsy value sets autoplay to false in the browser,\n        // lets do the same\n      } else if (!value) {\n        this.options_.autoplay = false; // any other value (ie truthy) sets autoplay to true\n      } else {\n        this.options_.autoplay = true;\n      }\n\n      techAutoplay = typeof techAutoplay === 'undefined' ? this.options_.autoplay : techAutoplay; // if we don't have a tech then we do not queue up\n      // a setAutoplay call on tech ready. We do this because the\n      // autoplay option will be passed in the constructor and we\n      // do not need to set it twice\n\n      if (this.tech_) {\n        this.techCall_('setAutoplay', techAutoplay);\n      }\n    }\n    /**\n     * Set or unset the playsinline attribute.\n     * Playsinline tells the browser that non-fullscreen playback is preferred.\n     *\n     * @param {boolean} [value]\n     *        - true means that we should try to play inline by default\n     *        - false means that we should use the browser's default playback mode,\n     *          which in most cases is inline. iOS Safari is a notable exception\n     *          and plays fullscreen by default.\n     *\n     * @return {string|Player}\n     *         - the current value of playsinline\n     *         - the player when setting\n     *\n     * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n     */\n    ;\n\n    _proto.playsinline = function playsinline(value) {\n      if (value !== undefined) {\n        this.techCall_('setPlaysinline', value);\n        this.options_.playsinline = value;\n        return this;\n      }\n\n      return this.techGet_('playsinline');\n    }\n    /**\n     * Get or set the loop attribute on the video element.\n     *\n     * @param {boolean} [value]\n     *        - true means that we should loop the video\n     *        - false means that we should not loop the video\n     *\n     * @return {boolean}\n     *         The current value of loop when getting\n     */\n    ;\n\n    _proto.loop = function loop(value) {\n      if (value !== undefined) {\n        this.techCall_('setLoop', value);\n        this.options_.loop = value;\n        return;\n      }\n\n      return this.techGet_('loop');\n    }\n    /**\n     * Get or set the poster image source url\n     *\n     * @fires Player#posterchange\n     *\n     * @param {string} [src]\n     *        Poster image source URL\n     *\n     * @return {string}\n     *         The current value of poster when getting\n     */\n    ;\n\n    _proto.poster = function poster(src) {\n      if (src === undefined) {\n        return this.poster_;\n      } // The correct way to remove a poster is to set as an empty string\n      // other falsey values will throw errors\n\n\n      if (!src) {\n        src = '';\n      }\n\n      if (src === this.poster_) {\n        return;\n      } // update the internal poster variable\n\n\n      this.poster_ = src; // update the tech's poster\n\n      this.techCall_('setPoster', src);\n      this.isPosterFromTech_ = false; // alert components that the poster has been set\n\n      /**\n       * This event fires when the poster image is changed on the player.\n       *\n       * @event Player#posterchange\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('posterchange');\n    }\n    /**\n     * Some techs (e.g. YouTube) can provide a poster source in an\n     * asynchronous way. We want the poster component to use this\n     * poster source so that it covers up the tech's controls.\n     * (YouTube's play button). However we only want to use this\n     * source if the player user hasn't set a poster through\n     * the normal APIs.\n     *\n     * @fires Player#posterchange\n     * @listens Tech#posterchange\n     * @private\n     */\n    ;\n\n    _proto.handleTechPosterChange_ = function handleTechPosterChange_() {\n      if ((!this.poster_ || this.options_.techCanOverridePoster) && this.tech_ && this.tech_.poster) {\n        var newPoster = this.tech_.poster() || '';\n\n        if (newPoster !== this.poster_) {\n          this.poster_ = newPoster;\n          this.isPosterFromTech_ = true; // Let components know the poster has changed\n\n          this.trigger('posterchange');\n        }\n      }\n    }\n    /**\n     * Get or set whether or not the controls are showing.\n     *\n     * @fires Player#controlsenabled\n     *\n     * @param {boolean} [bool]\n     *        - true to turn controls on\n     *        - false to turn controls off\n     *\n     * @return {boolean}\n     *         The current value of controls when getting\n     */\n    ;\n\n    _proto.controls = function controls(bool) {\n      if (bool === undefined) {\n        return !!this.controls_;\n      }\n\n      bool = !!bool; // Don't trigger a change event unless it actually changed\n\n      if (this.controls_ === bool) {\n        return;\n      }\n\n      this.controls_ = bool;\n\n      if (this.usingNativeControls()) {\n        this.techCall_('setControls', bool);\n      }\n\n      if (this.controls_) {\n        this.removeClass('vjs-controls-disabled');\n        this.addClass('vjs-controls-enabled');\n        /**\n         * @event Player#controlsenabled\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('controlsenabled');\n\n        if (!this.usingNativeControls()) {\n          this.addTechControlsListeners_();\n        }\n      } else {\n        this.removeClass('vjs-controls-enabled');\n        this.addClass('vjs-controls-disabled');\n        /**\n         * @event Player#controlsdisabled\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('controlsdisabled');\n\n        if (!this.usingNativeControls()) {\n          this.removeTechControlsListeners_();\n        }\n      }\n    }\n    /**\n     * Toggle native controls on/off. Native controls are the controls built into\n     * devices (e.g. default iPhone controls), Flash, or other techs\n     * (e.g. Vimeo Controls)\n     * **This should only be set by the current tech, because only the tech knows\n     * if it can support native controls**\n     *\n     * @fires Player#usingnativecontrols\n     * @fires Player#usingcustomcontrols\n     *\n     * @param {boolean} [bool]\n     *        - true to turn native controls on\n     *        - false to turn native controls off\n     *\n     * @return {boolean}\n     *         The current value of native controls when getting\n     */\n    ;\n\n    _proto.usingNativeControls = function usingNativeControls(bool) {\n      if (bool === undefined) {\n        return !!this.usingNativeControls_;\n      }\n\n      bool = !!bool; // Don't trigger a change event unless it actually changed\n\n      if (this.usingNativeControls_ === bool) {\n        return;\n      }\n\n      this.usingNativeControls_ = bool;\n\n      if (this.usingNativeControls_) {\n        this.addClass('vjs-using-native-controls');\n        /**\n         * player is using the native device controls\n         *\n         * @event Player#usingnativecontrols\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('usingnativecontrols');\n      } else {\n        this.removeClass('vjs-using-native-controls');\n        /**\n         * player is using the custom HTML controls\n         *\n         * @event Player#usingcustomcontrols\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('usingcustomcontrols');\n      }\n    }\n    /**\n     * Set or get the current MediaError\n     *\n     * @fires Player#error\n     *\n     * @param  {MediaError|string|number} [err]\n     *         A MediaError or a string/number to be turned\n     *         into a MediaError\n     *\n     * @return {MediaError|null}\n     *         The current MediaError when getting (or null)\n     */\n    ;\n\n    _proto.error = function error(err) {\n      if (err === undefined) {\n        return this.error_ || null;\n      } // Suppress the first error message for no compatible source until\n      // user interaction\n\n\n      if (this.options_.suppressNotSupportedError && err && err.message && err.message === this.localize(this.options_.notSupportedMessage)) {\n        var triggerSuppressedError = function triggerSuppressedError() {\n          this.error(err);\n        };\n\n        this.options_.suppressNotSupportedError = false;\n        this.any(['click', 'touchstart'], triggerSuppressedError);\n        this.one('loadstart', function () {\n          this.off(['click', 'touchstart'], triggerSuppressedError);\n        });\n        return;\n      } // restoring to default\n\n\n      if (err === null) {\n        this.error_ = err;\n        this.removeClass('vjs-error');\n\n        if (this.errorDisplay) {\n          this.errorDisplay.close();\n        }\n\n        return;\n      }\n\n      this.error_ = new MediaError(err); // add the vjs-error classname to the player\n\n      this.addClass('vjs-error'); // log the name of the error type and any message\n      // IE11 logs \"[object object]\" and required you to expand message to see error object\n\n      log.error(\"(CODE:\" + this.error_.code + \" \" + MediaError.errorTypes[this.error_.code] + \")\", this.error_.message, this.error_);\n      /**\n       * @event Player#error\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('error');\n      return;\n    }\n    /**\n     * Report user activity\n     *\n     * @param {Object} event\n     *        Event object\n     */\n    ;\n\n    _proto.reportUserActivity = function reportUserActivity(event) {\n      this.userActivity_ = true;\n    }\n    /**\n     * Get/set if user is active\n     *\n     * @fires Player#useractive\n     * @fires Player#userinactive\n     *\n     * @param {boolean} [bool]\n     *        - true if the user is active\n     *        - false if the user is inactive\n     *\n     * @return {boolean}\n     *         The current value of userActive when getting\n     */\n    ;\n\n    _proto.userActive = function userActive(bool) {\n      if (bool === undefined) {\n        return this.userActive_;\n      }\n\n      bool = !!bool;\n\n      if (bool === this.userActive_) {\n        return;\n      }\n\n      this.userActive_ = bool;\n\n      if (this.userActive_) {\n        this.userActivity_ = true;\n        this.removeClass('vjs-user-inactive');\n        this.addClass('vjs-user-active');\n        /**\n         * @event Player#useractive\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('useractive');\n        return;\n      } // Chrome/Safari/IE have bugs where when you change the cursor it can\n      // trigger a mousemove event. This causes an issue when you're hiding\n      // the cursor when the user is inactive, and a mousemove signals user\n      // activity. Making it impossible to go into inactive mode. Specifically\n      // this happens in fullscreen when we really need to hide the cursor.\n      //\n      // When this gets resolved in ALL browsers it can be removed\n      // https://code.google.com/p/chromium/issues/detail?id=103041\n\n\n      if (this.tech_) {\n        this.tech_.one('mousemove', function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n        });\n      }\n\n      this.userActivity_ = false;\n      this.removeClass('vjs-user-active');\n      this.addClass('vjs-user-inactive');\n      /**\n       * @event Player#userinactive\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('userinactive');\n    }\n    /**\n     * Listen for user activity based on timeout value\n     *\n     * @private\n     */\n    ;\n\n    _proto.listenForUserActivity_ = function listenForUserActivity_() {\n      var mouseInProgress;\n      var lastMoveX;\n      var lastMoveY;\n      var handleActivity = bind(this, this.reportUserActivity);\n\n      var handleMouseMove = function handleMouseMove(e) {\n        // #1068 - Prevent mousemove spamming\n        // Chrome Bug: https://code.google.com/p/chromium/issues/detail?id=366970\n        if (e.screenX !== lastMoveX || e.screenY !== lastMoveY) {\n          lastMoveX = e.screenX;\n          lastMoveY = e.screenY;\n          handleActivity();\n        }\n      };\n\n      var handleMouseDown = function handleMouseDown() {\n        handleActivity(); // For as long as the they are touching the device or have their mouse down,\n        // we consider them active even if they're not moving their finger or mouse.\n        // So we want to continue to update that they are active\n\n        this.clearInterval(mouseInProgress); // Setting userActivity=true now and setting the interval to the same time\n        // as the activityCheck interval (250) should ensure we never miss the\n        // next activityCheck\n\n        mouseInProgress = this.setInterval(handleActivity, 250);\n      };\n\n      var handleMouseUp = function handleMouseUp(event) {\n        handleActivity(); // Stop the interval that maintains activity if the mouse/touch is down\n\n        this.clearInterval(mouseInProgress);\n      }; // Any mouse movement will be considered user activity\n\n\n      this.on('mousedown', handleMouseDown);\n      this.on('mousemove', handleMouseMove);\n      this.on('mouseup', handleMouseUp);\n      var controlBar = this.getChild('controlBar'); // Fixes bug on Android & iOS where when tapping progressBar (when control bar is displayed)\n      // controlBar would no longer be hidden by default timeout.\n\n      if (controlBar && !IS_IOS && !IS_ANDROID) {\n        controlBar.on('mouseenter', function (event) {\n          this.player().cache_.inactivityTimeout = this.player().options_.inactivityTimeout;\n          this.player().options_.inactivityTimeout = 0;\n        });\n        controlBar.on('mouseleave', function (event) {\n          this.player().options_.inactivityTimeout = this.player().cache_.inactivityTimeout;\n        });\n      } // Listen for keyboard navigation\n      // Shouldn't need to use inProgress interval because of key repeat\n\n\n      this.on('keydown', handleActivity);\n      this.on('keyup', handleActivity); // Run an interval every 250 milliseconds instead of stuffing everything into\n      // the mousemove/touchmove function itself, to prevent performance degradation.\n      // `this.reportUserActivity` simply sets this.userActivity_ to true, which\n      // then gets picked up by this loop\n      // http://ejohn.org/blog/learning-from-twitter/\n\n      var inactivityTimeout;\n      this.setInterval(function () {\n        // Check to see if mouse/touch activity has happened\n        if (!this.userActivity_) {\n          return;\n        } // Reset the activity tracker\n\n\n        this.userActivity_ = false; // If the user state was inactive, set the state to active\n\n        this.userActive(true); // Clear any existing inactivity timeout to start the timer over\n\n        this.clearTimeout(inactivityTimeout);\n        var timeout = this.options_.inactivityTimeout;\n\n        if (timeout <= 0) {\n          return;\n        } // In <timeout> milliseconds, if no more activity has occurred the\n        // user will be considered inactive\n\n\n        inactivityTimeout = this.setTimeout(function () {\n          // Protect against the case where the inactivityTimeout can trigger just\n          // before the next user activity is picked up by the activity check loop\n          // causing a flicker\n          if (!this.userActivity_) {\n            this.userActive(false);\n          }\n        }, timeout);\n      }, 250);\n    }\n    /**\n     * Gets or sets the current playback rate. A playback rate of\n     * 1.0 represents normal speed and 0.5 would indicate half-speed\n     * playback, for instance.\n     *\n     * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-playbackrate\n     *\n     * @param {number} [rate]\n     *       New playback rate to set.\n     *\n     * @return {number}\n     *         The current playback rate when getting or 1.0\n     */\n    ;\n\n    _proto.playbackRate = function playbackRate(rate) {\n      if (rate !== undefined) {\n        // NOTE: this.cache_.lastPlaybackRate is set from the tech handler\n        // that is registered above\n        this.techCall_('setPlaybackRate', rate);\n        return;\n      }\n\n      if (this.tech_ && this.tech_.featuresPlaybackRate) {\n        return this.cache_.lastPlaybackRate || this.techGet_('playbackRate');\n      }\n\n      return 1.0;\n    }\n    /**\n     * Gets or sets the current default playback rate. A default playback rate of\n     * 1.0 represents normal speed and 0.5 would indicate half-speed playback, for instance.\n     * defaultPlaybackRate will only represent what the initial playbackRate of a video was, not\n     * not the current playbackRate.\n     *\n     * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-defaultplaybackrate\n     *\n     * @param {number} [rate]\n     *       New default playback rate to set.\n     *\n     * @return {number|Player}\n     *         - The default playback rate when getting or 1.0\n     *         - the player when setting\n     */\n    ;\n\n    _proto.defaultPlaybackRate = function defaultPlaybackRate(rate) {\n      if (rate !== undefined) {\n        return this.techCall_('setDefaultPlaybackRate', rate);\n      }\n\n      if (this.tech_ && this.tech_.featuresPlaybackRate) {\n        return this.techGet_('defaultPlaybackRate');\n      }\n\n      return 1.0;\n    }\n    /**\n     * Gets or sets the audio flag\n     *\n     * @param {boolean} bool\n     *        - true signals that this is an audio player\n     *        - false signals that this is not an audio player\n     *\n     * @return {boolean}\n     *         The current value of isAudio when getting\n     */\n    ;\n\n    _proto.isAudio = function isAudio(bool) {\n      if (bool !== undefined) {\n        this.isAudio_ = !!bool;\n        return;\n      }\n\n      return !!this.isAudio_;\n    }\n    /**\n     * A helper method for adding a {@link TextTrack} to our\n     * {@link TextTrackList}.\n     *\n     * In addition to the W3C settings we allow adding additional info through options.\n     *\n     * @see http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-addtexttrack\n     *\n     * @param {string} [kind]\n     *        the kind of TextTrack you are adding\n     *\n     * @param {string} [label]\n     *        the label to give the TextTrack label\n     *\n     * @param {string} [language]\n     *        the language to set on the TextTrack\n     *\n     * @return {TextTrack|undefined}\n     *         the TextTrack that was added or undefined\n     *         if there is no tech\n     */\n    ;\n\n    _proto.addTextTrack = function addTextTrack(kind, label, language) {\n      if (this.tech_) {\n        return this.tech_.addTextTrack(kind, label, language);\n      }\n    }\n    /**\n     * Create a remote {@link TextTrack} and an {@link HTMLTrackElement}. It will\n     * automatically removed from the video element whenever the source changes, unless\n     * manualCleanup is set to false.\n     *\n     * @param {Object} options\n     *        Options to pass to {@link HTMLTrackElement} during creation. See\n     *        {@link HTMLTrackElement} for object properties that you should use.\n     *\n     * @param {boolean} [manualCleanup=true] if set to false, the TextTrack will be\n     *\n     * @return {HtmlTrackElement}\n     *         the HTMLTrackElement that was created and added\n     *         to the HtmlTrackElementList and the remote\n     *         TextTrackList\n     *\n     * @deprecated The default value of the \"manualCleanup\" parameter will default\n     *             to \"false\" in upcoming versions of Video.js\n     */\n    ;\n\n    _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n      if (this.tech_) {\n        return this.tech_.addRemoteTextTrack(options, manualCleanup);\n      }\n    }\n    /**\n     * Remove a remote {@link TextTrack} from the respective\n     * {@link TextTrackList} and {@link HtmlTrackElementList}.\n     *\n     * @param {Object} track\n     *        Remote {@link TextTrack} to remove\n     *\n     * @return {undefined}\n     *         does not return anything\n     */\n    ;\n\n    _proto.removeRemoteTextTrack = function removeRemoteTextTrack(obj) {\n      if (obj === void 0) {\n        obj = {};\n      }\n\n      var _obj = obj,\n          track = _obj.track;\n\n      if (!track) {\n        track = obj;\n      } // destructure the input into an object with a track argument, defaulting to arguments[0]\n      // default the whole argument to an empty object if nothing was passed in\n\n\n      if (this.tech_) {\n        return this.tech_.removeRemoteTextTrack(track);\n      }\n    }\n    /**\n     * Gets available media playback quality metrics as specified by the W3C's Media\n     * Playback Quality API.\n     *\n     * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n     *\n     * @return {Object|undefined}\n     *         An object with supported media playback quality metrics or undefined if there\n     *         is no tech or the tech does not support it.\n     */\n    ;\n\n    _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n      return this.techGet_('getVideoPlaybackQuality');\n    }\n    /**\n     * Get video width\n     *\n     * @return {number}\n     *         current video width\n     */\n    ;\n\n    _proto.videoWidth = function videoWidth() {\n      return this.tech_ && this.tech_.videoWidth && this.tech_.videoWidth() || 0;\n    }\n    /**\n     * Get video height\n     *\n     * @return {number}\n     *         current video height\n     */\n    ;\n\n    _proto.videoHeight = function videoHeight() {\n      return this.tech_ && this.tech_.videoHeight && this.tech_.videoHeight() || 0;\n    }\n    /**\n     * The player's language code\n     * NOTE: The language should be set in the player options if you want the\n     * the controls to be built with a specific language. Changing the language\n     * later will not update controls text.\n     *\n     * @param {string} [code]\n     *        the language code to set the player to\n     *\n     * @return {string}\n     *         The current language code when getting\n     */\n    ;\n\n    _proto.language = function language(code) {\n      if (code === undefined) {\n        return this.language_;\n      }\n\n      this.language_ = String(code).toLowerCase();\n    }\n    /**\n     * Get the player's language dictionary\n     * Merge every time, because a newly added plugin might call videojs.addLanguage() at any time\n     * Languages specified directly in the player options have precedence\n     *\n     * @return {Array}\n     *         An array of of supported languages\n     */\n    ;\n\n    _proto.languages = function languages() {\n      return mergeOptions(Player.prototype.options_.languages, this.languages_);\n    }\n    /**\n     * returns a JavaScript object reperesenting the current track\n     * information. **DOES not return it as JSON**\n     *\n     * @return {Object}\n     *         Object representing the current of track info\n     */\n    ;\n\n    _proto.toJSON = function toJSON() {\n      var options = mergeOptions(this.options_);\n      var tracks = options.tracks;\n      options.tracks = [];\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i]; // deep merge tracks and null out player so no circular references\n\n        track = mergeOptions(track);\n        track.player = undefined;\n        options.tracks[i] = track;\n      }\n\n      return options;\n    }\n    /**\n     * Creates a simple modal dialog (an instance of the {@link ModalDialog}\n     * component) that immediately overlays the player with arbitrary\n     * content and removes itself when closed.\n     *\n     * @param {string|Function|Element|Array|null} content\n     *        Same as {@link ModalDialog#content}'s param of the same name.\n     *        The most straight-forward usage is to provide a string or DOM\n     *        element.\n     *\n     * @param {Object} [options]\n     *        Extra options which will be passed on to the {@link ModalDialog}.\n     *\n     * @return {ModalDialog}\n     *         the {@link ModalDialog} that was created\n     */\n    ;\n\n    _proto.createModal = function createModal(content, options) {\n      var _this14 = this;\n\n      options = options || {};\n      options.content = content || '';\n      var modal = new ModalDialog(this, options);\n      this.addChild(modal);\n      modal.on('dispose', function () {\n        _this14.removeChild(modal);\n      });\n      modal.open();\n      return modal;\n    }\n    /**\n     * Change breakpoint classes when the player resizes.\n     *\n     * @private\n     */\n    ;\n\n    _proto.updateCurrentBreakpoint_ = function updateCurrentBreakpoint_() {\n      if (!this.responsive()) {\n        return;\n      }\n\n      var currentBreakpoint = this.currentBreakpoint();\n      var currentWidth = this.currentWidth();\n\n      for (var i = 0; i < BREAKPOINT_ORDER.length; i++) {\n        var candidateBreakpoint = BREAKPOINT_ORDER[i];\n        var maxWidth = this.breakpoints_[candidateBreakpoint];\n\n        if (currentWidth <= maxWidth) {\n          // The current breakpoint did not change, nothing to do.\n          if (currentBreakpoint === candidateBreakpoint) {\n            return;\n          } // Only remove a class if there is a current breakpoint.\n\n\n          if (currentBreakpoint) {\n            this.removeClass(BREAKPOINT_CLASSES[currentBreakpoint]);\n          }\n\n          this.addClass(BREAKPOINT_CLASSES[candidateBreakpoint]);\n          this.breakpoint_ = candidateBreakpoint;\n          break;\n        }\n      }\n    }\n    /**\n     * Removes the current breakpoint.\n     *\n     * @private\n     */\n    ;\n\n    _proto.removeCurrentBreakpoint_ = function removeCurrentBreakpoint_() {\n      var className = this.currentBreakpointClass();\n      this.breakpoint_ = '';\n\n      if (className) {\n        this.removeClass(className);\n      }\n    }\n    /**\n     * Get or set breakpoints on the player.\n     *\n     * Calling this method with an object or `true` will remove any previous\n     * custom breakpoints and start from the defaults again.\n     *\n     * @param  {Object|boolean} [breakpoints]\n     *         If an object is given, it can be used to provide custom\n     *         breakpoints. If `true` is given, will set default breakpoints.\n     *         If this argument is not given, will simply return the current\n     *         breakpoints.\n     *\n     * @param  {number} [breakpoints.tiny]\n     *         The maximum width for the \"vjs-layout-tiny\" class.\n     *\n     * @param  {number} [breakpoints.xsmall]\n     *         The maximum width for the \"vjs-layout-x-small\" class.\n     *\n     * @param  {number} [breakpoints.small]\n     *         The maximum width for the \"vjs-layout-small\" class.\n     *\n     * @param  {number} [breakpoints.medium]\n     *         The maximum width for the \"vjs-layout-medium\" class.\n     *\n     * @param  {number} [breakpoints.large]\n     *         The maximum width for the \"vjs-layout-large\" class.\n     *\n     * @param  {number} [breakpoints.xlarge]\n     *         The maximum width for the \"vjs-layout-x-large\" class.\n     *\n     * @param  {number} [breakpoints.huge]\n     *         The maximum width for the \"vjs-layout-huge\" class.\n     *\n     * @return {Object}\n     *         An object mapping breakpoint names to maximum width values.\n     */\n    ;\n\n    _proto.breakpoints = function breakpoints(_breakpoints) {\n      // Used as a getter.\n      if (_breakpoints === undefined) {\n        return assign(this.breakpoints_);\n      }\n\n      this.breakpoint_ = '';\n      this.breakpoints_ = assign({}, DEFAULT_BREAKPOINTS, _breakpoints); // When breakpoint definitions change, we need to update the currently\n      // selected breakpoint.\n\n      this.updateCurrentBreakpoint_(); // Clone the breakpoints before returning.\n\n      return assign(this.breakpoints_);\n    }\n    /**\n     * Get or set a flag indicating whether or not this player should adjust\n     * its UI based on its dimensions.\n     *\n     * @param  {boolean} value\n     *         Should be `true` if the player should adjust its UI based on its\n     *         dimensions; otherwise, should be `false`.\n     *\n     * @return {boolean}\n     *         Will be `true` if this player should adjust its UI based on its\n     *         dimensions; otherwise, will be `false`.\n     */\n    ;\n\n    _proto.responsive = function responsive(value) {\n      // Used as a getter.\n      if (value === undefined) {\n        return this.responsive_;\n      }\n\n      value = Boolean(value);\n      var current = this.responsive_; // Nothing changed.\n\n      if (value === current) {\n        return;\n      } // The value actually changed, set it.\n\n\n      this.responsive_ = value; // Start listening for breakpoints and set the initial breakpoint if the\n      // player is now responsive.\n\n      if (value) {\n        this.on('playerresize', this.updateCurrentBreakpoint_);\n        this.updateCurrentBreakpoint_(); // Stop listening for breakpoints if the player is no longer responsive.\n      } else {\n        this.off('playerresize', this.updateCurrentBreakpoint_);\n        this.removeCurrentBreakpoint_();\n      }\n\n      return value;\n    }\n    /**\n     * Get current breakpoint name, if any.\n     *\n     * @return {string}\n     *         If there is currently a breakpoint set, returns a the key from the\n     *         breakpoints object matching it. Otherwise, returns an empty string.\n     */\n    ;\n\n    _proto.currentBreakpoint = function currentBreakpoint() {\n      return this.breakpoint_;\n    }\n    /**\n     * Get the current breakpoint class name.\n     *\n     * @return {string}\n     *         The matching class name (e.g. `\"vjs-layout-tiny\"` or\n     *         `\"vjs-layout-large\"`) for the current breakpoint. Empty string if\n     *         there is no current breakpoint.\n     */\n    ;\n\n    _proto.currentBreakpointClass = function currentBreakpointClass() {\n      return BREAKPOINT_CLASSES[this.breakpoint_] || '';\n    }\n    /**\n     * An object that describes a single piece of media.\n     *\n     * Properties that are not part of this type description will be retained; so,\n     * this can be viewed as a generic metadata storage mechanism as well.\n     *\n     * @see      {@link https://wicg.github.io/mediasession/#the-mediametadata-interface}\n     * @typedef  {Object} Player~MediaObject\n     *\n     * @property {string} [album]\n     *           Unused, except if this object is passed to the `MediaSession`\n     *           API.\n     *\n     * @property {string} [artist]\n     *           Unused, except if this object is passed to the `MediaSession`\n     *           API.\n     *\n     * @property {Object[]} [artwork]\n     *           Unused, except if this object is passed to the `MediaSession`\n     *           API. If not specified, will be populated via the `poster`, if\n     *           available.\n     *\n     * @property {string} [poster]\n     *           URL to an image that will display before playback.\n     *\n     * @property {Tech~SourceObject|Tech~SourceObject[]|string} [src]\n     *           A single source object, an array of source objects, or a string\n     *           referencing a URL to a media source. It is _highly recommended_\n     *           that an object or array of objects is used here, so that source\n     *           selection algorithms can take the `type` into account.\n     *\n     * @property {string} [title]\n     *           Unused, except if this object is passed to the `MediaSession`\n     *           API.\n     *\n     * @property {Object[]} [textTracks]\n     *           An array of objects to be used to create text tracks, following\n     *           the {@link https://www.w3.org/TR/html50/embedded-content-0.html#the-track-element|native track element format}.\n     *           For ease of removal, these will be created as \"remote\" text\n     *           tracks and set to automatically clean up on source changes.\n     *\n     *           These objects may have properties like `src`, `kind`, `label`,\n     *           and `language`, see {@link Tech#createRemoteTextTrack}.\n     */\n\n    /**\n     * Populate the player using a {@link Player~MediaObject|MediaObject}.\n     *\n     * @param  {Player~MediaObject} media\n     *         A media object.\n     *\n     * @param  {Function} ready\n     *         A callback to be called when the player is ready.\n     */\n    ;\n\n    _proto.loadMedia = function loadMedia(media, ready) {\n      var _this15 = this;\n\n      if (!media || typeof media !== 'object') {\n        return;\n      }\n\n      this.reset(); // Clone the media object so it cannot be mutated from outside.\n\n      this.cache_.media = mergeOptions(media);\n      var _this$cache_$media = this.cache_.media,\n          artwork = _this$cache_$media.artwork,\n          poster = _this$cache_$media.poster,\n          src = _this$cache_$media.src,\n          textTracks = _this$cache_$media.textTracks; // If `artwork` is not given, create it using `poster`.\n\n      if (!artwork && poster) {\n        this.cache_.media.artwork = [{\n          src: poster,\n          type: getMimetype(poster)\n        }];\n      }\n\n      if (src) {\n        this.src(src);\n      }\n\n      if (poster) {\n        this.poster(poster);\n      }\n\n      if (Array.isArray(textTracks)) {\n        textTracks.forEach(function (tt) {\n          return _this15.addRemoteTextTrack(tt, false);\n        });\n      }\n\n      this.ready(ready);\n    }\n    /**\n     * Get a clone of the current {@link Player~MediaObject} for this player.\n     *\n     * If the `loadMedia` method has not been used, will attempt to return a\n     * {@link Player~MediaObject} based on the current state of the player.\n     *\n     * @return {Player~MediaObject}\n     */\n    ;\n\n    _proto.getMedia = function getMedia() {\n      if (!this.cache_.media) {\n        var poster = this.poster();\n        var src = this.currentSources();\n        var textTracks = Array.prototype.map.call(this.remoteTextTracks(), function (tt) {\n          return {\n            kind: tt.kind,\n            label: tt.label,\n            language: tt.language,\n            src: tt.src\n          };\n        });\n        var media = {\n          src: src,\n          textTracks: textTracks\n        };\n\n        if (poster) {\n          media.poster = poster;\n          media.artwork = [{\n            src: media.poster,\n            type: getMimetype(media.poster)\n          }];\n        }\n\n        return media;\n      }\n\n      return mergeOptions(this.cache_.media);\n    }\n    /**\n     * Gets tag settings\n     *\n     * @param {Element} tag\n     *        The player tag\n     *\n     * @return {Object}\n     *         An object containing all of the settings\n     *         for a player tag\n     */\n    ;\n\n    Player.getTagSettings = function getTagSettings(tag) {\n      var baseOptions = {\n        sources: [],\n        tracks: []\n      };\n      var tagOptions = getAttributes(tag);\n      var dataSetup = tagOptions['data-setup'];\n\n      if (hasClass(tag, 'vjs-fill')) {\n        tagOptions.fill = true;\n      }\n\n      if (hasClass(tag, 'vjs-fluid')) {\n        tagOptions.fluid = true;\n      } // Check if data-setup attr exists.\n\n\n      if (dataSetup !== null) {\n        // Parse options JSON\n        // If empty string, make it a parsable json object.\n        var _safeParseTuple = tuple(dataSetup || '{}'),\n            err = _safeParseTuple[0],\n            data = _safeParseTuple[1];\n\n        if (err) {\n          log.error(err);\n        }\n\n        assign(tagOptions, data);\n      }\n\n      assign(baseOptions, tagOptions); // Get tag children settings\n\n      if (tag.hasChildNodes()) {\n        var children = tag.childNodes;\n\n        for (var i = 0, j = children.length; i < j; i++) {\n          var child = children[i]; // Change case needed: http://ejohn.org/blog/nodename-case-sensitivity/\n\n          var childName = child.nodeName.toLowerCase();\n\n          if (childName === 'source') {\n            baseOptions.sources.push(getAttributes(child));\n          } else if (childName === 'track') {\n            baseOptions.tracks.push(getAttributes(child));\n          }\n        }\n      }\n\n      return baseOptions;\n    }\n    /**\n     * Determine whether or not flexbox is supported\n     *\n     * @return {boolean}\n     *         - true if flexbox is supported\n     *         - false if flexbox is not supported\n     */\n    ;\n\n    _proto.flexNotSupported_ = function flexNotSupported_() {\n      var elem = document.createElement('i'); // Note: We don't actually use flexBasis (or flexOrder), but it's one of the more\n      // common flex features that we can rely on when checking for flex support.\n\n      return !('flexBasis' in elem.style || 'webkitFlexBasis' in elem.style || 'mozFlexBasis' in elem.style || 'msFlexBasis' in elem.style || // IE10-specific (2012 flex spec), available for completeness\n      'msFlexOrder' in elem.style);\n    };\n\n    return Player;\n  }(Component);\n  /**\n   * Get the {@link VideoTrackList}\n   * @link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist\n   *\n   * @return {VideoTrackList}\n   *         the current video track list\n   *\n   * @method Player.prototype.videoTracks\n   */\n\n  /**\n   * Get the {@link AudioTrackList}\n   * @link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist\n   *\n   * @return {AudioTrackList}\n   *         the current audio track list\n   *\n   * @method Player.prototype.audioTracks\n   */\n\n  /**\n   * Get the {@link TextTrackList}\n   *\n   * @link http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-texttracks\n   *\n   * @return {TextTrackList}\n   *         the current text track list\n   *\n   * @method Player.prototype.textTracks\n   */\n\n  /**\n   * Get the remote {@link TextTrackList}\n   *\n   * @return {TextTrackList}\n   *         The current remote text track list\n   *\n   * @method Player.prototype.remoteTextTracks\n   */\n\n  /**\n   * Get the remote {@link HtmlTrackElementList} tracks.\n   *\n   * @return {HtmlTrackElementList}\n   *         The current remote text track element list\n   *\n   * @method Player.prototype.remoteTextTrackEls\n   */\n\n\n  ALL.names.forEach(function (name) {\n    var props = ALL[name];\n\n    Player.prototype[props.getterName] = function () {\n      if (this.tech_) {\n        return this.tech_[props.getterName]();\n      } // if we have not yet loadTech_, we create {video,audio,text}Tracks_\n      // these will be passed to the tech during loading\n\n\n      this[props.privateName] = this[props.privateName] || new props.ListClass();\n      return this[props.privateName];\n    };\n  });\n  /**\n   * Global enumeration of players.\n   *\n   * The keys are the player IDs and the values are either the {@link Player}\n   * instance or `null` for disposed players.\n   *\n   * @type {Object}\n   */\n\n  Player.players = {};\n  var navigator = window$1.navigator;\n  /*\n   * Player instance options, surfaced using options\n   * options = Player.prototype.options_\n   * Make changes in options, not here.\n   *\n   * @type {Object}\n   * @private\n   */\n\n  Player.prototype.options_ = {\n    // Default order of fallback technology\n    techOrder: Tech.defaultTechOrder_,\n    html5: {},\n    flash: {},\n    // default inactivity timeout\n    inactivityTimeout: 2000,\n    // default playback rates\n    playbackRates: [],\n    // Add playback rate selection by adding rates\n    // 'playbackRates': [0.5, 1, 1.5, 2],\n    liveui: false,\n    // Included control sets\n    children: ['mediaLoader', 'posterImage', 'textTrackDisplay', 'loadingSpinner', 'bigPlayButton', 'liveTracker', 'controlBar', 'errorDisplay', 'textTrackSettings', 'resizeManager'],\n    language: navigator && (navigator.languages && navigator.languages[0] || navigator.userLanguage || navigator.language) || 'en',\n    // locales and their language translations\n    languages: {},\n    // Default message to show when a video cannot be played.\n    notSupportedMessage: 'No compatible source was found for this media.',\n    fullscreen: {\n      options: {\n        navigationUI: 'hide'\n      }\n    },\n    breakpoints: {},\n    responsive: false\n  };\n  [\n  /**\n   * Returns whether or not the player is in the \"ended\" state.\n   *\n   * @return {Boolean} True if the player is in the ended state, false if not.\n   * @method Player#ended\n   */\n  'ended',\n  /**\n   * Returns whether or not the player is in the \"seeking\" state.\n   *\n   * @return {Boolean} True if the player is in the seeking state, false if not.\n   * @method Player#seeking\n   */\n  'seeking',\n  /**\n   * Returns the TimeRanges of the media that are currently available\n   * for seeking to.\n   *\n   * @return {TimeRanges} the seekable intervals of the media timeline\n   * @method Player#seekable\n   */\n  'seekable',\n  /**\n   * Returns the current state of network activity for the element, from\n   * the codes in the list below.\n   * - NETWORK_EMPTY (numeric value 0)\n   *   The element has not yet been initialised. All attributes are in\n   *   their initial states.\n   * - NETWORK_IDLE (numeric value 1)\n   *   The element's resource selection algorithm is active and has\n   *   selected a resource, but it is not actually using the network at\n   *   this time.\n   * - NETWORK_LOADING (numeric value 2)\n   *   The user agent is actively trying to download data.\n   * - NETWORK_NO_SOURCE (numeric value 3)\n   *   The element's resource selection algorithm is active, but it has\n   *   not yet found a resource to use.\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#network-states\n   * @return {number} the current network activity state\n   * @method Player#networkState\n   */\n  'networkState',\n  /**\n   * Returns a value that expresses the current state of the element\n   * with respect to rendering the current playback position, from the\n   * codes in the list below.\n   * - HAVE_NOTHING (numeric value 0)\n   *   No information regarding the media resource is available.\n   * - HAVE_METADATA (numeric value 1)\n   *   Enough of the resource has been obtained that the duration of the\n   *   resource is available.\n   * - HAVE_CURRENT_DATA (numeric value 2)\n   *   Data for the immediate current playback position is available.\n   * - HAVE_FUTURE_DATA (numeric value 3)\n   *   Data for the immediate current playback position is available, as\n   *   well as enough data for the user agent to advance the current\n   *   playback position in the direction of playback.\n   * - HAVE_ENOUGH_DATA (numeric value 4)\n   *   The user agent estimates that enough data is available for\n   *   playback to proceed uninterrupted.\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate\n   * @return {number} the current playback rendering state\n   * @method Player#readyState\n   */\n  'readyState'].forEach(function (fn) {\n    Player.prototype[fn] = function () {\n      return this.techGet_(fn);\n    };\n  });\n  TECH_EVENTS_RETRIGGER.forEach(function (event) {\n    Player.prototype[\"handleTech\" + toTitleCase(event) + \"_\"] = function () {\n      return this.trigger(event);\n    };\n  });\n  /**\n   * Fired when the player has initial duration and dimension information\n   *\n   * @event Player#loadedmetadata\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Fired when the player has downloaded data at the current playback position\n   *\n   * @event Player#loadeddata\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Fired when the current playback position has changed *\n   * During playback this is fired every 15-250 milliseconds, depending on the\n   * playback technology in use.\n   *\n   * @event Player#timeupdate\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Fired when the volume changes\n   *\n   * @event Player#volumechange\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Reports whether or not a player has a plugin available.\n   *\n   * This does not report whether or not the plugin has ever been initialized\n   * on this player. For that, [usingPlugin]{@link Player#usingPlugin}.\n   *\n   * @method Player#hasPlugin\n   * @param  {string}  name\n   *         The name of a plugin.\n   *\n   * @return {boolean}\n   *         Whether or not this player has the requested plugin available.\n   */\n\n  /**\n   * Reports whether or not a player is using a plugin by name.\n   *\n   * For basic plugins, this only reports whether the plugin has _ever_ been\n   * initialized on this player.\n   *\n   * @method Player#usingPlugin\n   * @param  {string} name\n   *         The name of a plugin.\n   *\n   * @return {boolean}\n   *         Whether or not this player is using the requested plugin.\n   */\n\n  Component.registerComponent('Player', Player);\n\n  /**\n   * The base plugin name.\n   *\n   * @private\n   * @constant\n   * @type {string}\n   */\n\n  var BASE_PLUGIN_NAME = 'plugin';\n  /**\n   * The key on which a player's active plugins cache is stored.\n   *\n   * @private\n   * @constant\n   * @type     {string}\n   */\n\n  var PLUGIN_CACHE_KEY = 'activePlugins_';\n  /**\n   * Stores registered plugins in a private space.\n   *\n   * @private\n   * @type    {Object}\n   */\n\n  var pluginStorage = {};\n  /**\n   * Reports whether or not a plugin has been registered.\n   *\n   * @private\n   * @param   {string} name\n   *          The name of a plugin.\n   *\n   * @return {boolean}\n   *          Whether or not the plugin has been registered.\n   */\n\n  var pluginExists = function pluginExists(name) {\n    return pluginStorage.hasOwnProperty(name);\n  };\n  /**\n   * Get a single registered plugin by name.\n   *\n   * @private\n   * @param   {string} name\n   *          The name of a plugin.\n   *\n   * @return {Function|undefined}\n   *          The plugin (or undefined).\n   */\n\n\n  var getPlugin = function getPlugin(name) {\n    return pluginExists(name) ? pluginStorage[name] : undefined;\n  };\n  /**\n   * Marks a plugin as \"active\" on a player.\n   *\n   * Also, ensures that the player has an object for tracking active plugins.\n   *\n   * @private\n   * @param   {Player} player\n   *          A Video.js player instance.\n   *\n   * @param   {string} name\n   *          The name of a plugin.\n   */\n\n\n  var markPluginAsActive = function markPluginAsActive(player, name) {\n    player[PLUGIN_CACHE_KEY] = player[PLUGIN_CACHE_KEY] || {};\n    player[PLUGIN_CACHE_KEY][name] = true;\n  };\n  /**\n   * Triggers a pair of plugin setup events.\n   *\n   * @private\n   * @param  {Player} player\n   *         A Video.js player instance.\n   *\n   * @param  {Plugin~PluginEventHash} hash\n   *         A plugin event hash.\n   *\n   * @param  {boolean} [before]\n   *         If true, prefixes the event name with \"before\". In other words,\n   *         use this to trigger \"beforepluginsetup\" instead of \"pluginsetup\".\n   */\n\n\n  var triggerSetupEvent = function triggerSetupEvent(player, hash, before) {\n    var eventName = (before ? 'before' : '') + 'pluginsetup';\n    player.trigger(eventName, hash);\n    player.trigger(eventName + ':' + hash.name, hash);\n  };\n  /**\n   * Takes a basic plugin function and returns a wrapper function which marks\n   * on the player that the plugin has been activated.\n   *\n   * @private\n   * @param   {string} name\n   *          The name of the plugin.\n   *\n   * @param   {Function} plugin\n   *          The basic plugin.\n   *\n   * @return {Function}\n   *          A wrapper function for the given plugin.\n   */\n\n\n  var createBasicPlugin = function createBasicPlugin(name, plugin) {\n    var basicPluginWrapper = function basicPluginWrapper() {\n      // We trigger the \"beforepluginsetup\" and \"pluginsetup\" events on the player\n      // regardless, but we want the hash to be consistent with the hash provided\n      // for advanced plugins.\n      //\n      // The only potentially counter-intuitive thing here is the `instance` in\n      // the \"pluginsetup\" event is the value returned by the `plugin` function.\n      triggerSetupEvent(this, {\n        name: name,\n        plugin: plugin,\n        instance: null\n      }, true);\n      var instance = plugin.apply(this, arguments);\n      markPluginAsActive(this, name);\n      triggerSetupEvent(this, {\n        name: name,\n        plugin: plugin,\n        instance: instance\n      });\n      return instance;\n    };\n\n    Object.keys(plugin).forEach(function (prop) {\n      basicPluginWrapper[prop] = plugin[prop];\n    });\n    return basicPluginWrapper;\n  };\n  /**\n   * Takes a plugin sub-class and returns a factory function for generating\n   * instances of it.\n   *\n   * This factory function will replace itself with an instance of the requested\n   * sub-class of Plugin.\n   *\n   * @private\n   * @param   {string} name\n   *          The name of the plugin.\n   *\n   * @param   {Plugin} PluginSubClass\n   *          The advanced plugin.\n   *\n   * @return {Function}\n   */\n\n\n  var createPluginFactory = function createPluginFactory(name, PluginSubClass) {\n    // Add a `name` property to the plugin prototype so that each plugin can\n    // refer to itself by name.\n    PluginSubClass.prototype.name = name;\n    return function () {\n      triggerSetupEvent(this, {\n        name: name,\n        plugin: PluginSubClass,\n        instance: null\n      }, true);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var instance = _construct(PluginSubClass, [this].concat(args)); // The plugin is replaced by a function that returns the current instance.\n\n\n      this[name] = function () {\n        return instance;\n      };\n\n      triggerSetupEvent(this, instance.getEventHash());\n      return instance;\n    };\n  };\n  /**\n   * Parent class for all advanced plugins.\n   *\n   * @mixes   module:evented~EventedMixin\n   * @mixes   module:stateful~StatefulMixin\n   * @fires   Player#beforepluginsetup\n   * @fires   Player#beforepluginsetup:$name\n   * @fires   Player#pluginsetup\n   * @fires   Player#pluginsetup:$name\n   * @listens Player#dispose\n   * @throws  {Error}\n   *          If attempting to instantiate the base {@link Plugin} class\n   *          directly instead of via a sub-class.\n   */\n\n\n  var Plugin =\n  /*#__PURE__*/\n  function () {\n    /**\n     * Creates an instance of this class.\n     *\n     * Sub-classes should call `super` to ensure plugins are properly initialized.\n     *\n     * @param {Player} player\n     *        A Video.js player instance.\n     */\n    function Plugin(player) {\n      if (this.constructor === Plugin) {\n        throw new Error('Plugin must be sub-classed; not directly instantiated.');\n      }\n\n      this.player = player; // Make this object evented, but remove the added `trigger` method so we\n      // use the prototype version instead.\n\n      evented(this);\n      delete this.trigger;\n      stateful(this, this.constructor.defaultState);\n      markPluginAsActive(player, this.name); // Auto-bind the dispose method so we can use it as a listener and unbind\n      // it later easily.\n\n      this.dispose = bind(this, this.dispose); // If the player is disposed, dispose the plugin.\n\n      player.on('dispose', this.dispose);\n    }\n    /**\n     * Get the version of the plugin that was set on <pluginName>.VERSION\n     */\n\n\n    var _proto = Plugin.prototype;\n\n    _proto.version = function version() {\n      return this.constructor.VERSION;\n    }\n    /**\n     * Each event triggered by plugins includes a hash of additional data with\n     * conventional properties.\n     *\n     * This returns that object or mutates an existing hash.\n     *\n     * @param   {Object} [hash={}]\n     *          An object to be used as event an event hash.\n     *\n     * @return {Plugin~PluginEventHash}\n     *          An event hash object with provided properties mixed-in.\n     */\n    ;\n\n    _proto.getEventHash = function getEventHash(hash) {\n      if (hash === void 0) {\n        hash = {};\n      }\n\n      hash.name = this.name;\n      hash.plugin = this.constructor;\n      hash.instance = this;\n      return hash;\n    }\n    /**\n     * Triggers an event on the plugin object and overrides\n     * {@link module:evented~EventedMixin.trigger|EventedMixin.trigger}.\n     *\n     * @param   {string|Object} event\n     *          An event type or an object with a type property.\n     *\n     * @param   {Object} [hash={}]\n     *          Additional data hash to merge with a\n     *          {@link Plugin~PluginEventHash|PluginEventHash}.\n     *\n     * @return {boolean}\n     *          Whether or not default was prevented.\n     */\n    ;\n\n    _proto.trigger = function trigger$1(event, hash) {\n      if (hash === void 0) {\n        hash = {};\n      }\n\n      return trigger(this.eventBusEl_, event, this.getEventHash(hash));\n    }\n    /**\n     * Handles \"statechanged\" events on the plugin. No-op by default, override by\n     * subclassing.\n     *\n     * @abstract\n     * @param    {Event} e\n     *           An event object provided by a \"statechanged\" event.\n     *\n     * @param    {Object} e.changes\n     *           An object describing changes that occurred with the \"statechanged\"\n     *           event.\n     */\n    ;\n\n    _proto.handleStateChanged = function handleStateChanged(e) {}\n    /**\n     * Disposes a plugin.\n     *\n     * Subclasses can override this if they want, but for the sake of safety,\n     * it's probably best to subscribe the \"dispose\" event.\n     *\n     * @fires Plugin#dispose\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      var name = this.name,\n          player = this.player;\n      /**\n       * Signals that a advanced plugin is about to be disposed.\n       *\n       * @event Plugin#dispose\n       * @type  {EventTarget~Event}\n       */\n\n      this.trigger('dispose');\n      this.off();\n      player.off('dispose', this.dispose); // Eliminate any possible sources of leaking memory by clearing up\n      // references between the player and the plugin instance and nulling out\n      // the plugin's state and replacing methods with a function that throws.\n\n      player[PLUGIN_CACHE_KEY][name] = false;\n      this.player = this.state = null; // Finally, replace the plugin name on the player with a new factory\n      // function, so that the plugin is ready to be set up again.\n\n      player[name] = createPluginFactory(name, pluginStorage[name]);\n    }\n    /**\n     * Determines if a plugin is a basic plugin (i.e. not a sub-class of `Plugin`).\n     *\n     * @param   {string|Function} plugin\n     *          If a string, matches the name of a plugin. If a function, will be\n     *          tested directly.\n     *\n     * @return {boolean}\n     *          Whether or not a plugin is a basic plugin.\n     */\n    ;\n\n    Plugin.isBasic = function isBasic(plugin) {\n      var p = typeof plugin === 'string' ? getPlugin(plugin) : plugin;\n      return typeof p === 'function' && !Plugin.prototype.isPrototypeOf(p.prototype);\n    }\n    /**\n     * Register a Video.js plugin.\n     *\n     * @param   {string} name\n     *          The name of the plugin to be registered. Must be a string and\n     *          must not match an existing plugin or a method on the `Player`\n     *          prototype.\n     *\n     * @param   {Function} plugin\n     *          A sub-class of `Plugin` or a function for basic plugins.\n     *\n     * @return {Function}\n     *          For advanced plugins, a factory function for that plugin. For\n     *          basic plugins, a wrapper function that initializes the plugin.\n     */\n    ;\n\n    Plugin.registerPlugin = function registerPlugin(name, plugin) {\n      if (typeof name !== 'string') {\n        throw new Error(\"Illegal plugin name, \\\"\" + name + \"\\\", must be a string, was \" + typeof name + \".\");\n      }\n\n      if (pluginExists(name)) {\n        log.warn(\"A plugin named \\\"\" + name + \"\\\" already exists. You may want to avoid re-registering plugins!\");\n      } else if (Player.prototype.hasOwnProperty(name)) {\n        throw new Error(\"Illegal plugin name, \\\"\" + name + \"\\\", cannot share a name with an existing player method!\");\n      }\n\n      if (typeof plugin !== 'function') {\n        throw new Error(\"Illegal plugin for \\\"\" + name + \"\\\", must be a function, was \" + typeof plugin + \".\");\n      }\n\n      pluginStorage[name] = plugin; // Add a player prototype method for all sub-classed plugins (but not for\n      // the base Plugin class).\n\n      if (name !== BASE_PLUGIN_NAME) {\n        if (Plugin.isBasic(plugin)) {\n          Player.prototype[name] = createBasicPlugin(name, plugin);\n        } else {\n          Player.prototype[name] = createPluginFactory(name, plugin);\n        }\n      }\n\n      return plugin;\n    }\n    /**\n     * De-register a Video.js plugin.\n     *\n     * @param  {string} name\n     *         The name of the plugin to be de-registered. Must be a string that\n     *         matches an existing plugin.\n     *\n     * @throws {Error}\n     *         If an attempt is made to de-register the base plugin.\n     */\n    ;\n\n    Plugin.deregisterPlugin = function deregisterPlugin(name) {\n      if (name === BASE_PLUGIN_NAME) {\n        throw new Error('Cannot de-register base plugin.');\n      }\n\n      if (pluginExists(name)) {\n        delete pluginStorage[name];\n        delete Player.prototype[name];\n      }\n    }\n    /**\n     * Gets an object containing multiple Video.js plugins.\n     *\n     * @param   {Array} [names]\n     *          If provided, should be an array of plugin names. Defaults to _all_\n     *          plugin names.\n     *\n     * @return {Object|undefined}\n     *          An object containing plugin(s) associated with their name(s) or\n     *          `undefined` if no matching plugins exist).\n     */\n    ;\n\n    Plugin.getPlugins = function getPlugins(names) {\n      if (names === void 0) {\n        names = Object.keys(pluginStorage);\n      }\n\n      var result;\n      names.forEach(function (name) {\n        var plugin = getPlugin(name);\n\n        if (plugin) {\n          result = result || {};\n          result[name] = plugin;\n        }\n      });\n      return result;\n    }\n    /**\n     * Gets a plugin's version, if available\n     *\n     * @param   {string} name\n     *          The name of a plugin.\n     *\n     * @return {string}\n     *          The plugin's version or an empty string.\n     */\n    ;\n\n    Plugin.getPluginVersion = function getPluginVersion(name) {\n      var plugin = getPlugin(name);\n      return plugin && plugin.VERSION || '';\n    };\n\n    return Plugin;\n  }();\n  /**\n   * Gets a plugin by name if it exists.\n   *\n   * @static\n   * @method   getPlugin\n   * @memberOf Plugin\n   * @param    {string} name\n   *           The name of a plugin.\n   *\n   * @returns  {Function|undefined}\n   *           The plugin (or `undefined`).\n   */\n\n\n  Plugin.getPlugin = getPlugin;\n  /**\n   * The name of the base plugin class as it is registered.\n   *\n   * @type {string}\n   */\n\n  Plugin.BASE_PLUGIN_NAME = BASE_PLUGIN_NAME;\n  Plugin.registerPlugin(BASE_PLUGIN_NAME, Plugin);\n  /**\n   * Documented in player.js\n   *\n   * @ignore\n   */\n\n  Player.prototype.usingPlugin = function (name) {\n    return !!this[PLUGIN_CACHE_KEY] && this[PLUGIN_CACHE_KEY][name] === true;\n  };\n  /**\n   * Documented in player.js\n   *\n   * @ignore\n   */\n\n\n  Player.prototype.hasPlugin = function (name) {\n    return !!pluginExists(name);\n  };\n  /**\n   * Signals that a plugin is about to be set up on a player.\n   *\n   * @event    Player#beforepluginsetup\n   * @type     {Plugin~PluginEventHash}\n   */\n\n  /**\n   * Signals that a plugin is about to be set up on a player - by name. The name\n   * is the name of the plugin.\n   *\n   * @event    Player#beforepluginsetup:$name\n   * @type     {Plugin~PluginEventHash}\n   */\n\n  /**\n   * Signals that a plugin has just been set up on a player.\n   *\n   * @event    Player#pluginsetup\n   * @type     {Plugin~PluginEventHash}\n   */\n\n  /**\n   * Signals that a plugin has just been set up on a player - by name. The name\n   * is the name of the plugin.\n   *\n   * @event    Player#pluginsetup:$name\n   * @type     {Plugin~PluginEventHash}\n   */\n\n  /**\n   * @typedef  {Object} Plugin~PluginEventHash\n   *\n   * @property {string} instance\n   *           For basic plugins, the return value of the plugin function. For\n   *           advanced plugins, the plugin instance on which the event is fired.\n   *\n   * @property {string} name\n   *           The name of the plugin.\n   *\n   * @property {string} plugin\n   *           For basic plugins, the plugin function. For advanced plugins, the\n   *           plugin class/constructor.\n   */\n\n  /**\n   * @file extend.js\n   * @module extend\n   */\n\n  /**\n   * A combination of node inherits and babel's inherits (after transpile).\n   * Both work the same but node adds `super_` to the subClass\n   * and Bable adds the superClass as __proto__. Both seem useful.\n   *\n   * @param {Object} subClass\n   *        The class to inherit to\n   *\n   * @param {Object} superClass\n   *        The class to inherit from\n   *\n   * @private\n   */\n  var _inherits = function _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n      throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n\n    if (superClass) {\n      // node\n      subClass.super_ = superClass;\n    }\n  };\n  /**\n   * Used to subclass an existing class by emulating ES subclassing using the\n   * `extends` keyword.\n   *\n   * @function\n   * @example\n   * var MyComponent = videojs.extend(videojs.getComponent('Component'), {\n   *   myCustomMethod: function() {\n   *     // Do things in my method.\n   *   }\n   * });\n   *\n   * @param    {Function} superClass\n   *           The class to inherit from\n   *\n   * @param    {Object}   [subClassMethods={}]\n   *           Methods of the new class\n   *\n   * @return   {Function}\n   *           The new class with subClassMethods that inherited superClass.\n   */\n\n\n  var extend$1 = function extend(superClass, subClassMethods) {\n    if (subClassMethods === void 0) {\n      subClassMethods = {};\n    }\n\n    var subClass = function subClass() {\n      superClass.apply(this, arguments);\n    };\n\n    var methods = {};\n\n    if (typeof subClassMethods === 'object') {\n      if (subClassMethods.constructor !== Object.prototype.constructor) {\n        subClass = subClassMethods.constructor;\n      }\n\n      methods = subClassMethods;\n    } else if (typeof subClassMethods === 'function') {\n      subClass = subClassMethods;\n    }\n\n    _inherits(subClass, superClass); // Extend subObj's prototype with functions and other properties from props\n\n\n    for (var name in methods) {\n      if (methods.hasOwnProperty(name)) {\n        subClass.prototype[name] = methods[name];\n      }\n    }\n\n    return subClass;\n  };\n\n  /**\n   * @file video.js\n   * @module videojs\n   */\n  /**\n   * Normalize an `id` value by trimming off a leading `#`\n   *\n   * @private\n   * @param   {string} id\n   *          A string, maybe with a leading `#`.\n   *\n   * @return {string}\n   *          The string, without any leading `#`.\n   */\n\n  var normalizeId = function normalizeId(id) {\n    return id.indexOf('#') === 0 ? id.slice(1) : id;\n  };\n  /**\n   * The `videojs()` function doubles as the main function for users to create a\n   * {@link Player} instance as well as the main library namespace.\n   *\n   * It can also be used as a getter for a pre-existing {@link Player} instance.\n   * However, we _strongly_ recommend using `videojs.getPlayer()` for this\n   * purpose because it avoids any potential for unintended initialization.\n   *\n   * Due to [limitations](https://github.com/jsdoc3/jsdoc/issues/955#issuecomment-313829149)\n   * of our JSDoc template, we cannot properly document this as both a function\n   * and a namespace, so its function signature is documented here.\n   *\n   * #### Arguments\n   * ##### id\n   * string|Element, **required**\n   *\n   * Video element or video element ID.\n   *\n   * ##### options\n   * Object, optional\n   *\n   * Options object for providing settings.\n   * See: [Options Guide](https://docs.videojs.com/tutorial-options.html).\n   *\n   * ##### ready\n   * {@link Component~ReadyCallback}, optional\n   *\n   * A function to be called when the {@link Player} and {@link Tech} are ready.\n   *\n   * #### Return Value\n   *\n   * The `videojs()` function returns a {@link Player} instance.\n   *\n   * @namespace\n   *\n   * @borrows AudioTrack as AudioTrack\n   * @borrows Component.getComponent as getComponent\n   * @borrows module:computed-style~computedStyle as computedStyle\n   * @borrows module:events.on as on\n   * @borrows module:events.one as one\n   * @borrows module:events.off as off\n   * @borrows module:events.trigger as trigger\n   * @borrows EventTarget as EventTarget\n   * @borrows module:extend~extend as extend\n   * @borrows module:fn.bind as bind\n   * @borrows module:format-time.formatTime as formatTime\n   * @borrows module:format-time.resetFormatTime as resetFormatTime\n   * @borrows module:format-time.setFormatTime as setFormatTime\n   * @borrows module:merge-options.mergeOptions as mergeOptions\n   * @borrows module:middleware.use as use\n   * @borrows Player.players as players\n   * @borrows Plugin.registerPlugin as registerPlugin\n   * @borrows Plugin.deregisterPlugin as deregisterPlugin\n   * @borrows Plugin.getPlugins as getPlugins\n   * @borrows Plugin.getPlugin as getPlugin\n   * @borrows Plugin.getPluginVersion as getPluginVersion\n   * @borrows Tech.getTech as getTech\n   * @borrows Tech.registerTech as registerTech\n   * @borrows TextTrack as TextTrack\n   * @borrows module:time-ranges.createTimeRanges as createTimeRange\n   * @borrows module:time-ranges.createTimeRanges as createTimeRanges\n   * @borrows module:url.isCrossOrigin as isCrossOrigin\n   * @borrows module:url.parseUrl as parseUrl\n   * @borrows VideoTrack as VideoTrack\n   *\n   * @param  {string|Element} id\n   *         Video element or video element ID.\n   *\n   * @param  {Object} [options]\n   *         Options object for providing settings.\n   *         See: [Options Guide](https://docs.videojs.com/tutorial-options.html).\n   *\n   * @param  {Component~ReadyCallback} [ready]\n   *         A function to be called when the {@link Player} and {@link Tech} are\n   *         ready.\n   *\n   * @return {Player}\n   *         The `videojs()` function returns a {@link Player|Player} instance.\n   */\n\n\n  function videojs$1(id, options, ready) {\n    var player = videojs$1.getPlayer(id);\n\n    if (player) {\n      if (options) {\n        log.warn(\"Player \\\"\" + id + \"\\\" is already initialised. Options will not be applied.\");\n      }\n\n      if (ready) {\n        player.ready(ready);\n      }\n\n      return player;\n    }\n\n    var el = typeof id === 'string' ? $('#' + normalizeId(id)) : id;\n\n    if (!isEl(el)) {\n      throw new TypeError('The element or ID supplied is not valid. (videojs)');\n    } // document.body.contains(el) will only check if el is contained within that one document.\n    // This causes problems for elements in iframes.\n    // Instead, use the element's ownerDocument instead of the global document.\n    // This will make sure that the element is indeed in the dom of that document.\n    // Additionally, check that the document in question has a default view.\n    // If the document is no longer attached to the dom, the defaultView of the document will be null.\n\n\n    if (!el.ownerDocument.defaultView || !el.ownerDocument.body.contains(el)) {\n      log.warn('The element supplied is not included in the DOM');\n    }\n\n    options = options || {};\n    videojs$1.hooks('beforesetup').forEach(function (hookFunction) {\n      var opts = hookFunction(el, mergeOptions(options));\n\n      if (!isObject(opts) || Array.isArray(opts)) {\n        log.error('please return an object in beforesetup hooks');\n        return;\n      }\n\n      options = mergeOptions(options, opts);\n    }); // We get the current \"Player\" component here in case an integration has\n    // replaced it with a custom player.\n\n    var PlayerComponent = Component.getComponent('Player');\n    player = new PlayerComponent(el, options, ready);\n    videojs$1.hooks('setup').forEach(function (hookFunction) {\n      return hookFunction(player);\n    });\n    return player;\n  }\n  /**\n   * An Object that contains lifecycle hooks as keys which point to an array\n   * of functions that are run when a lifecycle is triggered\n   *\n   * @private\n   */\n\n\n  videojs$1.hooks_ = {};\n  /**\n   * Get a list of hooks for a specific lifecycle\n   *\n   * @param  {string} type\n   *         the lifecyle to get hooks from\n   *\n   * @param  {Function|Function[]} [fn]\n   *         Optionally add a hook (or hooks) to the lifecycle that your are getting.\n   *\n   * @return {Array}\n   *         an array of hooks, or an empty array if there are none.\n   */\n\n  videojs$1.hooks = function (type, fn) {\n    videojs$1.hooks_[type] = videojs$1.hooks_[type] || [];\n\n    if (fn) {\n      videojs$1.hooks_[type] = videojs$1.hooks_[type].concat(fn);\n    }\n\n    return videojs$1.hooks_[type];\n  };\n  /**\n   * Add a function hook to a specific videojs lifecycle.\n   *\n   * @param {string} type\n   *        the lifecycle to hook the function to.\n   *\n   * @param {Function|Function[]}\n   *        The function or array of functions to attach.\n   */\n\n\n  videojs$1.hook = function (type, fn) {\n    videojs$1.hooks(type, fn);\n  };\n  /**\n   * Add a function hook that will only run once to a specific videojs lifecycle.\n   *\n   * @param {string} type\n   *        the lifecycle to hook the function to.\n   *\n   * @param {Function|Function[]}\n   *        The function or array of functions to attach.\n   */\n\n\n  videojs$1.hookOnce = function (type, fn) {\n    videojs$1.hooks(type, [].concat(fn).map(function (original) {\n      var wrapper = function wrapper() {\n        videojs$1.removeHook(type, wrapper);\n        return original.apply(void 0, arguments);\n      };\n\n      return wrapper;\n    }));\n  };\n  /**\n   * Remove a hook from a specific videojs lifecycle.\n   *\n   * @param  {string} type\n   *         the lifecycle that the function hooked to\n   *\n   * @param  {Function} fn\n   *         The hooked function to remove\n   *\n   * @return {boolean}\n   *         The function that was removed or undef\n   */\n\n\n  videojs$1.removeHook = function (type, fn) {\n    var index = videojs$1.hooks(type).indexOf(fn);\n\n    if (index <= -1) {\n      return false;\n    }\n\n    videojs$1.hooks_[type] = videojs$1.hooks_[type].slice();\n    videojs$1.hooks_[type].splice(index, 1);\n    return true;\n  }; // Add default styles\n\n\n  if (window$1.VIDEOJS_NO_DYNAMIC_STYLE !== true && isReal()) {\n    var style = $('.vjs-styles-defaults');\n\n    if (!style) {\n      style = createStyleElement('vjs-styles-defaults');\n      var head = $('head');\n\n      if (head) {\n        head.insertBefore(style, head.firstChild);\n      }\n\n      setTextContent(style, \"\\n      .video-js {\\n        width: 300px;\\n        height: 150px;\\n      }\\n\\n      .vjs-fluid {\\n        padding-top: 56.25%\\n      }\\n    \");\n    }\n  } // Run Auto-load players\n  // You have to wait at least once in case this script is loaded after your\n  // video in the DOM (weird behavior only with minified version)\n\n\n  autoSetupTimeout(1, videojs$1);\n  /**\n   * Current Video.js version. Follows [semantic versioning](https://semver.org/).\n   *\n   * @type {string}\n   */\n\n  videojs$1.VERSION = version;\n  /**\n   * The global options object. These are the settings that take effect\n   * if no overrides are specified when the player is created.\n   *\n   * @type {Object}\n   */\n\n  videojs$1.options = Player.prototype.options_;\n  /**\n   * Get an object with the currently created players, keyed by player ID\n   *\n   * @return {Object}\n   *         The created players\n   */\n\n  videojs$1.getPlayers = function () {\n    return Player.players;\n  };\n  /**\n   * Get a single player based on an ID or DOM element.\n   *\n   * This is useful if you want to check if an element or ID has an associated\n   * Video.js player, but not create one if it doesn't.\n   *\n   * @param   {string|Element} id\n   *          An HTML element - `<video>`, `<audio>`, or `<video-js>` -\n   *          or a string matching the `id` of such an element.\n   *\n   * @return {Player|undefined}\n   *          A player instance or `undefined` if there is no player instance\n   *          matching the argument.\n   */\n\n\n  videojs$1.getPlayer = function (id) {\n    var players = Player.players;\n    var tag;\n\n    if (typeof id === 'string') {\n      var nId = normalizeId(id);\n      var player = players[nId];\n\n      if (player) {\n        return player;\n      }\n\n      tag = $('#' + nId);\n    } else {\n      tag = id;\n    }\n\n    if (isEl(tag)) {\n      var _tag = tag,\n          _player = _tag.player,\n          playerId = _tag.playerId; // Element may have a `player` property referring to an already created\n      // player instance. If so, return that.\n\n      if (_player || players[playerId]) {\n        return _player || players[playerId];\n      }\n    }\n  };\n  /**\n   * Returns an array of all current players.\n   *\n   * @return {Array}\n   *         An array of all players. The array will be in the order that\n   *         `Object.keys` provides, which could potentially vary between\n   *         JavaScript engines.\n   *\n   */\n\n\n  videojs$1.getAllPlayers = function () {\n    return (// Disposed players leave a key with a `null` value, so we need to make sure\n      // we filter those out.\n      Object.keys(Player.players).map(function (k) {\n        return Player.players[k];\n      }).filter(Boolean)\n    );\n  };\n\n  videojs$1.players = Player.players;\n  videojs$1.getComponent = Component.getComponent;\n  /**\n   * Register a component so it can referred to by name. Used when adding to other\n   * components, either through addChild `component.addChild('myComponent')` or through\n   * default children options  `{ children: ['myComponent'] }`.\n   *\n   * > NOTE: You could also just initialize the component before adding.\n   * `component.addChild(new MyComponent());`\n   *\n   * @param {string} name\n   *        The class name of the component\n   *\n   * @param {Component} comp\n   *        The component class\n   *\n   * @return {Component}\n   *         The newly registered component\n   */\n\n  videojs$1.registerComponent = function (name, comp) {\n    if (Tech.isTech(comp)) {\n      log.warn(\"The \" + name + \" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)\");\n    }\n\n    Component.registerComponent.call(Component, name, comp);\n  };\n\n  videojs$1.getTech = Tech.getTech;\n  videojs$1.registerTech = Tech.registerTech;\n  videojs$1.use = use;\n  /**\n   * An object that can be returned by a middleware to signify\n   * that the middleware is being terminated.\n   *\n   * @type {object}\n   * @property {object} middleware.TERMINATOR\n   */\n\n  Object.defineProperty(videojs$1, 'middleware', {\n    value: {},\n    writeable: false,\n    enumerable: true\n  });\n  Object.defineProperty(videojs$1.middleware, 'TERMINATOR', {\n    value: TERMINATOR,\n    writeable: false,\n    enumerable: true\n  });\n  /**\n   * A reference to the {@link module:browser|browser utility module} as an object.\n   *\n   * @type {Object}\n   * @see  {@link module:browser|browser}\n   */\n\n  videojs$1.browser = browser;\n  /**\n   * Use {@link module:browser.TOUCH_ENABLED|browser.TOUCH_ENABLED} instead; only\n   * included for backward-compatibility with 4.x.\n   *\n   * @deprecated Since version 5.0, use {@link module:browser.TOUCH_ENABLED|browser.TOUCH_ENABLED instead.\n   * @type {boolean}\n   */\n\n  videojs$1.TOUCH_ENABLED = TOUCH_ENABLED;\n  videojs$1.extend = extend$1;\n  videojs$1.mergeOptions = mergeOptions;\n  videojs$1.bind = bind;\n  videojs$1.registerPlugin = Plugin.registerPlugin;\n  videojs$1.deregisterPlugin = Plugin.deregisterPlugin;\n  /**\n   * Deprecated method to register a plugin with Video.js\n   *\n   * @deprecated videojs.plugin() is deprecated; use videojs.registerPlugin() instead\n   *\n   * @param {string} name\n   *        The plugin name\n   *\n   * @param {Plugin|Function} plugin\n   *         The plugin sub-class or function\n   */\n\n  videojs$1.plugin = function (name, plugin) {\n    log.warn('videojs.plugin() is deprecated; use videojs.registerPlugin() instead');\n    return Plugin.registerPlugin(name, plugin);\n  };\n\n  videojs$1.getPlugins = Plugin.getPlugins;\n  videojs$1.getPlugin = Plugin.getPlugin;\n  videojs$1.getPluginVersion = Plugin.getPluginVersion;\n  /**\n   * Adding languages so that they're available to all players.\n   * Example: `videojs.addLanguage('es', { 'Hello': 'Hola' });`\n   *\n   * @param {string} code\n   *        The language code or dictionary property\n   *\n   * @param {Object} data\n   *        The data values to be translated\n   *\n   * @return {Object}\n   *         The resulting language dictionary object\n   */\n\n  videojs$1.addLanguage = function (code, data) {\n    var _mergeOptions;\n\n    code = ('' + code).toLowerCase();\n    videojs$1.options.languages = mergeOptions(videojs$1.options.languages, (_mergeOptions = {}, _mergeOptions[code] = data, _mergeOptions));\n    return videojs$1.options.languages[code];\n  };\n  /**\n   * A reference to the {@link module:log|log utility module} as an object.\n   *\n   * @type {Function}\n   * @see  {@link module:log|log}\n   */\n\n\n  videojs$1.log = log;\n  videojs$1.createLogger = createLogger$1;\n  videojs$1.createTimeRange = videojs$1.createTimeRanges = createTimeRanges;\n  videojs$1.formatTime = formatTime;\n  videojs$1.setFormatTime = setFormatTime;\n  videojs$1.resetFormatTime = resetFormatTime;\n  videojs$1.parseUrl = parseUrl;\n  videojs$1.isCrossOrigin = isCrossOrigin;\n  videojs$1.EventTarget = EventTarget;\n  videojs$1.on = on;\n  videojs$1.one = one;\n  videojs$1.off = off;\n  videojs$1.trigger = trigger;\n  /**\n   * A cross-browser XMLHttpRequest wrapper.\n   *\n   * @function\n   * @param    {Object} options\n   *           Settings for the request.\n   *\n   * @return   {XMLHttpRequest|XDomainRequest}\n   *           The request object.\n   *\n   * @see      https://github.com/Raynos/xhr\n   */\n\n  videojs$1.xhr = xhr;\n  videojs$1.TextTrack = TextTrack;\n  videojs$1.AudioTrack = AudioTrack;\n  videojs$1.VideoTrack = VideoTrack;\n  ['isEl', 'isTextNode', 'createEl', 'hasClass', 'addClass', 'removeClass', 'toggleClass', 'setAttributes', 'getAttributes', 'emptyEl', 'appendContent', 'insertContent'].forEach(function (k) {\n    videojs$1[k] = function () {\n      log.warn(\"videojs.\" + k + \"() is deprecated; use videojs.dom.\" + k + \"() instead\");\n      return Dom[k].apply(null, arguments);\n    };\n  });\n  videojs$1.computedStyle = computedStyle;\n  /**\n   * A reference to the {@link module:dom|DOM utility module} as an object.\n   *\n   * @type {Object}\n   * @see  {@link module:dom|dom}\n   */\n\n  videojs$1.dom = Dom;\n  /**\n   * A reference to the {@link module:url|URL utility module} as an object.\n   *\n   * @type {Object}\n   * @see  {@link module:url|url}\n   */\n\n  videojs$1.url = Url;\n\n  var urlToolkit = createCommonjsModule(function (module, exports) {\n    // see https://tools.ietf.org/html/rfc1808\n\n    /* jshint ignore:start */\n    (function (root) {\n      /* jshint ignore:end */\n      var URL_REGEX = /^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/\\?#]*\\/)*.*?)??(;.*?)?(\\?.*?)?(#.*?)?$/;\n      var FIRST_SEGMENT_REGEX = /^([^\\/?#]*)(.*)$/;\n      var SLASH_DOT_REGEX = /(?:\\/|^)\\.(?=\\/)/g;\n      var SLASH_DOT_DOT_REGEX = /(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/).*?(?=\\/)/g;\n      var URLToolkit = {\n        // jshint ignore:line\n        // If opts.alwaysNormalize is true then the path will always be normalized even when it starts with / or //\n        // E.g\n        // With opts.alwaysNormalize = false (default, spec compliant)\n        // http://a.com/b/cd + /e/f/../g => http://a.com/e/f/../g\n        // With opts.alwaysNormalize = true (not spec compliant)\n        // http://a.com/b/cd + /e/f/../g => http://a.com/e/g\n        buildAbsoluteURL: function buildAbsoluteURL(baseURL, relativeURL, opts) {\n          opts = opts || {}; // remove any remaining space and CRLF\n\n          baseURL = baseURL.trim();\n          relativeURL = relativeURL.trim();\n\n          if (!relativeURL) {\n            // 2a) If the embedded URL is entirely empty, it inherits the\n            // entire base URL (i.e., is set equal to the base URL)\n            // and we are done.\n            if (!opts.alwaysNormalize) {\n              return baseURL;\n            }\n\n            var basePartsForNormalise = URLToolkit.parseURL(baseURL);\n\n            if (!basePartsForNormalise) {\n              throw new Error('Error trying to parse base URL.');\n            }\n\n            basePartsForNormalise.path = URLToolkit.normalizePath(basePartsForNormalise.path);\n            return URLToolkit.buildURLFromParts(basePartsForNormalise);\n          }\n\n          var relativeParts = URLToolkit.parseURL(relativeURL);\n\n          if (!relativeParts) {\n            throw new Error('Error trying to parse relative URL.');\n          }\n\n          if (relativeParts.scheme) {\n            // 2b) If the embedded URL starts with a scheme name, it is\n            // interpreted as an absolute URL and we are done.\n            if (!opts.alwaysNormalize) {\n              return relativeURL;\n            }\n\n            relativeParts.path = URLToolkit.normalizePath(relativeParts.path);\n            return URLToolkit.buildURLFromParts(relativeParts);\n          }\n\n          var baseParts = URLToolkit.parseURL(baseURL);\n\n          if (!baseParts) {\n            throw new Error('Error trying to parse base URL.');\n          }\n\n          if (!baseParts.netLoc && baseParts.path && baseParts.path[0] !== '/') {\n            // If netLoc missing and path doesn't start with '/', assume everthing before the first '/' is the netLoc\n            // This causes 'example.com/a' to be handled as '//example.com/a' instead of '/example.com/a'\n            var pathParts = FIRST_SEGMENT_REGEX.exec(baseParts.path);\n            baseParts.netLoc = pathParts[1];\n            baseParts.path = pathParts[2];\n          }\n\n          if (baseParts.netLoc && !baseParts.path) {\n            baseParts.path = '/';\n          }\n\n          var builtParts = {\n            // 2c) Otherwise, the embedded URL inherits the scheme of\n            // the base URL.\n            scheme: baseParts.scheme,\n            netLoc: relativeParts.netLoc,\n            path: null,\n            params: relativeParts.params,\n            query: relativeParts.query,\n            fragment: relativeParts.fragment\n          };\n\n          if (!relativeParts.netLoc) {\n            // 3) If the embedded URL's <net_loc> is non-empty, we skip to\n            // Step 7.  Otherwise, the embedded URL inherits the <net_loc>\n            // (if any) of the base URL.\n            builtParts.netLoc = baseParts.netLoc; // 4) If the embedded URL path is preceded by a slash \"/\", the\n            // path is not relative and we skip to Step 7.\n\n            if (relativeParts.path[0] !== '/') {\n              if (!relativeParts.path) {\n                // 5) If the embedded URL path is empty (and not preceded by a\n                // slash), then the embedded URL inherits the base URL path\n                builtParts.path = baseParts.path; // 5a) if the embedded URL's <params> is non-empty, we skip to\n                // step 7; otherwise, it inherits the <params> of the base\n                // URL (if any) and\n\n                if (!relativeParts.params) {\n                  builtParts.params = baseParts.params; // 5b) if the embedded URL's <query> is non-empty, we skip to\n                  // step 7; otherwise, it inherits the <query> of the base\n                  // URL (if any) and we skip to step 7.\n\n                  if (!relativeParts.query) {\n                    builtParts.query = baseParts.query;\n                  }\n                }\n              } else {\n                // 6) The last segment of the base URL's path (anything\n                // following the rightmost slash \"/\", or the entire path if no\n                // slash is present) is removed and the embedded URL's path is\n                // appended in its place.\n                var baseURLPath = baseParts.path;\n                var newPath = baseURLPath.substring(0, baseURLPath.lastIndexOf('/') + 1) + relativeParts.path;\n                builtParts.path = URLToolkit.normalizePath(newPath);\n              }\n            }\n          }\n\n          if (builtParts.path === null) {\n            builtParts.path = opts.alwaysNormalize ? URLToolkit.normalizePath(relativeParts.path) : relativeParts.path;\n          }\n\n          return URLToolkit.buildURLFromParts(builtParts);\n        },\n        parseURL: function parseURL(url) {\n          var parts = URL_REGEX.exec(url);\n\n          if (!parts) {\n            return null;\n          }\n\n          return {\n            scheme: parts[1] || '',\n            netLoc: parts[2] || '',\n            path: parts[3] || '',\n            params: parts[4] || '',\n            query: parts[5] || '',\n            fragment: parts[6] || ''\n          };\n        },\n        normalizePath: function normalizePath(path) {\n          // The following operations are\n          // then applied, in order, to the new path:\n          // 6a) All occurrences of \"./\", where \".\" is a complete path\n          // segment, are removed.\n          // 6b) If the path ends with \".\" as a complete path segment,\n          // that \".\" is removed.\n          path = path.split('').reverse().join('').replace(SLASH_DOT_REGEX, ''); // 6c) All occurrences of \"<segment>/../\", where <segment> is a\n          // complete path segment not equal to \"..\", are removed.\n          // Removal of these path segments is performed iteratively,\n          // removing the leftmost matching pattern on each iteration,\n          // until no matching pattern remains.\n          // 6d) If the path ends with \"<segment>/..\", where <segment> is a\n          // complete path segment not equal to \"..\", that\n          // \"<segment>/..\" is removed.\n\n          while (path.length !== (path = path.replace(SLASH_DOT_DOT_REGEX, '')).length) {} // jshint ignore:line\n\n\n          return path.split('').reverse().join('');\n        },\n        buildURLFromParts: function buildURLFromParts(parts) {\n          return parts.scheme + parts.netLoc + parts.path + parts.params + parts.query + parts.fragment;\n        }\n      };\n      /* jshint ignore:start */\n\n      module.exports = URLToolkit;\n    })();\n    /* jshint ignore:end */\n\n  });\n\n  /*! @name m3u8-parser @version 4.4.0 @license Apache-2.0 */\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _inheritsLoose$1(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  function _assertThisInitialized$1(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n  /**\n   * @file stream.js\n   */\n\n  /**\n   * A lightweight readable stream implementation that handles event dispatching.\n   *\n   * @class Stream\n   */\n\n\n  var Stream =\n  /*#__PURE__*/\n  function () {\n    function Stream() {\n      this.listeners = {};\n    }\n    /**\n     * Add a listener for a specified event type.\n     *\n     * @param {string} type the event name\n     * @param {Function} listener the callback to be invoked when an event of\n     * the specified type occurs\n     */\n\n\n    var _proto = Stream.prototype;\n\n    _proto.on = function on(type, listener) {\n      if (!this.listeners[type]) {\n        this.listeners[type] = [];\n      }\n\n      this.listeners[type].push(listener);\n    }\n    /**\n     * Remove a listener for a specified event type.\n     *\n     * @param {string} type the event name\n     * @param {Function} listener  a function previously registered for this\n     * type of event through `on`\n     * @return {boolean} if we could turn it off or not\n     */\n    ;\n\n    _proto.off = function off(type, listener) {\n      if (!this.listeners[type]) {\n        return false;\n      }\n\n      var index = this.listeners[type].indexOf(listener);\n      this.listeners[type].splice(index, 1);\n      return index > -1;\n    }\n    /**\n     * Trigger an event of the specified type on this stream. Any additional\n     * arguments to this function are passed as parameters to event listeners.\n     *\n     * @param {string} type the event name\n     */\n    ;\n\n    _proto.trigger = function trigger(type) {\n      var callbacks = this.listeners[type];\n      var i;\n      var length;\n      var args;\n\n      if (!callbacks) {\n        return;\n      } // Slicing the arguments on every invocation of this method\n      // can add a significant amount of overhead. Avoid the\n      // intermediate object creation for the common case of a\n      // single callback argument\n\n\n      if (arguments.length === 2) {\n        length = callbacks.length;\n\n        for (i = 0; i < length; ++i) {\n          callbacks[i].call(this, arguments[1]);\n        }\n      } else {\n        args = Array.prototype.slice.call(arguments, 1);\n        length = callbacks.length;\n\n        for (i = 0; i < length; ++i) {\n          callbacks[i].apply(this, args);\n        }\n      }\n    }\n    /**\n     * Destroys the stream and cleans up.\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      this.listeners = {};\n    }\n    /**\n     * Forwards all `data` events on this stream to the destination stream. The\n     * destination stream should provide a method `push` to receive the data\n     * events as they arrive.\n     *\n     * @param {Stream} destination the stream that will receive all `data` events\n     * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n     */\n    ;\n\n    _proto.pipe = function pipe(destination) {\n      this.on('data', function (data) {\n        destination.push(data);\n      });\n    };\n\n    return Stream;\n  }();\n  /**\n   * A stream that buffers string input and generates a `data` event for each\n   * line.\n   *\n   * @class LineStream\n   * @extends Stream\n   */\n\n\n  var LineStream =\n  /*#__PURE__*/\n  function (_Stream) {\n    _inheritsLoose$1(LineStream, _Stream);\n\n    function LineStream() {\n      var _this;\n\n      _this = _Stream.call(this) || this;\n      _this.buffer = '';\n      return _this;\n    }\n    /**\n     * Add new data to be parsed.\n     *\n     * @param {string} data the text to process\n     */\n\n\n    var _proto = LineStream.prototype;\n\n    _proto.push = function push(data) {\n      var nextNewline;\n      this.buffer += data;\n      nextNewline = this.buffer.indexOf('\\n');\n\n      for (; nextNewline > -1; nextNewline = this.buffer.indexOf('\\n')) {\n        this.trigger('data', this.buffer.substring(0, nextNewline));\n        this.buffer = this.buffer.substring(nextNewline + 1);\n      }\n    };\n\n    return LineStream;\n  }(Stream);\n  /**\n   * \"forgiving\" attribute list psuedo-grammar:\n   * attributes -> keyvalue (',' keyvalue)*\n   * keyvalue   -> key '=' value\n   * key        -> [^=]*\n   * value      -> '\"' [^\"]* '\"' | [^,]*\n   */\n\n\n  var attributeSeparator = function attributeSeparator() {\n    var key = '[^=]*';\n    var value = '\"[^\"]*\"|[^,]*';\n    var keyvalue = '(?:' + key + ')=(?:' + value + ')';\n    return new RegExp('(?:^|,)(' + keyvalue + ')');\n  };\n  /**\n   * Parse attributes from a line given the separator\n   *\n   * @param {string} attributes the attribute line to parse\n   */\n\n\n  var parseAttributes = function parseAttributes(attributes) {\n    // split the string using attributes as the separator\n    var attrs = attributes.split(attributeSeparator());\n    var result = {};\n    var i = attrs.length;\n    var attr;\n\n    while (i--) {\n      // filter out unmatched portions of the string\n      if (attrs[i] === '') {\n        continue;\n      } // split the key and value\n\n\n      attr = /([^=]*)=(.*)/.exec(attrs[i]).slice(1); // trim whitespace and remove optional quotes around the value\n\n      attr[0] = attr[0].replace(/^\\s+|\\s+$/g, '');\n      attr[1] = attr[1].replace(/^\\s+|\\s+$/g, '');\n      attr[1] = attr[1].replace(/^['\"](.*)['\"]$/g, '$1');\n      result[attr[0]] = attr[1];\n    }\n\n    return result;\n  };\n  /**\n   * A line-level M3U8 parser event stream. It expects to receive input one\n   * line at a time and performs a context-free parse of its contents. A stream\n   * interpretation of a manifest can be useful if the manifest is expected to\n   * be too large to fit comfortably into memory or the entirety of the input\n   * is not immediately available. Otherwise, it's probably much easier to work\n   * with a regular `Parser` object.\n   *\n   * Produces `data` events with an object that captures the parser's\n   * interpretation of the input. That object has a property `tag` that is one\n   * of `uri`, `comment`, or `tag`. URIs only have a single additional\n   * property, `line`, which captures the entirety of the input without\n   * interpretation. Comments similarly have a single additional property\n   * `text` which is the input without the leading `#`.\n   *\n   * Tags always have a property `tagType` which is the lower-cased version of\n   * the M3U8 directive without the `#EXT` or `#EXT-X-` prefix. For instance,\n   * `#EXT-X-MEDIA-SEQUENCE` becomes `media-sequence` when parsed. Unrecognized\n   * tags are given the tag type `unknown` and a single additional property\n   * `data` with the remainder of the input.\n   *\n   * @class ParseStream\n   * @extends Stream\n   */\n\n\n  var ParseStream =\n  /*#__PURE__*/\n  function (_Stream) {\n    _inheritsLoose$1(ParseStream, _Stream);\n\n    function ParseStream() {\n      var _this;\n\n      _this = _Stream.call(this) || this;\n      _this.customParsers = [];\n      _this.tagMappers = [];\n      return _this;\n    }\n    /**\n     * Parses an additional line of input.\n     *\n     * @param {string} line a single line of an M3U8 file to parse\n     */\n\n\n    var _proto = ParseStream.prototype;\n\n    _proto.push = function push(line) {\n      var _this2 = this;\n\n      var match;\n      var event; // strip whitespace\n\n      line = line.trim();\n\n      if (line.length === 0) {\n        // ignore empty lines\n        return;\n      } // URIs\n\n\n      if (line[0] !== '#') {\n        this.trigger('data', {\n          type: 'uri',\n          uri: line\n        });\n        return;\n      } // map tags\n\n\n      var newLines = this.tagMappers.reduce(function (acc, mapper) {\n        var mappedLine = mapper(line); // skip if unchanged\n\n        if (mappedLine === line) {\n          return acc;\n        }\n\n        return acc.concat([mappedLine]);\n      }, [line]);\n      newLines.forEach(function (newLine) {\n        for (var i = 0; i < _this2.customParsers.length; i++) {\n          if (_this2.customParsers[i].call(_this2, newLine)) {\n            return;\n          }\n        } // Comments\n\n\n        if (newLine.indexOf('#EXT') !== 0) {\n          _this2.trigger('data', {\n            type: 'comment',\n            text: newLine.slice(1)\n          });\n\n          return;\n        } // strip off any carriage returns here so the regex matching\n        // doesn't have to account for them.\n\n\n        newLine = newLine.replace('\\r', ''); // Tags\n\n        match = /^#EXTM3U/.exec(newLine);\n\n        if (match) {\n          _this2.trigger('data', {\n            type: 'tag',\n            tagType: 'm3u'\n          });\n\n          return;\n        }\n\n        match = /^#EXTINF:?([0-9\\.]*)?,?(.*)?$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'inf'\n          };\n\n          if (match[1]) {\n            event.duration = parseFloat(match[1]);\n          }\n\n          if (match[2]) {\n            event.title = match[2];\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'targetduration'\n          };\n\n          if (match[1]) {\n            event.duration = parseInt(match[1], 10);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'totalduration'\n          };\n\n          if (match[1]) {\n            event.duration = parseInt(match[1], 10);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'version'\n          };\n\n          if (match[1]) {\n            event.version = parseInt(match[1], 10);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-MEDIA-SEQUENCE:?(\\-?[0-9.]*)?/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'media-sequence'\n          };\n\n          if (match[1]) {\n            event.number = parseInt(match[1], 10);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\\-?[0-9.]*)?/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'discontinuity-sequence'\n          };\n\n          if (match[1]) {\n            event.number = parseInt(match[1], 10);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'playlist-type'\n          };\n\n          if (match[1]) {\n            event.playlistType = match[1];\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'byterange'\n          };\n\n          if (match[1]) {\n            event.length = parseInt(match[1], 10);\n          }\n\n          if (match[2]) {\n            event.offset = parseInt(match[2], 10);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'allow-cache'\n          };\n\n          if (match[1]) {\n            event.allowed = !/NO/.test(match[1]);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-MAP:?(.*)$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'map'\n          };\n\n          if (match[1]) {\n            var attributes = parseAttributes(match[1]);\n\n            if (attributes.URI) {\n              event.uri = attributes.URI;\n            }\n\n            if (attributes.BYTERANGE) {\n              var _attributes$BYTERANGE = attributes.BYTERANGE.split('@'),\n                  length = _attributes$BYTERANGE[0],\n                  offset = _attributes$BYTERANGE[1];\n\n              event.byterange = {};\n\n              if (length) {\n                event.byterange.length = parseInt(length, 10);\n              }\n\n              if (offset) {\n                event.byterange.offset = parseInt(offset, 10);\n              }\n            }\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-STREAM-INF:?(.*)$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'stream-inf'\n          };\n\n          if (match[1]) {\n            event.attributes = parseAttributes(match[1]);\n\n            if (event.attributes.RESOLUTION) {\n              var split = event.attributes.RESOLUTION.split('x');\n              var resolution = {};\n\n              if (split[0]) {\n                resolution.width = parseInt(split[0], 10);\n              }\n\n              if (split[1]) {\n                resolution.height = parseInt(split[1], 10);\n              }\n\n              event.attributes.RESOLUTION = resolution;\n            }\n\n            if (event.attributes.BANDWIDTH) {\n              event.attributes.BANDWIDTH = parseInt(event.attributes.BANDWIDTH, 10);\n            }\n\n            if (event.attributes['PROGRAM-ID']) {\n              event.attributes['PROGRAM-ID'] = parseInt(event.attributes['PROGRAM-ID'], 10);\n            }\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-MEDIA:?(.*)$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'media'\n          };\n\n          if (match[1]) {\n            event.attributes = parseAttributes(match[1]);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-ENDLIST/.exec(newLine);\n\n        if (match) {\n          _this2.trigger('data', {\n            type: 'tag',\n            tagType: 'endlist'\n          });\n\n          return;\n        }\n\n        match = /^#EXT-X-DISCONTINUITY/.exec(newLine);\n\n        if (match) {\n          _this2.trigger('data', {\n            type: 'tag',\n            tagType: 'discontinuity'\n          });\n\n          return;\n        }\n\n        match = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'program-date-time'\n          };\n\n          if (match[1]) {\n            event.dateTimeString = match[1];\n            event.dateTimeObject = new Date(match[1]);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-KEY:?(.*)$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'key'\n          };\n\n          if (match[1]) {\n            event.attributes = parseAttributes(match[1]); // parse the IV string into a Uint32Array\n\n            if (event.attributes.IV) {\n              if (event.attributes.IV.substring(0, 2).toLowerCase() === '0x') {\n                event.attributes.IV = event.attributes.IV.substring(2);\n              }\n\n              event.attributes.IV = event.attributes.IV.match(/.{8}/g);\n              event.attributes.IV[0] = parseInt(event.attributes.IV[0], 16);\n              event.attributes.IV[1] = parseInt(event.attributes.IV[1], 16);\n              event.attributes.IV[2] = parseInt(event.attributes.IV[2], 16);\n              event.attributes.IV[3] = parseInt(event.attributes.IV[3], 16);\n              event.attributes.IV = new Uint32Array(event.attributes.IV);\n            }\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-START:?(.*)$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'start'\n          };\n\n          if (match[1]) {\n            event.attributes = parseAttributes(match[1]);\n            event.attributes['TIME-OFFSET'] = parseFloat(event.attributes['TIME-OFFSET']);\n            event.attributes.PRECISE = /YES/.test(event.attributes.PRECISE);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'cue-out-cont'\n          };\n\n          if (match[1]) {\n            event.data = match[1];\n          } else {\n            event.data = '';\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'cue-out'\n          };\n\n          if (match[1]) {\n            event.data = match[1];\n          } else {\n            event.data = '';\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-CUE-IN:?(.*)?$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'cue-in'\n          };\n\n          if (match[1]) {\n            event.data = match[1];\n          } else {\n            event.data = '';\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        } // unknown tag type\n\n\n        _this2.trigger('data', {\n          type: 'tag',\n          data: newLine.slice(4)\n        });\n      });\n    }\n    /**\n     * Add a parser for custom headers\n     *\n     * @param {Object}   options              a map of options for the added parser\n     * @param {RegExp}   options.expression   a regular expression to match the custom header\n     * @param {string}   options.customType   the custom type to register to the output\n     * @param {Function} [options.dataParser] function to parse the line into an object\n     * @param {boolean}  [options.segment]    should tag data be attached to the segment object\n     */\n    ;\n\n    _proto.addParser = function addParser(_ref) {\n      var _this3 = this;\n\n      var expression = _ref.expression,\n          customType = _ref.customType,\n          dataParser = _ref.dataParser,\n          segment = _ref.segment;\n\n      if (typeof dataParser !== 'function') {\n        dataParser = function dataParser(line) {\n          return line;\n        };\n      }\n\n      this.customParsers.push(function (line) {\n        var match = expression.exec(line);\n\n        if (match) {\n          _this3.trigger('data', {\n            type: 'custom',\n            data: dataParser(line),\n            customType: customType,\n            segment: segment\n          });\n\n          return true;\n        }\n      });\n    }\n    /**\n     * Add a custom header mapper\n     *\n     * @param {Object}   options\n     * @param {RegExp}   options.expression   a regular expression to match the custom header\n     * @param {Function} options.map          function to translate tag into a different tag\n     */\n    ;\n\n    _proto.addTagMapper = function addTagMapper(_ref2) {\n      var expression = _ref2.expression,\n          map = _ref2.map;\n\n      var mapFn = function mapFn(line) {\n        if (expression.test(line)) {\n          return map(line);\n        }\n\n        return line;\n      };\n\n      this.tagMappers.push(mapFn);\n    };\n\n    return ParseStream;\n  }(Stream);\n\n  function decodeB64ToUint8Array(b64Text) {\n    var decodedString = window$1.atob(b64Text || '');\n    var array = new Uint8Array(decodedString.length);\n\n    for (var i = 0; i < decodedString.length; i++) {\n      array[i] = decodedString.charCodeAt(i);\n    }\n\n    return array;\n  }\n  /**\n   * A parser for M3U8 files. The current interpretation of the input is\n   * exposed as a property `manifest` on parser objects. It's just two lines to\n   * create and parse a manifest once you have the contents available as a string:\n   *\n   * ```js\n   * var parser = new m3u8.Parser();\n   * parser.push(xhr.responseText);\n   * ```\n   *\n   * New input can later be applied to update the manifest object by calling\n   * `push` again.\n   *\n   * The parser attempts to create a usable manifest object even if the\n   * underlying input is somewhat nonsensical. It emits `info` and `warning`\n   * events during the parse if it encounters input that seems invalid or\n   * requires some property of the manifest object to be defaulted.\n   *\n   * @class Parser\n   * @extends Stream\n   */\n\n\n  var Parser =\n  /*#__PURE__*/\n  function (_Stream) {\n    _inheritsLoose$1(Parser, _Stream);\n\n    function Parser() {\n      var _this;\n\n      _this = _Stream.call(this) || this;\n      _this.lineStream = new LineStream();\n      _this.parseStream = new ParseStream();\n\n      _this.lineStream.pipe(_this.parseStream);\n      /* eslint-disable consistent-this */\n\n\n      var self = _assertThisInitialized$1(_this);\n      /* eslint-enable consistent-this */\n\n\n      var uris = [];\n      var currentUri = {}; // if specified, the active EXT-X-MAP definition\n\n      var currentMap; // if specified, the active decryption key\n\n      var _key;\n\n      var noop = function noop() {};\n\n      var defaultMediaGroups = {\n        'AUDIO': {},\n        'VIDEO': {},\n        'CLOSED-CAPTIONS': {},\n        'SUBTITLES': {}\n      }; // This is the Widevine UUID from DASH IF IOP. The same exact string is\n      // used in MPDs with Widevine encrypted streams.\n\n      var widevineUuid = 'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed'; // group segments into numbered timelines delineated by discontinuities\n\n      var currentTimeline = 0; // the manifest is empty until the parse stream begins delivering data\n\n      _this.manifest = {\n        allowCache: true,\n        discontinuityStarts: [],\n        segments: []\n      }; // update the manifest with the m3u8 entry from the parse stream\n\n      _this.parseStream.on('data', function (entry) {\n        var mediaGroup;\n        var rendition;\n        ({\n          tag: function tag() {\n            // switch based on the tag type\n            (({\n              'allow-cache': function allowCache() {\n                this.manifest.allowCache = entry.allowed;\n\n                if (!('allowed' in entry)) {\n                  this.trigger('info', {\n                    message: 'defaulting allowCache to YES'\n                  });\n                  this.manifest.allowCache = true;\n                }\n              },\n              byterange: function byterange() {\n                var byterange = {};\n\n                if ('length' in entry) {\n                  currentUri.byterange = byterange;\n                  byterange.length = entry.length;\n\n                  if (!('offset' in entry)) {\n                    this.trigger('info', {\n                      message: 'defaulting offset to zero'\n                    });\n                    entry.offset = 0;\n                  }\n                }\n\n                if ('offset' in entry) {\n                  currentUri.byterange = byterange;\n                  byterange.offset = entry.offset;\n                }\n              },\n              endlist: function endlist() {\n                this.manifest.endList = true;\n              },\n              inf: function inf() {\n                if (!('mediaSequence' in this.manifest)) {\n                  this.manifest.mediaSequence = 0;\n                  this.trigger('info', {\n                    message: 'defaulting media sequence to zero'\n                  });\n                }\n\n                if (!('discontinuitySequence' in this.manifest)) {\n                  this.manifest.discontinuitySequence = 0;\n                  this.trigger('info', {\n                    message: 'defaulting discontinuity sequence to zero'\n                  });\n                }\n\n                if (entry.duration > 0) {\n                  currentUri.duration = entry.duration;\n                }\n\n                if (entry.duration === 0) {\n                  currentUri.duration = 0.01;\n                  this.trigger('info', {\n                    message: 'updating zero segment duration to a small value'\n                  });\n                }\n\n                this.manifest.segments = uris;\n              },\n              key: function key() {\n                if (!entry.attributes) {\n                  this.trigger('warn', {\n                    message: 'ignoring key declaration without attribute list'\n                  });\n                  return;\n                } // clear the active encryption key\n\n\n                if (entry.attributes.METHOD === 'NONE') {\n                  _key = null;\n                  return;\n                }\n\n                if (!entry.attributes.URI) {\n                  this.trigger('warn', {\n                    message: 'ignoring key declaration without URI'\n                  });\n                  return;\n                } // check if the content is encrypted for Widevine\n                // Widevine/HLS spec: https://storage.googleapis.com/wvdocs/Widevine_DRM_HLS.pdf\n\n\n                if (entry.attributes.KEYFORMAT === widevineUuid) {\n                  var VALID_METHODS = ['SAMPLE-AES', 'SAMPLE-AES-CTR', 'SAMPLE-AES-CENC'];\n\n                  if (VALID_METHODS.indexOf(entry.attributes.METHOD) === -1) {\n                    this.trigger('warn', {\n                      message: 'invalid key method provided for Widevine'\n                    });\n                    return;\n                  }\n\n                  if (entry.attributes.METHOD === 'SAMPLE-AES-CENC') {\n                    this.trigger('warn', {\n                      message: 'SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead'\n                    });\n                  }\n\n                  if (entry.attributes.URI.substring(0, 23) !== 'data:text/plain;base64,') {\n                    this.trigger('warn', {\n                      message: 'invalid key URI provided for Widevine'\n                    });\n                    return;\n                  }\n\n                  if (!(entry.attributes.KEYID && entry.attributes.KEYID.substring(0, 2) === '0x')) {\n                    this.trigger('warn', {\n                      message: 'invalid key ID provided for Widevine'\n                    });\n                    return;\n                  } // if Widevine key attributes are valid, store them as `contentProtection`\n                  // on the manifest to emulate Widevine tag structure in a DASH mpd\n\n\n                  this.manifest.contentProtection = {\n                    'com.widevine.alpha': {\n                      attributes: {\n                        schemeIdUri: entry.attributes.KEYFORMAT,\n                        // remove '0x' from the key id string\n                        keyId: entry.attributes.KEYID.substring(2)\n                      },\n                      // decode the base64-encoded PSSH box\n                      pssh: decodeB64ToUint8Array(entry.attributes.URI.split(',')[1])\n                    }\n                  };\n                  return;\n                }\n\n                if (!entry.attributes.METHOD) {\n                  this.trigger('warn', {\n                    message: 'defaulting key method to AES-128'\n                  });\n                } // setup an encryption key for upcoming segments\n\n\n                _key = {\n                  method: entry.attributes.METHOD || 'AES-128',\n                  uri: entry.attributes.URI\n                };\n\n                if (typeof entry.attributes.IV !== 'undefined') {\n                  _key.iv = entry.attributes.IV;\n                }\n              },\n              'media-sequence': function mediaSequence() {\n                if (!isFinite(entry.number)) {\n                  this.trigger('warn', {\n                    message: 'ignoring invalid media sequence: ' + entry.number\n                  });\n                  return;\n                }\n\n                this.manifest.mediaSequence = entry.number;\n              },\n              'discontinuity-sequence': function discontinuitySequence() {\n                if (!isFinite(entry.number)) {\n                  this.trigger('warn', {\n                    message: 'ignoring invalid discontinuity sequence: ' + entry.number\n                  });\n                  return;\n                }\n\n                this.manifest.discontinuitySequence = entry.number;\n                currentTimeline = entry.number;\n              },\n              'playlist-type': function playlistType() {\n                if (!/VOD|EVENT/.test(entry.playlistType)) {\n                  this.trigger('warn', {\n                    message: 'ignoring unknown playlist type: ' + entry.playlist\n                  });\n                  return;\n                }\n\n                this.manifest.playlistType = entry.playlistType;\n              },\n              map: function map() {\n                currentMap = {};\n\n                if (entry.uri) {\n                  currentMap.uri = entry.uri;\n                }\n\n                if (entry.byterange) {\n                  currentMap.byterange = entry.byterange;\n                }\n              },\n              'stream-inf': function streamInf() {\n                this.manifest.playlists = uris;\n                this.manifest.mediaGroups = this.manifest.mediaGroups || defaultMediaGroups;\n\n                if (!entry.attributes) {\n                  this.trigger('warn', {\n                    message: 'ignoring empty stream-inf attributes'\n                  });\n                  return;\n                }\n\n                if (!currentUri.attributes) {\n                  currentUri.attributes = {};\n                }\n\n                _extends(currentUri.attributes, entry.attributes);\n              },\n              media: function media() {\n                this.manifest.mediaGroups = this.manifest.mediaGroups || defaultMediaGroups;\n\n                if (!(entry.attributes && entry.attributes.TYPE && entry.attributes['GROUP-ID'] && entry.attributes.NAME)) {\n                  this.trigger('warn', {\n                    message: 'ignoring incomplete or missing media group'\n                  });\n                  return;\n                } // find the media group, creating defaults as necessary\n\n\n                var mediaGroupType = this.manifest.mediaGroups[entry.attributes.TYPE];\n                mediaGroupType[entry.attributes['GROUP-ID']] = mediaGroupType[entry.attributes['GROUP-ID']] || {};\n                mediaGroup = mediaGroupType[entry.attributes['GROUP-ID']]; // collect the rendition metadata\n\n                rendition = {\n                  \"default\": /yes/i.test(entry.attributes.DEFAULT)\n                };\n\n                if (rendition[\"default\"]) {\n                  rendition.autoselect = true;\n                } else {\n                  rendition.autoselect = /yes/i.test(entry.attributes.AUTOSELECT);\n                }\n\n                if (entry.attributes.LANGUAGE) {\n                  rendition.language = entry.attributes.LANGUAGE;\n                }\n\n                if (entry.attributes.URI) {\n                  rendition.uri = entry.attributes.URI;\n                }\n\n                if (entry.attributes['INSTREAM-ID']) {\n                  rendition.instreamId = entry.attributes['INSTREAM-ID'];\n                }\n\n                if (entry.attributes.CHARACTERISTICS) {\n                  rendition.characteristics = entry.attributes.CHARACTERISTICS;\n                }\n\n                if (entry.attributes.FORCED) {\n                  rendition.forced = /yes/i.test(entry.attributes.FORCED);\n                } // insert the new rendition\n\n\n                mediaGroup[entry.attributes.NAME] = rendition;\n              },\n              discontinuity: function discontinuity() {\n                currentTimeline += 1;\n                currentUri.discontinuity = true;\n                this.manifest.discontinuityStarts.push(uris.length);\n              },\n              'program-date-time': function programDateTime() {\n                if (typeof this.manifest.dateTimeString === 'undefined') {\n                  // PROGRAM-DATE-TIME is a media-segment tag, but for backwards\n                  // compatibility, we add the first occurence of the PROGRAM-DATE-TIME tag\n                  // to the manifest object\n                  // TODO: Consider removing this in future major version\n                  this.manifest.dateTimeString = entry.dateTimeString;\n                  this.manifest.dateTimeObject = entry.dateTimeObject;\n                }\n\n                currentUri.dateTimeString = entry.dateTimeString;\n                currentUri.dateTimeObject = entry.dateTimeObject;\n              },\n              targetduration: function targetduration() {\n                if (!isFinite(entry.duration) || entry.duration < 0) {\n                  this.trigger('warn', {\n                    message: 'ignoring invalid target duration: ' + entry.duration\n                  });\n                  return;\n                }\n\n                this.manifest.targetDuration = entry.duration;\n              },\n              totalduration: function totalduration() {\n                if (!isFinite(entry.duration) || entry.duration < 0) {\n                  this.trigger('warn', {\n                    message: 'ignoring invalid total duration: ' + entry.duration\n                  });\n                  return;\n                }\n\n                this.manifest.totalDuration = entry.duration;\n              },\n              start: function start() {\n                if (!entry.attributes || isNaN(entry.attributes['TIME-OFFSET'])) {\n                  this.trigger('warn', {\n                    message: 'ignoring start declaration without appropriate attribute list'\n                  });\n                  return;\n                }\n\n                this.manifest.start = {\n                  timeOffset: entry.attributes['TIME-OFFSET'],\n                  precise: entry.attributes.PRECISE\n                };\n              },\n              'cue-out': function cueOut() {\n                currentUri.cueOut = entry.data;\n              },\n              'cue-out-cont': function cueOutCont() {\n                currentUri.cueOutCont = entry.data;\n              },\n              'cue-in': function cueIn() {\n                currentUri.cueIn = entry.data;\n              }\n            })[entry.tagType] || noop).call(self);\n          },\n          uri: function uri() {\n            currentUri.uri = entry.uri;\n            uris.push(currentUri); // if no explicit duration was declared, use the target duration\n\n            if (this.manifest.targetDuration && !('duration' in currentUri)) {\n              this.trigger('warn', {\n                message: 'defaulting segment duration to the target duration'\n              });\n              currentUri.duration = this.manifest.targetDuration;\n            } // annotate with encryption information, if necessary\n\n\n            if (_key) {\n              currentUri.key = _key;\n            }\n\n            currentUri.timeline = currentTimeline; // annotate with initialization segment information, if necessary\n\n            if (currentMap) {\n              currentUri.map = currentMap;\n            } // prepare for the next URI\n\n\n            currentUri = {};\n          },\n          comment: function comment() {// comments are not important for playback\n          },\n          custom: function custom() {\n            // if this is segment-level data attach the output to the segment\n            if (entry.segment) {\n              currentUri.custom = currentUri.custom || {};\n              currentUri.custom[entry.customType] = entry.data; // if this is manifest-level data attach to the top level manifest object\n            } else {\n              this.manifest.custom = this.manifest.custom || {};\n              this.manifest.custom[entry.customType] = entry.data;\n            }\n          }\n        })[entry.type].call(self);\n      });\n\n      return _this;\n    }\n    /**\n     * Parse the input string and update the manifest object.\n     *\n     * @param {string} chunk a potentially incomplete portion of the manifest\n     */\n\n\n    var _proto = Parser.prototype;\n\n    _proto.push = function push(chunk) {\n      this.lineStream.push(chunk);\n    }\n    /**\n     * Flush any remaining input. This can be handy if the last line of an M3U8\n     * manifest did not contain a trailing newline but the file has been\n     * completely received.\n     */\n    ;\n\n    _proto.end = function end() {\n      // flush any buffered input\n      this.lineStream.push('\\n');\n    }\n    /**\n     * Add an additional parser for non-standard tags\n     *\n     * @param {Object}   options              a map of options for the added parser\n     * @param {RegExp}   options.expression   a regular expression to match the custom header\n     * @param {string}   options.type         the type to register to the output\n     * @param {Function} [options.dataParser] function to parse the line into an object\n     * @param {boolean}  [options.segment]    should tag data be attached to the segment object\n     */\n    ;\n\n    _proto.addParser = function addParser(options) {\n      this.parseStream.addParser(options);\n    }\n    /**\n     * Add a custom header mapper\n     *\n     * @param {Object}   options\n     * @param {RegExp}   options.expression   a regular expression to match the custom header\n     * @param {Function} options.map          function to translate tag into a different tag\n     */\n    ;\n\n    _proto.addTagMapper = function addTagMapper(options) {\n      this.parseStream.addTagMapper(options);\n    };\n\n    return Parser;\n  }(Stream);\n\n  /*! @name mpd-parser @version 0.8.1 @license Apache-2.0 */\n\n  var isObject$1 = function isObject(obj) {\n    return !!obj && typeof obj === 'object';\n  };\n\n  var merge = function merge() {\n    for (var _len = arguments.length, objects = new Array(_len), _key = 0; _key < _len; _key++) {\n      objects[_key] = arguments[_key];\n    }\n\n    return objects.reduce(function (result, source) {\n      Object.keys(source).forEach(function (key) {\n        if (Array.isArray(result[key]) && Array.isArray(source[key])) {\n          result[key] = result[key].concat(source[key]);\n        } else if (isObject$1(result[key]) && isObject$1(source[key])) {\n          result[key] = merge(result[key], source[key]);\n        } else {\n          result[key] = source[key];\n        }\n      });\n      return result;\n    }, {});\n  };\n\n  var values = function values(o) {\n    return Object.keys(o).map(function (k) {\n      return o[k];\n    });\n  };\n\n  var range = function range(start, end) {\n    var result = [];\n\n    for (var i = start; i < end; i++) {\n      result.push(i);\n    }\n\n    return result;\n  };\n\n  var flatten = function flatten(lists) {\n    return lists.reduce(function (x, y) {\n      return x.concat(y);\n    }, []);\n  };\n\n  var from = function from(list) {\n    if (!list.length) {\n      return [];\n    }\n\n    var result = [];\n\n    for (var i = 0; i < list.length; i++) {\n      result.push(list[i]);\n    }\n\n    return result;\n  };\n\n  var findIndexes = function findIndexes(l, key) {\n    return l.reduce(function (a, e, i) {\n      if (e[key]) {\n        a.push(i);\n      }\n\n      return a;\n    }, []);\n  };\n\n  var errors = {\n    INVALID_NUMBER_OF_PERIOD: 'INVALID_NUMBER_OF_PERIOD',\n    DASH_EMPTY_MANIFEST: 'DASH_EMPTY_MANIFEST',\n    DASH_INVALID_XML: 'DASH_INVALID_XML',\n    NO_BASE_URL: 'NO_BASE_URL',\n    MISSING_SEGMENT_INFORMATION: 'MISSING_SEGMENT_INFORMATION',\n    SEGMENT_TIME_UNSPECIFIED: 'SEGMENT_TIME_UNSPECIFIED',\n    UNSUPPORTED_UTC_TIMING_SCHEME: 'UNSUPPORTED_UTC_TIMING_SCHEME'\n  };\n\n  function createCommonjsModule$1(fn, module) {\n    return module = {\n      exports: {}\n    }, fn(module, module.exports), module.exports;\n  }\n\n  var urlToolkit$1 = createCommonjsModule$1(function (module, exports) {\n    // see https://tools.ietf.org/html/rfc1808\n\n    /* jshint ignore:start */\n    (function (root) {\n      /* jshint ignore:end */\n      var URL_REGEX = /^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/\\?#]*\\/)*.*?)??(;.*?)?(\\?.*?)?(#.*?)?$/;\n      var FIRST_SEGMENT_REGEX = /^([^\\/?#]*)(.*)$/;\n      var SLASH_DOT_REGEX = /(?:\\/|^)\\.(?=\\/)/g;\n      var SLASH_DOT_DOT_REGEX = /(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/).*?(?=\\/)/g;\n      var URLToolkit = {\n        // jshint ignore:line\n        // If opts.alwaysNormalize is true then the path will always be normalized even when it starts with / or //\n        // E.g\n        // With opts.alwaysNormalize = false (default, spec compliant)\n        // http://a.com/b/cd + /e/f/../g => http://a.com/e/f/../g\n        // With opts.alwaysNormalize = true (not spec compliant)\n        // http://a.com/b/cd + /e/f/../g => http://a.com/e/g\n        buildAbsoluteURL: function buildAbsoluteURL(baseURL, relativeURL, opts) {\n          opts = opts || {}; // remove any remaining space and CRLF\n\n          baseURL = baseURL.trim();\n          relativeURL = relativeURL.trim();\n\n          if (!relativeURL) {\n            // 2a) If the embedded URL is entirely empty, it inherits the\n            // entire base URL (i.e., is set equal to the base URL)\n            // and we are done.\n            if (!opts.alwaysNormalize) {\n              return baseURL;\n            }\n\n            var basePartsForNormalise = URLToolkit.parseURL(baseURL);\n\n            if (!basePartsForNormalise) {\n              throw new Error('Error trying to parse base URL.');\n            }\n\n            basePartsForNormalise.path = URLToolkit.normalizePath(basePartsForNormalise.path);\n            return URLToolkit.buildURLFromParts(basePartsForNormalise);\n          }\n\n          var relativeParts = URLToolkit.parseURL(relativeURL);\n\n          if (!relativeParts) {\n            throw new Error('Error trying to parse relative URL.');\n          }\n\n          if (relativeParts.scheme) {\n            // 2b) If the embedded URL starts with a scheme name, it is\n            // interpreted as an absolute URL and we are done.\n            if (!opts.alwaysNormalize) {\n              return relativeURL;\n            }\n\n            relativeParts.path = URLToolkit.normalizePath(relativeParts.path);\n            return URLToolkit.buildURLFromParts(relativeParts);\n          }\n\n          var baseParts = URLToolkit.parseURL(baseURL);\n\n          if (!baseParts) {\n            throw new Error('Error trying to parse base URL.');\n          }\n\n          if (!baseParts.netLoc && baseParts.path && baseParts.path[0] !== '/') {\n            // If netLoc missing and path doesn't start with '/', assume everthing before the first '/' is the netLoc\n            // This causes 'example.com/a' to be handled as '//example.com/a' instead of '/example.com/a'\n            var pathParts = FIRST_SEGMENT_REGEX.exec(baseParts.path);\n            baseParts.netLoc = pathParts[1];\n            baseParts.path = pathParts[2];\n          }\n\n          if (baseParts.netLoc && !baseParts.path) {\n            baseParts.path = '/';\n          }\n\n          var builtParts = {\n            // 2c) Otherwise, the embedded URL inherits the scheme of\n            // the base URL.\n            scheme: baseParts.scheme,\n            netLoc: relativeParts.netLoc,\n            path: null,\n            params: relativeParts.params,\n            query: relativeParts.query,\n            fragment: relativeParts.fragment\n          };\n\n          if (!relativeParts.netLoc) {\n            // 3) If the embedded URL's <net_loc> is non-empty, we skip to\n            // Step 7.  Otherwise, the embedded URL inherits the <net_loc>\n            // (if any) of the base URL.\n            builtParts.netLoc = baseParts.netLoc; // 4) If the embedded URL path is preceded by a slash \"/\", the\n            // path is not relative and we skip to Step 7.\n\n            if (relativeParts.path[0] !== '/') {\n              if (!relativeParts.path) {\n                // 5) If the embedded URL path is empty (and not preceded by a\n                // slash), then the embedded URL inherits the base URL path\n                builtParts.path = baseParts.path; // 5a) if the embedded URL's <params> is non-empty, we skip to\n                // step 7; otherwise, it inherits the <params> of the base\n                // URL (if any) and\n\n                if (!relativeParts.params) {\n                  builtParts.params = baseParts.params; // 5b) if the embedded URL's <query> is non-empty, we skip to\n                  // step 7; otherwise, it inherits the <query> of the base\n                  // URL (if any) and we skip to step 7.\n\n                  if (!relativeParts.query) {\n                    builtParts.query = baseParts.query;\n                  }\n                }\n              } else {\n                // 6) The last segment of the base URL's path (anything\n                // following the rightmost slash \"/\", or the entire path if no\n                // slash is present) is removed and the embedded URL's path is\n                // appended in its place.\n                var baseURLPath = baseParts.path;\n                var newPath = baseURLPath.substring(0, baseURLPath.lastIndexOf('/') + 1) + relativeParts.path;\n                builtParts.path = URLToolkit.normalizePath(newPath);\n              }\n            }\n          }\n\n          if (builtParts.path === null) {\n            builtParts.path = opts.alwaysNormalize ? URLToolkit.normalizePath(relativeParts.path) : relativeParts.path;\n          }\n\n          return URLToolkit.buildURLFromParts(builtParts);\n        },\n        parseURL: function parseURL(url) {\n          var parts = URL_REGEX.exec(url);\n\n          if (!parts) {\n            return null;\n          }\n\n          return {\n            scheme: parts[1] || '',\n            netLoc: parts[2] || '',\n            path: parts[3] || '',\n            params: parts[4] || '',\n            query: parts[5] || '',\n            fragment: parts[6] || ''\n          };\n        },\n        normalizePath: function normalizePath(path) {\n          // The following operations are\n          // then applied, in order, to the new path:\n          // 6a) All occurrences of \"./\", where \".\" is a complete path\n          // segment, are removed.\n          // 6b) If the path ends with \".\" as a complete path segment,\n          // that \".\" is removed.\n          path = path.split('').reverse().join('').replace(SLASH_DOT_REGEX, ''); // 6c) All occurrences of \"<segment>/../\", where <segment> is a\n          // complete path segment not equal to \"..\", are removed.\n          // Removal of these path segments is performed iteratively,\n          // removing the leftmost matching pattern on each iteration,\n          // until no matching pattern remains.\n          // 6d) If the path ends with \"<segment>/..\", where <segment> is a\n          // complete path segment not equal to \"..\", that\n          // \"<segment>/..\" is removed.\n\n          while (path.length !== (path = path.replace(SLASH_DOT_DOT_REGEX, '')).length) {} // jshint ignore:line\n\n\n          return path.split('').reverse().join('');\n        },\n        buildURLFromParts: function buildURLFromParts(parts) {\n          return parts.scheme + parts.netLoc + parts.path + parts.params + parts.query + parts.fragment;\n        }\n      };\n      /* jshint ignore:start */\n\n      module.exports = URLToolkit;\n    })();\n    /* jshint ignore:end */\n\n  });\n\n  var resolveUrl = function resolveUrl(baseUrl, relativeUrl) {\n    // return early if we don't need to resolve\n    if (/^[a-z]+:/i.test(relativeUrl)) {\n      return relativeUrl;\n    } // if the base URL is relative then combine with the current location\n\n\n    if (!/\\/\\//i.test(baseUrl)) {\n      baseUrl = urlToolkit$1.buildAbsoluteURL(window$1.location.href, baseUrl);\n    }\n\n    return urlToolkit$1.buildAbsoluteURL(baseUrl, relativeUrl);\n  };\n  /**\n   * @typedef {Object} SingleUri\n   * @property {string} uri - relative location of segment\n   * @property {string} resolvedUri - resolved location of segment\n   * @property {Object} byterange - Object containing information on how to make byte range\n   *   requests following byte-range-spec per RFC2616.\n   * @property {String} byterange.length - length of range request\n   * @property {String} byterange.offset - byte offset of range request\n   *\n   * @see https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.1\n   */\n\n  /**\n   * Converts a URLType node (5.3.9.2.3 Table 13) to a segment object\n   * that conforms to how m3u8-parser is structured\n   *\n   * @see https://github.com/videojs/m3u8-parser\n   *\n   * @param {string} baseUrl - baseUrl provided by <BaseUrl> nodes\n   * @param {string} source - source url for segment\n   * @param {string} range - optional range used for range calls,\n   *   follows  RFC 2616, Clause 14.35.1\n   * @return {SingleUri} full segment information transformed into a format similar\n   *   to m3u8-parser\n   */\n\n\n  var urlTypeToSegment = function urlTypeToSegment(_ref) {\n    var _ref$baseUrl = _ref.baseUrl,\n        baseUrl = _ref$baseUrl === void 0 ? '' : _ref$baseUrl,\n        _ref$source = _ref.source,\n        source = _ref$source === void 0 ? '' : _ref$source,\n        _ref$range = _ref.range,\n        range = _ref$range === void 0 ? '' : _ref$range,\n        _ref$indexRange = _ref.indexRange,\n        indexRange = _ref$indexRange === void 0 ? '' : _ref$indexRange;\n    var segment = {\n      uri: source,\n      resolvedUri: resolveUrl(baseUrl || '', source)\n    };\n\n    if (range || indexRange) {\n      var rangeStr = range ? range : indexRange;\n      var ranges = rangeStr.split('-');\n      var startRange = parseInt(ranges[0], 10);\n      var endRange = parseInt(ranges[1], 10); // byterange should be inclusive according to\n      // RFC 2616, Clause 14.35.1\n\n      segment.byterange = {\n        length: endRange - startRange + 1,\n        offset: startRange\n      };\n    }\n\n    return segment;\n  };\n\n  var byteRangeToString = function byteRangeToString(byterange) {\n    // `endRange` is one less than `offset + length` because the HTTP range\n    // header uses inclusive ranges\n    var endRange = byterange.offset + byterange.length - 1;\n    return byterange.offset + \"-\" + endRange;\n  };\n  /**\n   * Functions for calculating the range of available segments in static and dynamic\n   * manifests.\n   */\n\n\n  var segmentRange = {\n    /**\n     * Returns the entire range of available segments for a static MPD\n     *\n     * @param {Object} attributes\n     *        Inheritied MPD attributes\n     * @return {{ start: number, end: number }}\n     *         The start and end numbers for available segments\n     */\n    \"static\": function _static(attributes) {\n      var duration = attributes.duration,\n          _attributes$timescale = attributes.timescale,\n          timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n          sourceDuration = attributes.sourceDuration;\n      return {\n        start: 0,\n        end: Math.ceil(sourceDuration / (duration / timescale))\n      };\n    },\n\n    /**\n     * Returns the current live window range of available segments for a dynamic MPD\n     *\n     * @param {Object} attributes\n     *        Inheritied MPD attributes\n     * @return {{ start: number, end: number }}\n     *         The start and end numbers for available segments\n     */\n    dynamic: function dynamic(attributes) {\n      var NOW = attributes.NOW,\n          clientOffset = attributes.clientOffset,\n          availabilityStartTime = attributes.availabilityStartTime,\n          _attributes$timescale2 = attributes.timescale,\n          timescale = _attributes$timescale2 === void 0 ? 1 : _attributes$timescale2,\n          duration = attributes.duration,\n          _attributes$start = attributes.start,\n          start = _attributes$start === void 0 ? 0 : _attributes$start,\n          _attributes$minimumUp = attributes.minimumUpdatePeriod,\n          minimumUpdatePeriod = _attributes$minimumUp === void 0 ? 0 : _attributes$minimumUp,\n          _attributes$timeShift = attributes.timeShiftBufferDepth,\n          timeShiftBufferDepth = _attributes$timeShift === void 0 ? Infinity : _attributes$timeShift;\n      var now = (NOW + clientOffset) / 1000;\n      var periodStartWC = availabilityStartTime + start;\n      var periodEndWC = now + minimumUpdatePeriod;\n      var periodDuration = periodEndWC - periodStartWC;\n      var segmentCount = Math.ceil(periodDuration * timescale / duration);\n      var availableStart = Math.floor((now - periodStartWC - timeShiftBufferDepth) * timescale / duration);\n      var availableEnd = Math.floor((now - periodStartWC) * timescale / duration);\n      return {\n        start: Math.max(0, availableStart),\n        end: Math.min(segmentCount, availableEnd)\n      };\n    }\n  };\n  /**\n   * Maps a range of numbers to objects with information needed to build the corresponding\n   * segment list\n   *\n   * @name toSegmentsCallback\n   * @function\n   * @param {number} number\n   *        Number of the segment\n   * @param {number} index\n   *        Index of the number in the range list\n   * @return {{ number: Number, duration: Number, timeline: Number, time: Number }}\n   *         Object with segment timing and duration info\n   */\n\n  /**\n   * Returns a callback for Array.prototype.map for mapping a range of numbers to\n   * information needed to build the segment list.\n   *\n   * @param {Object} attributes\n   *        Inherited MPD attributes\n   * @return {toSegmentsCallback}\n   *         Callback map function\n   */\n\n  var toSegments = function toSegments(attributes) {\n    return function (number, index) {\n      var duration = attributes.duration,\n          _attributes$timescale3 = attributes.timescale,\n          timescale = _attributes$timescale3 === void 0 ? 1 : _attributes$timescale3,\n          periodIndex = attributes.periodIndex,\n          _attributes$startNumb = attributes.startNumber,\n          startNumber = _attributes$startNumb === void 0 ? 1 : _attributes$startNumb;\n      return {\n        number: startNumber + number,\n        duration: duration / timescale,\n        timeline: periodIndex,\n        time: index * duration\n      };\n    };\n  };\n  /**\n   * Returns a list of objects containing segment timing and duration info used for\n   * building the list of segments. This uses the @duration attribute specified\n   * in the MPD manifest to derive the range of segments.\n   *\n   * @param {Object} attributes\n   *        Inherited MPD attributes\n   * @return {{number: number, duration: number, time: number, timeline: number}[]}\n   *         List of Objects with segment timing and duration info\n   */\n\n\n  var parseByDuration = function parseByDuration(attributes) {\n    var _attributes$type = attributes.type,\n        type = _attributes$type === void 0 ? 'static' : _attributes$type,\n        duration = attributes.duration,\n        _attributes$timescale4 = attributes.timescale,\n        timescale = _attributes$timescale4 === void 0 ? 1 : _attributes$timescale4,\n        sourceDuration = attributes.sourceDuration;\n\n    var _segmentRange$type = segmentRange[type](attributes),\n        start = _segmentRange$type.start,\n        end = _segmentRange$type.end;\n\n    var segments = range(start, end).map(toSegments(attributes));\n\n    if (type === 'static') {\n      var index = segments.length - 1; // final segment may be less than full segment duration\n\n      segments[index].duration = sourceDuration - duration / timescale * index;\n    }\n\n    return segments;\n  };\n  /**\n   * Translates SegmentBase into a set of segments.\n   * (DASH SPEC Section 5.3.9.3.2) contains a set of <SegmentURL> nodes.  Each\n   * node should be translated into segment.\n   *\n   * @param {Object} attributes\n   *   Object containing all inherited attributes from parent elements with attribute\n   *   names as keys\n   * @return {Object.<Array>} list of segments\n   */\n\n\n  var segmentsFromBase = function segmentsFromBase(attributes) {\n    var baseUrl = attributes.baseUrl,\n        _attributes$initializ = attributes.initialization,\n        initialization = _attributes$initializ === void 0 ? {} : _attributes$initializ,\n        sourceDuration = attributes.sourceDuration,\n        _attributes$timescale = attributes.timescale,\n        timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n        _attributes$indexRang = attributes.indexRange,\n        indexRange = _attributes$indexRang === void 0 ? '' : _attributes$indexRang,\n        duration = attributes.duration; // base url is required for SegmentBase to work, per spec (Section 5.3.9.2.1)\n\n    if (!baseUrl) {\n      throw new Error(errors.NO_BASE_URL);\n    }\n\n    var initSegment = urlTypeToSegment({\n      baseUrl: baseUrl,\n      source: initialization.sourceURL,\n      range: initialization.range\n    });\n    var segment = urlTypeToSegment({\n      baseUrl: baseUrl,\n      source: baseUrl,\n      indexRange: indexRange\n    });\n    segment.map = initSegment; // If there is a duration, use it, otherwise use the given duration of the source\n    // (since SegmentBase is only for one total segment)\n\n    if (duration) {\n      var segmentTimeInfo = parseByDuration(attributes);\n\n      if (segmentTimeInfo.length) {\n        segment.duration = segmentTimeInfo[0].duration;\n        segment.timeline = segmentTimeInfo[0].timeline;\n      }\n    } else if (sourceDuration) {\n      segment.duration = sourceDuration / timescale;\n      segment.timeline = 0;\n    } // This is used for mediaSequence\n\n\n    segment.number = 0;\n    return [segment];\n  };\n  /**\n   * Given a playlist, a sidx box, and a baseUrl, update the segment list of the playlist\n   * according to the sidx information given.\n   *\n   * playlist.sidx has metadadata about the sidx where-as the sidx param\n   * is the parsed sidx box itself.\n   *\n   * @param {Object} playlist the playlist to update the sidx information for\n   * @param {Object} sidx the parsed sidx box\n   * @return {Object} the playlist object with the updated sidx information\n   */\n\n\n  var addSegmentsToPlaylist = function addSegmentsToPlaylist(playlist, sidx, baseUrl) {\n    // Retain init segment information\n    var initSegment = playlist.sidx.map ? playlist.sidx.map : null; // Retain source duration from initial master manifest parsing\n\n    var sourceDuration = playlist.sidx.duration; // Retain source timeline\n\n    var timeline = playlist.timeline || 0;\n    var sidxByteRange = playlist.sidx.byterange;\n    var sidxEnd = sidxByteRange.offset + sidxByteRange.length; // Retain timescale of the parsed sidx\n\n    var timescale = sidx.timescale; // referenceType 1 refers to other sidx boxes\n\n    var mediaReferences = sidx.references.filter(function (r) {\n      return r.referenceType !== 1;\n    });\n    var segments = []; // firstOffset is the offset from the end of the sidx box\n\n    var startIndex = sidxEnd + sidx.firstOffset;\n\n    for (var i = 0; i < mediaReferences.length; i++) {\n      var reference = sidx.references[i]; // size of the referenced (sub)segment\n\n      var size = reference.referencedSize; // duration of the referenced (sub)segment, in  the  timescale\n      // this will be converted to seconds when generating segments\n\n      var duration = reference.subsegmentDuration; // should be an inclusive range\n\n      var endIndex = startIndex + size - 1;\n      var indexRange = startIndex + \"-\" + endIndex;\n      var attributes = {\n        baseUrl: baseUrl,\n        timescale: timescale,\n        timeline: timeline,\n        // this is used in parseByDuration\n        periodIndex: timeline,\n        duration: duration,\n        sourceDuration: sourceDuration,\n        indexRange: indexRange\n      };\n      var segment = segmentsFromBase(attributes)[0];\n\n      if (initSegment) {\n        segment.map = initSegment;\n      }\n\n      segments.push(segment);\n      startIndex += size;\n    }\n\n    playlist.segments = segments;\n    return playlist;\n  };\n\n  var mergeDiscontiguousPlaylists = function mergeDiscontiguousPlaylists(playlists) {\n    var mergedPlaylists = values(playlists.reduce(function (acc, playlist) {\n      // assuming playlist IDs are the same across periods\n      // TODO: handle multiperiod where representation sets are not the same\n      // across periods\n      var name = playlist.attributes.id + (playlist.attributes.lang || ''); // Periods after first\n\n      if (acc[name]) {\n        var _acc$name$segments; // first segment of subsequent periods signal a discontinuity\n\n\n        if (playlist.segments[0]) {\n          playlist.segments[0].discontinuity = true;\n        }\n\n        (_acc$name$segments = acc[name].segments).push.apply(_acc$name$segments, playlist.segments); // bubble up contentProtection, this assumes all DRM content\n        // has the same contentProtection\n\n\n        if (playlist.attributes.contentProtection) {\n          acc[name].attributes.contentProtection = playlist.attributes.contentProtection;\n        }\n      } else {\n        // first Period\n        acc[name] = playlist;\n      }\n\n      return acc;\n    }, {}));\n    return mergedPlaylists.map(function (playlist) {\n      playlist.discontinuityStarts = findIndexes(playlist.segments, 'discontinuity');\n      return playlist;\n    });\n  };\n\n  var addSegmentInfoFromSidx = function addSegmentInfoFromSidx(playlists, sidxMapping) {\n    if (sidxMapping === void 0) {\n      sidxMapping = {};\n    }\n\n    if (!Object.keys(sidxMapping).length) {\n      return playlists;\n    }\n\n    for (var i in playlists) {\n      var playlist = playlists[i];\n\n      if (!playlist.sidx) {\n        continue;\n      }\n\n      var sidxKey = playlist.sidx.uri + '-' + byteRangeToString(playlist.sidx.byterange);\n      var sidxMatch = sidxMapping[sidxKey] && sidxMapping[sidxKey].sidx;\n\n      if (playlist.sidx && sidxMatch) {\n        addSegmentsToPlaylist(playlist, sidxMatch, playlist.sidx.resolvedUri);\n      }\n    }\n\n    return playlists;\n  };\n\n  var formatAudioPlaylist = function formatAudioPlaylist(_ref) {\n    var _attributes;\n\n    var attributes = _ref.attributes,\n        segments = _ref.segments,\n        sidx = _ref.sidx;\n    var playlist = {\n      attributes: (_attributes = {\n        NAME: attributes.id,\n        BANDWIDTH: attributes.bandwidth,\n        CODECS: attributes.codecs\n      }, _attributes['PROGRAM-ID'] = 1, _attributes),\n      uri: '',\n      endList: (attributes.type || 'static') === 'static',\n      timeline: attributes.periodIndex,\n      resolvedUri: '',\n      targetDuration: attributes.duration,\n      segments: segments,\n      mediaSequence: segments.length ? segments[0].number : 1\n    };\n\n    if (attributes.contentProtection) {\n      playlist.contentProtection = attributes.contentProtection;\n    }\n\n    if (sidx) {\n      playlist.sidx = sidx;\n    }\n\n    return playlist;\n  };\n\n  var formatVttPlaylist = function formatVttPlaylist(_ref2) {\n    var _attributes2;\n\n    var attributes = _ref2.attributes,\n        segments = _ref2.segments;\n\n    if (typeof segments === 'undefined') {\n      // vtt tracks may use single file in BaseURL\n      segments = [{\n        uri: attributes.baseUrl,\n        timeline: attributes.periodIndex,\n        resolvedUri: attributes.baseUrl || '',\n        duration: attributes.sourceDuration,\n        number: 0\n      }]; // targetDuration should be the same duration as the only segment\n\n      attributes.duration = attributes.sourceDuration;\n    }\n\n    return {\n      attributes: (_attributes2 = {\n        NAME: attributes.id,\n        BANDWIDTH: attributes.bandwidth\n      }, _attributes2['PROGRAM-ID'] = 1, _attributes2),\n      uri: '',\n      endList: (attributes.type || 'static') === 'static',\n      timeline: attributes.periodIndex,\n      resolvedUri: attributes.baseUrl || '',\n      targetDuration: attributes.duration,\n      segments: segments,\n      mediaSequence: segments.length ? segments[0].number : 1\n    };\n  };\n\n  var organizeAudioPlaylists = function organizeAudioPlaylists(playlists, sidxMapping) {\n    if (sidxMapping === void 0) {\n      sidxMapping = {};\n    }\n\n    var mainPlaylist;\n    var formattedPlaylists = playlists.reduce(function (a, playlist) {\n      var role = playlist.attributes.role && playlist.attributes.role.value || '';\n      var language = playlist.attributes.lang || '';\n      var label = 'main';\n\n      if (language) {\n        var roleLabel = role ? \" (\" + role + \")\" : '';\n        label = \"\" + playlist.attributes.lang + roleLabel;\n      } // skip if we already have the highest quality audio for a language\n\n\n      if (a[label] && a[label].playlists[0].attributes.BANDWIDTH > playlist.attributes.bandwidth) {\n        return a;\n      }\n\n      a[label] = {\n        language: language,\n        autoselect: true,\n        \"default\": role === 'main',\n        playlists: addSegmentInfoFromSidx([formatAudioPlaylist(playlist)], sidxMapping),\n        uri: ''\n      };\n\n      if (typeof mainPlaylist === 'undefined' && role === 'main') {\n        mainPlaylist = playlist;\n        mainPlaylist[\"default\"] = true;\n      }\n\n      return a;\n    }, {}); // if no playlists have role \"main\", mark the first as main\n\n    if (!mainPlaylist) {\n      var firstLabel = Object.keys(formattedPlaylists)[0];\n      formattedPlaylists[firstLabel][\"default\"] = true;\n    }\n\n    return formattedPlaylists;\n  };\n\n  var organizeVttPlaylists = function organizeVttPlaylists(playlists, sidxMapping) {\n    if (sidxMapping === void 0) {\n      sidxMapping = {};\n    }\n\n    return playlists.reduce(function (a, playlist) {\n      var label = playlist.attributes.lang || 'text'; // skip if we already have subtitles\n\n      if (a[label]) {\n        return a;\n      }\n\n      a[label] = {\n        language: label,\n        \"default\": false,\n        autoselect: false,\n        playlists: addSegmentInfoFromSidx([formatVttPlaylist(playlist)], sidxMapping),\n        uri: ''\n      };\n      return a;\n    }, {});\n  };\n\n  var formatVideoPlaylist = function formatVideoPlaylist(_ref3) {\n    var _attributes3;\n\n    var attributes = _ref3.attributes,\n        segments = _ref3.segments,\n        sidx = _ref3.sidx;\n    var playlist = {\n      attributes: (_attributes3 = {\n        NAME: attributes.id,\n        AUDIO: 'audio',\n        SUBTITLES: 'subs',\n        RESOLUTION: {\n          width: attributes.width,\n          height: attributes.height\n        },\n        CODECS: attributes.codecs,\n        BANDWIDTH: attributes.bandwidth\n      }, _attributes3['PROGRAM-ID'] = 1, _attributes3),\n      uri: '',\n      endList: (attributes.type || 'static') === 'static',\n      timeline: attributes.periodIndex,\n      resolvedUri: '',\n      targetDuration: attributes.duration,\n      segments: segments,\n      mediaSequence: segments.length ? segments[0].number : 1\n    };\n\n    if (attributes.contentProtection) {\n      playlist.contentProtection = attributes.contentProtection;\n    }\n\n    if (sidx) {\n      playlist.sidx = sidx;\n    }\n\n    return playlist;\n  };\n\n  var toM3u8 = function toM3u8(dashPlaylists, sidxMapping) {\n    var _mediaGroups;\n\n    if (sidxMapping === void 0) {\n      sidxMapping = {};\n    }\n\n    if (!dashPlaylists.length) {\n      return {};\n    } // grab all master attributes\n\n\n    var _dashPlaylists$0$attr = dashPlaylists[0].attributes,\n        duration = _dashPlaylists$0$attr.sourceDuration,\n        _dashPlaylists$0$attr2 = _dashPlaylists$0$attr.minimumUpdatePeriod,\n        minimumUpdatePeriod = _dashPlaylists$0$attr2 === void 0 ? 0 : _dashPlaylists$0$attr2;\n\n    var videoOnly = function videoOnly(_ref4) {\n      var attributes = _ref4.attributes;\n      return attributes.mimeType === 'video/mp4' || attributes.contentType === 'video';\n    };\n\n    var audioOnly = function audioOnly(_ref5) {\n      var attributes = _ref5.attributes;\n      return attributes.mimeType === 'audio/mp4' || attributes.contentType === 'audio';\n    };\n\n    var vttOnly = function vttOnly(_ref6) {\n      var attributes = _ref6.attributes;\n      return attributes.mimeType === 'text/vtt' || attributes.contentType === 'text';\n    };\n\n    var videoPlaylists = mergeDiscontiguousPlaylists(dashPlaylists.filter(videoOnly)).map(formatVideoPlaylist);\n    var audioPlaylists = mergeDiscontiguousPlaylists(dashPlaylists.filter(audioOnly));\n    var vttPlaylists = dashPlaylists.filter(vttOnly);\n    var master = {\n      allowCache: true,\n      discontinuityStarts: [],\n      segments: [],\n      endList: true,\n      mediaGroups: (_mediaGroups = {\n        AUDIO: {},\n        VIDEO: {}\n      }, _mediaGroups['CLOSED-CAPTIONS'] = {}, _mediaGroups.SUBTITLES = {}, _mediaGroups),\n      uri: '',\n      duration: duration,\n      playlists: addSegmentInfoFromSidx(videoPlaylists, sidxMapping),\n      minimumUpdatePeriod: minimumUpdatePeriod * 1000\n    };\n\n    if (audioPlaylists.length) {\n      master.mediaGroups.AUDIO.audio = organizeAudioPlaylists(audioPlaylists, sidxMapping);\n    }\n\n    if (vttPlaylists.length) {\n      master.mediaGroups.SUBTITLES.subs = organizeVttPlaylists(vttPlaylists, sidxMapping);\n    }\n\n    return master;\n  };\n  /**\n   * Calculates the R (repetition) value for a live stream (for the final segment\n   * in a manifest where the r value is negative 1)\n   *\n   * @param {Object} attributes\n   *        Object containing all inherited attributes from parent elements with attribute\n   *        names as keys\n   * @param {number} time\n   *        current time (typically the total time up until the final segment)\n   * @param {number} duration\n   *        duration property for the given <S />\n   *\n   * @return {number}\n   *        R value to reach the end of the given period\n   */\n\n\n  var getLiveRValue = function getLiveRValue(attributes, time, duration) {\n    var NOW = attributes.NOW,\n        clientOffset = attributes.clientOffset,\n        availabilityStartTime = attributes.availabilityStartTime,\n        _attributes$timescale = attributes.timescale,\n        timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n        _attributes$start = attributes.start,\n        start = _attributes$start === void 0 ? 0 : _attributes$start,\n        _attributes$minimumUp = attributes.minimumUpdatePeriod,\n        minimumUpdatePeriod = _attributes$minimumUp === void 0 ? 0 : _attributes$minimumUp;\n    var now = (NOW + clientOffset) / 1000;\n    var periodStartWC = availabilityStartTime + start;\n    var periodEndWC = now + minimumUpdatePeriod;\n    var periodDuration = periodEndWC - periodStartWC;\n    return Math.ceil((periodDuration * timescale - time) / duration);\n  };\n  /**\n   * Uses information provided by SegmentTemplate.SegmentTimeline to determine segment\n   * timing and duration\n   *\n   * @param {Object} attributes\n   *        Object containing all inherited attributes from parent elements with attribute\n   *        names as keys\n   * @param {Object[]} segmentTimeline\n   *        List of objects representing the attributes of each S element contained within\n   *\n   * @return {{number: number, duration: number, time: number, timeline: number}[]}\n   *         List of Objects with segment timing and duration info\n   */\n\n\n  var parseByTimeline = function parseByTimeline(attributes, segmentTimeline) {\n    var _attributes$type = attributes.type,\n        type = _attributes$type === void 0 ? 'static' : _attributes$type,\n        _attributes$minimumUp2 = attributes.minimumUpdatePeriod,\n        minimumUpdatePeriod = _attributes$minimumUp2 === void 0 ? 0 : _attributes$minimumUp2,\n        _attributes$media = attributes.media,\n        media = _attributes$media === void 0 ? '' : _attributes$media,\n        sourceDuration = attributes.sourceDuration,\n        _attributes$timescale2 = attributes.timescale,\n        timescale = _attributes$timescale2 === void 0 ? 1 : _attributes$timescale2,\n        _attributes$startNumb = attributes.startNumber,\n        startNumber = _attributes$startNumb === void 0 ? 1 : _attributes$startNumb,\n        timeline = attributes.periodIndex;\n    var segments = [];\n    var time = -1;\n\n    for (var sIndex = 0; sIndex < segmentTimeline.length; sIndex++) {\n      var S = segmentTimeline[sIndex];\n      var duration = S.d;\n      var repeat = S.r || 0;\n      var segmentTime = S.t || 0;\n\n      if (time < 0) {\n        // first segment\n        time = segmentTime;\n      }\n\n      if (segmentTime && segmentTime > time) {\n        // discontinuity\n        // TODO: How to handle this type of discontinuity\n        // timeline++ here would treat it like HLS discontuity and content would\n        // get appended without gap\n        // E.G.\n        //  <S t=\"0\" d=\"1\" />\n        //  <S d=\"1\" />\n        //  <S d=\"1\" />\n        //  <S t=\"5\" d=\"1\" />\n        // would have $Time$ values of [0, 1, 2, 5]\n        // should this be appened at time positions [0, 1, 2, 3],(#EXT-X-DISCONTINUITY)\n        // or [0, 1, 2, gap, gap, 5]? (#EXT-X-GAP)\n        // does the value of sourceDuration consider this when calculating arbitrary\n        // negative @r repeat value?\n        // E.G. Same elements as above with this added at the end\n        //  <S d=\"1\" r=\"-1\" />\n        //  with a sourceDuration of 10\n        // Would the 2 gaps be included in the time duration calculations resulting in\n        // 8 segments with $Time$ values of [0, 1, 2, 5, 6, 7, 8, 9] or 10 segments\n        // with $Time$ values of [0, 1, 2, 5, 6, 7, 8, 9, 10, 11] ?\n        time = segmentTime;\n      }\n\n      var count = void 0;\n\n      if (repeat < 0) {\n        var nextS = sIndex + 1;\n\n        if (nextS === segmentTimeline.length) {\n          // last segment\n          if (type === 'dynamic' && minimumUpdatePeriod > 0 && media.indexOf('$Number$') > 0) {\n            count = getLiveRValue(attributes, time, duration);\n          } else {\n            // TODO: This may be incorrect depending on conclusion of TODO above\n            count = (sourceDuration * timescale - time) / duration;\n          }\n        } else {\n          count = (segmentTimeline[nextS].t - time) / duration;\n        }\n      } else {\n        count = repeat + 1;\n      }\n\n      var end = startNumber + segments.length + count;\n      var number = startNumber + segments.length;\n\n      while (number < end) {\n        segments.push({\n          number: number,\n          duration: duration / timescale,\n          time: time,\n          timeline: timeline\n        });\n        time += duration;\n        number++;\n      }\n    }\n\n    return segments;\n  };\n\n  var identifierPattern = /\\$([A-z]*)(?:(%0)([0-9]+)d)?\\$/g;\n  /**\n   * Replaces template identifiers with corresponding values. To be used as the callback\n   * for String.prototype.replace\n   *\n   * @name replaceCallback\n   * @function\n   * @param {string} match\n   *        Entire match of identifier\n   * @param {string} identifier\n   *        Name of matched identifier\n   * @param {string} format\n   *        Format tag string. Its presence indicates that padding is expected\n   * @param {string} width\n   *        Desired length of the replaced value. Values less than this width shall be left\n   *        zero padded\n   * @return {string}\n   *         Replacement for the matched identifier\n   */\n\n  /**\n   * Returns a function to be used as a callback for String.prototype.replace to replace\n   * template identifiers\n   *\n   * @param {Obect} values\n   *        Object containing values that shall be used to replace known identifiers\n   * @param {number} values.RepresentationID\n   *        Value of the Representation@id attribute\n   * @param {number} values.Number\n   *        Number of the corresponding segment\n   * @param {number} values.Bandwidth\n   *        Value of the Representation@bandwidth attribute.\n   * @param {number} values.Time\n   *        Timestamp value of the corresponding segment\n   * @return {replaceCallback}\n   *         Callback to be used with String.prototype.replace to replace identifiers\n   */\n\n  var identifierReplacement = function identifierReplacement(values) {\n    return function (match, identifier, format, width) {\n      if (match === '$$') {\n        // escape sequence\n        return '$';\n      }\n\n      if (typeof values[identifier] === 'undefined') {\n        return match;\n      }\n\n      var value = '' + values[identifier];\n\n      if (identifier === 'RepresentationID') {\n        // Format tag shall not be present with RepresentationID\n        return value;\n      }\n\n      if (!format) {\n        width = 1;\n      } else {\n        width = parseInt(width, 10);\n      }\n\n      if (value.length >= width) {\n        return value;\n      }\n\n      return \"\" + new Array(width - value.length + 1).join('0') + value;\n    };\n  };\n  /**\n   * Constructs a segment url from a template string\n   *\n   * @param {string} url\n   *        Template string to construct url from\n   * @param {Obect} values\n   *        Object containing values that shall be used to replace known identifiers\n   * @param {number} values.RepresentationID\n   *        Value of the Representation@id attribute\n   * @param {number} values.Number\n   *        Number of the corresponding segment\n   * @param {number} values.Bandwidth\n   *        Value of the Representation@bandwidth attribute.\n   * @param {number} values.Time\n   *        Timestamp value of the corresponding segment\n   * @return {string}\n   *         Segment url with identifiers replaced\n   */\n\n\n  var constructTemplateUrl = function constructTemplateUrl(url, values) {\n    return url.replace(identifierPattern, identifierReplacement(values));\n  };\n  /**\n   * Generates a list of objects containing timing and duration information about each\n   * segment needed to generate segment uris and the complete segment object\n   *\n   * @param {Object} attributes\n   *        Object containing all inherited attributes from parent elements with attribute\n   *        names as keys\n   * @param {Object[]|undefined} segmentTimeline\n   *        List of objects representing the attributes of each S element contained within\n   *        the SegmentTimeline element\n   * @return {{number: number, duration: number, time: number, timeline: number}[]}\n   *         List of Objects with segment timing and duration info\n   */\n\n\n  var parseTemplateInfo = function parseTemplateInfo(attributes, segmentTimeline) {\n    if (!attributes.duration && !segmentTimeline) {\n      // if neither @duration or SegmentTimeline are present, then there shall be exactly\n      // one media segment\n      return [{\n        number: attributes.startNumber || 1,\n        duration: attributes.sourceDuration,\n        time: 0,\n        timeline: attributes.periodIndex\n      }];\n    }\n\n    if (attributes.duration) {\n      return parseByDuration(attributes);\n    }\n\n    return parseByTimeline(attributes, segmentTimeline);\n  };\n  /**\n   * Generates a list of segments using information provided by the SegmentTemplate element\n   *\n   * @param {Object} attributes\n   *        Object containing all inherited attributes from parent elements with attribute\n   *        names as keys\n   * @param {Object[]|undefined} segmentTimeline\n   *        List of objects representing the attributes of each S element contained within\n   *        the SegmentTimeline element\n   * @return {Object[]}\n   *         List of segment objects\n   */\n\n\n  var segmentsFromTemplate = function segmentsFromTemplate(attributes, segmentTimeline) {\n    var templateValues = {\n      RepresentationID: attributes.id,\n      Bandwidth: attributes.bandwidth || 0\n    };\n    var _attributes$initializ = attributes.initialization,\n        initialization = _attributes$initializ === void 0 ? {\n      sourceURL: '',\n      range: ''\n    } : _attributes$initializ;\n    var mapSegment = urlTypeToSegment({\n      baseUrl: attributes.baseUrl,\n      source: constructTemplateUrl(initialization.sourceURL, templateValues),\n      range: initialization.range\n    });\n    var segments = parseTemplateInfo(attributes, segmentTimeline);\n    return segments.map(function (segment) {\n      templateValues.Number = segment.number;\n      templateValues.Time = segment.time;\n      var uri = constructTemplateUrl(attributes.media || '', templateValues);\n      return {\n        uri: uri,\n        timeline: segment.timeline,\n        duration: segment.duration,\n        resolvedUri: resolveUrl(attributes.baseUrl || '', uri),\n        map: mapSegment,\n        number: segment.number\n      };\n    });\n  };\n  /**\n   * Converts a <SegmentUrl> (of type URLType from the DASH spec 5.3.9.2 Table 14)\n   * to an object that matches the output of a segment in videojs/mpd-parser\n   *\n   * @param {Object} attributes\n   *   Object containing all inherited attributes from parent elements with attribute\n   *   names as keys\n   * @param {Object} segmentUrl\n   *   <SegmentURL> node to translate into a segment object\n   * @return {Object} translated segment object\n   */\n\n\n  var SegmentURLToSegmentObject = function SegmentURLToSegmentObject(attributes, segmentUrl) {\n    var baseUrl = attributes.baseUrl,\n        _attributes$initializ = attributes.initialization,\n        initialization = _attributes$initializ === void 0 ? {} : _attributes$initializ;\n    var initSegment = urlTypeToSegment({\n      baseUrl: baseUrl,\n      source: initialization.sourceURL,\n      range: initialization.range\n    });\n    var segment = urlTypeToSegment({\n      baseUrl: baseUrl,\n      source: segmentUrl.media,\n      range: segmentUrl.mediaRange\n    });\n    segment.map = initSegment;\n    return segment;\n  };\n  /**\n   * Generates a list of segments using information provided by the SegmentList element\n   * SegmentList (DASH SPEC Section 5.3.9.3.2) contains a set of <SegmentURL> nodes.  Each\n   * node should be translated into segment.\n   *\n   * @param {Object} attributes\n   *   Object containing all inherited attributes from parent elements with attribute\n   *   names as keys\n   * @param {Object[]|undefined} segmentTimeline\n   *        List of objects representing the attributes of each S element contained within\n   *        the SegmentTimeline element\n   * @return {Object.<Array>} list of segments\n   */\n\n\n  var segmentsFromList = function segmentsFromList(attributes, segmentTimeline) {\n    var duration = attributes.duration,\n        _attributes$segmentUr = attributes.segmentUrls,\n        segmentUrls = _attributes$segmentUr === void 0 ? [] : _attributes$segmentUr; // Per spec (5.3.9.2.1) no way to determine segment duration OR\n    // if both SegmentTimeline and @duration are defined, it is outside of spec.\n\n    if (!duration && !segmentTimeline || duration && segmentTimeline) {\n      throw new Error(errors.SEGMENT_TIME_UNSPECIFIED);\n    }\n\n    var segmentUrlMap = segmentUrls.map(function (segmentUrlObject) {\n      return SegmentURLToSegmentObject(attributes, segmentUrlObject);\n    });\n    var segmentTimeInfo;\n\n    if (duration) {\n      segmentTimeInfo = parseByDuration(attributes);\n    }\n\n    if (segmentTimeline) {\n      segmentTimeInfo = parseByTimeline(attributes, segmentTimeline);\n    }\n\n    var segments = segmentTimeInfo.map(function (segmentTime, index) {\n      if (segmentUrlMap[index]) {\n        var segment = segmentUrlMap[index];\n        segment.timeline = segmentTime.timeline;\n        segment.duration = segmentTime.duration;\n        segment.number = segmentTime.number;\n        return segment;\n      } // Since we're mapping we should get rid of any blank segments (in case\n      // the given SegmentTimeline is handling for more elements than we have\n      // SegmentURLs for).\n\n    }).filter(function (segment) {\n      return segment;\n    });\n    return segments;\n  };\n\n  var generateSegments = function generateSegments(_ref) {\n    var attributes = _ref.attributes,\n        segmentInfo = _ref.segmentInfo;\n    var segmentAttributes;\n    var segmentsFn;\n\n    if (segmentInfo.template) {\n      segmentsFn = segmentsFromTemplate;\n      segmentAttributes = merge(attributes, segmentInfo.template);\n    } else if (segmentInfo.base) {\n      segmentsFn = segmentsFromBase;\n      segmentAttributes = merge(attributes, segmentInfo.base);\n    } else if (segmentInfo.list) {\n      segmentsFn = segmentsFromList;\n      segmentAttributes = merge(attributes, segmentInfo.list);\n    }\n\n    var segmentsInfo = {\n      attributes: attributes\n    };\n\n    if (!segmentsFn) {\n      return segmentsInfo;\n    }\n\n    var segments = segmentsFn(segmentAttributes, segmentInfo.timeline); // The @duration attribute will be used to determin the playlist's targetDuration which\n    // must be in seconds. Since we've generated the segment list, we no longer need\n    // @duration to be in @timescale units, so we can convert it here.\n\n    if (segmentAttributes.duration) {\n      var _segmentAttributes = segmentAttributes,\n          duration = _segmentAttributes.duration,\n          _segmentAttributes$ti = _segmentAttributes.timescale,\n          timescale = _segmentAttributes$ti === void 0 ? 1 : _segmentAttributes$ti;\n      segmentAttributes.duration = duration / timescale;\n    } else if (segments.length) {\n      // if there is no @duration attribute, use the largest segment duration as\n      // as target duration\n      segmentAttributes.duration = segments.reduce(function (max, segment) {\n        return Math.max(max, Math.ceil(segment.duration));\n      }, 0);\n    } else {\n      segmentAttributes.duration = 0;\n    }\n\n    segmentsInfo.attributes = segmentAttributes;\n    segmentsInfo.segments = segments; // This is a sidx box without actual segment information\n\n    if (segmentInfo.base && segmentAttributes.indexRange) {\n      segmentsInfo.sidx = segments[0];\n      segmentsInfo.segments = [];\n    }\n\n    return segmentsInfo;\n  };\n\n  var toPlaylists = function toPlaylists(representations) {\n    return representations.map(generateSegments);\n  };\n\n  var findChildren = function findChildren(element, name) {\n    return from(element.childNodes).filter(function (_ref) {\n      var tagName = _ref.tagName;\n      return tagName === name;\n    });\n  };\n\n  var getContent = function getContent(element) {\n    return element.textContent.trim();\n  };\n\n  var parseDuration = function parseDuration(str) {\n    var SECONDS_IN_YEAR = 365 * 24 * 60 * 60;\n    var SECONDS_IN_MONTH = 30 * 24 * 60 * 60;\n    var SECONDS_IN_DAY = 24 * 60 * 60;\n    var SECONDS_IN_HOUR = 60 * 60;\n    var SECONDS_IN_MIN = 60; // P10Y10M10DT10H10M10.1S\n\n    var durationRegex = /P(?:(\\d*)Y)?(?:(\\d*)M)?(?:(\\d*)D)?(?:T(?:(\\d*)H)?(?:(\\d*)M)?(?:([\\d.]*)S)?)?/;\n    var match = durationRegex.exec(str);\n\n    if (!match) {\n      return 0;\n    }\n\n    var _match$slice = match.slice(1),\n        year = _match$slice[0],\n        month = _match$slice[1],\n        day = _match$slice[2],\n        hour = _match$slice[3],\n        minute = _match$slice[4],\n        second = _match$slice[5];\n\n    return parseFloat(year || 0) * SECONDS_IN_YEAR + parseFloat(month || 0) * SECONDS_IN_MONTH + parseFloat(day || 0) * SECONDS_IN_DAY + parseFloat(hour || 0) * SECONDS_IN_HOUR + parseFloat(minute || 0) * SECONDS_IN_MIN + parseFloat(second || 0);\n  };\n\n  var parseDate = function parseDate(str) {\n    // Date format without timezone according to ISO 8601\n    // YYY-MM-DDThh:mm:ss.ssssss\n    var dateRegex = /^\\d+-\\d+-\\d+T\\d+:\\d+:\\d+(\\.\\d+)?$/; // If the date string does not specifiy a timezone, we must specifiy UTC. This is\n    // expressed by ending with 'Z'\n\n    if (dateRegex.test(str)) {\n      str += 'Z';\n    }\n\n    return Date.parse(str);\n  };\n\n  var parsers = {\n    /**\n     * Specifies the duration of the entire Media Presentation. Format is a duration string\n     * as specified in ISO 8601\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The duration in seconds\n     */\n    mediaPresentationDuration: function mediaPresentationDuration(value) {\n      return parseDuration(value);\n    },\n\n    /**\n     * Specifies the Segment availability start time for all Segments referred to in this\n     * MPD. For a dynamic manifest, it specifies the anchor for the earliest availability\n     * time. Format is a date string as specified in ISO 8601\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The date as seconds from unix epoch\n     */\n    availabilityStartTime: function availabilityStartTime(value) {\n      return parseDate(value) / 1000;\n    },\n\n    /**\n     * Specifies the smallest period between potential changes to the MPD. Format is a\n     * duration string as specified in ISO 8601\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The duration in seconds\n     */\n    minimumUpdatePeriod: function minimumUpdatePeriod(value) {\n      return parseDuration(value);\n    },\n\n    /**\n     * Specifies the duration of the smallest time shifting buffer for any Representation\n     * in the MPD. Format is a duration string as specified in ISO 8601\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The duration in seconds\n     */\n    timeShiftBufferDepth: function timeShiftBufferDepth(value) {\n      return parseDuration(value);\n    },\n\n    /**\n     * Specifies the PeriodStart time of the Period relative to the availabilityStarttime.\n     * Format is a duration string as specified in ISO 8601\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The duration in seconds\n     */\n    start: function start(value) {\n      return parseDuration(value);\n    },\n\n    /**\n     * Specifies the width of the visual presentation\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed width\n     */\n    width: function width(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Specifies the height of the visual presentation\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed height\n     */\n    height: function height(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Specifies the bitrate of the representation\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed bandwidth\n     */\n    bandwidth: function bandwidth(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Specifies the number of the first Media Segment in this Representation in the Period\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed number\n     */\n    startNumber: function startNumber(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Specifies the timescale in units per seconds\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The aprsed timescale\n     */\n    timescale: function timescale(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Specifies the constant approximate Segment duration\n     * NOTE: The <Period> element also contains an @duration attribute. This duration\n     *       specifies the duration of the Period. This attribute is currently not\n     *       supported by the rest of the parser, however we still check for it to prevent\n     *       errors.\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed duration\n     */\n    duration: function duration(value) {\n      var parsedValue = parseInt(value, 10);\n\n      if (isNaN(parsedValue)) {\n        return parseDuration(value);\n      }\n\n      return parsedValue;\n    },\n\n    /**\n     * Specifies the Segment duration, in units of the value of the @timescale.\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed duration\n     */\n    d: function d(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Specifies the MPD start time, in @timescale units, the first Segment in the series\n     * starts relative to the beginning of the Period\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed time\n     */\n    t: function t(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Specifies the repeat count of the number of following contiguous Segments with the\n     * same duration expressed by the value of @d\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed number\n     */\n    r: function r(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Default parser for all other attributes. Acts as a no-op and just returns the value\n     * as a string\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {string}\n     *         Unparsed value\n     */\n    DEFAULT: function DEFAULT(value) {\n      return value;\n    }\n  };\n  /**\n   * Gets all the attributes and values of the provided node, parses attributes with known\n   * types, and returns an object with attribute names mapped to values.\n   *\n   * @param {Node} el\n   *        The node to parse attributes from\n   * @return {Object}\n   *         Object with all attributes of el parsed\n   */\n\n  var parseAttributes$1 = function parseAttributes(el) {\n    if (!(el && el.attributes)) {\n      return {};\n    }\n\n    return from(el.attributes).reduce(function (a, e) {\n      var parseFn = parsers[e.name] || parsers.DEFAULT;\n      a[e.name] = parseFn(e.value);\n      return a;\n    }, {});\n  };\n\n  function decodeB64ToUint8Array$1(b64Text) {\n    var decodedString = window$1.atob(b64Text);\n    var array = new Uint8Array(decodedString.length);\n\n    for (var i = 0; i < decodedString.length; i++) {\n      array[i] = decodedString.charCodeAt(i);\n    }\n\n    return array;\n  }\n\n  var keySystemsMap = {\n    'urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b': 'org.w3.clearkey',\n    'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed': 'com.widevine.alpha',\n    'urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95': 'com.microsoft.playready',\n    'urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb': 'com.adobe.primetime'\n  };\n  /**\n   * Builds a list of urls that is the product of the reference urls and BaseURL values\n   *\n   * @param {string[]} referenceUrls\n   *        List of reference urls to resolve to\n   * @param {Node[]} baseUrlElements\n   *        List of BaseURL nodes from the mpd\n   * @return {string[]}\n   *         List of resolved urls\n   */\n\n  var buildBaseUrls = function buildBaseUrls(referenceUrls, baseUrlElements) {\n    if (!baseUrlElements.length) {\n      return referenceUrls;\n    }\n\n    return flatten(referenceUrls.map(function (reference) {\n      return baseUrlElements.map(function (baseUrlElement) {\n        return resolveUrl(reference, getContent(baseUrlElement));\n      });\n    }));\n  };\n  /**\n   * Contains all Segment information for its containing AdaptationSet\n   *\n   * @typedef {Object} SegmentInformation\n   * @property {Object|undefined} template\n   *           Contains the attributes for the SegmentTemplate node\n   * @property {Object[]|undefined} timeline\n   *           Contains a list of atrributes for each S node within the SegmentTimeline node\n   * @property {Object|undefined} list\n   *           Contains the attributes for the SegmentList node\n   * @property {Object|undefined} base\n   *           Contains the attributes for the SegmentBase node\n   */\n\n  /**\n   * Returns all available Segment information contained within the AdaptationSet node\n   *\n   * @param {Node} adaptationSet\n   *        The AdaptationSet node to get Segment information from\n   * @return {SegmentInformation}\n   *         The Segment information contained within the provided AdaptationSet\n   */\n\n\n  var getSegmentInformation = function getSegmentInformation(adaptationSet) {\n    var segmentTemplate = findChildren(adaptationSet, 'SegmentTemplate')[0];\n    var segmentList = findChildren(adaptationSet, 'SegmentList')[0];\n    var segmentUrls = segmentList && findChildren(segmentList, 'SegmentURL').map(function (s) {\n      return merge({\n        tag: 'SegmentURL'\n      }, parseAttributes$1(s));\n    });\n    var segmentBase = findChildren(adaptationSet, 'SegmentBase')[0];\n    var segmentTimelineParentNode = segmentList || segmentTemplate;\n    var segmentTimeline = segmentTimelineParentNode && findChildren(segmentTimelineParentNode, 'SegmentTimeline')[0];\n    var segmentInitializationParentNode = segmentList || segmentBase || segmentTemplate;\n    var segmentInitialization = segmentInitializationParentNode && findChildren(segmentInitializationParentNode, 'Initialization')[0]; // SegmentTemplate is handled slightly differently, since it can have both\n    // @initialization and an <Initialization> node.  @initialization can be templated,\n    // while the node can have a url and range specified.  If the <SegmentTemplate> has\n    // both @initialization and an <Initialization> subelement we opt to override with\n    // the node, as this interaction is not defined in the spec.\n\n    var template = segmentTemplate && parseAttributes$1(segmentTemplate);\n\n    if (template && segmentInitialization) {\n      template.initialization = segmentInitialization && parseAttributes$1(segmentInitialization);\n    } else if (template && template.initialization) {\n      // If it is @initialization we convert it to an object since this is the format that\n      // later functions will rely on for the initialization segment.  This is only valid\n      // for <SegmentTemplate>\n      template.initialization = {\n        sourceURL: template.initialization\n      };\n    }\n\n    var segmentInfo = {\n      template: template,\n      timeline: segmentTimeline && findChildren(segmentTimeline, 'S').map(function (s) {\n        return parseAttributes$1(s);\n      }),\n      list: segmentList && merge(parseAttributes$1(segmentList), {\n        segmentUrls: segmentUrls,\n        initialization: parseAttributes$1(segmentInitialization)\n      }),\n      base: segmentBase && merge(parseAttributes$1(segmentBase), {\n        initialization: parseAttributes$1(segmentInitialization)\n      })\n    };\n    Object.keys(segmentInfo).forEach(function (key) {\n      if (!segmentInfo[key]) {\n        delete segmentInfo[key];\n      }\n    });\n    return segmentInfo;\n  };\n  /**\n   * Contains Segment information and attributes needed to construct a Playlist object\n   * from a Representation\n   *\n   * @typedef {Object} RepresentationInformation\n   * @property {SegmentInformation} segmentInfo\n   *           Segment information for this Representation\n   * @property {Object} attributes\n   *           Inherited attributes for this Representation\n   */\n\n  /**\n   * Maps a Representation node to an object containing Segment information and attributes\n   *\n   * @name inheritBaseUrlsCallback\n   * @function\n   * @param {Node} representation\n   *        Representation node from the mpd\n   * @return {RepresentationInformation}\n   *         Representation information needed to construct a Playlist object\n   */\n\n  /**\n   * Returns a callback for Array.prototype.map for mapping Representation nodes to\n   * Segment information and attributes using inherited BaseURL nodes.\n   *\n   * @param {Object} adaptationSetAttributes\n   *        Contains attributes inherited by the AdaptationSet\n   * @param {string[]} adaptationSetBaseUrls\n   *        Contains list of resolved base urls inherited by the AdaptationSet\n   * @param {SegmentInformation} adaptationSetSegmentInfo\n   *        Contains Segment information for the AdaptationSet\n   * @return {inheritBaseUrlsCallback}\n   *         Callback map function\n   */\n\n\n  var inheritBaseUrls = function inheritBaseUrls(adaptationSetAttributes, adaptationSetBaseUrls, adaptationSetSegmentInfo) {\n    return function (representation) {\n      var repBaseUrlElements = findChildren(representation, 'BaseURL');\n      var repBaseUrls = buildBaseUrls(adaptationSetBaseUrls, repBaseUrlElements);\n      var attributes = merge(adaptationSetAttributes, parseAttributes$1(representation));\n      var representationSegmentInfo = getSegmentInformation(representation);\n      return repBaseUrls.map(function (baseUrl) {\n        return {\n          segmentInfo: merge(adaptationSetSegmentInfo, representationSegmentInfo),\n          attributes: merge(attributes, {\n            baseUrl: baseUrl\n          })\n        };\n      });\n    };\n  };\n  /**\n   * Tranforms a series of content protection nodes to\n   * an object containing pssh data by key system\n   *\n   * @param {Node[]} contentProtectionNodes\n   *        Content protection nodes\n   * @return {Object}\n   *        Object containing pssh data by key system\n   */\n\n\n  var generateKeySystemInformation = function generateKeySystemInformation(contentProtectionNodes) {\n    return contentProtectionNodes.reduce(function (acc, node) {\n      var attributes = parseAttributes$1(node);\n      var keySystem = keySystemsMap[attributes.schemeIdUri];\n\n      if (keySystem) {\n        acc[keySystem] = {\n          attributes: attributes\n        };\n        var psshNode = findChildren(node, 'cenc:pssh')[0];\n\n        if (psshNode) {\n          var pssh = getContent(psshNode);\n          var psshBuffer = pssh && decodeB64ToUint8Array$1(pssh);\n          acc[keySystem].pssh = psshBuffer;\n        }\n      }\n\n      return acc;\n    }, {});\n  };\n  /**\n   * Maps an AdaptationSet node to a list of Representation information objects\n   *\n   * @name toRepresentationsCallback\n   * @function\n   * @param {Node} adaptationSet\n   *        AdaptationSet node from the mpd\n   * @return {RepresentationInformation[]}\n   *         List of objects containing Representaion information\n   */\n\n  /**\n   * Returns a callback for Array.prototype.map for mapping AdaptationSet nodes to a list of\n   * Representation information objects\n   *\n   * @param {Object} periodAttributes\n   *        Contains attributes inherited by the Period\n   * @param {string[]} periodBaseUrls\n   *        Contains list of resolved base urls inherited by the Period\n   * @param {string[]} periodSegmentInfo\n   *        Contains Segment Information at the period level\n   * @return {toRepresentationsCallback}\n   *         Callback map function\n   */\n\n\n  var toRepresentations = function toRepresentations(periodAttributes, periodBaseUrls, periodSegmentInfo) {\n    return function (adaptationSet) {\n      var adaptationSetAttributes = parseAttributes$1(adaptationSet);\n      var adaptationSetBaseUrls = buildBaseUrls(periodBaseUrls, findChildren(adaptationSet, 'BaseURL'));\n      var role = findChildren(adaptationSet, 'Role')[0];\n      var roleAttributes = {\n        role: parseAttributes$1(role)\n      };\n      var attrs = merge(periodAttributes, adaptationSetAttributes, roleAttributes);\n      var contentProtection = generateKeySystemInformation(findChildren(adaptationSet, 'ContentProtection'));\n\n      if (Object.keys(contentProtection).length) {\n        attrs = merge(attrs, {\n          contentProtection: contentProtection\n        });\n      }\n\n      var segmentInfo = getSegmentInformation(adaptationSet);\n      var representations = findChildren(adaptationSet, 'Representation');\n      var adaptationSetSegmentInfo = merge(periodSegmentInfo, segmentInfo);\n      return flatten(representations.map(inheritBaseUrls(attrs, adaptationSetBaseUrls, adaptationSetSegmentInfo)));\n    };\n  };\n  /**\n   * Maps an Period node to a list of Representation inforamtion objects for all\n   * AdaptationSet nodes contained within the Period\n   *\n   * @name toAdaptationSetsCallback\n   * @function\n   * @param {Node} period\n   *        Period node from the mpd\n   * @param {number} periodIndex\n   *        Index of the Period within the mpd\n   * @return {RepresentationInformation[]}\n   *         List of objects containing Representaion information\n   */\n\n  /**\n   * Returns a callback for Array.prototype.map for mapping Period nodes to a list of\n   * Representation information objects\n   *\n   * @param {Object} mpdAttributes\n   *        Contains attributes inherited by the mpd\n   * @param {string[]} mpdBaseUrls\n   *        Contains list of resolved base urls inherited by the mpd\n   * @return {toAdaptationSetsCallback}\n   *         Callback map function\n   */\n\n\n  var toAdaptationSets = function toAdaptationSets(mpdAttributes, mpdBaseUrls) {\n    return function (period, index) {\n      var periodBaseUrls = buildBaseUrls(mpdBaseUrls, findChildren(period, 'BaseURL'));\n      var periodAtt = parseAttributes$1(period);\n      var parsedPeriodId = parseInt(periodAtt.id, 10); // fallback to mapping index if Period@id is not a number\n\n      var periodIndex = window$1.isNaN(parsedPeriodId) ? index : parsedPeriodId;\n      var periodAttributes = merge(mpdAttributes, {\n        periodIndex: periodIndex\n      });\n      var adaptationSets = findChildren(period, 'AdaptationSet');\n      var periodSegmentInfo = getSegmentInformation(period);\n      return flatten(adaptationSets.map(toRepresentations(periodAttributes, periodBaseUrls, periodSegmentInfo)));\n    };\n  };\n  /**\n   * Traverses the mpd xml tree to generate a list of Representation information objects\n   * that have inherited attributes from parent nodes\n   *\n   * @param {Node} mpd\n   *        The root node of the mpd\n   * @param {Object} options\n   *        Available options for inheritAttributes\n   * @param {string} options.manifestUri\n   *        The uri source of the mpd\n   * @param {number} options.NOW\n   *        Current time per DASH IOP.  Default is current time in ms since epoch\n   * @param {number} options.clientOffset\n   *        Client time difference from NOW (in milliseconds)\n   * @return {RepresentationInformation[]}\n   *         List of objects containing Representation information\n   */\n\n\n  var inheritAttributes = function inheritAttributes(mpd, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _options = options,\n        _options$manifestUri = _options.manifestUri,\n        manifestUri = _options$manifestUri === void 0 ? '' : _options$manifestUri,\n        _options$NOW = _options.NOW,\n        NOW = _options$NOW === void 0 ? Date.now() : _options$NOW,\n        _options$clientOffset = _options.clientOffset,\n        clientOffset = _options$clientOffset === void 0 ? 0 : _options$clientOffset;\n    var periods = findChildren(mpd, 'Period');\n\n    if (!periods.length) {\n      throw new Error(errors.INVALID_NUMBER_OF_PERIOD);\n    }\n\n    var mpdAttributes = parseAttributes$1(mpd);\n    var mpdBaseUrls = buildBaseUrls([manifestUri], findChildren(mpd, 'BaseURL'));\n    mpdAttributes.sourceDuration = mpdAttributes.mediaPresentationDuration || 0;\n    mpdAttributes.NOW = NOW;\n    mpdAttributes.clientOffset = clientOffset;\n    return flatten(periods.map(toAdaptationSets(mpdAttributes, mpdBaseUrls)));\n  };\n\n  var stringToMpdXml = function stringToMpdXml(manifestString) {\n    if (manifestString === '') {\n      throw new Error(errors.DASH_EMPTY_MANIFEST);\n    }\n\n    var parser = new window$1.DOMParser();\n    var xml = parser.parseFromString(manifestString, 'application/xml');\n    var mpd = xml && xml.documentElement.tagName === 'MPD' ? xml.documentElement : null;\n\n    if (!mpd || mpd && mpd.getElementsByTagName('parsererror').length > 0) {\n      throw new Error(errors.DASH_INVALID_XML);\n    }\n\n    return mpd;\n  };\n  /**\n   * Parses the manifest for a UTCTiming node, returning the nodes attributes if found\n   *\n   * @param {string} mpd\n   *        XML string of the MPD manifest\n   * @return {Object|null}\n   *         Attributes of UTCTiming node specified in the manifest. Null if none found\n   */\n\n\n  var parseUTCTimingScheme = function parseUTCTimingScheme(mpd) {\n    var UTCTimingNode = findChildren(mpd, 'UTCTiming')[0];\n\n    if (!UTCTimingNode) {\n      return null;\n    }\n\n    var attributes = parseAttributes$1(UTCTimingNode);\n\n    switch (attributes.schemeIdUri) {\n      case 'urn:mpeg:dash:utc:http-head:2014':\n      case 'urn:mpeg:dash:utc:http-head:2012':\n        attributes.method = 'HEAD';\n        break;\n\n      case 'urn:mpeg:dash:utc:http-xsdate:2014':\n      case 'urn:mpeg:dash:utc:http-iso:2014':\n      case 'urn:mpeg:dash:utc:http-xsdate:2012':\n      case 'urn:mpeg:dash:utc:http-iso:2012':\n        attributes.method = 'GET';\n        break;\n\n      case 'urn:mpeg:dash:utc:direct:2014':\n      case 'urn:mpeg:dash:utc:direct:2012':\n        attributes.method = 'DIRECT';\n        attributes.value = Date.parse(attributes.value);\n        break;\n\n      case 'urn:mpeg:dash:utc:http-ntp:2014':\n      case 'urn:mpeg:dash:utc:ntp:2014':\n      case 'urn:mpeg:dash:utc:sntp:2014':\n      default:\n        throw new Error(errors.UNSUPPORTED_UTC_TIMING_SCHEME);\n    }\n\n    return attributes;\n  };\n\n  var parse = function parse(manifestString, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    return toM3u8(toPlaylists(inheritAttributes(stringToMpdXml(manifestString), options)), options.sidxMapping);\n  };\n  /**\n   * Parses the manifest for a UTCTiming node, returning the nodes attributes if found\n   *\n   * @param {string} manifestString\n   *        XML string of the MPD manifest\n   * @return {Object|null}\n   *         Attributes of UTCTiming node specified in the manifest. Null if none found\n   */\n\n\n  var parseUTCTiming = function parseUTCTiming(manifestString) {\n    return parseUTCTimingScheme(stringToMpdXml(manifestString));\n  };\n\n  /**\n   * mux.js\n   *\n   * Copyright (c) Brightcove\n   * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n   */\n  var toUnsigned = function toUnsigned(value) {\n    return value >>> 0;\n  };\n\n  var toHexString = function toHexString(value) {\n    return ('00' + value.toString(16)).slice(-2);\n  };\n\n  var bin = {\n    toUnsigned: toUnsigned,\n    toHexString: toHexString\n  };\n\n  var toUnsigned$1 = bin.toUnsigned;\n  var toHexString$1 = bin.toHexString;\n\n  var _findBox, parseType, timescale, startTime, getVideoTrackIds, getTracks; // Find the data for a box specified by its path\n\n\n  _findBox = function findBox(data, path) {\n    var results = [],\n        i,\n        size,\n        type,\n        end,\n        subresults;\n\n    if (!path.length) {\n      // short-circuit the search for empty paths\n      return null;\n    }\n\n    for (i = 0; i < data.byteLength;) {\n      size = toUnsigned$1(data[i] << 24 | data[i + 1] << 16 | data[i + 2] << 8 | data[i + 3]);\n      type = parseType(data.subarray(i + 4, i + 8));\n      end = size > 1 ? i + size : data.byteLength;\n\n      if (type === path[0]) {\n        if (path.length === 1) {\n          // this is the end of the path and we've found the box we were\n          // looking for\n          results.push(data.subarray(i + 8, end));\n        } else {\n          // recursively search for the next box along the path\n          subresults = _findBox(data.subarray(i + 8, end), path.slice(1));\n\n          if (subresults.length) {\n            results = results.concat(subresults);\n          }\n        }\n      }\n\n      i = end;\n    } // we've finished searching all of data\n\n\n    return results;\n  };\n  /**\n   * Returns the string representation of an ASCII encoded four byte buffer.\n   * @param buffer {Uint8Array} a four-byte buffer to translate\n   * @return {string} the corresponding string\n   */\n\n\n  parseType = function parseType(buffer) {\n    var result = '';\n    result += String.fromCharCode(buffer[0]);\n    result += String.fromCharCode(buffer[1]);\n    result += String.fromCharCode(buffer[2]);\n    result += String.fromCharCode(buffer[3]);\n    return result;\n  };\n  /**\n   * Parses an MP4 initialization segment and extracts the timescale\n   * values for any declared tracks. Timescale values indicate the\n   * number of clock ticks per second to assume for time-based values\n   * elsewhere in the MP4.\n   *\n   * To determine the start time of an MP4, you need two pieces of\n   * information: the timescale unit and the earliest base media decode\n   * time. Multiple timescales can be specified within an MP4 but the\n   * base media decode time is always expressed in the timescale from\n   * the media header box for the track:\n   * ```\n   * moov > trak > mdia > mdhd.timescale\n   * ```\n   * @param init {Uint8Array} the bytes of the init segment\n   * @return {object} a hash of track ids to timescale values or null if\n   * the init segment is malformed.\n   */\n\n\n  timescale = function timescale(init) {\n    var result = {},\n        traks = _findBox(init, ['moov', 'trak']); // mdhd timescale\n\n\n    return traks.reduce(function (result, trak) {\n      var tkhd, version, index, id, mdhd;\n      tkhd = _findBox(trak, ['tkhd'])[0];\n\n      if (!tkhd) {\n        return null;\n      }\n\n      version = tkhd[0];\n      index = version === 0 ? 12 : 20;\n      id = toUnsigned$1(tkhd[index] << 24 | tkhd[index + 1] << 16 | tkhd[index + 2] << 8 | tkhd[index + 3]);\n      mdhd = _findBox(trak, ['mdia', 'mdhd'])[0];\n\n      if (!mdhd) {\n        return null;\n      }\n\n      version = mdhd[0];\n      index = version === 0 ? 12 : 20;\n      result[id] = toUnsigned$1(mdhd[index] << 24 | mdhd[index + 1] << 16 | mdhd[index + 2] << 8 | mdhd[index + 3]);\n      return result;\n    }, result);\n  };\n  /**\n   * Determine the base media decode start time, in seconds, for an MP4\n   * fragment. If multiple fragments are specified, the earliest time is\n   * returned.\n   *\n   * The base media decode time can be parsed from track fragment\n   * metadata:\n   * ```\n   * moof > traf > tfdt.baseMediaDecodeTime\n   * ```\n   * It requires the timescale value from the mdhd to interpret.\n   *\n   * @param timescale {object} a hash of track ids to timescale values.\n   * @return {number} the earliest base media decode start time for the\n   * fragment, in seconds\n   */\n\n\n  startTime = function startTime(timescale, fragment) {\n    var trafs, baseTimes, result; // we need info from two childrend of each track fragment box\n\n    trafs = _findBox(fragment, ['moof', 'traf']); // determine the start times for each track\n\n    baseTimes = [].concat.apply([], trafs.map(function (traf) {\n      return _findBox(traf, ['tfhd']).map(function (tfhd) {\n        var id, scale, baseTime; // get the track id from the tfhd\n\n        id = toUnsigned$1(tfhd[4] << 24 | tfhd[5] << 16 | tfhd[6] << 8 | tfhd[7]); // assume a 90kHz clock if no timescale was specified\n\n        scale = timescale[id] || 90e3; // get the base media decode time from the tfdt\n\n        baseTime = _findBox(traf, ['tfdt']).map(function (tfdt) {\n          var version, result;\n          version = tfdt[0];\n          result = toUnsigned$1(tfdt[4] << 24 | tfdt[5] << 16 | tfdt[6] << 8 | tfdt[7]);\n\n          if (version === 1) {\n            result *= Math.pow(2, 32);\n            result += toUnsigned$1(tfdt[8] << 24 | tfdt[9] << 16 | tfdt[10] << 8 | tfdt[11]);\n          }\n\n          return result;\n        })[0];\n        baseTime = baseTime || Infinity; // convert base time to seconds\n\n        return baseTime / scale;\n      });\n    })); // return the minimum\n\n    result = Math.min.apply(null, baseTimes);\n    return isFinite(result) ? result : 0;\n  };\n  /**\n    * Find the trackIds of the video tracks in this source.\n    * Found by parsing the Handler Reference and Track Header Boxes:\n    *   moov > trak > mdia > hdlr\n    *   moov > trak > tkhd\n    *\n    * @param {Uint8Array} init - The bytes of the init segment for this source\n    * @return {Number[]} A list of trackIds\n    *\n    * @see ISO-BMFF-12/2015, Section 8.4.3\n   **/\n\n\n  getVideoTrackIds = function getVideoTrackIds(init) {\n    var traks = _findBox(init, ['moov', 'trak']);\n\n    var videoTrackIds = [];\n    traks.forEach(function (trak) {\n      var hdlrs = _findBox(trak, ['mdia', 'hdlr']);\n\n      var tkhds = _findBox(trak, ['tkhd']);\n\n      hdlrs.forEach(function (hdlr, index) {\n        var handlerType = parseType(hdlr.subarray(8, 12));\n        var tkhd = tkhds[index];\n        var view;\n        var version;\n        var trackId;\n\n        if (handlerType === 'vide') {\n          view = new DataView(tkhd.buffer, tkhd.byteOffset, tkhd.byteLength);\n          version = view.getUint8(0);\n          trackId = version === 0 ? view.getUint32(12) : view.getUint32(20);\n          videoTrackIds.push(trackId);\n        }\n      });\n    });\n    return videoTrackIds;\n  };\n  /**\n   * Get all the video, audio, and hint tracks from a non fragmented\n   * mp4 segment\n   */\n\n\n  getTracks = function getTracks(init) {\n    var traks = _findBox(init, ['moov', 'trak']);\n\n    var tracks = [];\n    traks.forEach(function (trak) {\n      var track = {};\n\n      var tkhd = _findBox(trak, ['tkhd'])[0];\n\n      var view, version; // id\n\n      if (tkhd) {\n        view = new DataView(tkhd.buffer, tkhd.byteOffset, tkhd.byteLength);\n        version = view.getUint8(0);\n        track.id = version === 0 ? view.getUint32(12) : view.getUint32(20);\n      }\n\n      var hdlr = _findBox(trak, ['mdia', 'hdlr'])[0]; // type\n\n\n      if (hdlr) {\n        var type = parseType(hdlr.subarray(8, 12));\n\n        if (type === 'vide') {\n          track.type = 'video';\n        } else if (type === 'soun') {\n          track.type = 'audio';\n        } else {\n          track.type = type;\n        }\n      } // codec\n\n\n      var stsd = _findBox(trak, ['mdia', 'minf', 'stbl', 'stsd'])[0];\n\n      if (stsd) {\n        var sampleDescriptions = stsd.subarray(8); // gives the codec type string\n\n        track.codec = parseType(sampleDescriptions.subarray(4, 8));\n\n        var codecBox = _findBox(sampleDescriptions, [track.codec])[0];\n\n        var codecConfig, codecConfigType;\n\n        if (codecBox) {\n          // https://tools.ietf.org/html/rfc6381#section-3.3\n          if (/^[a-z]vc[1-9]$/i.test(track.codec)) {\n            // we don't need anything but the \"config\" parameter of the\n            // avc1 codecBox\n            codecConfig = codecBox.subarray(78);\n            codecConfigType = parseType(codecConfig.subarray(4, 8));\n\n            if (codecConfigType === 'avcC' && codecConfig.length > 11) {\n              track.codec += '.'; // left padded with zeroes for single digit hex\n              // profile idc\n\n              track.codec += toHexString$1(codecConfig[9]); // the byte containing the constraint_set flags\n\n              track.codec += toHexString$1(codecConfig[10]); // level idc\n\n              track.codec += toHexString$1(codecConfig[11]);\n            } else {\n              // TODO: show a warning that we couldn't parse the codec\n              // and are using the default\n              track.codec = 'avc1.4d400d';\n            }\n          } else if (/^mp4[a,v]$/i.test(track.codec)) {\n            // we do not need anything but the streamDescriptor of the mp4a codecBox\n            codecConfig = codecBox.subarray(28);\n            codecConfigType = parseType(codecConfig.subarray(4, 8));\n\n            if (codecConfigType === 'esds' && codecConfig.length > 20 && codecConfig[19] !== 0) {\n              track.codec += '.' + toHexString$1(codecConfig[19]); // this value is only a single digit\n\n              track.codec += '.' + toHexString$1(codecConfig[20] >>> 2 & 0x3f).replace(/^0/, '');\n            } else {\n              // TODO: show a warning that we couldn't parse the codec\n              // and are using the default\n              track.codec = 'mp4a.40.2';\n            }\n          }\n        }\n      }\n\n      var mdhd = _findBox(trak, ['mdia', 'mdhd'])[0];\n\n      if (mdhd && tkhd) {\n        var index = version === 0 ? 12 : 20;\n        track.timescale = toUnsigned$1(mdhd[index] << 24 | mdhd[index + 1] << 16 | mdhd[index + 2] << 8 | mdhd[index + 3]);\n      }\n\n      tracks.push(track);\n    });\n    return tracks;\n  };\n\n  var probe = {\n    findBox: _findBox,\n    parseType: parseType,\n    timescale: timescale,\n    startTime: startTime,\n    videoTrackIds: getVideoTrackIds,\n    tracks: getTracks\n  };\n\n  var inspectMp4,\n      _textifyMp,\n      parseType$1 = probe.parseType,\n      parseMp4Date = function parseMp4Date(seconds) {\n    return new Date(seconds * 1000 - 2082844800000);\n  },\n      parseSampleFlags = function parseSampleFlags(flags) {\n    return {\n      isLeading: (flags[0] & 0x0c) >>> 2,\n      dependsOn: flags[0] & 0x03,\n      isDependedOn: (flags[1] & 0xc0) >>> 6,\n      hasRedundancy: (flags[1] & 0x30) >>> 4,\n      paddingValue: (flags[1] & 0x0e) >>> 1,\n      isNonSyncSample: flags[1] & 0x01,\n      degradationPriority: flags[2] << 8 | flags[3]\n    };\n  },\n      nalParse = function nalParse(avcStream) {\n    var avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n        result = [],\n        i,\n        length;\n\n    for (i = 0; i + 4 < avcStream.length; i += length) {\n      length = avcView.getUint32(i);\n      i += 4; // bail if this doesn't appear to be an H264 stream\n\n      if (length <= 0) {\n        result.push('<span style=\\'color:red;\\'>MALFORMED DATA</span>');\n        continue;\n      }\n\n      switch (avcStream[i] & 0x1F) {\n        case 0x01:\n          result.push('slice_layer_without_partitioning_rbsp');\n          break;\n\n        case 0x05:\n          result.push('slice_layer_without_partitioning_rbsp_idr');\n          break;\n\n        case 0x06:\n          result.push('sei_rbsp');\n          break;\n\n        case 0x07:\n          result.push('seq_parameter_set_rbsp');\n          break;\n\n        case 0x08:\n          result.push('pic_parameter_set_rbsp');\n          break;\n\n        case 0x09:\n          result.push('access_unit_delimiter_rbsp');\n          break;\n\n        default:\n          result.push('UNKNOWN NAL - ' + avcStream[i] & 0x1F);\n          break;\n      }\n    }\n\n    return result;\n  },\n      // registry of handlers for individual mp4 box types\n  parse$1 = {\n    // codingname, not a first-class box type. stsd entries share the\n    // same format as real boxes so the parsing infrastructure can be\n    // shared\n    avc1: function avc1(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        dataReferenceIndex: view.getUint16(6),\n        width: view.getUint16(24),\n        height: view.getUint16(26),\n        horizresolution: view.getUint16(28) + view.getUint16(30) / 16,\n        vertresolution: view.getUint16(32) + view.getUint16(34) / 16,\n        frameCount: view.getUint16(40),\n        depth: view.getUint16(74),\n        config: inspectMp4(data.subarray(78, data.byteLength))\n      };\n    },\n    avcC: function avcC(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        configurationVersion: data[0],\n        avcProfileIndication: data[1],\n        profileCompatibility: data[2],\n        avcLevelIndication: data[3],\n        lengthSizeMinusOne: data[4] & 0x03,\n        sps: [],\n        pps: []\n      },\n          numOfSequenceParameterSets = data[5] & 0x1f,\n          numOfPictureParameterSets,\n          nalSize,\n          offset,\n          i; // iterate past any SPSs\n\n      offset = 6;\n\n      for (i = 0; i < numOfSequenceParameterSets; i++) {\n        nalSize = view.getUint16(offset);\n        offset += 2;\n        result.sps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n        offset += nalSize;\n      } // iterate past any PPSs\n\n\n      numOfPictureParameterSets = data[offset];\n      offset++;\n\n      for (i = 0; i < numOfPictureParameterSets; i++) {\n        nalSize = view.getUint16(offset);\n        offset += 2;\n        result.pps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n        offset += nalSize;\n      }\n\n      return result;\n    },\n    btrt: function btrt(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        bufferSizeDB: view.getUint32(0),\n        maxBitrate: view.getUint32(4),\n        avgBitrate: view.getUint32(8)\n      };\n    },\n    esds: function esds(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        esId: data[6] << 8 | data[7],\n        streamPriority: data[8] & 0x1f,\n        decoderConfig: {\n          objectProfileIndication: data[11],\n          streamType: data[12] >>> 2 & 0x3f,\n          bufferSize: data[13] << 16 | data[14] << 8 | data[15],\n          maxBitrate: data[16] << 24 | data[17] << 16 | data[18] << 8 | data[19],\n          avgBitrate: data[20] << 24 | data[21] << 16 | data[22] << 8 | data[23],\n          decoderConfigDescriptor: {\n            tag: data[24],\n            length: data[25],\n            audioObjectType: data[26] >>> 3 & 0x1f,\n            samplingFrequencyIndex: (data[26] & 0x07) << 1 | data[27] >>> 7 & 0x01,\n            channelConfiguration: data[27] >>> 3 & 0x0f\n          }\n        }\n      };\n    },\n    ftyp: function ftyp(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        majorBrand: parseType$1(data.subarray(0, 4)),\n        minorVersion: view.getUint32(4),\n        compatibleBrands: []\n      },\n          i = 8;\n\n      while (i < data.byteLength) {\n        result.compatibleBrands.push(parseType$1(data.subarray(i, i + 4)));\n        i += 4;\n      }\n\n      return result;\n    },\n    dinf: function dinf(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    dref: function dref(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        dataReferences: inspectMp4(data.subarray(8))\n      };\n    },\n    hdlr: function hdlr(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        version: view.getUint8(0),\n        flags: new Uint8Array(data.subarray(1, 4)),\n        handlerType: parseType$1(data.subarray(8, 12)),\n        name: ''\n      },\n          i = 8; // parse out the name field\n\n      for (i = 24; i < data.byteLength; i++) {\n        if (data[i] === 0x00) {\n          // the name field is null-terminated\n          i++;\n          break;\n        }\n\n        result.name += String.fromCharCode(data[i]);\n      } // decode UTF-8 to javascript's internal representation\n      // see http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html\n\n\n      result.name = decodeURIComponent(escape(result.name));\n      return result;\n    },\n    mdat: function mdat(data) {\n      return {\n        byteLength: data.byteLength,\n        nals: nalParse(data)\n      };\n    },\n    mdhd: function mdhd(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          i = 4,\n          language,\n          result = {\n        version: view.getUint8(0),\n        flags: new Uint8Array(data.subarray(1, 4)),\n        language: ''\n      };\n\n      if (result.version === 1) {\n        i += 4;\n        result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n        i += 8;\n        result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n        i += 4;\n        result.timescale = view.getUint32(i);\n        i += 8;\n        result.duration = view.getUint32(i); // truncating top 4 bytes\n      } else {\n        result.creationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.modificationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.timescale = view.getUint32(i);\n        i += 4;\n        result.duration = view.getUint32(i);\n      }\n\n      i += 4; // language is stored as an ISO-639-2/T code in an array of three 5-bit fields\n      // each field is the packed difference between its ASCII value and 0x60\n\n      language = view.getUint16(i);\n      result.language += String.fromCharCode((language >> 10) + 0x60);\n      result.language += String.fromCharCode(((language & 0x03e0) >> 5) + 0x60);\n      result.language += String.fromCharCode((language & 0x1f) + 0x60);\n      return result;\n    },\n    mdia: function mdia(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    mfhd: function mfhd(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        sequenceNumber: data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7]\n      };\n    },\n    minf: function minf(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    // codingname, not a first-class box type. stsd entries share the\n    // same format as real boxes so the parsing infrastructure can be\n    // shared\n    mp4a: function mp4a(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        // 6 bytes reserved\n        dataReferenceIndex: view.getUint16(6),\n        // 4 + 4 bytes reserved\n        channelcount: view.getUint16(16),\n        samplesize: view.getUint16(18),\n        // 2 bytes pre_defined\n        // 2 bytes reserved\n        samplerate: view.getUint16(24) + view.getUint16(26) / 65536\n      }; // if there are more bytes to process, assume this is an ISO/IEC\n      // 14496-14 MP4AudioSampleEntry and parse the ESDBox\n\n      if (data.byteLength > 28) {\n        result.streamDescriptor = inspectMp4(data.subarray(28))[0];\n      }\n\n      return result;\n    },\n    moof: function moof(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    moov: function moov(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    mvex: function mvex(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    mvhd: function mvhd(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          i = 4,\n          result = {\n        version: view.getUint8(0),\n        flags: new Uint8Array(data.subarray(1, 4))\n      };\n\n      if (result.version === 1) {\n        i += 4;\n        result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n        i += 8;\n        result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n        i += 4;\n        result.timescale = view.getUint32(i);\n        i += 8;\n        result.duration = view.getUint32(i); // truncating top 4 bytes\n      } else {\n        result.creationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.modificationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.timescale = view.getUint32(i);\n        i += 4;\n        result.duration = view.getUint32(i);\n      }\n\n      i += 4; // convert fixed-point, base 16 back to a number\n\n      result.rate = view.getUint16(i) + view.getUint16(i + 2) / 16;\n      i += 4;\n      result.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\n      i += 2;\n      i += 2;\n      i += 2 * 4;\n      result.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\n      i += 9 * 4;\n      i += 6 * 4;\n      result.nextTrackId = view.getUint32(i);\n      return result;\n    },\n    pdin: function pdin(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        version: view.getUint8(0),\n        flags: new Uint8Array(data.subarray(1, 4)),\n        rate: view.getUint32(4),\n        initialDelay: view.getUint32(8)\n      };\n    },\n    sdtp: function sdtp(data) {\n      var result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        samples: []\n      },\n          i;\n\n      for (i = 4; i < data.byteLength; i++) {\n        result.samples.push({\n          dependsOn: (data[i] & 0x30) >> 4,\n          isDependedOn: (data[i] & 0x0c) >> 2,\n          hasRedundancy: data[i] & 0x03\n        });\n      }\n\n      return result;\n    },\n    sidx: function sidx(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        references: [],\n        referenceId: view.getUint32(4),\n        timescale: view.getUint32(8),\n        earliestPresentationTime: view.getUint32(12),\n        firstOffset: view.getUint32(16)\n      },\n          referenceCount = view.getUint16(22),\n          i;\n\n      for (i = 24; referenceCount; i += 12, referenceCount--) {\n        result.references.push({\n          referenceType: (data[i] & 0x80) >>> 7,\n          referencedSize: view.getUint32(i) & 0x7FFFFFFF,\n          subsegmentDuration: view.getUint32(i + 4),\n          startsWithSap: !!(data[i + 8] & 0x80),\n          sapType: (data[i + 8] & 0x70) >>> 4,\n          sapDeltaTime: view.getUint32(i + 8) & 0x0FFFFFFF\n        });\n      }\n\n      return result;\n    },\n    smhd: function smhd(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        balance: data[4] + data[5] / 256\n      };\n    },\n    stbl: function stbl(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    stco: function stco(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        chunkOffsets: []\n      },\n          entryCount = view.getUint32(4),\n          i;\n\n      for (i = 8; entryCount; i += 4, entryCount--) {\n        result.chunkOffsets.push(view.getUint32(i));\n      }\n\n      return result;\n    },\n    stsc: function stsc(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          entryCount = view.getUint32(4),\n          result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        sampleToChunks: []\n      },\n          i;\n\n      for (i = 8; entryCount; i += 12, entryCount--) {\n        result.sampleToChunks.push({\n          firstChunk: view.getUint32(i),\n          samplesPerChunk: view.getUint32(i + 4),\n          sampleDescriptionIndex: view.getUint32(i + 8)\n        });\n      }\n\n      return result;\n    },\n    stsd: function stsd(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        sampleDescriptions: inspectMp4(data.subarray(8))\n      };\n    },\n    stsz: function stsz(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        sampleSize: view.getUint32(4),\n        entries: []\n      },\n          i;\n\n      for (i = 12; i < data.byteLength; i += 4) {\n        result.entries.push(view.getUint32(i));\n      }\n\n      return result;\n    },\n    stts: function stts(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        timeToSamples: []\n      },\n          entryCount = view.getUint32(4),\n          i;\n\n      for (i = 8; entryCount; i += 8, entryCount--) {\n        result.timeToSamples.push({\n          sampleCount: view.getUint32(i),\n          sampleDelta: view.getUint32(i + 4)\n        });\n      }\n\n      return result;\n    },\n    styp: function styp(data) {\n      return parse$1.ftyp(data);\n    },\n    tfdt: function tfdt(data) {\n      var result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        baseMediaDecodeTime: data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7]\n      };\n\n      if (result.version === 1) {\n        result.baseMediaDecodeTime *= Math.pow(2, 32);\n        result.baseMediaDecodeTime += data[8] << 24 | data[9] << 16 | data[10] << 8 | data[11];\n      }\n\n      return result;\n    },\n    tfhd: function tfhd(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        trackId: view.getUint32(4)\n      },\n          baseDataOffsetPresent = result.flags[2] & 0x01,\n          sampleDescriptionIndexPresent = result.flags[2] & 0x02,\n          defaultSampleDurationPresent = result.flags[2] & 0x08,\n          defaultSampleSizePresent = result.flags[2] & 0x10,\n          defaultSampleFlagsPresent = result.flags[2] & 0x20,\n          durationIsEmpty = result.flags[0] & 0x010000,\n          defaultBaseIsMoof = result.flags[0] & 0x020000,\n          i;\n      i = 8;\n\n      if (baseDataOffsetPresent) {\n        i += 4; // truncate top 4 bytes\n        // FIXME: should we read the full 64 bits?\n\n        result.baseDataOffset = view.getUint32(12);\n        i += 4;\n      }\n\n      if (sampleDescriptionIndexPresent) {\n        result.sampleDescriptionIndex = view.getUint32(i);\n        i += 4;\n      }\n\n      if (defaultSampleDurationPresent) {\n        result.defaultSampleDuration = view.getUint32(i);\n        i += 4;\n      }\n\n      if (defaultSampleSizePresent) {\n        result.defaultSampleSize = view.getUint32(i);\n        i += 4;\n      }\n\n      if (defaultSampleFlagsPresent) {\n        result.defaultSampleFlags = view.getUint32(i);\n      }\n\n      if (durationIsEmpty) {\n        result.durationIsEmpty = true;\n      }\n\n      if (!baseDataOffsetPresent && defaultBaseIsMoof) {\n        result.baseDataOffsetIsMoof = true;\n      }\n\n      return result;\n    },\n    tkhd: function tkhd(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          i = 4,\n          result = {\n        version: view.getUint8(0),\n        flags: new Uint8Array(data.subarray(1, 4))\n      };\n\n      if (result.version === 1) {\n        i += 4;\n        result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n        i += 8;\n        result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n        i += 4;\n        result.trackId = view.getUint32(i);\n        i += 4;\n        i += 8;\n        result.duration = view.getUint32(i); // truncating top 4 bytes\n      } else {\n        result.creationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.modificationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.trackId = view.getUint32(i);\n        i += 4;\n        i += 4;\n        result.duration = view.getUint32(i);\n      }\n\n      i += 4;\n      i += 2 * 4;\n      result.layer = view.getUint16(i);\n      i += 2;\n      result.alternateGroup = view.getUint16(i);\n      i += 2; // convert fixed-point, base 16 back to a number\n\n      result.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\n      i += 2;\n      i += 2;\n      result.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\n      i += 9 * 4;\n      result.width = view.getUint16(i) + view.getUint16(i + 2) / 16;\n      i += 4;\n      result.height = view.getUint16(i) + view.getUint16(i + 2) / 16;\n      return result;\n    },\n    traf: function traf(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    trak: function trak(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    trex: function trex(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        trackId: view.getUint32(4),\n        defaultSampleDescriptionIndex: view.getUint32(8),\n        defaultSampleDuration: view.getUint32(12),\n        defaultSampleSize: view.getUint32(16),\n        sampleDependsOn: data[20] & 0x03,\n        sampleIsDependedOn: (data[21] & 0xc0) >> 6,\n        sampleHasRedundancy: (data[21] & 0x30) >> 4,\n        samplePaddingValue: (data[21] & 0x0e) >> 1,\n        sampleIsDifferenceSample: !!(data[21] & 0x01),\n        sampleDegradationPriority: view.getUint16(22)\n      };\n    },\n    trun: function trun(data) {\n      var result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        samples: []\n      },\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          // Flag interpretation\n      dataOffsetPresent = result.flags[2] & 0x01,\n          // compare with 2nd byte of 0x1\n      firstSampleFlagsPresent = result.flags[2] & 0x04,\n          // compare with 2nd byte of 0x4\n      sampleDurationPresent = result.flags[1] & 0x01,\n          // compare with 2nd byte of 0x100\n      sampleSizePresent = result.flags[1] & 0x02,\n          // compare with 2nd byte of 0x200\n      sampleFlagsPresent = result.flags[1] & 0x04,\n          // compare with 2nd byte of 0x400\n      sampleCompositionTimeOffsetPresent = result.flags[1] & 0x08,\n          // compare with 2nd byte of 0x800\n      sampleCount = view.getUint32(4),\n          offset = 8,\n          sample;\n\n      if (dataOffsetPresent) {\n        // 32 bit signed integer\n        result.dataOffset = view.getInt32(offset);\n        offset += 4;\n      } // Overrides the flags for the first sample only. The order of\n      // optional values will be: duration, size, compositionTimeOffset\n\n\n      if (firstSampleFlagsPresent && sampleCount) {\n        sample = {\n          flags: parseSampleFlags(data.subarray(offset, offset + 4))\n        };\n        offset += 4;\n\n        if (sampleDurationPresent) {\n          sample.duration = view.getUint32(offset);\n          offset += 4;\n        }\n\n        if (sampleSizePresent) {\n          sample.size = view.getUint32(offset);\n          offset += 4;\n        }\n\n        if (sampleCompositionTimeOffsetPresent) {\n          // Note: this should be a signed int if version is 1\n          sample.compositionTimeOffset = view.getUint32(offset);\n          offset += 4;\n        }\n\n        result.samples.push(sample);\n        sampleCount--;\n      }\n\n      while (sampleCount--) {\n        sample = {};\n\n        if (sampleDurationPresent) {\n          sample.duration = view.getUint32(offset);\n          offset += 4;\n        }\n\n        if (sampleSizePresent) {\n          sample.size = view.getUint32(offset);\n          offset += 4;\n        }\n\n        if (sampleFlagsPresent) {\n          sample.flags = parseSampleFlags(data.subarray(offset, offset + 4));\n          offset += 4;\n        }\n\n        if (sampleCompositionTimeOffsetPresent) {\n          // Note: this should be a signed int if version is 1\n          sample.compositionTimeOffset = view.getUint32(offset);\n          offset += 4;\n        }\n\n        result.samples.push(sample);\n      }\n\n      return result;\n    },\n    'url ': function url(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4))\n      };\n    },\n    vmhd: function vmhd(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        graphicsmode: view.getUint16(4),\n        opcolor: new Uint16Array([view.getUint16(6), view.getUint16(8), view.getUint16(10)])\n      };\n    }\n  };\n  /**\n   * Return a javascript array of box objects parsed from an ISO base\n   * media file.\n   * @param data {Uint8Array} the binary data of the media to be inspected\n   * @return {array} a javascript array of potentially nested box objects\n   */\n\n\n  inspectMp4 = function inspectMp4(data) {\n    var i = 0,\n        result = [],\n        view,\n        size,\n        type,\n        end,\n        box; // Convert data from Uint8Array to ArrayBuffer, to follow Dataview API\n\n    var ab = new ArrayBuffer(data.length);\n    var v = new Uint8Array(ab);\n\n    for (var z = 0; z < data.length; ++z) {\n      v[z] = data[z];\n    }\n\n    view = new DataView(ab);\n\n    while (i < data.byteLength) {\n      // parse box data\n      size = view.getUint32(i);\n      type = parseType$1(data.subarray(i + 4, i + 8));\n      end = size > 1 ? i + size : data.byteLength; // parse type-specific data\n\n      box = (parse$1[type] || function (data) {\n        return {\n          data: data\n        };\n      })(data.subarray(i + 8, end));\n\n      box.size = size;\n      box.type = type; // store this box and move to the next\n\n      result.push(box);\n      i = end;\n    }\n\n    return result;\n  };\n  /**\n   * Returns a textual representation of the javascript represtentation\n   * of an MP4 file. You can use it as an alternative to\n   * JSON.stringify() to compare inspected MP4s.\n   * @param inspectedMp4 {array} the parsed array of boxes in an MP4\n   * file\n   * @param depth {number} (optional) the number of ancestor boxes of\n   * the elements of inspectedMp4. Assumed to be zero if unspecified.\n   * @return {string} a text representation of the parsed MP4\n   */\n\n\n  _textifyMp = function textifyMp4(inspectedMp4, depth) {\n    var indent;\n    depth = depth || 0;\n    indent = new Array(depth * 2 + 1).join(' '); // iterate over all the boxes\n\n    return inspectedMp4.map(function (box, index) {\n      // list the box type first at the current indentation level\n      return indent + box.type + '\\n' + // the type is already included and handle child boxes separately\n      Object.keys(box).filter(function (key) {\n        return key !== 'type' && key !== 'boxes'; // output all the box properties\n      }).map(function (key) {\n        var prefix = indent + '  ' + key + ': ',\n            value = box[key]; // print out raw bytes as hexademical\n\n        if (value instanceof Uint8Array || value instanceof Uint32Array) {\n          var bytes = Array.prototype.slice.call(new Uint8Array(value.buffer, value.byteOffset, value.byteLength)).map(function (_byte) {\n            return ' ' + ('00' + _byte.toString(16)).slice(-2);\n          }).join('').match(/.{1,24}/g);\n\n          if (!bytes) {\n            return prefix + '<>';\n          }\n\n          if (bytes.length === 1) {\n            return prefix + '<' + bytes.join('').slice(1) + '>';\n          }\n\n          return prefix + '<\\n' + bytes.map(function (line) {\n            return indent + '  ' + line;\n          }).join('\\n') + '\\n' + indent + '  >';\n        } // stringify generic objects\n\n\n        return prefix + JSON.stringify(value, null, 2).split('\\n').map(function (line, index) {\n          if (index === 0) {\n            return line;\n          }\n\n          return indent + '  ' + line;\n        }).join('\\n');\n      }).join('\\n') + ( // recursively textify the child boxes\n      box.boxes ? '\\n' + _textifyMp(box.boxes, depth + 1) : '');\n    }).join('\\n');\n  };\n\n  var mp4Inspector = {\n    inspect: inspectMp4,\n    textify: _textifyMp,\n    parseTfdt: parse$1.tfdt,\n    parseHdlr: parse$1.hdlr,\n    parseTfhd: parse$1.tfhd,\n    parseTrun: parse$1.trun,\n    parseSidx: parse$1.sidx\n  };\n\n  /**\n   * mux.js\n   *\n   * Copyright (c) Brightcove\n   * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n   *\n   * Reads in-band caption information from a video elementary\n   * stream. Captions must follow the CEA-708 standard for injection\n   * into an MPEG-2 transport streams.\n   * @see https://en.wikipedia.org/wiki/CEA-708\n   * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf\n   */\n  // payload type field to indicate how they are to be\n  // interpreted. CEAS-708 caption content is always transmitted with\n  // payload type 0x04.\n\n  var USER_DATA_REGISTERED_ITU_T_T35 = 4,\n      RBSP_TRAILING_BITS = 128;\n  /**\n    * Parse a supplemental enhancement information (SEI) NAL unit.\n    * Stops parsing once a message of type ITU T T35 has been found.\n    *\n    * @param bytes {Uint8Array} the bytes of a SEI NAL unit\n    * @return {object} the parsed SEI payload\n    * @see Rec. ITU-T H.264, 7.3.2.3.1\n    */\n\n  var parseSei = function parseSei(bytes) {\n    var i = 0,\n        result = {\n      payloadType: -1,\n      payloadSize: 0\n    },\n        payloadType = 0,\n        payloadSize = 0; // go through the sei_rbsp parsing each each individual sei_message\n\n    while (i < bytes.byteLength) {\n      // stop once we have hit the end of the sei_rbsp\n      if (bytes[i] === RBSP_TRAILING_BITS) {\n        break;\n      } // Parse payload type\n\n\n      while (bytes[i] === 0xFF) {\n        payloadType += 255;\n        i++;\n      }\n\n      payloadType += bytes[i++]; // Parse payload size\n\n      while (bytes[i] === 0xFF) {\n        payloadSize += 255;\n        i++;\n      }\n\n      payloadSize += bytes[i++]; // this sei_message is a 608/708 caption so save it and break\n      // there can only ever be one caption message in a frame's sei\n\n      if (!result.payload && payloadType === USER_DATA_REGISTERED_ITU_T_T35) {\n        result.payloadType = payloadType;\n        result.payloadSize = payloadSize;\n        result.payload = bytes.subarray(i, i + payloadSize);\n        break;\n      } // skip the payload and parse the next message\n\n\n      i += payloadSize;\n      payloadType = 0;\n      payloadSize = 0;\n    }\n\n    return result;\n  }; // see ANSI/SCTE 128-1 (2013), section 8.1\n\n\n  var parseUserData = function parseUserData(sei) {\n    // itu_t_t35_contry_code must be 181 (United States) for\n    // captions\n    if (sei.payload[0] !== 181) {\n      return null;\n    } // itu_t_t35_provider_code should be 49 (ATSC) for captions\n\n\n    if ((sei.payload[1] << 8 | sei.payload[2]) !== 49) {\n      return null;\n    } // the user_identifier should be \"GA94\" to indicate ATSC1 data\n\n\n    if (String.fromCharCode(sei.payload[3], sei.payload[4], sei.payload[5], sei.payload[6]) !== 'GA94') {\n      return null;\n    } // finally, user_data_type_code should be 0x03 for caption data\n\n\n    if (sei.payload[7] !== 0x03) {\n      return null;\n    } // return the user_data_type_structure and strip the trailing\n    // marker bits\n\n\n    return sei.payload.subarray(8, sei.payload.length - 1);\n  }; // see CEA-708-D, section 4.4\n\n\n  var parseCaptionPackets = function parseCaptionPackets(pts, userData) {\n    var results = [],\n        i,\n        count,\n        offset,\n        data; // if this is just filler, return immediately\n\n    if (!(userData[0] & 0x40)) {\n      return results;\n    } // parse out the cc_data_1 and cc_data_2 fields\n\n\n    count = userData[0] & 0x1f;\n\n    for (i = 0; i < count; i++) {\n      offset = i * 3;\n      data = {\n        type: userData[offset + 2] & 0x03,\n        pts: pts\n      }; // capture cc data when cc_valid is 1\n\n      if (userData[offset + 2] & 0x04) {\n        data.ccData = userData[offset + 3] << 8 | userData[offset + 4];\n        results.push(data);\n      }\n    }\n\n    return results;\n  };\n\n  var discardEmulationPreventionBytes = function discardEmulationPreventionBytes(data) {\n    var length = data.byteLength,\n        emulationPreventionBytesPositions = [],\n        i = 1,\n        newLength,\n        newData; // Find all `Emulation Prevention Bytes`\n\n    while (i < length - 2) {\n      if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n        emulationPreventionBytesPositions.push(i + 2);\n        i += 2;\n      } else {\n        i++;\n      }\n    } // If no Emulation Prevention Bytes were found just return the original\n    // array\n\n\n    if (emulationPreventionBytesPositions.length === 0) {\n      return data;\n    } // Create a new array to hold the NAL unit data\n\n\n    newLength = length - emulationPreventionBytesPositions.length;\n    newData = new Uint8Array(newLength);\n    var sourceIndex = 0;\n\n    for (i = 0; i < newLength; sourceIndex++, i++) {\n      if (sourceIndex === emulationPreventionBytesPositions[0]) {\n        // Skip this byte\n        sourceIndex++; // Remove this position index\n\n        emulationPreventionBytesPositions.shift();\n      }\n\n      newData[i] = data[sourceIndex];\n    }\n\n    return newData;\n  }; // exports\n\n\n  var captionPacketParser = {\n    parseSei: parseSei,\n    parseUserData: parseUserData,\n    parseCaptionPackets: parseCaptionPackets,\n    discardEmulationPreventionBytes: discardEmulationPreventionBytes,\n    USER_DATA_REGISTERED_ITU_T_T35: USER_DATA_REGISTERED_ITU_T_T35\n  };\n\n  /**\n   * mux.js\n   *\n   * Copyright (c) Brightcove\n   * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n   *\n   * A lightweight readable stream implemention that handles event dispatching.\n   * Objects that inherit from streams should call init in their constructors.\n   */\n\n  var Stream$1 = function Stream() {\n    this.init = function () {\n      var listeners = {};\n      /**\n       * Add a listener for a specified event type.\n       * @param type {string} the event name\n       * @param listener {function} the callback to be invoked when an event of\n       * the specified type occurs\n       */\n\n      this.on = function (type, listener) {\n        if (!listeners[type]) {\n          listeners[type] = [];\n        }\n\n        listeners[type] = listeners[type].concat(listener);\n      };\n      /**\n       * Remove a listener for a specified event type.\n       * @param type {string} the event name\n       * @param listener {function} a function previously registered for this\n       * type of event through `on`\n       */\n\n\n      this.off = function (type, listener) {\n        var index;\n\n        if (!listeners[type]) {\n          return false;\n        }\n\n        index = listeners[type].indexOf(listener);\n        listeners[type] = listeners[type].slice();\n        listeners[type].splice(index, 1);\n        return index > -1;\n      };\n      /**\n       * Trigger an event of the specified type on this stream. Any additional\n       * arguments to this function are passed as parameters to event listeners.\n       * @param type {string} the event name\n       */\n\n\n      this.trigger = function (type) {\n        var callbacks, i, length, args;\n        callbacks = listeners[type];\n\n        if (!callbacks) {\n          return;\n        } // Slicing the arguments on every invocation of this method\n        // can add a significant amount of overhead. Avoid the\n        // intermediate object creation for the common case of a\n        // single callback argument\n\n\n        if (arguments.length === 2) {\n          length = callbacks.length;\n\n          for (i = 0; i < length; ++i) {\n            callbacks[i].call(this, arguments[1]);\n          }\n        } else {\n          args = [];\n          i = arguments.length;\n\n          for (i = 1; i < arguments.length; ++i) {\n            args.push(arguments[i]);\n          }\n\n          length = callbacks.length;\n\n          for (i = 0; i < length; ++i) {\n            callbacks[i].apply(this, args);\n          }\n        }\n      };\n      /**\n       * Destroys the stream and cleans up.\n       */\n\n\n      this.dispose = function () {\n        listeners = {};\n      };\n    };\n  };\n  /**\n   * Forwards all `data` events on this stream to the destination stream. The\n   * destination stream should provide a method `push` to receive the data\n   * events as they arrive.\n   * @param destination {stream} the stream that will receive all `data` events\n   * @param autoFlush {boolean} if false, we will not call `flush` on the destination\n   *                            when the current stream emits a 'done' event\n   * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n   */\n\n\n  Stream$1.prototype.pipe = function (destination) {\n    this.on('data', function (data) {\n      destination.push(data);\n    });\n    this.on('done', function (flushSource) {\n      destination.flush(flushSource);\n    });\n    this.on('partialdone', function (flushSource) {\n      destination.partialFlush(flushSource);\n    });\n    this.on('endedtimeline', function (flushSource) {\n      destination.endTimeline(flushSource);\n    });\n    this.on('reset', function (flushSource) {\n      destination.reset(flushSource);\n    });\n    return destination;\n  }; // Default stream functions that are expected to be overridden to perform\n  // actual work. These are provided by the prototype as a sort of no-op\n  // implementation so that we don't have to check for their existence in the\n  // `pipe` function above.\n\n\n  Stream$1.prototype.push = function (data) {\n    this.trigger('data', data);\n  };\n\n  Stream$1.prototype.flush = function (flushSource) {\n    this.trigger('done', flushSource);\n  };\n\n  Stream$1.prototype.partialFlush = function (flushSource) {\n    this.trigger('partialdone', flushSource);\n  };\n\n  Stream$1.prototype.endTimeline = function (flushSource) {\n    this.trigger('endedtimeline', flushSource);\n  };\n\n  Stream$1.prototype.reset = function (flushSource) {\n    this.trigger('reset', flushSource);\n  };\n\n  var stream = Stream$1;\n\n  // Link To Transport\n  // -----------------\n\n\n  var CaptionStream = function CaptionStream() {\n    CaptionStream.prototype.init.call(this);\n    this.captionPackets_ = [];\n    this.ccStreams_ = [new Cea608Stream(0, 0), // eslint-disable-line no-use-before-define\n    new Cea608Stream(0, 1), // eslint-disable-line no-use-before-define\n    new Cea608Stream(1, 0), // eslint-disable-line no-use-before-define\n    new Cea608Stream(1, 1) // eslint-disable-line no-use-before-define\n    ];\n    this.reset(); // forward data and done events from CCs to this CaptionStream\n\n    this.ccStreams_.forEach(function (cc) {\n      cc.on('data', this.trigger.bind(this, 'data'));\n      cc.on('partialdone', this.trigger.bind(this, 'partialdone'));\n      cc.on('done', this.trigger.bind(this, 'done'));\n    }, this);\n  };\n\n  CaptionStream.prototype = new stream();\n\n  CaptionStream.prototype.push = function (event) {\n    var sei, userData, newCaptionPackets; // only examine SEI NALs\n\n    if (event.nalUnitType !== 'sei_rbsp') {\n      return;\n    } // parse the sei\n\n\n    sei = captionPacketParser.parseSei(event.escapedRBSP); // ignore everything but user_data_registered_itu_t_t35\n\n    if (sei.payloadType !== captionPacketParser.USER_DATA_REGISTERED_ITU_T_T35) {\n      return;\n    } // parse out the user data payload\n\n\n    userData = captionPacketParser.parseUserData(sei); // ignore unrecognized userData\n\n    if (!userData) {\n      return;\n    } // Sometimes, the same segment # will be downloaded twice. To stop the\n    // caption data from being processed twice, we track the latest dts we've\n    // received and ignore everything with a dts before that. However, since\n    // data for a specific dts can be split across packets on either side of\n    // a segment boundary, we need to make sure we *don't* ignore the packets\n    // from the *next* segment that have dts === this.latestDts_. By constantly\n    // tracking the number of packets received with dts === this.latestDts_, we\n    // know how many should be ignored once we start receiving duplicates.\n\n\n    if (event.dts < this.latestDts_) {\n      // We've started getting older data, so set the flag.\n      this.ignoreNextEqualDts_ = true;\n      return;\n    } else if (event.dts === this.latestDts_ && this.ignoreNextEqualDts_) {\n      this.numSameDts_--;\n\n      if (!this.numSameDts_) {\n        // We've received the last duplicate packet, time to start processing again\n        this.ignoreNextEqualDts_ = false;\n      }\n\n      return;\n    } // parse out CC data packets and save them for later\n\n\n    newCaptionPackets = captionPacketParser.parseCaptionPackets(event.pts, userData);\n    this.captionPackets_ = this.captionPackets_.concat(newCaptionPackets);\n\n    if (this.latestDts_ !== event.dts) {\n      this.numSameDts_ = 0;\n    }\n\n    this.numSameDts_++;\n    this.latestDts_ = event.dts;\n  };\n\n  CaptionStream.prototype.flushCCStreams = function (flushType) {\n    this.ccStreams_.forEach(function (cc) {\n      return flushType === 'flush' ? cc.flush() : cc.partialFlush();\n    }, this);\n  };\n\n  CaptionStream.prototype.flushStream = function (flushType) {\n    // make sure we actually parsed captions before proceeding\n    if (!this.captionPackets_.length) {\n      this.flushCCStreams(flushType);\n      return;\n    } // In Chrome, the Array#sort function is not stable so add a\n    // presortIndex that we can use to ensure we get a stable-sort\n\n\n    this.captionPackets_.forEach(function (elem, idx) {\n      elem.presortIndex = idx;\n    }); // sort caption byte-pairs based on their PTS values\n\n    this.captionPackets_.sort(function (a, b) {\n      if (a.pts === b.pts) {\n        return a.presortIndex - b.presortIndex;\n      }\n\n      return a.pts - b.pts;\n    });\n    this.captionPackets_.forEach(function (packet) {\n      if (packet.type < 2) {\n        // Dispatch packet to the right Cea608Stream\n        this.dispatchCea608Packet(packet);\n      } // this is where an 'else' would go for a dispatching packets\n      // to a theoretical Cea708Stream that handles SERVICEn data\n\n    }, this);\n    this.captionPackets_.length = 0;\n    this.flushCCStreams(flushType);\n  };\n\n  CaptionStream.prototype.flush = function () {\n    return this.flushStream('flush');\n  }; // Only called if handling partial data\n\n\n  CaptionStream.prototype.partialFlush = function () {\n    return this.flushStream('partialFlush');\n  };\n\n  CaptionStream.prototype.reset = function () {\n    this.latestDts_ = null;\n    this.ignoreNextEqualDts_ = false;\n    this.numSameDts_ = 0;\n    this.activeCea608Channel_ = [null, null];\n    this.ccStreams_.forEach(function (ccStream) {\n      ccStream.reset();\n    });\n  }; // From the CEA-608 spec:\n\n  /*\n   * When XDS sub-packets are interleaved with other services, the end of each sub-packet shall be followed\n   * by a control pair to change to a different service. When any of the control codes from 0x10 to 0x1F is\n   * used to begin a control code pair, it indicates the return to captioning or Text data. The control code pair\n   * and subsequent data should then be processed according to the FCC rules. It may be necessary for the\n   * line 21 data encoder to automatically insert a control code pair (i.e. RCL, RU2, RU3, RU4, RDC, or RTD)\n   * to switch to captioning or Text.\n  */\n  // With that in mind, we ignore any data between an XDS control code and a\n  // subsequent closed-captioning control code.\n\n\n  CaptionStream.prototype.dispatchCea608Packet = function (packet) {\n    // NOTE: packet.type is the CEA608 field\n    if (this.setsTextOrXDSActive(packet)) {\n      this.activeCea608Channel_[packet.type] = null;\n    } else if (this.setsChannel1Active(packet)) {\n      this.activeCea608Channel_[packet.type] = 0;\n    } else if (this.setsChannel2Active(packet)) {\n      this.activeCea608Channel_[packet.type] = 1;\n    }\n\n    if (this.activeCea608Channel_[packet.type] === null) {\n      // If we haven't received anything to set the active channel, or the\n      // packets are Text/XDS data, discard the data; we don't want jumbled\n      // captions\n      return;\n    }\n\n    this.ccStreams_[(packet.type << 1) + this.activeCea608Channel_[packet.type]].push(packet);\n  };\n\n  CaptionStream.prototype.setsChannel1Active = function (packet) {\n    return (packet.ccData & 0x7800) === 0x1000;\n  };\n\n  CaptionStream.prototype.setsChannel2Active = function (packet) {\n    return (packet.ccData & 0x7800) === 0x1800;\n  };\n\n  CaptionStream.prototype.setsTextOrXDSActive = function (packet) {\n    return (packet.ccData & 0x7100) === 0x0100 || (packet.ccData & 0x78fe) === 0x102a || (packet.ccData & 0x78fe) === 0x182a;\n  }; // ----------------------\n  // Session to Application\n  // ----------------------\n  // This hash maps non-ASCII, special, and extended character codes to their\n  // proper Unicode equivalent. The first keys that are only a single byte\n  // are the non-standard ASCII characters, which simply map the CEA608 byte\n  // to the standard ASCII/Unicode. The two-byte keys that follow are the CEA608\n  // character codes, but have their MSB bitmasked with 0x03 so that a lookup\n  // can be performed regardless of the field and data channel on which the\n  // character code was received.\n\n\n  var CHARACTER_TRANSLATION = {\n    0x2a: 0xe1,\n    // \n    0x5c: 0xe9,\n    // \n    0x5e: 0xed,\n    // \n    0x5f: 0xf3,\n    // \n    0x60: 0xfa,\n    // \n    0x7b: 0xe7,\n    // \n    0x7c: 0xf7,\n    // \n    0x7d: 0xd1,\n    // \n    0x7e: 0xf1,\n    // \n    0x7f: 0x2588,\n    // \n    0x0130: 0xae,\n    // \n    0x0131: 0xb0,\n    // \n    0x0132: 0xbd,\n    // \n    0x0133: 0xbf,\n    // \n    0x0134: 0x2122,\n    // \n    0x0135: 0xa2,\n    // \n    0x0136: 0xa3,\n    // \n    0x0137: 0x266a,\n    // \n    0x0138: 0xe0,\n    // \n    0x0139: 0xa0,\n    //\n    0x013a: 0xe8,\n    // \n    0x013b: 0xe2,\n    // \n    0x013c: 0xea,\n    // \n    0x013d: 0xee,\n    // \n    0x013e: 0xf4,\n    // \n    0x013f: 0xfb,\n    // \n    0x0220: 0xc1,\n    // \n    0x0221: 0xc9,\n    // \n    0x0222: 0xd3,\n    // \n    0x0223: 0xda,\n    // \n    0x0224: 0xdc,\n    // \n    0x0225: 0xfc,\n    // \n    0x0226: 0x2018,\n    // \n    0x0227: 0xa1,\n    // \n    0x0228: 0x2a,\n    // *\n    0x0229: 0x27,\n    // '\n    0x022a: 0x2014,\n    // \n    0x022b: 0xa9,\n    // \n    0x022c: 0x2120,\n    // \n    0x022d: 0x2022,\n    // \n    0x022e: 0x201c,\n    // \n    0x022f: 0x201d,\n    // \n    0x0230: 0xc0,\n    // \n    0x0231: 0xc2,\n    // \n    0x0232: 0xc7,\n    // \n    0x0233: 0xc8,\n    // \n    0x0234: 0xca,\n    // \n    0x0235: 0xcb,\n    // \n    0x0236: 0xeb,\n    // \n    0x0237: 0xce,\n    // \n    0x0238: 0xcf,\n    // \n    0x0239: 0xef,\n    // \n    0x023a: 0xd4,\n    // \n    0x023b: 0xd9,\n    // \n    0x023c: 0xf9,\n    // \n    0x023d: 0xdb,\n    // \n    0x023e: 0xab,\n    // \n    0x023f: 0xbb,\n    // \n    0x0320: 0xc3,\n    // \n    0x0321: 0xe3,\n    // \n    0x0322: 0xcd,\n    // \n    0x0323: 0xcc,\n    // \n    0x0324: 0xec,\n    // \n    0x0325: 0xd2,\n    // \n    0x0326: 0xf2,\n    // \n    0x0327: 0xd5,\n    // \n    0x0328: 0xf5,\n    // \n    0x0329: 0x7b,\n    // {\n    0x032a: 0x7d,\n    // }\n    0x032b: 0x5c,\n    // \\\n    0x032c: 0x5e,\n    // ^\n    0x032d: 0x5f,\n    // _\n    0x032e: 0x7c,\n    // |\n    0x032f: 0x7e,\n    // ~\n    0x0330: 0xc4,\n    // \n    0x0331: 0xe4,\n    // \n    0x0332: 0xd6,\n    // \n    0x0333: 0xf6,\n    // \n    0x0334: 0xdf,\n    // \n    0x0335: 0xa5,\n    // \n    0x0336: 0xa4,\n    // \n    0x0337: 0x2502,\n    // \n    0x0338: 0xc5,\n    // \n    0x0339: 0xe5,\n    // \n    0x033a: 0xd8,\n    // \n    0x033b: 0xf8,\n    // \n    0x033c: 0x250c,\n    // \n    0x033d: 0x2510,\n    // \n    0x033e: 0x2514,\n    // \n    0x033f: 0x2518 // \n\n  };\n\n  var getCharFromCode = function getCharFromCode(code) {\n    if (code === null) {\n      return '';\n    }\n\n    code = CHARACTER_TRANSLATION[code] || code;\n    return String.fromCharCode(code);\n  }; // the index of the last row in a CEA-608 display buffer\n\n\n  var BOTTOM_ROW = 14; // This array is used for mapping PACs -> row #, since there's no way of\n  // getting it through bit logic.\n\n  var ROWS = [0x1100, 0x1120, 0x1200, 0x1220, 0x1500, 0x1520, 0x1600, 0x1620, 0x1700, 0x1720, 0x1000, 0x1300, 0x1320, 0x1400, 0x1420]; // CEA-608 captions are rendered onto a 34x15 matrix of character\n  // cells. The \"bottom\" row is the last element in the outer array.\n\n  var createDisplayBuffer = function createDisplayBuffer() {\n    var result = [],\n        i = BOTTOM_ROW + 1;\n\n    while (i--) {\n      result.push('');\n    }\n\n    return result;\n  };\n\n  var Cea608Stream = function Cea608Stream(field, dataChannel) {\n    Cea608Stream.prototype.init.call(this);\n    this.field_ = field || 0;\n    this.dataChannel_ = dataChannel || 0;\n    this.name_ = 'CC' + ((this.field_ << 1 | this.dataChannel_) + 1);\n    this.setConstants();\n    this.reset();\n\n    this.push = function (packet) {\n      var data, swap, char0, char1, text; // remove the parity bits\n\n      data = packet.ccData & 0x7f7f; // ignore duplicate control codes; the spec demands they're sent twice\n\n      if (data === this.lastControlCode_) {\n        this.lastControlCode_ = null;\n        return;\n      } // Store control codes\n\n\n      if ((data & 0xf000) === 0x1000) {\n        this.lastControlCode_ = data;\n      } else if (data !== this.PADDING_) {\n        this.lastControlCode_ = null;\n      }\n\n      char0 = data >>> 8;\n      char1 = data & 0xff;\n\n      if (data === this.PADDING_) {\n        return;\n      } else if (data === this.RESUME_CAPTION_LOADING_) {\n        this.mode_ = 'popOn';\n      } else if (data === this.END_OF_CAPTION_) {\n        // If an EOC is received while in paint-on mode, the displayed caption\n        // text should be swapped to non-displayed memory as if it was a pop-on\n        // caption. Because of that, we should explicitly switch back to pop-on\n        // mode\n        this.mode_ = 'popOn';\n        this.clearFormatting(packet.pts); // if a caption was being displayed, it's gone now\n\n        this.flushDisplayed(packet.pts); // flip memory\n\n        swap = this.displayed_;\n        this.displayed_ = this.nonDisplayed_;\n        this.nonDisplayed_ = swap; // start measuring the time to display the caption\n\n        this.startPts_ = packet.pts;\n      } else if (data === this.ROLL_UP_2_ROWS_) {\n        this.rollUpRows_ = 2;\n        this.setRollUp(packet.pts);\n      } else if (data === this.ROLL_UP_3_ROWS_) {\n        this.rollUpRows_ = 3;\n        this.setRollUp(packet.pts);\n      } else if (data === this.ROLL_UP_4_ROWS_) {\n        this.rollUpRows_ = 4;\n        this.setRollUp(packet.pts);\n      } else if (data === this.CARRIAGE_RETURN_) {\n        this.clearFormatting(packet.pts);\n        this.flushDisplayed(packet.pts);\n        this.shiftRowsUp_();\n        this.startPts_ = packet.pts;\n      } else if (data === this.BACKSPACE_) {\n        if (this.mode_ === 'popOn') {\n          this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n        } else {\n          this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n        }\n      } else if (data === this.ERASE_DISPLAYED_MEMORY_) {\n        this.flushDisplayed(packet.pts);\n        this.displayed_ = createDisplayBuffer();\n      } else if (data === this.ERASE_NON_DISPLAYED_MEMORY_) {\n        this.nonDisplayed_ = createDisplayBuffer();\n      } else if (data === this.RESUME_DIRECT_CAPTIONING_) {\n        if (this.mode_ !== 'paintOn') {\n          // NOTE: This should be removed when proper caption positioning is\n          // implemented\n          this.flushDisplayed(packet.pts);\n          this.displayed_ = createDisplayBuffer();\n        }\n\n        this.mode_ = 'paintOn';\n        this.startPts_ = packet.pts; // Append special characters to caption text\n      } else if (this.isSpecialCharacter(char0, char1)) {\n        // Bitmask char0 so that we can apply character transformations\n        // regardless of field and data channel.\n        // Then byte-shift to the left and OR with char1 so we can pass the\n        // entire character code to `getCharFromCode`.\n        char0 = (char0 & 0x03) << 8;\n        text = getCharFromCode(char0 | char1);\n        this[this.mode_](packet.pts, text);\n        this.column_++; // Append extended characters to caption text\n      } else if (this.isExtCharacter(char0, char1)) {\n        // Extended characters always follow their \"non-extended\" equivalents.\n        // IE if a \"\" is desired, you'll always receive \"e\"; non-compliant\n        // decoders are supposed to drop the \"\", while compliant decoders\n        // backspace the \"e\" and insert \"\".\n        // Delete the previous character\n        if (this.mode_ === 'popOn') {\n          this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n        } else {\n          this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n        } // Bitmask char0 so that we can apply character transformations\n        // regardless of field and data channel.\n        // Then byte-shift to the left and OR with char1 so we can pass the\n        // entire character code to `getCharFromCode`.\n\n\n        char0 = (char0 & 0x03) << 8;\n        text = getCharFromCode(char0 | char1);\n        this[this.mode_](packet.pts, text);\n        this.column_++; // Process mid-row codes\n      } else if (this.isMidRowCode(char0, char1)) {\n        // Attributes are not additive, so clear all formatting\n        this.clearFormatting(packet.pts); // According to the standard, mid-row codes\n        // should be replaced with spaces, so add one now\n\n        this[this.mode_](packet.pts, ' ');\n        this.column_++;\n\n        if ((char1 & 0xe) === 0xe) {\n          this.addFormatting(packet.pts, ['i']);\n        }\n\n        if ((char1 & 0x1) === 0x1) {\n          this.addFormatting(packet.pts, ['u']);\n        } // Detect offset control codes and adjust cursor\n\n      } else if (this.isOffsetControlCode(char0, char1)) {\n        // Cursor position is set by indent PAC (see below) in 4-column\n        // increments, with an additional offset code of 1-3 to reach any\n        // of the 32 columns specified by CEA-608. So all we need to do\n        // here is increment the column cursor by the given offset.\n        this.column_ += char1 & 0x03; // Detect PACs (Preamble Address Codes)\n      } else if (this.isPAC(char0, char1)) {\n        // There's no logic for PAC -> row mapping, so we have to just\n        // find the row code in an array and use its index :(\n        var row = ROWS.indexOf(data & 0x1f20); // Configure the caption window if we're in roll-up mode\n\n        if (this.mode_ === 'rollUp') {\n          // This implies that the base row is incorrectly set.\n          // As per the recommendation in CEA-608(Base Row Implementation), defer to the number\n          // of roll-up rows set.\n          if (row - this.rollUpRows_ + 1 < 0) {\n            row = this.rollUpRows_ - 1;\n          }\n\n          this.setRollUp(packet.pts, row);\n        }\n\n        if (row !== this.row_) {\n          // formatting is only persistent for current row\n          this.clearFormatting(packet.pts);\n          this.row_ = row;\n        } // All PACs can apply underline, so detect and apply\n        // (All odd-numbered second bytes set underline)\n\n\n        if (char1 & 0x1 && this.formatting_.indexOf('u') === -1) {\n          this.addFormatting(packet.pts, ['u']);\n        }\n\n        if ((data & 0x10) === 0x10) {\n          // We've got an indent level code. Each successive even number\n          // increments the column cursor by 4, so we can get the desired\n          // column position by bit-shifting to the right (to get n/2)\n          // and multiplying by 4.\n          this.column_ = ((data & 0xe) >> 1) * 4;\n        }\n\n        if (this.isColorPAC(char1)) {\n          // it's a color code, though we only support white, which\n          // can be either normal or italicized. white italics can be\n          // either 0x4e or 0x6e depending on the row, so we just\n          // bitwise-and with 0xe to see if italics should be turned on\n          if ((char1 & 0xe) === 0xe) {\n            this.addFormatting(packet.pts, ['i']);\n          }\n        } // We have a normal character in char0, and possibly one in char1\n\n      } else if (this.isNormalChar(char0)) {\n        if (char1 === 0x00) {\n          char1 = null;\n        }\n\n        text = getCharFromCode(char0);\n        text += getCharFromCode(char1);\n        this[this.mode_](packet.pts, text);\n        this.column_ += text.length;\n      } // finish data processing\n\n    };\n  };\n\n  Cea608Stream.prototype = new stream(); // Trigger a cue point that captures the current state of the\n  // display buffer\n\n  Cea608Stream.prototype.flushDisplayed = function (pts) {\n    var content = this.displayed_ // remove spaces from the start and end of the string\n    .map(function (row) {\n      try {\n        return row.trim();\n      } catch (e) {\n        // Ordinarily, this shouldn't happen. However, caption\n        // parsing errors should not throw exceptions and\n        // break playback.\n        // eslint-disable-next-line no-console\n        console.error('Skipping malformed caption.');\n        return '';\n      }\n    }) // combine all text rows to display in one cue\n    .join('\\n') // and remove blank rows from the start and end, but not the middle\n    .replace(/^\\n+|\\n+$/g, '');\n\n    if (content.length) {\n      this.trigger('data', {\n        startPts: this.startPts_,\n        endPts: pts,\n        text: content,\n        stream: this.name_\n      });\n    }\n  };\n  /**\n   * Zero out the data, used for startup and on seek\n   */\n\n\n  Cea608Stream.prototype.reset = function () {\n    this.mode_ = 'popOn'; // When in roll-up mode, the index of the last row that will\n    // actually display captions. If a caption is shifted to a row\n    // with a lower index than this, it is cleared from the display\n    // buffer\n\n    this.topRow_ = 0;\n    this.startPts_ = 0;\n    this.displayed_ = createDisplayBuffer();\n    this.nonDisplayed_ = createDisplayBuffer();\n    this.lastControlCode_ = null; // Track row and column for proper line-breaking and spacing\n\n    this.column_ = 0;\n    this.row_ = BOTTOM_ROW;\n    this.rollUpRows_ = 2; // This variable holds currently-applied formatting\n\n    this.formatting_ = [];\n  };\n  /**\n   * Sets up control code and related constants for this instance\n   */\n\n\n  Cea608Stream.prototype.setConstants = function () {\n    // The following attributes have these uses:\n    // ext_ :    char0 for mid-row codes, and the base for extended\n    //           chars (ext_+0, ext_+1, and ext_+2 are char0s for\n    //           extended codes)\n    // control_: char0 for control codes, except byte-shifted to the\n    //           left so that we can do this.control_ | CONTROL_CODE\n    // offset_:  char0 for tab offset codes\n    //\n    // It's also worth noting that control codes, and _only_ control codes,\n    // differ between field 1 and field2. Field 2 control codes are always\n    // their field 1 value plus 1. That's why there's the \"| field\" on the\n    // control value.\n    if (this.dataChannel_ === 0) {\n      this.BASE_ = 0x10;\n      this.EXT_ = 0x11;\n      this.CONTROL_ = (0x14 | this.field_) << 8;\n      this.OFFSET_ = 0x17;\n    } else if (this.dataChannel_ === 1) {\n      this.BASE_ = 0x18;\n      this.EXT_ = 0x19;\n      this.CONTROL_ = (0x1c | this.field_) << 8;\n      this.OFFSET_ = 0x1f;\n    } // Constants for the LSByte command codes recognized by Cea608Stream. This\n    // list is not exhaustive. For a more comprehensive listing and semantics see\n    // http://www.gpo.gov/fdsys/pkg/CFR-2010-title47-vol1/pdf/CFR-2010-title47-vol1-sec15-119.pdf\n    // Padding\n\n\n    this.PADDING_ = 0x0000; // Pop-on Mode\n\n    this.RESUME_CAPTION_LOADING_ = this.CONTROL_ | 0x20;\n    this.END_OF_CAPTION_ = this.CONTROL_ | 0x2f; // Roll-up Mode\n\n    this.ROLL_UP_2_ROWS_ = this.CONTROL_ | 0x25;\n    this.ROLL_UP_3_ROWS_ = this.CONTROL_ | 0x26;\n    this.ROLL_UP_4_ROWS_ = this.CONTROL_ | 0x27;\n    this.CARRIAGE_RETURN_ = this.CONTROL_ | 0x2d; // paint-on mode\n\n    this.RESUME_DIRECT_CAPTIONING_ = this.CONTROL_ | 0x29; // Erasure\n\n    this.BACKSPACE_ = this.CONTROL_ | 0x21;\n    this.ERASE_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2c;\n    this.ERASE_NON_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2e;\n  };\n  /**\n   * Detects if the 2-byte packet data is a special character\n   *\n   * Special characters have a second byte in the range 0x30 to 0x3f,\n   * with the first byte being 0x11 (for data channel 1) or 0x19 (for\n   * data channel 2).\n   *\n   * @param  {Integer} char0 The first byte\n   * @param  {Integer} char1 The second byte\n   * @return {Boolean}       Whether the 2 bytes are an special character\n   */\n\n\n  Cea608Stream.prototype.isSpecialCharacter = function (char0, char1) {\n    return char0 === this.EXT_ && char1 >= 0x30 && char1 <= 0x3f;\n  };\n  /**\n   * Detects if the 2-byte packet data is an extended character\n   *\n   * Extended characters have a second byte in the range 0x20 to 0x3f,\n   * with the first byte being 0x12 or 0x13 (for data channel 1) or\n   * 0x1a or 0x1b (for data channel 2).\n   *\n   * @param  {Integer} char0 The first byte\n   * @param  {Integer} char1 The second byte\n   * @return {Boolean}       Whether the 2 bytes are an extended character\n   */\n\n\n  Cea608Stream.prototype.isExtCharacter = function (char0, char1) {\n    return (char0 === this.EXT_ + 1 || char0 === this.EXT_ + 2) && char1 >= 0x20 && char1 <= 0x3f;\n  };\n  /**\n   * Detects if the 2-byte packet is a mid-row code\n   *\n   * Mid-row codes have a second byte in the range 0x20 to 0x2f, with\n   * the first byte being 0x11 (for data channel 1) or 0x19 (for data\n   * channel 2).\n   *\n   * @param  {Integer} char0 The first byte\n   * @param  {Integer} char1 The second byte\n   * @return {Boolean}       Whether the 2 bytes are a mid-row code\n   */\n\n\n  Cea608Stream.prototype.isMidRowCode = function (char0, char1) {\n    return char0 === this.EXT_ && char1 >= 0x20 && char1 <= 0x2f;\n  };\n  /**\n   * Detects if the 2-byte packet is an offset control code\n   *\n   * Offset control codes have a second byte in the range 0x21 to 0x23,\n   * with the first byte being 0x17 (for data channel 1) or 0x1f (for\n   * data channel 2).\n   *\n   * @param  {Integer} char0 The first byte\n   * @param  {Integer} char1 The second byte\n   * @return {Boolean}       Whether the 2 bytes are an offset control code\n   */\n\n\n  Cea608Stream.prototype.isOffsetControlCode = function (char0, char1) {\n    return char0 === this.OFFSET_ && char1 >= 0x21 && char1 <= 0x23;\n  };\n  /**\n   * Detects if the 2-byte packet is a Preamble Address Code\n   *\n   * PACs have a first byte in the range 0x10 to 0x17 (for data channel 1)\n   * or 0x18 to 0x1f (for data channel 2), with the second byte in the\n   * range 0x40 to 0x7f.\n   *\n   * @param  {Integer} char0 The first byte\n   * @param  {Integer} char1 The second byte\n   * @return {Boolean}       Whether the 2 bytes are a PAC\n   */\n\n\n  Cea608Stream.prototype.isPAC = function (char0, char1) {\n    return char0 >= this.BASE_ && char0 < this.BASE_ + 8 && char1 >= 0x40 && char1 <= 0x7f;\n  };\n  /**\n   * Detects if a packet's second byte is in the range of a PAC color code\n   *\n   * PAC color codes have the second byte be in the range 0x40 to 0x4f, or\n   * 0x60 to 0x6f.\n   *\n   * @param  {Integer} char1 The second byte\n   * @return {Boolean}       Whether the byte is a color PAC\n   */\n\n\n  Cea608Stream.prototype.isColorPAC = function (char1) {\n    return char1 >= 0x40 && char1 <= 0x4f || char1 >= 0x60 && char1 <= 0x7f;\n  };\n  /**\n   * Detects if a single byte is in the range of a normal character\n   *\n   * Normal text bytes are in the range 0x20 to 0x7f.\n   *\n   * @param  {Integer} char  The byte\n   * @return {Boolean}       Whether the byte is a normal character\n   */\n\n\n  Cea608Stream.prototype.isNormalChar = function (_char) {\n    return _char >= 0x20 && _char <= 0x7f;\n  };\n  /**\n   * Configures roll-up\n   *\n   * @param  {Integer} pts         Current PTS\n   * @param  {Integer} newBaseRow  Used by PACs to slide the current window to\n   *                               a new position\n   */\n\n\n  Cea608Stream.prototype.setRollUp = function (pts, newBaseRow) {\n    // Reset the base row to the bottom row when switching modes\n    if (this.mode_ !== 'rollUp') {\n      this.row_ = BOTTOM_ROW;\n      this.mode_ = 'rollUp'; // Spec says to wipe memories when switching to roll-up\n\n      this.flushDisplayed(pts);\n      this.nonDisplayed_ = createDisplayBuffer();\n      this.displayed_ = createDisplayBuffer();\n    }\n\n    if (newBaseRow !== undefined && newBaseRow !== this.row_) {\n      // move currently displayed captions (up or down) to the new base row\n      for (var i = 0; i < this.rollUpRows_; i++) {\n        this.displayed_[newBaseRow - i] = this.displayed_[this.row_ - i];\n        this.displayed_[this.row_ - i] = '';\n      }\n    }\n\n    if (newBaseRow === undefined) {\n      newBaseRow = this.row_;\n    }\n\n    this.topRow_ = newBaseRow - this.rollUpRows_ + 1;\n  }; // Adds the opening HTML tag for the passed character to the caption text,\n  // and keeps track of it for later closing\n\n\n  Cea608Stream.prototype.addFormatting = function (pts, format) {\n    this.formatting_ = this.formatting_.concat(format);\n    var text = format.reduce(function (text, format) {\n      return text + '<' + format + '>';\n    }, '');\n    this[this.mode_](pts, text);\n  }; // Adds HTML closing tags for current formatting to caption text and\n  // clears remembered formatting\n\n\n  Cea608Stream.prototype.clearFormatting = function (pts) {\n    if (!this.formatting_.length) {\n      return;\n    }\n\n    var text = this.formatting_.reverse().reduce(function (text, format) {\n      return text + '</' + format + '>';\n    }, '');\n    this.formatting_ = [];\n    this[this.mode_](pts, text);\n  }; // Mode Implementations\n\n\n  Cea608Stream.prototype.popOn = function (pts, text) {\n    var baseRow = this.nonDisplayed_[this.row_]; // buffer characters\n\n    baseRow += text;\n    this.nonDisplayed_[this.row_] = baseRow;\n  };\n\n  Cea608Stream.prototype.rollUp = function (pts, text) {\n    var baseRow = this.displayed_[this.row_];\n    baseRow += text;\n    this.displayed_[this.row_] = baseRow;\n  };\n\n  Cea608Stream.prototype.shiftRowsUp_ = function () {\n    var i; // clear out inactive rows\n\n    for (i = 0; i < this.topRow_; i++) {\n      this.displayed_[i] = '';\n    }\n\n    for (i = this.row_ + 1; i < BOTTOM_ROW + 1; i++) {\n      this.displayed_[i] = '';\n    } // shift displayed rows up\n\n\n    for (i = this.topRow_; i < this.row_; i++) {\n      this.displayed_[i] = this.displayed_[i + 1];\n    } // clear out the bottom row\n\n\n    this.displayed_[this.row_] = '';\n  };\n\n  Cea608Stream.prototype.paintOn = function (pts, text) {\n    var baseRow = this.displayed_[this.row_];\n    baseRow += text;\n    this.displayed_[this.row_] = baseRow;\n  }; // exports\n\n\n  var captionStream = {\n    CaptionStream: CaptionStream,\n    Cea608Stream: Cea608Stream\n  };\n\n  var discardEmulationPreventionBytes$1 = captionPacketParser.discardEmulationPreventionBytes;\n  var CaptionStream$1 = captionStream.CaptionStream;\n  /**\n    * Maps an offset in the mdat to a sample based on the the size of the samples.\n    * Assumes that `parseSamples` has been called first.\n    *\n    * @param {Number} offset - The offset into the mdat\n    * @param {Object[]} samples - An array of samples, parsed using `parseSamples`\n    * @return {?Object} The matching sample, or null if no match was found.\n    *\n    * @see ISO-BMFF-12/2015, Section 8.8.8\n   **/\n\n  var mapToSample = function mapToSample(offset, samples) {\n    var approximateOffset = offset;\n\n    for (var i = 0; i < samples.length; i++) {\n      var sample = samples[i];\n\n      if (approximateOffset < sample.size) {\n        return sample;\n      }\n\n      approximateOffset -= sample.size;\n    }\n\n    return null;\n  };\n  /**\n    * Finds SEI nal units contained in a Media Data Box.\n    * Assumes that `parseSamples` has been called first.\n    *\n    * @param {Uint8Array} avcStream - The bytes of the mdat\n    * @param {Object[]} samples - The samples parsed out by `parseSamples`\n    * @param {Number} trackId - The trackId of this video track\n    * @return {Object[]} seiNals - the parsed SEI NALUs found.\n    *   The contents of the seiNal should match what is expected by\n    *   CaptionStream.push (nalUnitType, size, data, escapedRBSP, pts, dts)\n    *\n    * @see ISO-BMFF-12/2015, Section 8.1.1\n    * @see Rec. ITU-T H.264, 7.3.2.3.1\n   **/\n\n\n  var findSeiNals = function findSeiNals(avcStream, samples, trackId) {\n    var avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n        result = [],\n        seiNal,\n        i,\n        length,\n        lastMatchedSample;\n\n    for (i = 0; i + 4 < avcStream.length; i += length) {\n      length = avcView.getUint32(i);\n      i += 4; // Bail if this doesn't appear to be an H264 stream\n\n      if (length <= 0) {\n        continue;\n      }\n\n      switch (avcStream[i] & 0x1F) {\n        case 0x06:\n          var data = avcStream.subarray(i + 1, i + 1 + length);\n          var matchingSample = mapToSample(i, samples);\n          seiNal = {\n            nalUnitType: 'sei_rbsp',\n            size: length,\n            data: data,\n            escapedRBSP: discardEmulationPreventionBytes$1(data),\n            trackId: trackId\n          };\n\n          if (matchingSample) {\n            seiNal.pts = matchingSample.pts;\n            seiNal.dts = matchingSample.dts;\n            lastMatchedSample = matchingSample;\n          } else {\n            // If a matching sample cannot be found, use the last\n            // sample's values as they should be as close as possible\n            seiNal.pts = lastMatchedSample.pts;\n            seiNal.dts = lastMatchedSample.dts;\n          }\n\n          result.push(seiNal);\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return result;\n  };\n  /**\n    * Parses sample information out of Track Run Boxes and calculates\n    * the absolute presentation and decode timestamps of each sample.\n    *\n    * @param {Array<Uint8Array>} truns - The Trun Run boxes to be parsed\n    * @param {Number} baseMediaDecodeTime - base media decode time from tfdt\n        @see ISO-BMFF-12/2015, Section 8.8.12\n    * @param {Object} tfhd - The parsed Track Fragment Header\n    *   @see inspect.parseTfhd\n    * @return {Object[]} the parsed samples\n    *\n    * @see ISO-BMFF-12/2015, Section 8.8.8\n   **/\n\n\n  var parseSamples = function parseSamples(truns, baseMediaDecodeTime, tfhd) {\n    var currentDts = baseMediaDecodeTime;\n    var defaultSampleDuration = tfhd.defaultSampleDuration || 0;\n    var defaultSampleSize = tfhd.defaultSampleSize || 0;\n    var trackId = tfhd.trackId;\n    var allSamples = [];\n    truns.forEach(function (trun) {\n      // Note: We currently do not parse the sample table as well\n      // as the trun. It's possible some sources will require this.\n      // moov > trak > mdia > minf > stbl\n      var trackRun = mp4Inspector.parseTrun(trun);\n      var samples = trackRun.samples;\n      samples.forEach(function (sample) {\n        if (sample.duration === undefined) {\n          sample.duration = defaultSampleDuration;\n        }\n\n        if (sample.size === undefined) {\n          sample.size = defaultSampleSize;\n        }\n\n        sample.trackId = trackId;\n        sample.dts = currentDts;\n\n        if (sample.compositionTimeOffset === undefined) {\n          sample.compositionTimeOffset = 0;\n        }\n\n        sample.pts = currentDts + sample.compositionTimeOffset;\n        currentDts += sample.duration;\n      });\n      allSamples = allSamples.concat(samples);\n    });\n    return allSamples;\n  };\n  /**\n    * Parses out caption nals from an FMP4 segment's video tracks.\n    *\n    * @param {Uint8Array} segment - The bytes of a single segment\n    * @param {Number} videoTrackId - The trackId of a video track in the segment\n    * @return {Object.<Number, Object[]>} A mapping of video trackId to\n    *   a list of seiNals found in that track\n   **/\n\n\n  var parseCaptionNals = function parseCaptionNals(segment, videoTrackId) {\n    // To get the samples\n    var trafs = probe.findBox(segment, ['moof', 'traf']); // To get SEI NAL units\n\n    var mdats = probe.findBox(segment, ['mdat']);\n    var captionNals = {};\n    var mdatTrafPairs = []; // Pair up each traf with a mdat as moofs and mdats are in pairs\n\n    mdats.forEach(function (mdat, index) {\n      var matchingTraf = trafs[index];\n      mdatTrafPairs.push({\n        mdat: mdat,\n        traf: matchingTraf\n      });\n    });\n    mdatTrafPairs.forEach(function (pair) {\n      var mdat = pair.mdat;\n      var traf = pair.traf;\n      var tfhd = probe.findBox(traf, ['tfhd']); // Exactly 1 tfhd per traf\n\n      var headerInfo = mp4Inspector.parseTfhd(tfhd[0]);\n      var trackId = headerInfo.trackId;\n      var tfdt = probe.findBox(traf, ['tfdt']); // Either 0 or 1 tfdt per traf\n\n      var baseMediaDecodeTime = tfdt.length > 0 ? mp4Inspector.parseTfdt(tfdt[0]).baseMediaDecodeTime : 0;\n      var truns = probe.findBox(traf, ['trun']);\n      var samples;\n      var seiNals; // Only parse video data for the chosen video track\n\n      if (videoTrackId === trackId && truns.length > 0) {\n        samples = parseSamples(truns, baseMediaDecodeTime, headerInfo);\n        seiNals = findSeiNals(mdat, samples, trackId);\n\n        if (!captionNals[trackId]) {\n          captionNals[trackId] = [];\n        }\n\n        captionNals[trackId] = captionNals[trackId].concat(seiNals);\n      }\n    });\n    return captionNals;\n  };\n  /**\n    * Parses out inband captions from an MP4 container and returns\n    * caption objects that can be used by WebVTT and the TextTrack API.\n    * @see https://developer.mozilla.org/en-US/docs/Web/API/VTTCue\n    * @see https://developer.mozilla.org/en-US/docs/Web/API/TextTrack\n    * Assumes that `probe.getVideoTrackIds` and `probe.timescale` have been called first\n    *\n    * @param {Uint8Array} segment - The fmp4 segment containing embedded captions\n    * @param {Number} trackId - The id of the video track to parse\n    * @param {Number} timescale - The timescale for the video track from the init segment\n    *\n    * @return {?Object[]} parsedCaptions - A list of captions or null if no video tracks\n    * @return {Number} parsedCaptions[].startTime - The time to show the caption in seconds\n    * @return {Number} parsedCaptions[].endTime - The time to stop showing the caption in seconds\n    * @return {String} parsedCaptions[].text - The visible content of the caption\n   **/\n\n\n  var parseEmbeddedCaptions = function parseEmbeddedCaptions(segment, trackId, timescale) {\n    var seiNals; // the ISO-BMFF spec says that trackId can't be zero, but there's some broken content out there\n\n    if (trackId === null) {\n      return null;\n    }\n\n    seiNals = parseCaptionNals(segment, trackId);\n    return {\n      seiNals: seiNals[trackId],\n      timescale: timescale\n    };\n  };\n  /**\n    * Converts SEI NALUs into captions that can be used by video.js\n   **/\n\n\n  var CaptionParser = function CaptionParser() {\n    var isInitialized = false;\n    var captionStream; // Stores segments seen before trackId and timescale are set\n\n    var segmentCache; // Stores video track ID of the track being parsed\n\n    var trackId; // Stores the timescale of the track being parsed\n\n    var timescale; // Stores captions parsed so far\n\n    var parsedCaptions; // Stores whether we are receiving partial data or not\n\n    var parsingPartial;\n    /**\n      * A method to indicate whether a CaptionParser has been initalized\n      * @returns {Boolean}\n     **/\n\n    this.isInitialized = function () {\n      return isInitialized;\n    };\n    /**\n      * Initializes the underlying CaptionStream, SEI NAL parsing\n      * and management, and caption collection\n     **/\n\n\n    this.init = function (options) {\n      captionStream = new CaptionStream$1();\n      isInitialized = true;\n      parsingPartial = options ? options.isPartial : false; // Collect dispatched captions\n\n      captionStream.on('data', function (event) {\n        // Convert to seconds in the source's timescale\n        event.startTime = event.startPts / timescale;\n        event.endTime = event.endPts / timescale;\n        parsedCaptions.captions.push(event);\n        parsedCaptions.captionStreams[event.stream] = true;\n      });\n    };\n    /**\n      * Determines if a new video track will be selected\n      * or if the timescale changed\n      * @return {Boolean}\n     **/\n\n\n    this.isNewInit = function (videoTrackIds, timescales) {\n      if (videoTrackIds && videoTrackIds.length === 0 || timescales && typeof timescales === 'object' && Object.keys(timescales).length === 0) {\n        return false;\n      }\n\n      return trackId !== videoTrackIds[0] || timescale !== timescales[trackId];\n    };\n    /**\n      * Parses out SEI captions and interacts with underlying\n      * CaptionStream to return dispatched captions\n      *\n      * @param {Uint8Array} segment - The fmp4 segment containing embedded captions\n      * @param {Number[]} videoTrackIds - A list of video tracks found in the init segment\n      * @param {Object.<Number, Number>} timescales - The timescales found in the init segment\n      * @see parseEmbeddedCaptions\n      * @see m2ts/caption-stream.js\n     **/\n\n\n    this.parse = function (segment, videoTrackIds, timescales) {\n      var parsedData;\n\n      if (!this.isInitialized()) {\n        return null; // This is not likely to be a video segment\n      } else if (!videoTrackIds || !timescales) {\n        return null;\n      } else if (this.isNewInit(videoTrackIds, timescales)) {\n        // Use the first video track only as there is no\n        // mechanism to switch to other video tracks\n        trackId = videoTrackIds[0];\n        timescale = timescales[trackId]; // If an init segment has not been seen yet, hold onto segment\n        // data until we have one.\n        // the ISO-BMFF spec says that trackId can't be zero, but there's some broken content out there\n      } else if (trackId === null || !timescale) {\n        segmentCache.push(segment);\n        return null;\n      } // Now that a timescale and trackId is set, parse cached segments\n\n\n      while (segmentCache.length > 0) {\n        var cachedSegment = segmentCache.shift();\n        this.parse(cachedSegment, videoTrackIds, timescales);\n      }\n\n      parsedData = parseEmbeddedCaptions(segment, trackId, timescale);\n\n      if (parsedData === null || !parsedData.seiNals) {\n        return null;\n      }\n\n      this.pushNals(parsedData.seiNals); // Force the parsed captions to be dispatched\n\n      this.flushStream();\n      return parsedCaptions;\n    };\n    /**\n      * Pushes SEI NALUs onto CaptionStream\n      * @param {Object[]} nals - A list of SEI nals parsed using `parseCaptionNals`\n      * Assumes that `parseCaptionNals` has been called first\n      * @see m2ts/caption-stream.js\n      **/\n\n\n    this.pushNals = function (nals) {\n      if (!this.isInitialized() || !nals || nals.length === 0) {\n        return null;\n      }\n\n      nals.forEach(function (nal) {\n        captionStream.push(nal);\n      });\n    };\n    /**\n      * Flushes underlying CaptionStream to dispatch processed, displayable captions\n      * @see m2ts/caption-stream.js\n     **/\n\n\n    this.flushStream = function () {\n      if (!this.isInitialized()) {\n        return null;\n      }\n\n      if (!parsingPartial) {\n        captionStream.flush();\n      } else {\n        captionStream.partialFlush();\n      }\n    };\n    /**\n      * Reset caption buckets for new data\n     **/\n\n\n    this.clearParsedCaptions = function () {\n      parsedCaptions.captions = [];\n      parsedCaptions.captionStreams = {};\n    };\n    /**\n      * Resets underlying CaptionStream\n      * @see m2ts/caption-stream.js\n     **/\n\n\n    this.resetCaptionStream = function () {\n      if (!this.isInitialized()) {\n        return null;\n      }\n\n      captionStream.reset();\n    };\n    /**\n      * Convenience method to clear all captions flushed from the\n      * CaptionStream and still being parsed\n      * @see m2ts/caption-stream.js\n     **/\n\n\n    this.clearAllCaptions = function () {\n      this.clearParsedCaptions();\n      this.resetCaptionStream();\n    };\n    /**\n      * Reset caption parser\n     **/\n\n\n    this.reset = function () {\n      segmentCache = [];\n      trackId = null;\n      timescale = null;\n\n      if (!parsedCaptions) {\n        parsedCaptions = {\n          captions: [],\n          // CC1, CC2, CC3, CC4\n          captionStreams: {}\n        };\n      } else {\n        this.clearParsedCaptions();\n      }\n\n      this.resetCaptionStream();\n    };\n\n    this.reset();\n  };\n\n  var captionParser = CaptionParser;\n\n  /**\n   * mux.js\n   *\n   * Copyright (c) Brightcove\n   * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n   */\n\n  var streamTypes = {\n    H264_STREAM_TYPE: 0x1B,\n    ADTS_STREAM_TYPE: 0x0F,\n    METADATA_STREAM_TYPE: 0x15\n  };\n\n  var MAX_TS = 8589934592;\n  var RO_THRESH = 4294967296;\n  var TYPE_SHARED = 'shared';\n\n  var handleRollover = function handleRollover(value, reference) {\n    var direction = 1;\n\n    if (value > reference) {\n      // If the current timestamp value is greater than our reference timestamp and we detect a\n      // timestamp rollover, this means the roll over is happening in the opposite direction.\n      // Example scenario: Enter a long stream/video just after a rollover occurred. The reference\n      // point will be set to a small number, e.g. 1. The user then seeks backwards over the\n      // rollover point. In loading this segment, the timestamp values will be very large,\n      // e.g. 2^33 - 1. Since this comes before the data we loaded previously, we want to adjust\n      // the time stamp to be `value - 2^33`.\n      direction = -1;\n    } // Note: A seek forwards or back that is greater than the RO_THRESH (2^32, ~13 hours) will\n    // cause an incorrect adjustment.\n\n\n    while (Math.abs(reference - value) > RO_THRESH) {\n      value += direction * MAX_TS;\n    }\n\n    return value;\n  };\n\n  var TimestampRolloverStream = function TimestampRolloverStream(type) {\n    var lastDTS, referenceDTS;\n    TimestampRolloverStream.prototype.init.call(this); // The \"shared\" type is used in cases where a stream will contain muxed\n    // video and audio. We could use `undefined` here, but having a string\n    // makes debugging a little clearer.\n\n    this.type_ = type || TYPE_SHARED;\n\n    this.push = function (data) {\n      // Any \"shared\" rollover streams will accept _all_ data. Otherwise,\n      // streams will only accept data that matches their type.\n      if (this.type_ !== TYPE_SHARED && data.type !== this.type_) {\n        return;\n      }\n\n      if (referenceDTS === undefined) {\n        referenceDTS = data.dts;\n      }\n\n      data.dts = handleRollover(data.dts, referenceDTS);\n      data.pts = handleRollover(data.pts, referenceDTS);\n      lastDTS = data.dts;\n      this.trigger('data', data);\n    };\n\n    this.flush = function () {\n      referenceDTS = lastDTS;\n      this.trigger('done');\n    };\n\n    this.endTimeline = function () {\n      this.flush();\n      this.trigger('endedtimeline');\n    };\n\n    this.discontinuity = function () {\n      referenceDTS = void 0;\n      lastDTS = void 0;\n    };\n\n    this.reset = function () {\n      this.discontinuity();\n      this.trigger('reset');\n    };\n  };\n\n  TimestampRolloverStream.prototype = new stream();\n  var timestampRolloverStream = {\n    TimestampRolloverStream: TimestampRolloverStream,\n    handleRollover: handleRollover\n  };\n\n  var parsePid = function parsePid(packet) {\n    var pid = packet[1] & 0x1f;\n    pid <<= 8;\n    pid |= packet[2];\n    return pid;\n  };\n\n  var parsePayloadUnitStartIndicator = function parsePayloadUnitStartIndicator(packet) {\n    return !!(packet[1] & 0x40);\n  };\n\n  var parseAdaptionField = function parseAdaptionField(packet) {\n    var offset = 0; // if an adaption field is present, its length is specified by the\n    // fifth byte of the TS packet header. The adaptation field is\n    // used to add stuffing to PES packets that don't fill a complete\n    // TS packet, and to specify some forms of timing and control data\n    // that we do not currently use.\n\n    if ((packet[3] & 0x30) >>> 4 > 0x01) {\n      offset += packet[4] + 1;\n    }\n\n    return offset;\n  };\n\n  var parseType$2 = function parseType(packet, pmtPid) {\n    var pid = parsePid(packet);\n\n    if (pid === 0) {\n      return 'pat';\n    } else if (pid === pmtPid) {\n      return 'pmt';\n    } else if (pmtPid) {\n      return 'pes';\n    }\n\n    return null;\n  };\n\n  var parsePat = function parsePat(packet) {\n    var pusi = parsePayloadUnitStartIndicator(packet);\n    var offset = 4 + parseAdaptionField(packet);\n\n    if (pusi) {\n      offset += packet[offset] + 1;\n    }\n\n    return (packet[offset + 10] & 0x1f) << 8 | packet[offset + 11];\n  };\n\n  var parsePmt = function parsePmt(packet) {\n    var programMapTable = {};\n    var pusi = parsePayloadUnitStartIndicator(packet);\n    var payloadOffset = 4 + parseAdaptionField(packet);\n\n    if (pusi) {\n      payloadOffset += packet[payloadOffset] + 1;\n    } // PMTs can be sent ahead of the time when they should actually\n    // take effect. We don't believe this should ever be the case\n    // for HLS but we'll ignore \"forward\" PMT declarations if we see\n    // them. Future PMT declarations have the current_next_indicator\n    // set to zero.\n\n\n    if (!(packet[payloadOffset + 5] & 0x01)) {\n      return;\n    }\n\n    var sectionLength, tableEnd, programInfoLength; // the mapping table ends at the end of the current section\n\n    sectionLength = (packet[payloadOffset + 1] & 0x0f) << 8 | packet[payloadOffset + 2];\n    tableEnd = 3 + sectionLength - 4; // to determine where the table is, we have to figure out how\n    // long the program info descriptors are\n\n    programInfoLength = (packet[payloadOffset + 10] & 0x0f) << 8 | packet[payloadOffset + 11]; // advance the offset to the first entry in the mapping table\n\n    var offset = 12 + programInfoLength;\n\n    while (offset < tableEnd) {\n      var i = payloadOffset + offset; // add an entry that maps the elementary_pid to the stream_type\n\n      programMapTable[(packet[i + 1] & 0x1F) << 8 | packet[i + 2]] = packet[i]; // move to the next table entry\n      // skip past the elementary stream descriptors, if present\n\n      offset += ((packet[i + 3] & 0x0F) << 8 | packet[i + 4]) + 5;\n    }\n\n    return programMapTable;\n  };\n\n  var parsePesType = function parsePesType(packet, programMapTable) {\n    var pid = parsePid(packet);\n    var type = programMapTable[pid];\n\n    switch (type) {\n      case streamTypes.H264_STREAM_TYPE:\n        return 'video';\n\n      case streamTypes.ADTS_STREAM_TYPE:\n        return 'audio';\n\n      case streamTypes.METADATA_STREAM_TYPE:\n        return 'timed-metadata';\n\n      default:\n        return null;\n    }\n  };\n\n  var parsePesTime = function parsePesTime(packet) {\n    var pusi = parsePayloadUnitStartIndicator(packet);\n\n    if (!pusi) {\n      return null;\n    }\n\n    var offset = 4 + parseAdaptionField(packet);\n\n    if (offset >= packet.byteLength) {\n      // From the H 222.0 MPEG-TS spec\n      // \"For transport stream packets carrying PES packets, stuffing is needed when there\n      //  is insufficient PES packet data to completely fill the transport stream packet\n      //  payload bytes. Stuffing is accomplished by defining an adaptation field longer than\n      //  the sum of the lengths of the data elements in it, so that the payload bytes\n      //  remaining after the adaptation field exactly accommodates the available PES packet\n      //  data.\"\n      //\n      // If the offset is >= the length of the packet, then the packet contains no data\n      // and instead is just adaption field stuffing bytes\n      return null;\n    }\n\n    var pes = null;\n    var ptsDtsFlags; // PES packets may be annotated with a PTS value, or a PTS value\n    // and a DTS value. Determine what combination of values is\n    // available to work with.\n\n    ptsDtsFlags = packet[offset + 7]; // PTS and DTS are normally stored as a 33-bit number.  Javascript\n    // performs all bitwise operations on 32-bit integers but javascript\n    // supports a much greater range (52-bits) of integer using standard\n    // mathematical operations.\n    // We construct a 31-bit value using bitwise operators over the 31\n    // most significant bits and then multiply by 4 (equal to a left-shift\n    // of 2) before we add the final 2 least significant bits of the\n    // timestamp (equal to an OR.)\n\n    if (ptsDtsFlags & 0xC0) {\n      pes = {}; // the PTS and DTS are not written out directly. For information\n      // on how they are encoded, see\n      // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\n\n      pes.pts = (packet[offset + 9] & 0x0E) << 27 | (packet[offset + 10] & 0xFF) << 20 | (packet[offset + 11] & 0xFE) << 12 | (packet[offset + 12] & 0xFF) << 5 | (packet[offset + 13] & 0xFE) >>> 3;\n      pes.pts *= 4; // Left shift by 2\n\n      pes.pts += (packet[offset + 13] & 0x06) >>> 1; // OR by the two LSBs\n\n      pes.dts = pes.pts;\n\n      if (ptsDtsFlags & 0x40) {\n        pes.dts = (packet[offset + 14] & 0x0E) << 27 | (packet[offset + 15] & 0xFF) << 20 | (packet[offset + 16] & 0xFE) << 12 | (packet[offset + 17] & 0xFF) << 5 | (packet[offset + 18] & 0xFE) >>> 3;\n        pes.dts *= 4; // Left shift by 2\n\n        pes.dts += (packet[offset + 18] & 0x06) >>> 1; // OR by the two LSBs\n      }\n    }\n\n    return pes;\n  };\n\n  var parseNalUnitType = function parseNalUnitType(type) {\n    switch (type) {\n      case 0x05:\n        return 'slice_layer_without_partitioning_rbsp_idr';\n\n      case 0x06:\n        return 'sei_rbsp';\n\n      case 0x07:\n        return 'seq_parameter_set_rbsp';\n\n      case 0x08:\n        return 'pic_parameter_set_rbsp';\n\n      case 0x09:\n        return 'access_unit_delimiter_rbsp';\n\n      default:\n        return null;\n    }\n  };\n\n  var videoPacketContainsKeyFrame = function videoPacketContainsKeyFrame(packet) {\n    var offset = 4 + parseAdaptionField(packet);\n    var frameBuffer = packet.subarray(offset);\n    var frameI = 0;\n    var frameSyncPoint = 0;\n    var foundKeyFrame = false;\n    var nalType; // advance the sync point to a NAL start, if necessary\n\n    for (; frameSyncPoint < frameBuffer.byteLength - 3; frameSyncPoint++) {\n      if (frameBuffer[frameSyncPoint + 2] === 1) {\n        // the sync point is properly aligned\n        frameI = frameSyncPoint + 5;\n        break;\n      }\n    }\n\n    while (frameI < frameBuffer.byteLength) {\n      // look at the current byte to determine if we've hit the end of\n      // a NAL unit boundary\n      switch (frameBuffer[frameI]) {\n        case 0:\n          // skip past non-sync sequences\n          if (frameBuffer[frameI - 1] !== 0) {\n            frameI += 2;\n            break;\n          } else if (frameBuffer[frameI - 2] !== 0) {\n            frameI++;\n            break;\n          }\n\n          if (frameSyncPoint + 3 !== frameI - 2) {\n            nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n            if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n              foundKeyFrame = true;\n            }\n          } // drop trailing zeroes\n\n\n          do {\n            frameI++;\n          } while (frameBuffer[frameI] !== 1 && frameI < frameBuffer.length);\n\n          frameSyncPoint = frameI - 2;\n          frameI += 3;\n          break;\n\n        case 1:\n          // skip past non-sync sequences\n          if (frameBuffer[frameI - 1] !== 0 || frameBuffer[frameI - 2] !== 0) {\n            frameI += 3;\n            break;\n          }\n\n          nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n          if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n            foundKeyFrame = true;\n          }\n\n          frameSyncPoint = frameI - 2;\n          frameI += 3;\n          break;\n\n        default:\n          // the current byte isn't a one or zero, so it cannot be part\n          // of a sync sequence\n          frameI += 3;\n          break;\n      }\n    }\n\n    frameBuffer = frameBuffer.subarray(frameSyncPoint);\n    frameI -= frameSyncPoint;\n    frameSyncPoint = 0; // parse the final nal\n\n    if (frameBuffer && frameBuffer.byteLength > 3) {\n      nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n      if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n        foundKeyFrame = true;\n      }\n    }\n\n    return foundKeyFrame;\n  };\n\n  var probe$1 = {\n    parseType: parseType$2,\n    parsePat: parsePat,\n    parsePmt: parsePmt,\n    parsePayloadUnitStartIndicator: parsePayloadUnitStartIndicator,\n    parsePesType: parsePesType,\n    parsePesTime: parsePesTime,\n    videoPacketContainsKeyFrame: videoPacketContainsKeyFrame\n  };\n\n  /**\n   * mux.js\n   *\n   * Copyright (c) Brightcove\n   * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n   *\n   * Utilities to detect basic properties and metadata about Aac data.\n   */\n\n  var ADTS_SAMPLING_FREQUENCIES = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n\n  var isLikelyAacData = function isLikelyAacData(data) {\n    if (data[0] === 'I'.charCodeAt(0) && data[1] === 'D'.charCodeAt(0) && data[2] === '3'.charCodeAt(0)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  var parseSyncSafeInteger = function parseSyncSafeInteger(data) {\n    return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n  }; // return a percent-encoded representation of the specified byte range\n  // @see http://en.wikipedia.org/wiki/Percent-encoding\n\n\n  var percentEncode = function percentEncode(bytes, start, end) {\n    var i,\n        result = '';\n\n    for (i = start; i < end; i++) {\n      result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n    }\n\n    return result;\n  }; // return the string representation of the specified byte range,\n  // interpreted as ISO-8859-1.\n\n\n  var parseIso88591 = function parseIso88591(bytes, start, end) {\n    return unescape(percentEncode(bytes, start, end)); // jshint ignore:line\n  };\n\n  var parseId3TagSize = function parseId3TagSize(header, byteIndex) {\n    var returnSize = header[byteIndex + 6] << 21 | header[byteIndex + 7] << 14 | header[byteIndex + 8] << 7 | header[byteIndex + 9],\n        flags = header[byteIndex + 5],\n        footerPresent = (flags & 16) >> 4;\n\n    if (footerPresent) {\n      return returnSize + 20;\n    }\n\n    return returnSize + 10;\n  };\n\n  var parseAdtsSize = function parseAdtsSize(header, byteIndex) {\n    var lowThree = (header[byteIndex + 5] & 0xE0) >> 5,\n        middle = header[byteIndex + 4] << 3,\n        highTwo = header[byteIndex + 3] & 0x3 << 11;\n    return highTwo | middle | lowThree;\n  };\n\n  var parseType$3 = function parseType(header, byteIndex) {\n    if (header[byteIndex] === 'I'.charCodeAt(0) && header[byteIndex + 1] === 'D'.charCodeAt(0) && header[byteIndex + 2] === '3'.charCodeAt(0)) {\n      return 'timed-metadata';\n    } else if (header[byteIndex] & 0xff === 0xff && (header[byteIndex + 1] & 0xf0) === 0xf0) {\n      return 'audio';\n    }\n\n    return null;\n  };\n\n  var parseSampleRate = function parseSampleRate(packet) {\n    var i = 0;\n\n    while (i + 5 < packet.length) {\n      if (packet[i] !== 0xFF || (packet[i + 1] & 0xF6) !== 0xF0) {\n        // If a valid header was not found,  jump one forward and attempt to\n        // find a valid ADTS header starting at the next byte\n        i++;\n        continue;\n      }\n\n      return ADTS_SAMPLING_FREQUENCIES[(packet[i + 2] & 0x3c) >>> 2];\n    }\n\n    return null;\n  };\n\n  var parseAacTimestamp = function parseAacTimestamp(packet) {\n    var frameStart, frameSize, frame, frameHeader; // find the start of the first frame and the end of the tag\n\n    frameStart = 10;\n\n    if (packet[5] & 0x40) {\n      // advance the frame start past the extended header\n      frameStart += 4; // header size field\n\n      frameStart += parseSyncSafeInteger(packet.subarray(10, 14));\n    } // parse one or more ID3 frames\n    // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n    do {\n      // determine the number of bytes in this frame\n      frameSize = parseSyncSafeInteger(packet.subarray(frameStart + 4, frameStart + 8));\n\n      if (frameSize < 1) {\n        return null;\n      }\n\n      frameHeader = String.fromCharCode(packet[frameStart], packet[frameStart + 1], packet[frameStart + 2], packet[frameStart + 3]);\n\n      if (frameHeader === 'PRIV') {\n        frame = packet.subarray(frameStart + 10, frameStart + frameSize + 10);\n\n        for (var i = 0; i < frame.byteLength; i++) {\n          if (frame[i] === 0) {\n            var owner = parseIso88591(frame, 0, i);\n\n            if (owner === 'com.apple.streaming.transportStreamTimestamp') {\n              var d = frame.subarray(i + 1);\n              var size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n              size *= 4;\n              size += d[7] & 0x03;\n              return size;\n            }\n\n            break;\n          }\n        }\n      }\n\n      frameStart += 10; // advance past the frame header\n\n      frameStart += frameSize; // advance past the frame body\n    } while (frameStart < packet.byteLength);\n\n    return null;\n  };\n\n  var utils = {\n    isLikelyAacData: isLikelyAacData,\n    parseId3TagSize: parseId3TagSize,\n    parseAdtsSize: parseAdtsSize,\n    parseType: parseType$3,\n    parseSampleRate: parseSampleRate,\n    parseAacTimestamp: parseAacTimestamp\n  };\n\n  /**\n   * mux.js\n   *\n   * Copyright (c) Brightcove\n   * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n   */\n  var ONE_SECOND_IN_TS = 90000,\n      // 90kHz clock\n  secondsToVideoTs,\n      secondsToAudioTs,\n      videoTsToSeconds,\n      audioTsToSeconds,\n      audioTsToVideoTs,\n      videoTsToAudioTs,\n      metadataTsToSeconds;\n\n  secondsToVideoTs = function secondsToVideoTs(seconds) {\n    return seconds * ONE_SECOND_IN_TS;\n  };\n\n  secondsToAudioTs = function secondsToAudioTs(seconds, sampleRate) {\n    return seconds * sampleRate;\n  };\n\n  videoTsToSeconds = function videoTsToSeconds(timestamp) {\n    return timestamp / ONE_SECOND_IN_TS;\n  };\n\n  audioTsToSeconds = function audioTsToSeconds(timestamp, sampleRate) {\n    return timestamp / sampleRate;\n  };\n\n  audioTsToVideoTs = function audioTsToVideoTs(timestamp, sampleRate) {\n    return secondsToVideoTs(audioTsToSeconds(timestamp, sampleRate));\n  };\n\n  videoTsToAudioTs = function videoTsToAudioTs(timestamp, sampleRate) {\n    return secondsToAudioTs(videoTsToSeconds(timestamp), sampleRate);\n  };\n  /**\n   * Adjust ID3 tag or caption timing information by the timeline pts values\n   * (if keepOriginalTimestamps is false) and convert to seconds\n   */\n\n\n  metadataTsToSeconds = function metadataTsToSeconds(timestamp, timelineStartPts, keepOriginalTimestamps) {\n    return videoTsToSeconds(keepOriginalTimestamps ? timestamp : timestamp - timelineStartPts);\n  };\n\n  var clock = {\n    ONE_SECOND_IN_TS: ONE_SECOND_IN_TS,\n    secondsToVideoTs: secondsToVideoTs,\n    secondsToAudioTs: secondsToAudioTs,\n    videoTsToSeconds: videoTsToSeconds,\n    audioTsToSeconds: audioTsToSeconds,\n    audioTsToVideoTs: audioTsToVideoTs,\n    videoTsToAudioTs: videoTsToAudioTs,\n    metadataTsToSeconds: metadataTsToSeconds\n  };\n\n  var handleRollover$1 = timestampRolloverStream.handleRollover;\n  var probe$2 = {};\n  probe$2.ts = probe$1;\n  probe$2.aac = utils;\n  var ONE_SECOND_IN_TS$1 = clock.ONE_SECOND_IN_TS;\n  var MP2T_PACKET_LENGTH = 188,\n      // bytes\n  SYNC_BYTE = 0x47;\n  /**\n   * walks through segment data looking for pat and pmt packets to parse out\n   * program map table information\n   */\n\n  var parsePsi_ = function parsePsi_(bytes, pmt) {\n    var startIndex = 0,\n        endIndex = MP2T_PACKET_LENGTH,\n        packet,\n        type;\n\n    while (endIndex < bytes.byteLength) {\n      // Look for a pair of start and end sync bytes in the data..\n      if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n        // We found a packet\n        packet = bytes.subarray(startIndex, endIndex);\n        type = probe$2.ts.parseType(packet, pmt.pid);\n\n        switch (type) {\n          case 'pat':\n            if (!pmt.pid) {\n              pmt.pid = probe$2.ts.parsePat(packet);\n            }\n\n            break;\n\n          case 'pmt':\n            if (!pmt.table) {\n              pmt.table = probe$2.ts.parsePmt(packet);\n            }\n\n            break;\n\n          default:\n            break;\n        } // Found the pat and pmt, we can stop walking the segment\n\n\n        if (pmt.pid && pmt.table) {\n          return;\n        }\n\n        startIndex += MP2T_PACKET_LENGTH;\n        endIndex += MP2T_PACKET_LENGTH;\n        continue;\n      } // If we get here, we have somehow become de-synchronized and we need to step\n      // forward one byte at a time until we find a pair of sync bytes that denote\n      // a packet\n\n\n      startIndex++;\n      endIndex++;\n    }\n  };\n  /**\n   * walks through the segment data from the start and end to get timing information\n   * for the first and last audio pes packets\n   */\n\n\n  var parseAudioPes_ = function parseAudioPes_(bytes, pmt, result) {\n    var startIndex = 0,\n        endIndex = MP2T_PACKET_LENGTH,\n        packet,\n        type,\n        pesType,\n        pusi,\n        parsed;\n    var endLoop = false; // Start walking from start of segment to get first audio packet\n\n    while (endIndex <= bytes.byteLength) {\n      // Look for a pair of start and end sync bytes in the data..\n      if (bytes[startIndex] === SYNC_BYTE && (bytes[endIndex] === SYNC_BYTE || endIndex === bytes.byteLength)) {\n        // We found a packet\n        packet = bytes.subarray(startIndex, endIndex);\n        type = probe$2.ts.parseType(packet, pmt.pid);\n\n        switch (type) {\n          case 'pes':\n            pesType = probe$2.ts.parsePesType(packet, pmt.table);\n            pusi = probe$2.ts.parsePayloadUnitStartIndicator(packet);\n\n            if (pesType === 'audio' && pusi) {\n              parsed = probe$2.ts.parsePesTime(packet);\n\n              if (parsed) {\n                parsed.type = 'audio';\n                result.audio.push(parsed);\n                endLoop = true;\n              }\n            }\n\n            break;\n\n          default:\n            break;\n        }\n\n        if (endLoop) {\n          break;\n        }\n\n        startIndex += MP2T_PACKET_LENGTH;\n        endIndex += MP2T_PACKET_LENGTH;\n        continue;\n      } // If we get here, we have somehow become de-synchronized and we need to step\n      // forward one byte at a time until we find a pair of sync bytes that denote\n      // a packet\n\n\n      startIndex++;\n      endIndex++;\n    } // Start walking from end of segment to get last audio packet\n\n\n    endIndex = bytes.byteLength;\n    startIndex = endIndex - MP2T_PACKET_LENGTH;\n    endLoop = false;\n\n    while (startIndex >= 0) {\n      // Look for a pair of start and end sync bytes in the data..\n      if (bytes[startIndex] === SYNC_BYTE && (bytes[endIndex] === SYNC_BYTE || endIndex === bytes.byteLength)) {\n        // We found a packet\n        packet = bytes.subarray(startIndex, endIndex);\n        type = probe$2.ts.parseType(packet, pmt.pid);\n\n        switch (type) {\n          case 'pes':\n            pesType = probe$2.ts.parsePesType(packet, pmt.table);\n            pusi = probe$2.ts.parsePayloadUnitStartIndicator(packet);\n\n            if (pesType === 'audio' && pusi) {\n              parsed = probe$2.ts.parsePesTime(packet);\n\n              if (parsed) {\n                parsed.type = 'audio';\n                result.audio.push(parsed);\n                endLoop = true;\n              }\n            }\n\n            break;\n\n          default:\n            break;\n        }\n\n        if (endLoop) {\n          break;\n        }\n\n        startIndex -= MP2T_PACKET_LENGTH;\n        endIndex -= MP2T_PACKET_LENGTH;\n        continue;\n      } // If we get here, we have somehow become de-synchronized and we need to step\n      // forward one byte at a time until we find a pair of sync bytes that denote\n      // a packet\n\n\n      startIndex--;\n      endIndex--;\n    }\n  };\n  /**\n   * walks through the segment data from the start and end to get timing information\n   * for the first and last video pes packets as well as timing information for the first\n   * key frame.\n   */\n\n\n  var parseVideoPes_ = function parseVideoPes_(bytes, pmt, result) {\n    var startIndex = 0,\n        endIndex = MP2T_PACKET_LENGTH,\n        packet,\n        type,\n        pesType,\n        pusi,\n        parsed,\n        frame,\n        i,\n        pes;\n    var endLoop = false;\n    var currentFrame = {\n      data: [],\n      size: 0\n    }; // Start walking from start of segment to get first video packet\n\n    while (endIndex < bytes.byteLength) {\n      // Look for a pair of start and end sync bytes in the data..\n      if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n        // We found a packet\n        packet = bytes.subarray(startIndex, endIndex);\n        type = probe$2.ts.parseType(packet, pmt.pid);\n\n        switch (type) {\n          case 'pes':\n            pesType = probe$2.ts.parsePesType(packet, pmt.table);\n            pusi = probe$2.ts.parsePayloadUnitStartIndicator(packet);\n\n            if (pesType === 'video') {\n              if (pusi && !endLoop) {\n                parsed = probe$2.ts.parsePesTime(packet);\n\n                if (parsed) {\n                  parsed.type = 'video';\n                  result.video.push(parsed);\n                  endLoop = true;\n                }\n              }\n\n              if (!result.firstKeyFrame) {\n                if (pusi) {\n                  if (currentFrame.size !== 0) {\n                    frame = new Uint8Array(currentFrame.size);\n                    i = 0;\n\n                    while (currentFrame.data.length) {\n                      pes = currentFrame.data.shift();\n                      frame.set(pes, i);\n                      i += pes.byteLength;\n                    }\n\n                    if (probe$2.ts.videoPacketContainsKeyFrame(frame)) {\n                      var firstKeyFrame = probe$2.ts.parsePesTime(frame); // PTS/DTS may not be available. Simply *not* setting\n                      // the keyframe seems to work fine with HLS playback\n                      // and definitely preferable to a crash with TypeError...\n\n                      if (firstKeyFrame) {\n                        result.firstKeyFrame = firstKeyFrame;\n                        result.firstKeyFrame.type = 'video';\n                      } else {\n                        // eslint-disable-next-line\n                        console.warn('Failed to extract PTS/DTS from PES at first keyframe. ' + 'This could be an unusual TS segment, or else mux.js did not ' + 'parse your TS segment correctly. If you know your TS ' + 'segments do contain PTS/DTS on keyframes please file a bug ' + 'report! You can try ffprobe to double check for yourself.');\n                      }\n                    }\n\n                    currentFrame.size = 0;\n                  }\n                }\n\n                currentFrame.data.push(packet);\n                currentFrame.size += packet.byteLength;\n              }\n            }\n\n            break;\n\n          default:\n            break;\n        }\n\n        if (endLoop && result.firstKeyFrame) {\n          break;\n        }\n\n        startIndex += MP2T_PACKET_LENGTH;\n        endIndex += MP2T_PACKET_LENGTH;\n        continue;\n      } // If we get here, we have somehow become de-synchronized and we need to step\n      // forward one byte at a time until we find a pair of sync bytes that denote\n      // a packet\n\n\n      startIndex++;\n      endIndex++;\n    } // Start walking from end of segment to get last video packet\n\n\n    endIndex = bytes.byteLength;\n    startIndex = endIndex - MP2T_PACKET_LENGTH;\n    endLoop = false;\n\n    while (startIndex >= 0) {\n      // Look for a pair of start and end sync bytes in the data..\n      if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n        // We found a packet\n        packet = bytes.subarray(startIndex, endIndex);\n        type = probe$2.ts.parseType(packet, pmt.pid);\n\n        switch (type) {\n          case 'pes':\n            pesType = probe$2.ts.parsePesType(packet, pmt.table);\n            pusi = probe$2.ts.parsePayloadUnitStartIndicator(packet);\n\n            if (pesType === 'video' && pusi) {\n              parsed = probe$2.ts.parsePesTime(packet);\n\n              if (parsed) {\n                parsed.type = 'video';\n                result.video.push(parsed);\n                endLoop = true;\n              }\n            }\n\n            break;\n\n          default:\n            break;\n        }\n\n        if (endLoop) {\n          break;\n        }\n\n        startIndex -= MP2T_PACKET_LENGTH;\n        endIndex -= MP2T_PACKET_LENGTH;\n        continue;\n      } // If we get here, we have somehow become de-synchronized and we need to step\n      // forward one byte at a time until we find a pair of sync bytes that denote\n      // a packet\n\n\n      startIndex--;\n      endIndex--;\n    }\n  };\n  /**\n   * Adjusts the timestamp information for the segment to account for\n   * rollover and convert to seconds based on pes packet timescale (90khz clock)\n   */\n\n\n  var adjustTimestamp_ = function adjustTimestamp_(segmentInfo, baseTimestamp) {\n    if (segmentInfo.audio && segmentInfo.audio.length) {\n      var audioBaseTimestamp = baseTimestamp;\n\n      if (typeof audioBaseTimestamp === 'undefined') {\n        audioBaseTimestamp = segmentInfo.audio[0].dts;\n      }\n\n      segmentInfo.audio.forEach(function (info) {\n        info.dts = handleRollover$1(info.dts, audioBaseTimestamp);\n        info.pts = handleRollover$1(info.pts, audioBaseTimestamp); // time in seconds\n\n        info.dtsTime = info.dts / ONE_SECOND_IN_TS$1;\n        info.ptsTime = info.pts / ONE_SECOND_IN_TS$1;\n      });\n    }\n\n    if (segmentInfo.video && segmentInfo.video.length) {\n      var videoBaseTimestamp = baseTimestamp;\n\n      if (typeof videoBaseTimestamp === 'undefined') {\n        videoBaseTimestamp = segmentInfo.video[0].dts;\n      }\n\n      segmentInfo.video.forEach(function (info) {\n        info.dts = handleRollover$1(info.dts, videoBaseTimestamp);\n        info.pts = handleRollover$1(info.pts, videoBaseTimestamp); // time in seconds\n\n        info.dtsTime = info.dts / ONE_SECOND_IN_TS$1;\n        info.ptsTime = info.pts / ONE_SECOND_IN_TS$1;\n      });\n\n      if (segmentInfo.firstKeyFrame) {\n        var frame = segmentInfo.firstKeyFrame;\n        frame.dts = handleRollover$1(frame.dts, videoBaseTimestamp);\n        frame.pts = handleRollover$1(frame.pts, videoBaseTimestamp); // time in seconds\n\n        frame.dtsTime = frame.dts / ONE_SECOND_IN_TS$1;\n        frame.ptsTime = frame.dts / ONE_SECOND_IN_TS$1;\n      }\n    }\n  };\n  /**\n   * inspects the aac data stream for start and end time information\n   */\n\n\n  var inspectAac_ = function inspectAac_(bytes) {\n    var endLoop = false,\n        audioCount = 0,\n        sampleRate = null,\n        timestamp = null,\n        frameSize = 0,\n        byteIndex = 0,\n        packet;\n\n    while (bytes.length - byteIndex >= 3) {\n      var type = probe$2.aac.parseType(bytes, byteIndex);\n\n      switch (type) {\n        case 'timed-metadata':\n          // Exit early because we don't have enough to parse\n          // the ID3 tag header\n          if (bytes.length - byteIndex < 10) {\n            endLoop = true;\n            break;\n          }\n\n          frameSize = probe$2.aac.parseId3TagSize(bytes, byteIndex); // Exit early if we don't have enough in the buffer\n          // to emit a full packet\n\n          if (frameSize > bytes.length) {\n            endLoop = true;\n            break;\n          }\n\n          if (timestamp === null) {\n            packet = bytes.subarray(byteIndex, byteIndex + frameSize);\n            timestamp = probe$2.aac.parseAacTimestamp(packet);\n          }\n\n          byteIndex += frameSize;\n          break;\n\n        case 'audio':\n          // Exit early because we don't have enough to parse\n          // the ADTS frame header\n          if (bytes.length - byteIndex < 7) {\n            endLoop = true;\n            break;\n          }\n\n          frameSize = probe$2.aac.parseAdtsSize(bytes, byteIndex); // Exit early if we don't have enough in the buffer\n          // to emit a full packet\n\n          if (frameSize > bytes.length) {\n            endLoop = true;\n            break;\n          }\n\n          if (sampleRate === null) {\n            packet = bytes.subarray(byteIndex, byteIndex + frameSize);\n            sampleRate = probe$2.aac.parseSampleRate(packet);\n          }\n\n          audioCount++;\n          byteIndex += frameSize;\n          break;\n\n        default:\n          byteIndex++;\n          break;\n      }\n\n      if (endLoop) {\n        return null;\n      }\n    }\n\n    if (sampleRate === null || timestamp === null) {\n      return null;\n    }\n\n    var audioTimescale = ONE_SECOND_IN_TS$1 / sampleRate;\n    var result = {\n      audio: [{\n        type: 'audio',\n        dts: timestamp,\n        pts: timestamp\n      }, {\n        type: 'audio',\n        dts: timestamp + audioCount * 1024 * audioTimescale,\n        pts: timestamp + audioCount * 1024 * audioTimescale\n      }]\n    };\n    return result;\n  };\n  /**\n   * inspects the transport stream segment data for start and end time information\n   * of the audio and video tracks (when present) as well as the first key frame's\n   * start time.\n   */\n\n\n  var inspectTs_ = function inspectTs_(bytes) {\n    var pmt = {\n      pid: null,\n      table: null\n    };\n    var result = {};\n    parsePsi_(bytes, pmt);\n\n    for (var pid in pmt.table) {\n      if (pmt.table.hasOwnProperty(pid)) {\n        var type = pmt.table[pid];\n\n        switch (type) {\n          case streamTypes.H264_STREAM_TYPE:\n            result.video = [];\n            parseVideoPes_(bytes, pmt, result);\n\n            if (result.video.length === 0) {\n              delete result.video;\n            }\n\n            break;\n\n          case streamTypes.ADTS_STREAM_TYPE:\n            result.audio = [];\n            parseAudioPes_(bytes, pmt, result);\n\n            if (result.audio.length === 0) {\n              delete result.audio;\n            }\n\n            break;\n\n          default:\n            break;\n        }\n      }\n    }\n\n    return result;\n  };\n  /**\n   * Inspects segment byte data and returns an object with start and end timing information\n   *\n   * @param {Uint8Array} bytes The segment byte data\n   * @param {Number} baseTimestamp Relative reference timestamp used when adjusting frame\n   *  timestamps for rollover. This value must be in 90khz clock.\n   * @return {Object} Object containing start and end frame timing info of segment.\n   */\n\n\n  var inspect = function inspect(bytes, baseTimestamp) {\n    var isAacData = probe$2.aac.isLikelyAacData(bytes);\n    var result;\n\n    if (isAacData) {\n      result = inspectAac_(bytes);\n    } else {\n      result = inspectTs_(bytes);\n    }\n\n    if (!result || !result.audio && !result.video) {\n      return null;\n    }\n\n    adjustTimestamp_(result, baseTimestamp);\n    return result;\n  };\n\n  var tsInspector = {\n    inspect: inspect,\n    parseAudioPes_: parseAudioPes_\n  };\n\n  /*\n   * pkcs7.pad\n   * https://github.com/brightcove/pkcs7\n   *\n   * Copyright (c) 2014 Brightcove\n   * Licensed under the apache2 license.\n   */\n  /**\n   * Returns the subarray of a Uint8Array without PKCS#7 padding.\n   * @param padded {Uint8Array} unencrypted bytes that have been padded\n   * @return {Uint8Array} the unpadded bytes\n   * @see http://tools.ietf.org/html/rfc5652\n   */\n\n  function unpad(padded) {\n    return padded.subarray(0, padded.byteLength - padded[padded.byteLength - 1]);\n  }\n\n  var classCallCheck = function classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var inherits = function inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  };\n\n  var possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  };\n  /**\n   * @file aes.js\n   *\n   * This file contains an adaptation of the AES decryption algorithm\n   * from the Standford Javascript Cryptography Library. That work is\n   * covered by the following copyright and permissions notice:\n   *\n   * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.\n   * All rights reserved.\n   *\n   * Redistribution and use in source and binary forms, with or without\n   * modification, are permitted provided that the following conditions are\n   * met:\n   *\n   * 1. Redistributions of source code must retain the above copyright\n   *    notice, this list of conditions and the following disclaimer.\n   *\n   * 2. Redistributions in binary form must reproduce the above\n   *    copyright notice, this list of conditions and the following\n   *    disclaimer in the documentation and/or other materials provided\n   *    with the distribution.\n   *\n   * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR\n   * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n   * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE\n   * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n   * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\n   * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n   * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n   * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN\n   * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n   *\n   * The views and conclusions contained in the software and documentation\n   * are those of the authors and should not be interpreted as representing\n   * official policies, either expressed or implied, of the authors.\n   */\n\n  /**\n   * Expand the S-box tables.\n   *\n   * @private\n   */\n\n\n  var precompute = function precompute() {\n    var tables = [[[], [], [], [], []], [[], [], [], [], []]];\n    var encTable = tables[0];\n    var decTable = tables[1];\n    var sbox = encTable[4];\n    var sboxInv = decTable[4];\n    var i = void 0;\n    var x = void 0;\n    var xInv = void 0;\n    var d = [];\n    var th = [];\n    var x2 = void 0;\n    var x4 = void 0;\n    var x8 = void 0;\n    var s = void 0;\n    var tEnc = void 0;\n    var tDec = void 0; // Compute double and third tables\n\n    for (i = 0; i < 256; i++) {\n      th[(d[i] = i << 1 ^ (i >> 7) * 283) ^ i] = i;\n    }\n\n    for (x = xInv = 0; !sbox[x]; x ^= x2 || 1, xInv = th[xInv] || 1) {\n      // Compute sbox\n      s = xInv ^ xInv << 1 ^ xInv << 2 ^ xInv << 3 ^ xInv << 4;\n      s = s >> 8 ^ s & 255 ^ 99;\n      sbox[x] = s;\n      sboxInv[s] = x; // Compute MixColumns\n\n      x8 = d[x4 = d[x2 = d[x]]];\n      tDec = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;\n      tEnc = d[s] * 0x101 ^ s * 0x1010100;\n\n      for (i = 0; i < 4; i++) {\n        encTable[i][x] = tEnc = tEnc << 24 ^ tEnc >>> 8;\n        decTable[i][s] = tDec = tDec << 24 ^ tDec >>> 8;\n      }\n    } // Compactify. Considerable speedup on Firefox.\n\n\n    for (i = 0; i < 5; i++) {\n      encTable[i] = encTable[i].slice(0);\n      decTable[i] = decTable[i].slice(0);\n    }\n\n    return tables;\n  };\n\n  var aesTables = null;\n  /**\n   * Schedule out an AES key for both encryption and decryption. This\n   * is a low-level class. Use a cipher mode to do bulk encryption.\n   *\n   * @class AES\n   * @param key {Array} The key as an array of 4, 6 or 8 words.\n   */\n\n  var AES = function () {\n    function AES(key) {\n      classCallCheck(this, AES);\n      /**\n       * The expanded S-box and inverse S-box tables. These will be computed\n       * on the client so that we don't have to send them down the wire.\n       *\n       * There are two tables, _tables[0] is for encryption and\n       * _tables[1] is for decryption.\n       *\n       * The first 4 sub-tables are the expanded S-box with MixColumns. The\n       * last (_tables[01][4]) is the S-box itself.\n       *\n       * @private\n       */\n      // if we have yet to precompute the S-box tables\n      // do so now\n\n      if (!aesTables) {\n        aesTables = precompute();\n      } // then make a copy of that object for use\n\n\n      this._tables = [[aesTables[0][0].slice(), aesTables[0][1].slice(), aesTables[0][2].slice(), aesTables[0][3].slice(), aesTables[0][4].slice()], [aesTables[1][0].slice(), aesTables[1][1].slice(), aesTables[1][2].slice(), aesTables[1][3].slice(), aesTables[1][4].slice()]];\n      var i = void 0;\n      var j = void 0;\n      var tmp = void 0;\n      var encKey = void 0;\n      var decKey = void 0;\n      var sbox = this._tables[0][4];\n      var decTable = this._tables[1];\n      var keyLen = key.length;\n      var rcon = 1;\n\n      if (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\n        throw new Error('Invalid aes key size');\n      }\n\n      encKey = key.slice(0);\n      decKey = [];\n      this._key = [encKey, decKey]; // schedule encryption keys\n\n      for (i = keyLen; i < 4 * keyLen + 28; i++) {\n        tmp = encKey[i - 1]; // apply sbox\n\n        if (i % keyLen === 0 || keyLen === 8 && i % keyLen === 4) {\n          tmp = sbox[tmp >>> 24] << 24 ^ sbox[tmp >> 16 & 255] << 16 ^ sbox[tmp >> 8 & 255] << 8 ^ sbox[tmp & 255]; // shift rows and add rcon\n\n          if (i % keyLen === 0) {\n            tmp = tmp << 8 ^ tmp >>> 24 ^ rcon << 24;\n            rcon = rcon << 1 ^ (rcon >> 7) * 283;\n          }\n        }\n\n        encKey[i] = encKey[i - keyLen] ^ tmp;\n      } // schedule decryption keys\n\n\n      for (j = 0; i; j++, i--) {\n        tmp = encKey[j & 3 ? i : i - 4];\n\n        if (i <= 4 || j < 4) {\n          decKey[j] = tmp;\n        } else {\n          decKey[j] = decTable[0][sbox[tmp >>> 24]] ^ decTable[1][sbox[tmp >> 16 & 255]] ^ decTable[2][sbox[tmp >> 8 & 255]] ^ decTable[3][sbox[tmp & 255]];\n        }\n      }\n    }\n    /**\n     * Decrypt 16 bytes, specified as four 32-bit words.\n     *\n     * @param {Number} encrypted0 the first word to decrypt\n     * @param {Number} encrypted1 the second word to decrypt\n     * @param {Number} encrypted2 the third word to decrypt\n     * @param {Number} encrypted3 the fourth word to decrypt\n     * @param {Int32Array} out the array to write the decrypted words\n     * into\n     * @param {Number} offset the offset into the output array to start\n     * writing results\n     * @return {Array} The plaintext.\n     */\n\n\n    AES.prototype.decrypt = function decrypt(encrypted0, encrypted1, encrypted2, encrypted3, out, offset) {\n      var key = this._key[1]; // state variables a,b,c,d are loaded with pre-whitened data\n\n      var a = encrypted0 ^ key[0];\n      var b = encrypted3 ^ key[1];\n      var c = encrypted2 ^ key[2];\n      var d = encrypted1 ^ key[3];\n      var a2 = void 0;\n      var b2 = void 0;\n      var c2 = void 0; // key.length === 2 ?\n\n      var nInnerRounds = key.length / 4 - 2;\n      var i = void 0;\n      var kIndex = 4;\n      var table = this._tables[1]; // load up the tables\n\n      var table0 = table[0];\n      var table1 = table[1];\n      var table2 = table[2];\n      var table3 = table[3];\n      var sbox = table[4]; // Inner rounds. Cribbed from OpenSSL.\n\n      for (i = 0; i < nInnerRounds; i++) {\n        a2 = table0[a >>> 24] ^ table1[b >> 16 & 255] ^ table2[c >> 8 & 255] ^ table3[d & 255] ^ key[kIndex];\n        b2 = table0[b >>> 24] ^ table1[c >> 16 & 255] ^ table2[d >> 8 & 255] ^ table3[a & 255] ^ key[kIndex + 1];\n        c2 = table0[c >>> 24] ^ table1[d >> 16 & 255] ^ table2[a >> 8 & 255] ^ table3[b & 255] ^ key[kIndex + 2];\n        d = table0[d >>> 24] ^ table1[a >> 16 & 255] ^ table2[b >> 8 & 255] ^ table3[c & 255] ^ key[kIndex + 3];\n        kIndex += 4;\n        a = a2;\n        b = b2;\n        c = c2;\n      } // Last round.\n\n\n      for (i = 0; i < 4; i++) {\n        out[(3 & -i) + offset] = sbox[a >>> 24] << 24 ^ sbox[b >> 16 & 255] << 16 ^ sbox[c >> 8 & 255] << 8 ^ sbox[d & 255] ^ key[kIndex++];\n        a2 = a;\n        a = b;\n        b = c;\n        c = d;\n        d = a2;\n      }\n    };\n\n    return AES;\n  }();\n  /**\n   * @file stream.js\n   */\n\n  /**\n   * A lightweight readable stream implemention that handles event dispatching.\n   *\n   * @class Stream\n   */\n\n\n  var Stream$2 = function () {\n    function Stream() {\n      classCallCheck(this, Stream);\n      this.listeners = {};\n    }\n    /**\n     * Add a listener for a specified event type.\n     *\n     * @param {String} type the event name\n     * @param {Function} listener the callback to be invoked when an event of\n     * the specified type occurs\n     */\n\n\n    Stream.prototype.on = function on(type, listener) {\n      if (!this.listeners[type]) {\n        this.listeners[type] = [];\n      }\n\n      this.listeners[type].push(listener);\n    };\n    /**\n     * Remove a listener for a specified event type.\n     *\n     * @param {String} type the event name\n     * @param {Function} listener  a function previously registered for this\n     * type of event through `on`\n     * @return {Boolean} if we could turn it off or not\n     */\n\n\n    Stream.prototype.off = function off(type, listener) {\n      if (!this.listeners[type]) {\n        return false;\n      }\n\n      var index = this.listeners[type].indexOf(listener);\n      this.listeners[type].splice(index, 1);\n      return index > -1;\n    };\n    /**\n     * Trigger an event of the specified type on this stream. Any additional\n     * arguments to this function are passed as parameters to event listeners.\n     *\n     * @param {String} type the event name\n     */\n\n\n    Stream.prototype.trigger = function trigger(type) {\n      var callbacks = this.listeners[type];\n\n      if (!callbacks) {\n        return;\n      } // Slicing the arguments on every invocation of this method\n      // can add a significant amount of overhead. Avoid the\n      // intermediate object creation for the common case of a\n      // single callback argument\n\n\n      if (arguments.length === 2) {\n        var length = callbacks.length;\n\n        for (var i = 0; i < length; ++i) {\n          callbacks[i].call(this, arguments[1]);\n        }\n      } else {\n        var args = Array.prototype.slice.call(arguments, 1);\n        var _length = callbacks.length;\n\n        for (var _i = 0; _i < _length; ++_i) {\n          callbacks[_i].apply(this, args);\n        }\n      }\n    };\n    /**\n     * Destroys the stream and cleans up.\n     */\n\n\n    Stream.prototype.dispose = function dispose() {\n      this.listeners = {};\n    };\n    /**\n     * Forwards all `data` events on this stream to the destination stream. The\n     * destination stream should provide a method `push` to receive the data\n     * events as they arrive.\n     *\n     * @param {Stream} destination the stream that will receive all `data` events\n     * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n     */\n\n\n    Stream.prototype.pipe = function pipe(destination) {\n      this.on('data', function (data) {\n        destination.push(data);\n      });\n    };\n\n    return Stream;\n  }();\n  /**\n   * @file async-stream.js\n   */\n\n  /**\n   * A wrapper around the Stream class to use setTiemout\n   * and run stream \"jobs\" Asynchronously\n   *\n   * @class AsyncStream\n   * @extends Stream\n   */\n\n\n  var AsyncStream = function (_Stream) {\n    inherits(AsyncStream, _Stream);\n\n    function AsyncStream() {\n      classCallCheck(this, AsyncStream);\n\n      var _this = possibleConstructorReturn(this, _Stream.call(this, Stream$2));\n\n      _this.jobs = [];\n      _this.delay = 1;\n      _this.timeout_ = null;\n      return _this;\n    }\n    /**\n     * process an async job\n     *\n     * @private\n     */\n\n\n    AsyncStream.prototype.processJob_ = function processJob_() {\n      this.jobs.shift()();\n\n      if (this.jobs.length) {\n        this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n      } else {\n        this.timeout_ = null;\n      }\n    };\n    /**\n     * push a job into the stream\n     *\n     * @param {Function} job the job to push into the stream\n     */\n\n\n    AsyncStream.prototype.push = function push(job) {\n      this.jobs.push(job);\n\n      if (!this.timeout_) {\n        this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n      }\n    };\n\n    return AsyncStream;\n  }(Stream$2);\n  /**\n   * @file decrypter.js\n   *\n   * An asynchronous implementation of AES-128 CBC decryption with\n   * PKCS#7 padding.\n   */\n\n  /**\n   * Convert network-order (big-endian) bytes into their little-endian\n   * representation.\n   */\n\n\n  var ntoh = function ntoh(word) {\n    return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;\n  };\n  /**\n   * Decrypt bytes using AES-128 with CBC and PKCS#7 padding.\n   *\n   * @param {Uint8Array} encrypted the encrypted bytes\n   * @param {Uint32Array} key the bytes of the decryption key\n   * @param {Uint32Array} initVector the initialization vector (IV) to\n   * use for the first round of CBC.\n   * @return {Uint8Array} the decrypted bytes\n   *\n   * @see http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\n   * @see http://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_Block_Chaining_.28CBC.29\n   * @see https://tools.ietf.org/html/rfc2315\n   */\n\n\n  var decrypt = function decrypt(encrypted, key, initVector) {\n    // word-level access to the encrypted bytes\n    var encrypted32 = new Int32Array(encrypted.buffer, encrypted.byteOffset, encrypted.byteLength >> 2);\n    var decipher = new AES(Array.prototype.slice.call(key)); // byte and word-level access for the decrypted output\n\n    var decrypted = new Uint8Array(encrypted.byteLength);\n    var decrypted32 = new Int32Array(decrypted.buffer); // temporary variables for working with the IV, encrypted, and\n    // decrypted data\n\n    var init0 = void 0;\n    var init1 = void 0;\n    var init2 = void 0;\n    var init3 = void 0;\n    var encrypted0 = void 0;\n    var encrypted1 = void 0;\n    var encrypted2 = void 0;\n    var encrypted3 = void 0; // iteration variable\n\n    var wordIx = void 0; // pull out the words of the IV to ensure we don't modify the\n    // passed-in reference and easier access\n\n    init0 = initVector[0];\n    init1 = initVector[1];\n    init2 = initVector[2];\n    init3 = initVector[3]; // decrypt four word sequences, applying cipher-block chaining (CBC)\n    // to each decrypted block\n\n    for (wordIx = 0; wordIx < encrypted32.length; wordIx += 4) {\n      // convert big-endian (network order) words into little-endian\n      // (javascript order)\n      encrypted0 = ntoh(encrypted32[wordIx]);\n      encrypted1 = ntoh(encrypted32[wordIx + 1]);\n      encrypted2 = ntoh(encrypted32[wordIx + 2]);\n      encrypted3 = ntoh(encrypted32[wordIx + 3]); // decrypt the block\n\n      decipher.decrypt(encrypted0, encrypted1, encrypted2, encrypted3, decrypted32, wordIx); // XOR with the IV, and restore network byte-order to obtain the\n      // plaintext\n\n      decrypted32[wordIx] = ntoh(decrypted32[wordIx] ^ init0);\n      decrypted32[wordIx + 1] = ntoh(decrypted32[wordIx + 1] ^ init1);\n      decrypted32[wordIx + 2] = ntoh(decrypted32[wordIx + 2] ^ init2);\n      decrypted32[wordIx + 3] = ntoh(decrypted32[wordIx + 3] ^ init3); // setup the IV for the next round\n\n      init0 = encrypted0;\n      init1 = encrypted1;\n      init2 = encrypted2;\n      init3 = encrypted3;\n    }\n\n    return decrypted;\n  };\n  /**\n   * The `Decrypter` class that manages decryption of AES\n   * data through `AsyncStream` objects and the `decrypt`\n   * function\n   *\n   * @param {Uint8Array} encrypted the encrypted bytes\n   * @param {Uint32Array} key the bytes of the decryption key\n   * @param {Uint32Array} initVector the initialization vector (IV) to\n   * @param {Function} done the function to run when done\n   * @class Decrypter\n   */\n\n\n  var Decrypter = function () {\n    function Decrypter(encrypted, key, initVector, done) {\n      classCallCheck(this, Decrypter);\n      var step = Decrypter.STEP;\n      var encrypted32 = new Int32Array(encrypted.buffer);\n      var decrypted = new Uint8Array(encrypted.byteLength);\n      var i = 0;\n      this.asyncStream_ = new AsyncStream(); // split up the encryption job and do the individual chunks asynchronously\n\n      this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n\n      for (i = step; i < encrypted32.length; i += step) {\n        initVector = new Uint32Array([ntoh(encrypted32[i - 4]), ntoh(encrypted32[i - 3]), ntoh(encrypted32[i - 2]), ntoh(encrypted32[i - 1])]);\n        this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n      } // invoke the done() callback when everything is finished\n\n\n      this.asyncStream_.push(function () {\n        // remove pkcs#7 padding from the decrypted bytes\n        done(null, unpad(decrypted));\n      });\n    }\n    /**\n     * a getter for step the maximum number of bytes to process at one time\n     *\n     * @return {Number} the value of step 32000\n     */\n\n    /**\n     * @private\n     */\n\n\n    Decrypter.prototype.decryptChunk_ = function decryptChunk_(encrypted, key, initVector, decrypted) {\n      return function () {\n        var bytes = decrypt(encrypted, key, initVector);\n        decrypted.set(bytes, encrypted.byteOffset);\n      };\n    };\n\n    createClass(Decrypter, null, [{\n      key: 'STEP',\n      get: function get$$1() {\n        // 4 * 8000;\n        return 32000;\n      }\n    }]);\n    return Decrypter;\n  }();\n\n  /**\n   * @videojs/http-streaming\n   * @version 1.10.6\n   * @copyright 2019 Brightcove, Inc\n   * @license Apache-2.0\n   */\n  /**\n   * @file resolve-url.js - Handling how URLs are resolved and manipulated\n   */\n\n  var resolveUrl$1 = function resolveUrl(baseURL, relativeURL) {\n    // return early if we don't need to resolve\n    if (/^[a-z]+:/i.test(relativeURL)) {\n      return relativeURL;\n    } // if the base URL is relative then combine with the current location\n\n\n    if (!/\\/\\//i.test(baseURL)) {\n      baseURL = urlToolkit.buildAbsoluteURL(window$1.location.href, baseURL);\n    }\n\n    return urlToolkit.buildAbsoluteURL(baseURL, relativeURL);\n  };\n  /**\n   * Checks whether xhr request was redirected and returns correct url depending\n   * on `handleManifestRedirects` option\n   *\n   * @api private\n   *\n   * @param  {String} url - an url being requested\n   * @param  {XMLHttpRequest} req - xhr request result\n   *\n   * @return {String}\n   */\n\n\n  var resolveManifestRedirect = function resolveManifestRedirect(handleManifestRedirect, url, req) {\n    // To understand how the responseURL below is set and generated:\n    // - https://fetch.spec.whatwg.org/#concept-response-url\n    // - https://fetch.spec.whatwg.org/#atomic-http-redirect-handling\n    if (handleManifestRedirect && req.responseURL && url !== req.responseURL) {\n      return req.responseURL;\n    }\n\n    return url;\n  };\n\n  var classCallCheck$1 = function classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass$1 = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var get$1 = function get(object, property, receiver) {\n    if (object === null) object = Function.prototype;\n    var desc = Object.getOwnPropertyDescriptor(object, property);\n\n    if (desc === undefined) {\n      var parent = Object.getPrototypeOf(object);\n\n      if (parent === null) {\n        return undefined;\n      } else {\n        return get(parent, property, receiver);\n      }\n    } else if (\"value\" in desc) {\n      return desc.value;\n    } else {\n      var getter = desc.get;\n\n      if (getter === undefined) {\n        return undefined;\n      }\n\n      return getter.call(receiver);\n    }\n  };\n\n  var inherits$1 = function inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  };\n\n  var possibleConstructorReturn$1 = function possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  };\n\n  var slicedToArray = function () {\n    function sliceIterator(arr, i) {\n      var _arr = [];\n      var _n = true;\n      var _d = false;\n      var _e = undefined;\n\n      try {\n        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n          _arr.push(_s.value);\n\n          if (i && _arr.length === i) break;\n        }\n      } catch (err) {\n        _d = true;\n        _e = err;\n      } finally {\n        try {\n          if (!_n && _i[\"return\"]) _i[\"return\"]();\n        } finally {\n          if (_d) throw _e;\n        }\n      }\n\n      return _arr;\n    }\n\n    return function (arr, i) {\n      if (Array.isArray(arr)) {\n        return arr;\n      } else if (Symbol.iterator in Object(arr)) {\n        return sliceIterator(arr, i);\n      } else {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      }\n    };\n  }();\n  /**\n   * @file playlist-loader.js\n   *\n   * A state machine that manages the loading, caching, and updating of\n   * M3U8 playlists.\n   *\n   */\n\n\n  var mergeOptions$1 = videojs$1.mergeOptions,\n      EventTarget$1 = videojs$1.EventTarget,\n      log$1 = videojs$1.log;\n  /**\n   * Loops through all supported media groups in master and calls the provided\n   * callback for each group\n   *\n   * @param {Object} master\n   *        The parsed master manifest object\n   * @param {Function} callback\n   *        Callback to call for each media group\n   */\n\n  var forEachMediaGroup = function forEachMediaGroup(master, callback) {\n    ['AUDIO', 'SUBTITLES'].forEach(function (mediaType) {\n      for (var groupKey in master.mediaGroups[mediaType]) {\n        for (var labelKey in master.mediaGroups[mediaType][groupKey]) {\n          var mediaProperties = master.mediaGroups[mediaType][groupKey][labelKey];\n          callback(mediaProperties, mediaType, groupKey, labelKey);\n        }\n      }\n    });\n  };\n  /**\n    * Returns a new array of segments that is the result of merging\n    * properties from an older list of segments onto an updated\n    * list. No properties on the updated playlist will be overridden.\n    *\n    * @param {Array} original the outdated list of segments\n    * @param {Array} update the updated list of segments\n    * @param {Number=} offset the index of the first update\n    * segment in the original segment list. For non-live playlists,\n    * this should always be zero and does not need to be\n    * specified. For live playlists, it should be the difference\n    * between the media sequence numbers in the original and updated\n    * playlists.\n    * @return a list of merged segment objects\n    */\n\n\n  var updateSegments = function updateSegments(original, update, offset) {\n    var result = update.slice();\n    offset = offset || 0;\n    var length = Math.min(original.length, update.length + offset);\n\n    for (var i = offset; i < length; i++) {\n      result[i - offset] = mergeOptions$1(original[i], result[i - offset]);\n    }\n\n    return result;\n  };\n\n  var resolveSegmentUris = function resolveSegmentUris(segment, baseUri) {\n    if (!segment.resolvedUri) {\n      segment.resolvedUri = resolveUrl$1(baseUri, segment.uri);\n    }\n\n    if (segment.key && !segment.key.resolvedUri) {\n      segment.key.resolvedUri = resolveUrl$1(baseUri, segment.key.uri);\n    }\n\n    if (segment.map && !segment.map.resolvedUri) {\n      segment.map.resolvedUri = resolveUrl$1(baseUri, segment.map.uri);\n    }\n  };\n  /**\n    * Returns a new master playlist that is the result of merging an\n    * updated media playlist into the original version. If the\n    * updated media playlist does not match any of the playlist\n    * entries in the original master playlist, null is returned.\n    *\n    * @param {Object} master a parsed master M3U8 object\n    * @param {Object} media a parsed media M3U8 object\n    * @return {Object} a new object that represents the original\n    * master playlist with the updated media playlist merged in, or\n    * null if the merge produced no change.\n    */\n\n\n  var updateMaster = function updateMaster(master, media) {\n    var result = mergeOptions$1(master, {});\n    var playlist = result.playlists[media.uri];\n\n    if (!playlist) {\n      return null;\n    } // consider the playlist unchanged if the number of segments is equal, the media\n    // sequence number is unchanged, and this playlist hasn't become the end of the playlist\n\n\n    if (playlist.segments && media.segments && playlist.segments.length === media.segments.length && playlist.endList === media.endList && playlist.mediaSequence === media.mediaSequence) {\n      return null;\n    }\n\n    var mergedPlaylist = mergeOptions$1(playlist, media); // if the update could overlap existing segment information, merge the two segment lists\n\n    if (playlist.segments) {\n      mergedPlaylist.segments = updateSegments(playlist.segments, media.segments, media.mediaSequence - playlist.mediaSequence);\n    } // resolve any segment URIs to prevent us from having to do it later\n\n\n    mergedPlaylist.segments.forEach(function (segment) {\n      resolveSegmentUris(segment, mergedPlaylist.resolvedUri);\n    }); // TODO Right now in the playlists array there are two references to each playlist, one\n    // that is referenced by index, and one by URI. The index reference may no longer be\n    // necessary.\n\n    for (var i = 0; i < result.playlists.length; i++) {\n      if (result.playlists[i].uri === media.uri) {\n        result.playlists[i] = mergedPlaylist;\n      }\n    }\n\n    result.playlists[media.uri] = mergedPlaylist;\n    return result;\n  };\n\n  var setupMediaPlaylists = function setupMediaPlaylists(master) {\n    // setup by-URI lookups and resolve media playlist URIs\n    var i = master.playlists.length;\n\n    while (i--) {\n      var playlist = master.playlists[i];\n      master.playlists[playlist.uri] = playlist;\n      playlist.resolvedUri = resolveUrl$1(master.uri, playlist.uri);\n      playlist.id = i;\n\n      if (!playlist.attributes) {\n        // Although the spec states an #EXT-X-STREAM-INF tag MUST have a\n        // BANDWIDTH attribute, we can play the stream without it. This means a poorly\n        // formatted master playlist may not have an attribute list. An attributes\n        // property is added here to prevent undefined references when we encounter\n        // this scenario.\n        playlist.attributes = {};\n        log$1.warn('Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.');\n      }\n    }\n  };\n\n  var resolveMediaGroupUris = function resolveMediaGroupUris(master) {\n    forEachMediaGroup(master, function (properties) {\n      if (properties.uri) {\n        properties.resolvedUri = resolveUrl$1(master.uri, properties.uri);\n      }\n    });\n  };\n  /**\n   * Calculates the time to wait before refreshing a live playlist\n   *\n   * @param {Object} media\n   *        The current media\n   * @param {Boolean} update\n   *        True if there were any updates from the last refresh, false otherwise\n   * @return {Number}\n   *         The time in ms to wait before refreshing the live playlist\n   */\n\n\n  var refreshDelay = function refreshDelay(media, update) {\n    var lastSegment = media.segments[media.segments.length - 1];\n    var delay = void 0;\n\n    if (update && lastSegment && lastSegment.duration) {\n      delay = lastSegment.duration * 1000;\n    } else {\n      // if the playlist is unchanged since the last reload or last segment duration\n      // cannot be determined, try again after half the target duration\n      delay = (media.targetDuration || 10) * 500;\n    }\n\n    return delay;\n  };\n  /**\n   * Load a playlist from a remote location\n   *\n   * @class PlaylistLoader\n   * @extends Stream\n   * @param {String} srcUrl the url to start with\n   * @param {Boolean} withCredentials the withCredentials xhr option\n   * @constructor\n   */\n\n\n  var PlaylistLoader = function (_EventTarget) {\n    inherits$1(PlaylistLoader, _EventTarget);\n\n    function PlaylistLoader(srcUrl, hls) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      classCallCheck$1(this, PlaylistLoader);\n\n      var _this = possibleConstructorReturn$1(this, (PlaylistLoader.__proto__ || Object.getPrototypeOf(PlaylistLoader)).call(this));\n\n      var _options$withCredenti = options.withCredentials,\n          withCredentials = _options$withCredenti === undefined ? false : _options$withCredenti,\n          _options$handleManife = options.handleManifestRedirects,\n          handleManifestRedirects = _options$handleManife === undefined ? false : _options$handleManife;\n      _this.srcUrl = srcUrl;\n      _this.hls_ = hls;\n      _this.withCredentials = withCredentials;\n      _this.handleManifestRedirects = handleManifestRedirects;\n      var hlsOptions = hls.options_;\n      _this.customTagParsers = hlsOptions && hlsOptions.customTagParsers || [];\n      _this.customTagMappers = hlsOptions && hlsOptions.customTagMappers || [];\n\n      if (!_this.srcUrl) {\n        throw new Error('A non-empty playlist URL is required');\n      } // initialize the loader state\n\n\n      _this.state = 'HAVE_NOTHING'; // live playlist staleness timeout\n\n      _this.on('mediaupdatetimeout', function () {\n        if (_this.state !== 'HAVE_METADATA') {\n          // only refresh the media playlist if no other activity is going on\n          return;\n        }\n\n        _this.state = 'HAVE_CURRENT_METADATA';\n        _this.request = _this.hls_.xhr({\n          uri: resolveUrl$1(_this.master.uri, _this.media().uri),\n          withCredentials: _this.withCredentials\n        }, function (error, req) {\n          // disposed\n          if (!_this.request) {\n            return;\n          }\n\n          if (error) {\n            return _this.playlistRequestError(_this.request, _this.media().uri, 'HAVE_METADATA');\n          }\n\n          _this.haveMetadata(_this.request, _this.media().uri);\n        });\n      });\n\n      return _this;\n    }\n\n    createClass$1(PlaylistLoader, [{\n      key: 'playlistRequestError',\n      value: function playlistRequestError(xhr, url, startingState) {\n        // any in-flight request is now finished\n        this.request = null;\n\n        if (startingState) {\n          this.state = startingState;\n        }\n\n        this.error = {\n          playlist: this.master.playlists[url],\n          status: xhr.status,\n          message: 'HLS playlist request error at URL: ' + url + '.',\n          responseText: xhr.responseText,\n          code: xhr.status >= 500 ? 4 : 2\n        };\n        this.trigger('error');\n      } // update the playlist loader's state in response to a new or\n      // updated playlist.\n\n    }, {\n      key: 'haveMetadata',\n      value: function haveMetadata(xhr, url) {\n        var _this2 = this; // any in-flight request is now finished\n\n\n        this.request = null;\n        this.state = 'HAVE_METADATA';\n        var parser = new Parser(); // adding custom tag parsers\n\n        this.customTagParsers.forEach(function (customParser) {\n          return parser.addParser(customParser);\n        }); // adding custom tag mappers\n\n        this.customTagMappers.forEach(function (mapper) {\n          return parser.addTagMapper(mapper);\n        });\n        parser.push(xhr.responseText);\n        parser.end();\n        parser.manifest.uri = url; // m3u8-parser does not attach an attributes property to media playlists so make\n        // sure that the property is attached to avoid undefined reference errors\n\n        parser.manifest.attributes = parser.manifest.attributes || {}; // merge this playlist into the master\n\n        var update = updateMaster(this.master, parser.manifest);\n        this.targetDuration = parser.manifest.targetDuration;\n\n        if (update) {\n          this.master = update;\n          this.media_ = this.master.playlists[parser.manifest.uri];\n        } else {\n          this.trigger('playlistunchanged');\n        } // refresh live playlists after a target duration passes\n\n\n        if (!this.media().endList) {\n          window$1.clearTimeout(this.mediaUpdateTimeout);\n          this.mediaUpdateTimeout = window$1.setTimeout(function () {\n            _this2.trigger('mediaupdatetimeout');\n          }, refreshDelay(this.media(), !!update));\n        }\n\n        this.trigger('loadedplaylist');\n      }\n      /**\n       * Abort any outstanding work and clean up.\n       */\n\n    }, {\n      key: 'dispose',\n      value: function dispose() {\n        this.stopRequest();\n        window$1.clearTimeout(this.mediaUpdateTimeout);\n        window$1.clearTimeout(this.finalRenditionTimeout);\n      }\n    }, {\n      key: 'stopRequest',\n      value: function stopRequest() {\n        if (this.request) {\n          var oldRequest = this.request;\n          this.request = null;\n          oldRequest.onreadystatechange = null;\n          oldRequest.abort();\n        }\n      }\n      /**\n       * When called without any arguments, returns the currently\n       * active media playlist. When called with a single argument,\n       * triggers the playlist loader to asynchronously switch to the\n       * specified media playlist. Calling this method while the\n       * loader is in the HAVE_NOTHING causes an error to be emitted\n       * but otherwise has no effect.\n       *\n       * @param {Object=} playlist the parsed media playlist\n       * object to switch to\n       * @param {Boolean=} is this the last available playlist\n       *\n       * @return {Playlist} the current loaded media\n       */\n\n    }, {\n      key: 'media',\n      value: function media(playlist, isFinalRendition) {\n        var _this3 = this; // getter\n\n\n        if (!playlist) {\n          return this.media_;\n        } // setter\n\n\n        if (this.state === 'HAVE_NOTHING') {\n          throw new Error('Cannot switch media playlist from ' + this.state);\n        } // find the playlist object if the target playlist has been\n        // specified by URI\n\n\n        if (typeof playlist === 'string') {\n          if (!this.master.playlists[playlist]) {\n            throw new Error('Unknown playlist URI: ' + playlist);\n          }\n\n          playlist = this.master.playlists[playlist];\n        }\n\n        window$1.clearTimeout(this.finalRenditionTimeout);\n\n        if (isFinalRendition) {\n          var delay = playlist.targetDuration / 2 * 1000 || 5 * 1000;\n          this.finalRenditionTimeout = window$1.setTimeout(this.media.bind(this, playlist, false), delay);\n          return;\n        }\n\n        var startingState = this.state;\n        var mediaChange = !this.media_ || playlist.uri !== this.media_.uri; // switch to fully loaded playlists immediately\n\n        if (this.master.playlists[playlist.uri].endList) {\n          // abort outstanding playlist requests\n          if (this.request) {\n            this.request.onreadystatechange = null;\n            this.request.abort();\n            this.request = null;\n          }\n\n          this.state = 'HAVE_METADATA';\n          this.media_ = playlist; // trigger media change if the active media has been updated\n\n          if (mediaChange) {\n            this.trigger('mediachanging');\n            this.trigger('mediachange');\n          }\n\n          return;\n        } // switching to the active playlist is a no-op\n\n\n        if (!mediaChange) {\n          return;\n        }\n\n        this.state = 'SWITCHING_MEDIA'; // there is already an outstanding playlist request\n\n        if (this.request) {\n          if (playlist.resolvedUri === this.request.url) {\n            // requesting to switch to the same playlist multiple times\n            // has no effect after the first\n            return;\n          }\n\n          this.request.onreadystatechange = null;\n          this.request.abort();\n          this.request = null;\n        } // request the new playlist\n\n\n        if (this.media_) {\n          this.trigger('mediachanging');\n        }\n\n        this.request = this.hls_.xhr({\n          uri: playlist.resolvedUri,\n          withCredentials: this.withCredentials\n        }, function (error, req) {\n          // disposed\n          if (!_this3.request) {\n            return;\n          }\n\n          playlist.resolvedUri = resolveManifestRedirect(_this3.handleManifestRedirects, playlist.resolvedUri, req);\n\n          if (error) {\n            return _this3.playlistRequestError(_this3.request, playlist.uri, startingState);\n          }\n\n          _this3.haveMetadata(req, playlist.uri); // fire loadedmetadata the first time a media playlist is loaded\n\n\n          if (startingState === 'HAVE_MASTER') {\n            _this3.trigger('loadedmetadata');\n          } else {\n            _this3.trigger('mediachange');\n          }\n        });\n      }\n      /**\n       * pause loading of the playlist\n       */\n\n    }, {\n      key: 'pause',\n      value: function pause() {\n        this.stopRequest();\n        window$1.clearTimeout(this.mediaUpdateTimeout);\n\n        if (this.state === 'HAVE_NOTHING') {\n          // If we pause the loader before any data has been retrieved, its as if we never\n          // started, so reset to an unstarted state.\n          this.started = false;\n        } // Need to restore state now that no activity is happening\n\n\n        if (this.state === 'SWITCHING_MEDIA') {\n          // if the loader was in the process of switching media, it should either return to\n          // HAVE_MASTER or HAVE_METADATA depending on if the loader has loaded a media\n          // playlist yet. This is determined by the existence of loader.media_\n          if (this.media_) {\n            this.state = 'HAVE_METADATA';\n          } else {\n            this.state = 'HAVE_MASTER';\n          }\n        } else if (this.state === 'HAVE_CURRENT_METADATA') {\n          this.state = 'HAVE_METADATA';\n        }\n      }\n      /**\n       * start loading of the playlist\n       */\n\n    }, {\n      key: 'load',\n      value: function load(isFinalRendition) {\n        var _this4 = this;\n\n        window$1.clearTimeout(this.mediaUpdateTimeout);\n        var media = this.media();\n\n        if (isFinalRendition) {\n          var delay = media ? media.targetDuration / 2 * 1000 : 5 * 1000;\n          this.mediaUpdateTimeout = window$1.setTimeout(function () {\n            return _this4.load();\n          }, delay);\n          return;\n        }\n\n        if (!this.started) {\n          this.start();\n          return;\n        }\n\n        if (media && !media.endList) {\n          this.trigger('mediaupdatetimeout');\n        } else {\n          this.trigger('loadedplaylist');\n        }\n      }\n      /**\n       * start loading of the playlist\n       */\n\n    }, {\n      key: 'start',\n      value: function start() {\n        var _this5 = this;\n\n        this.started = true; // request the specified URL\n\n        this.request = this.hls_.xhr({\n          uri: this.srcUrl,\n          withCredentials: this.withCredentials\n        }, function (error, req) {\n          // disposed\n          if (!_this5.request) {\n            return;\n          } // clear the loader's request reference\n\n\n          _this5.request = null;\n\n          if (error) {\n            _this5.error = {\n              status: req.status,\n              message: 'HLS playlist request error at URL: ' + _this5.srcUrl + '.',\n              responseText: req.responseText,\n              // MEDIA_ERR_NETWORK\n              code: 2\n            };\n\n            if (_this5.state === 'HAVE_NOTHING') {\n              _this5.started = false;\n            }\n\n            return _this5.trigger('error');\n          }\n\n          var parser = new Parser(); // adding custom tag parsers\n\n          _this5.customTagParsers.forEach(function (customParser) {\n            return parser.addParser(customParser);\n          }); // adding custom tag mappers\n\n\n          _this5.customTagMappers.forEach(function (mapper) {\n            return parser.addTagMapper(mapper);\n          });\n\n          parser.push(req.responseText);\n          parser.end();\n          _this5.state = 'HAVE_MASTER';\n          _this5.srcUrl = resolveManifestRedirect(_this5.handleManifestRedirects, _this5.srcUrl, req);\n          parser.manifest.uri = _this5.srcUrl; // loaded a master playlist\n\n          if (parser.manifest.playlists) {\n            _this5.master = parser.manifest;\n            setupMediaPlaylists(_this5.master);\n            resolveMediaGroupUris(_this5.master);\n\n            _this5.trigger('loadedplaylist');\n\n            if (!_this5.request) {\n              // no media playlist was specifically selected so start\n              // from the first listed one\n              _this5.media(parser.manifest.playlists[0]);\n            }\n\n            return;\n          } // loaded a media playlist\n          // infer a master playlist if none was previously requested\n\n\n          _this5.master = {\n            mediaGroups: {\n              'AUDIO': {},\n              'VIDEO': {},\n              'CLOSED-CAPTIONS': {},\n              'SUBTITLES': {}\n            },\n            uri: window$1.location.href,\n            playlists: [{\n              uri: _this5.srcUrl,\n              id: 0,\n              resolvedUri: _this5.srcUrl,\n              // m3u8-parser does not attach an attributes property to media playlists so make\n              // sure that the property is attached to avoid undefined reference errors\n              attributes: {}\n            }]\n          };\n          _this5.master.playlists[_this5.srcUrl] = _this5.master.playlists[0];\n\n          _this5.haveMetadata(req, _this5.srcUrl);\n\n          return _this5.trigger('loadedmetadata');\n        });\n      }\n    }]);\n    return PlaylistLoader;\n  }(EventTarget$1);\n  /**\n   * @file playlist.js\n   *\n   * Playlist related utilities.\n   */\n\n\n  var createTimeRange = videojs$1.createTimeRange;\n  /**\n   * walk backward until we find a duration we can use\n   * or return a failure\n   *\n   * @param {Playlist} playlist the playlist to walk through\n   * @param {Number} endSequence the mediaSequence to stop walking on\n   */\n\n  var backwardDuration = function backwardDuration(playlist, endSequence) {\n    var result = 0;\n    var i = endSequence - playlist.mediaSequence; // if a start time is available for segment immediately following\n    // the interval, use it\n\n    var segment = playlist.segments[i]; // Walk backward until we find the latest segment with timeline\n    // information that is earlier than endSequence\n\n    if (segment) {\n      if (typeof segment.start !== 'undefined') {\n        return {\n          result: segment.start,\n          precise: true\n        };\n      }\n\n      if (typeof segment.end !== 'undefined') {\n        return {\n          result: segment.end - segment.duration,\n          precise: true\n        };\n      }\n    }\n\n    while (i--) {\n      segment = playlist.segments[i];\n\n      if (typeof segment.end !== 'undefined') {\n        return {\n          result: result + segment.end,\n          precise: true\n        };\n      }\n\n      result += segment.duration;\n\n      if (typeof segment.start !== 'undefined') {\n        return {\n          result: result + segment.start,\n          precise: true\n        };\n      }\n    }\n\n    return {\n      result: result,\n      precise: false\n    };\n  };\n  /**\n   * walk forward until we find a duration we can use\n   * or return a failure\n   *\n   * @param {Playlist} playlist the playlist to walk through\n   * @param {Number} endSequence the mediaSequence to stop walking on\n   */\n\n\n  var forwardDuration = function forwardDuration(playlist, endSequence) {\n    var result = 0;\n    var segment = void 0;\n    var i = endSequence - playlist.mediaSequence; // Walk forward until we find the earliest segment with timeline\n    // information\n\n    for (; i < playlist.segments.length; i++) {\n      segment = playlist.segments[i];\n\n      if (typeof segment.start !== 'undefined') {\n        return {\n          result: segment.start - result,\n          precise: true\n        };\n      }\n\n      result += segment.duration;\n\n      if (typeof segment.end !== 'undefined') {\n        return {\n          result: segment.end - result,\n          precise: true\n        };\n      }\n    } // indicate we didn't find a useful duration estimate\n\n\n    return {\n      result: -1,\n      precise: false\n    };\n  };\n  /**\n    * Calculate the media duration from the segments associated with a\n    * playlist. The duration of a subinterval of the available segments\n    * may be calculated by specifying an end index.\n    *\n    * @param {Object} playlist a media playlist object\n    * @param {Number=} endSequence an exclusive upper boundary\n    * for the playlist.  Defaults to playlist length.\n    * @param {Number} expired the amount of time that has dropped\n    * off the front of the playlist in a live scenario\n    * @return {Number} the duration between the first available segment\n    * and end index.\n    */\n\n\n  var intervalDuration = function intervalDuration(playlist, endSequence, expired) {\n    var backward = void 0;\n    var forward = void 0;\n\n    if (typeof endSequence === 'undefined') {\n      endSequence = playlist.mediaSequence + playlist.segments.length;\n    }\n\n    if (endSequence < playlist.mediaSequence) {\n      return 0;\n    } // do a backward walk to estimate the duration\n\n\n    backward = backwardDuration(playlist, endSequence);\n\n    if (backward.precise) {\n      // if we were able to base our duration estimate on timing\n      // information provided directly from the Media Source, return\n      // it\n      return backward.result;\n    } // walk forward to see if a precise duration estimate can be made\n    // that way\n\n\n    forward = forwardDuration(playlist, endSequence);\n\n    if (forward.precise) {\n      // we found a segment that has been buffered and so it's\n      // position is known precisely\n      return forward.result;\n    } // return the less-precise, playlist-based duration estimate\n\n\n    return backward.result + expired;\n  };\n  /**\n    * Calculates the duration of a playlist. If a start and end index\n    * are specified, the duration will be for the subset of the media\n    * timeline between those two indices. The total duration for live\n    * playlists is always Infinity.\n    *\n    * @param {Object} playlist a media playlist object\n    * @param {Number=} endSequence an exclusive upper\n    * boundary for the playlist. Defaults to the playlist media\n    * sequence number plus its length.\n    * @param {Number=} expired the amount of time that has\n    * dropped off the front of the playlist in a live scenario\n    * @return {Number} the duration between the start index and end\n    * index.\n    */\n\n\n  var duration = function duration(playlist, endSequence, expired) {\n    if (!playlist) {\n      return 0;\n    }\n\n    if (typeof expired !== 'number') {\n      expired = 0;\n    } // if a slice of the total duration is not requested, use\n    // playlist-level duration indicators when they're present\n\n\n    if (typeof endSequence === 'undefined') {\n      // if present, use the duration specified in the playlist\n      if (playlist.totalDuration) {\n        return playlist.totalDuration;\n      } // duration should be Infinity for live playlists\n\n\n      if (!playlist.endList) {\n        return window$1.Infinity;\n      }\n    } // calculate the total duration based on the segment durations\n\n\n    return intervalDuration(playlist, endSequence, expired);\n  };\n  /**\n    * Calculate the time between two indexes in the current playlist\n    * neight the start- nor the end-index need to be within the current\n    * playlist in which case, the targetDuration of the playlist is used\n    * to approximate the durations of the segments\n    *\n    * @param {Object} playlist a media playlist object\n    * @param {Number} startIndex\n    * @param {Number} endIndex\n    * @return {Number} the number of seconds between startIndex and endIndex\n    */\n\n\n  var sumDurations = function sumDurations(playlist, startIndex, endIndex) {\n    var durations = 0;\n\n    if (startIndex > endIndex) {\n      var _ref = [endIndex, startIndex];\n      startIndex = _ref[0];\n      endIndex = _ref[1];\n    }\n\n    if (startIndex < 0) {\n      for (var i = startIndex; i < Math.min(0, endIndex); i++) {\n        durations += playlist.targetDuration;\n      }\n\n      startIndex = 0;\n    }\n\n    for (var _i = startIndex; _i < endIndex; _i++) {\n      durations += playlist.segments[_i].duration;\n    }\n\n    return durations;\n  };\n  /**\n   * Determines the media index of the segment corresponding to the safe edge of the live\n   * window which is the duration of the last segment plus 2 target durations from the end\n   * of the playlist.\n   *\n   * @param {Object} playlist\n   *        a media playlist object\n   * @return {Number}\n   *         The media index of the segment at the safe live point. 0 if there is no \"safe\"\n   *         point.\n   * @function safeLiveIndex\n   */\n\n\n  var safeLiveIndex = function safeLiveIndex(playlist) {\n    if (!playlist.segments.length) {\n      return 0;\n    }\n\n    var i = playlist.segments.length - 1;\n    var distanceFromEnd = playlist.segments[i].duration || playlist.targetDuration;\n    var safeDistance = distanceFromEnd + playlist.targetDuration * 2;\n\n    while (i--) {\n      distanceFromEnd += playlist.segments[i].duration;\n\n      if (distanceFromEnd >= safeDistance) {\n        break;\n      }\n    }\n\n    return Math.max(0, i);\n  };\n  /**\n   * Calculates the playlist end time\n   *\n   * @param {Object} playlist a media playlist object\n   * @param {Number=} expired the amount of time that has\n   *                  dropped off the front of the playlist in a live scenario\n   * @param {Boolean|false} useSafeLiveEnd a boolean value indicating whether or not the\n   *                        playlist end calculation should consider the safe live end\n   *                        (truncate the playlist end by three segments). This is normally\n   *                        used for calculating the end of the playlist's seekable range.\n   * @returns {Number} the end time of playlist\n   * @function playlistEnd\n   */\n\n\n  var playlistEnd = function playlistEnd(playlist, expired, useSafeLiveEnd) {\n    if (!playlist || !playlist.segments) {\n      return null;\n    }\n\n    if (playlist.endList) {\n      return duration(playlist);\n    }\n\n    if (expired === null) {\n      return null;\n    }\n\n    expired = expired || 0;\n    var endSequence = useSafeLiveEnd ? safeLiveIndex(playlist) : playlist.segments.length;\n    return intervalDuration(playlist, playlist.mediaSequence + endSequence, expired);\n  };\n  /**\n    * Calculates the interval of time that is currently seekable in a\n    * playlist. The returned time ranges are relative to the earliest\n    * moment in the specified playlist that is still available. A full\n    * seekable implementation for live streams would need to offset\n    * these values by the duration of content that has expired from the\n    * stream.\n    *\n    * @param {Object} playlist a media playlist object\n    * dropped off the front of the playlist in a live scenario\n    * @param {Number=} expired the amount of time that has\n    * dropped off the front of the playlist in a live scenario\n    * @return {TimeRanges} the periods of time that are valid targets\n    * for seeking\n    */\n\n\n  var seekable = function seekable(playlist, expired) {\n    var useSafeLiveEnd = true;\n    var seekableStart = expired || 0;\n    var seekableEnd = playlistEnd(playlist, expired, useSafeLiveEnd);\n\n    if (seekableEnd === null) {\n      return createTimeRange();\n    }\n\n    return createTimeRange(seekableStart, seekableEnd);\n  };\n\n  var isWholeNumber = function isWholeNumber(num) {\n    return num - Math.floor(num) === 0;\n  };\n\n  var roundSignificantDigit = function roundSignificantDigit(increment, num) {\n    // If we have a whole number, just add 1 to it\n    if (isWholeNumber(num)) {\n      return num + increment * 0.1;\n    }\n\n    var numDecimalDigits = num.toString().split('.')[1].length;\n\n    for (var i = 1; i <= numDecimalDigits; i++) {\n      var scale = Math.pow(10, i);\n      var temp = num * scale;\n\n      if (isWholeNumber(temp) || i === numDecimalDigits) {\n        return (temp + increment) / scale;\n      }\n    }\n  };\n\n  var ceilLeastSignificantDigit = roundSignificantDigit.bind(null, 1);\n  var floorLeastSignificantDigit = roundSignificantDigit.bind(null, -1);\n  /**\n   * Determine the index and estimated starting time of the segment that\n   * contains a specified playback position in a media playlist.\n   *\n   * @param {Object} playlist the media playlist to query\n   * @param {Number} currentTime The number of seconds since the earliest\n   * possible position to determine the containing segment for\n   * @param {Number} startIndex\n   * @param {Number} startTime\n   * @return {Object}\n   */\n\n  var getMediaInfoForTime = function getMediaInfoForTime(playlist, currentTime, startIndex, startTime) {\n    var i = void 0;\n    var segment = void 0;\n    var numSegments = playlist.segments.length;\n    var time = currentTime - startTime;\n\n    if (time < 0) {\n      // Walk backward from startIndex in the playlist, adding durations\n      // until we find a segment that contains `time` and return it\n      if (startIndex > 0) {\n        for (i = startIndex - 1; i >= 0; i--) {\n          segment = playlist.segments[i];\n          time += floorLeastSignificantDigit(segment.duration);\n\n          if (time > 0) {\n            return {\n              mediaIndex: i,\n              startTime: startTime - sumDurations(playlist, startIndex, i)\n            };\n          }\n        }\n      } // We were unable to find a good segment within the playlist\n      // so select the first segment\n\n\n      return {\n        mediaIndex: 0,\n        startTime: currentTime\n      };\n    } // When startIndex is negative, we first walk forward to first segment\n    // adding target durations. If we \"run out of time\" before getting to\n    // the first segment, return the first segment\n\n\n    if (startIndex < 0) {\n      for (i = startIndex; i < 0; i++) {\n        time -= playlist.targetDuration;\n\n        if (time < 0) {\n          return {\n            mediaIndex: 0,\n            startTime: currentTime\n          };\n        }\n      }\n\n      startIndex = 0;\n    } // Walk forward from startIndex in the playlist, subtracting durations\n    // until we find a segment that contains `time` and return it\n\n\n    for (i = startIndex; i < numSegments; i++) {\n      segment = playlist.segments[i];\n      time -= ceilLeastSignificantDigit(segment.duration);\n\n      if (time < 0) {\n        return {\n          mediaIndex: i,\n          startTime: startTime + sumDurations(playlist, startIndex, i)\n        };\n      }\n    } // We are out of possible candidates so load the last one...\n\n\n    return {\n      mediaIndex: numSegments - 1,\n      startTime: currentTime\n    };\n  };\n  /**\n   * Check whether the playlist is blacklisted or not.\n   *\n   * @param {Object} playlist the media playlist object\n   * @return {boolean} whether the playlist is blacklisted or not\n   * @function isBlacklisted\n   */\n\n\n  var isBlacklisted = function isBlacklisted(playlist) {\n    return playlist.excludeUntil && playlist.excludeUntil > Date.now();\n  };\n  /**\n   * Check whether the playlist is compatible with current playback configuration or has\n   * been blacklisted permanently for being incompatible.\n   *\n   * @param {Object} playlist the media playlist object\n   * @return {boolean} whether the playlist is incompatible or not\n   * @function isIncompatible\n   */\n\n\n  var isIncompatible = function isIncompatible(playlist) {\n    return playlist.excludeUntil && playlist.excludeUntil === Infinity;\n  };\n  /**\n   * Check whether the playlist is enabled or not.\n   *\n   * @param {Object} playlist the media playlist object\n   * @return {boolean} whether the playlist is enabled or not\n   * @function isEnabled\n   */\n\n\n  var isEnabled = function isEnabled(playlist) {\n    var blacklisted = isBlacklisted(playlist);\n    return !playlist.disabled && !blacklisted;\n  };\n  /**\n   * Check whether the playlist has been manually disabled through the representations api.\n   *\n   * @param {Object} playlist the media playlist object\n   * @return {boolean} whether the playlist is disabled manually or not\n   * @function isDisabled\n   */\n\n\n  var isDisabled = function isDisabled(playlist) {\n    return playlist.disabled;\n  };\n  /**\n   * Returns whether the current playlist is an AES encrypted HLS stream\n   *\n   * @return {Boolean} true if it's an AES encrypted HLS stream\n   */\n\n\n  var isAes = function isAes(media) {\n    for (var i = 0; i < media.segments.length; i++) {\n      if (media.segments[i].key) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n  /**\n   * Returns whether the current playlist contains fMP4\n   *\n   * @return {Boolean} true if the playlist contains fMP4\n   */\n\n\n  var isFmp4 = function isFmp4(media) {\n    for (var i = 0; i < media.segments.length; i++) {\n      if (media.segments[i].map) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n  /**\n   * Checks if the playlist has a value for the specified attribute\n   *\n   * @param {String} attr\n   *        Attribute to check for\n   * @param {Object} playlist\n   *        The media playlist object\n   * @return {Boolean}\n   *         Whether the playlist contains a value for the attribute or not\n   * @function hasAttribute\n   */\n\n\n  var hasAttribute = function hasAttribute(attr, playlist) {\n    return playlist.attributes && playlist.attributes[attr];\n  };\n  /**\n   * Estimates the time required to complete a segment download from the specified playlist\n   *\n   * @param {Number} segmentDuration\n   *        Duration of requested segment\n   * @param {Number} bandwidth\n   *        Current measured bandwidth of the player\n   * @param {Object} playlist\n   *        The media playlist object\n   * @param {Number=} bytesReceived\n   *        Number of bytes already received for the request. Defaults to 0\n   * @return {Number|NaN}\n   *         The estimated time to request the segment. NaN if bandwidth information for\n   *         the given playlist is unavailable\n   * @function estimateSegmentRequestTime\n   */\n\n\n  var estimateSegmentRequestTime = function estimateSegmentRequestTime(segmentDuration, bandwidth, playlist) {\n    var bytesReceived = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n    if (!hasAttribute('BANDWIDTH', playlist)) {\n      return NaN;\n    }\n\n    var size = segmentDuration * playlist.attributes.BANDWIDTH;\n    return (size - bytesReceived * 8) / bandwidth;\n  };\n  /*\n   * Returns whether the current playlist is the lowest rendition\n   *\n   * @return {Boolean} true if on lowest rendition\n   */\n\n\n  var isLowestEnabledRendition = function isLowestEnabledRendition(master, media) {\n    if (master.playlists.length === 1) {\n      return true;\n    }\n\n    var currentBandwidth = media.attributes.BANDWIDTH || Number.MAX_VALUE;\n    return master.playlists.filter(function (playlist) {\n      if (!isEnabled(playlist)) {\n        return false;\n      }\n\n      return (playlist.attributes.BANDWIDTH || 0) < currentBandwidth;\n    }).length === 0;\n  }; // exports\n\n\n  var Playlist = {\n    duration: duration,\n    seekable: seekable,\n    safeLiveIndex: safeLiveIndex,\n    getMediaInfoForTime: getMediaInfoForTime,\n    isEnabled: isEnabled,\n    isDisabled: isDisabled,\n    isBlacklisted: isBlacklisted,\n    isIncompatible: isIncompatible,\n    playlistEnd: playlistEnd,\n    isAes: isAes,\n    isFmp4: isFmp4,\n    hasAttribute: hasAttribute,\n    estimateSegmentRequestTime: estimateSegmentRequestTime,\n    isLowestEnabledRendition: isLowestEnabledRendition\n  };\n  /**\n   * @file xhr.js\n   */\n\n  var videojsXHR = videojs$1.xhr,\n      mergeOptions$1$1 = videojs$1.mergeOptions;\n\n  var xhrFactory = function xhrFactory() {\n    var xhr = function XhrFunction(options, callback) {\n      // Add a default timeout for all hls requests\n      options = mergeOptions$1$1({\n        timeout: 45e3\n      }, options); // Allow an optional user-specified function to modify the option\n      // object before we construct the xhr request\n\n      var beforeRequest = XhrFunction.beforeRequest || videojs$1.Hls.xhr.beforeRequest;\n\n      if (beforeRequest && typeof beforeRequest === 'function') {\n        var newOptions = beforeRequest(options);\n\n        if (newOptions) {\n          options = newOptions;\n        }\n      }\n\n      var request = videojsXHR(options, function (error, response) {\n        var reqResponse = request.response;\n\n        if (!error && reqResponse) {\n          request.responseTime = Date.now();\n          request.roundTripTime = request.responseTime - request.requestTime;\n          request.bytesReceived = reqResponse.byteLength || reqResponse.length;\n\n          if (!request.bandwidth) {\n            request.bandwidth = Math.floor(request.bytesReceived / request.roundTripTime * 8 * 1000);\n          }\n        }\n\n        if (response.headers) {\n          request.responseHeaders = response.headers;\n        } // videojs.xhr now uses a specific code on the error\n        // object to signal that a request has timed out instead\n        // of setting a boolean on the request object\n\n\n        if (error && error.code === 'ETIMEDOUT') {\n          request.timedout = true;\n        } // videojs.xhr no longer considers status codes outside of 200 and 0\n        // (for file uris) to be errors, but the old XHR did, so emulate that\n        // behavior. Status 206 may be used in response to byterange requests.\n\n\n        if (!error && !request.aborted && response.statusCode !== 200 && response.statusCode !== 206 && response.statusCode !== 0) {\n          error = new Error('XHR Failed with a response of: ' + (request && (reqResponse || request.responseText)));\n        }\n\n        callback(error, request);\n      });\n      var originalAbort = request.abort;\n\n      request.abort = function () {\n        request.aborted = true;\n        return originalAbort.apply(request, arguments);\n      };\n\n      request.uri = options.uri;\n      request.requestTime = Date.now();\n      return request;\n    };\n\n    return xhr;\n  };\n  /**\n   * Turns segment byterange into a string suitable for use in\n   * HTTP Range requests\n   *\n   * @param {Object} byterange - an object with two values defining the start and end\n   *                             of a byte-range\n   */\n\n\n  var byterangeStr = function byterangeStr(byterange) {\n    var byterangeStart = void 0;\n    var byterangeEnd = void 0; // `byterangeEnd` is one less than `offset + length` because the HTTP range\n    // header uses inclusive ranges\n\n    byterangeEnd = byterange.offset + byterange.length - 1;\n    byterangeStart = byterange.offset;\n    return 'bytes=' + byterangeStart + '-' + byterangeEnd;\n  };\n  /**\n   * Defines headers for use in the xhr request for a particular segment.\n   *\n   * @param {Object} segment - a simplified copy of the segmentInfo object\n   *                           from SegmentLoader\n   */\n\n\n  var segmentXhrHeaders = function segmentXhrHeaders(segment) {\n    var headers = {};\n\n    if (segment.byterange) {\n      headers.Range = byterangeStr(segment.byterange);\n    }\n\n    return headers;\n  };\n  /**\n   * @file bin-utils.js\n   */\n\n  /**\n   * convert a TimeRange to text\n   *\n   * @param {TimeRange} range the timerange to use for conversion\n   * @param {Number} i the iterator on the range to convert\n   */\n\n\n  var textRange = function textRange(range, i) {\n    return range.start(i) + '-' + range.end(i);\n  };\n  /**\n   * format a number as hex string\n   *\n   * @param {Number} e The number\n   * @param {Number} i the iterator\n   */\n\n\n  var formatHexString = function formatHexString(e, i) {\n    var value = e.toString(16);\n    return '00'.substring(0, 2 - value.length) + value + (i % 2 ? ' ' : '');\n  };\n\n  var formatAsciiString = function formatAsciiString(e) {\n    if (e >= 0x20 && e < 0x7e) {\n      return String.fromCharCode(e);\n    }\n\n    return '.';\n  };\n  /**\n   * Creates an object for sending to a web worker modifying properties that are TypedArrays\n   * into a new object with seperated properties for the buffer, byteOffset, and byteLength.\n   *\n   * @param {Object} message\n   *        Object of properties and values to send to the web worker\n   * @return {Object}\n   *         Modified message with TypedArray values expanded\n   * @function createTransferableMessage\n   */\n\n\n  var createTransferableMessage = function createTransferableMessage(message) {\n    var transferable = {};\n    Object.keys(message).forEach(function (key) {\n      var value = message[key];\n\n      if (ArrayBuffer.isView(value)) {\n        transferable[key] = {\n          bytes: value.buffer,\n          byteOffset: value.byteOffset,\n          byteLength: value.byteLength\n        };\n      } else {\n        transferable[key] = value;\n      }\n    });\n    return transferable;\n  };\n  /**\n   * Returns a unique string identifier for a media initialization\n   * segment.\n   */\n\n\n  var initSegmentId = function initSegmentId(initSegment) {\n    var byterange = initSegment.byterange || {\n      length: Infinity,\n      offset: 0\n    };\n    return [byterange.length, byterange.offset, initSegment.resolvedUri].join(',');\n  };\n  /**\n   * Returns a unique string identifier for a media segment key.\n   */\n\n\n  var segmentKeyId = function segmentKeyId(key) {\n    return key.resolvedUri;\n  };\n  /**\n   * utils to help dump binary data to the console\n   */\n\n\n  var hexDump = function hexDump(data) {\n    var bytes = Array.prototype.slice.call(data);\n    var step = 16;\n    var result = '';\n    var hex = void 0;\n    var ascii = void 0;\n\n    for (var j = 0; j < bytes.length / step; j++) {\n      hex = bytes.slice(j * step, j * step + step).map(formatHexString).join('');\n      ascii = bytes.slice(j * step, j * step + step).map(formatAsciiString).join('');\n      result += hex + ' ' + ascii + '\\n';\n    }\n\n    return result;\n  };\n\n  var tagDump = function tagDump(_ref) {\n    var bytes = _ref.bytes;\n    return hexDump(bytes);\n  };\n\n  var textRanges = function textRanges(ranges) {\n    var result = '';\n    var i = void 0;\n\n    for (i = 0; i < ranges.length; i++) {\n      result += textRange(ranges, i) + ' ';\n    }\n\n    return result;\n  };\n\n  var utils$1 =\n  /*#__PURE__*/\n  Object.freeze({\n    createTransferableMessage: createTransferableMessage,\n    initSegmentId: initSegmentId,\n    segmentKeyId: segmentKeyId,\n    hexDump: hexDump,\n    tagDump: tagDump,\n    textRanges: textRanges\n  }); // TODO handle fmp4 case where the timing info is accurate and doesn't involve transmux\n  // Add 25% to the segment duration to account for small discrepencies in segment timing.\n  // 25% was arbitrarily chosen, and may need to be refined over time.\n\n  var SEGMENT_END_FUDGE_PERCENT = 0.25;\n  /**\n   * Converts a player time (any time that can be gotten/set from player.currentTime(),\n   * e.g., any time within player.seekable().start(0) to player.seekable().end(0)) to a\n   * program time (any time referencing the real world (e.g., EXT-X-PROGRAM-DATE-TIME)).\n   *\n   * The containing segment is required as the EXT-X-PROGRAM-DATE-TIME serves as an \"anchor\n   * point\" (a point where we have a mapping from program time to player time, with player\n   * time being the post transmux start of the segment).\n   *\n   * For more details, see [this doc](../../docs/program-time-from-player-time.md).\n   *\n   * @param {Number} playerTime the player time\n   * @param {Object} segment the segment which contains the player time\n   * @return {Date} program time\n   */\n\n  var playerTimeToProgramTime = function playerTimeToProgramTime(playerTime, segment) {\n    if (!segment.dateTimeObject) {\n      // Can't convert without an \"anchor point\" for the program time (i.e., a time that can\n      // be used to map the start of a segment with a real world time).\n      return null;\n    }\n\n    var transmuxerPrependedSeconds = segment.videoTimingInfo.transmuxerPrependedSeconds;\n    var transmuxedStart = segment.videoTimingInfo.transmuxedPresentationStart; // get the start of the content from before old content is prepended\n\n    var startOfSegment = transmuxedStart + transmuxerPrependedSeconds;\n    var offsetFromSegmentStart = playerTime - startOfSegment;\n    return new Date(segment.dateTimeObject.getTime() + offsetFromSegmentStart * 1000);\n  };\n\n  var originalSegmentVideoDuration = function originalSegmentVideoDuration(videoTimingInfo) {\n    return videoTimingInfo.transmuxedPresentationEnd - videoTimingInfo.transmuxedPresentationStart - videoTimingInfo.transmuxerPrependedSeconds;\n  };\n  /**\n   * Finds a segment that contains the time requested given as an ISO-8601 string. The\n   * returned segment might be an estimate or an accurate match.\n   *\n   * @param {String} programTime The ISO-8601 programTime to find a match for\n   * @param {Object} playlist A playlist object to search within\n   */\n\n\n  var findSegmentForProgramTime = function findSegmentForProgramTime(programTime, playlist) {\n    // Assumptions:\n    //  - verifyProgramDateTimeTags has already been run\n    //  - live streams have been started\n    var dateTimeObject = void 0;\n\n    try {\n      dateTimeObject = new Date(programTime);\n    } catch (e) {\n      return null;\n    }\n\n    if (!playlist || !playlist.segments || playlist.segments.length === 0) {\n      return null;\n    }\n\n    var segment = playlist.segments[0];\n\n    if (dateTimeObject < segment.dateTimeObject) {\n      // Requested time is before stream start.\n      return null;\n    }\n\n    for (var i = 0; i < playlist.segments.length - 1; i++) {\n      segment = playlist.segments[i];\n      var nextSegmentStart = playlist.segments[i + 1].dateTimeObject;\n\n      if (dateTimeObject < nextSegmentStart) {\n        break;\n      }\n    }\n\n    var lastSegment = playlist.segments[playlist.segments.length - 1];\n    var lastSegmentStart = lastSegment.dateTimeObject;\n    var lastSegmentDuration = lastSegment.videoTimingInfo ? originalSegmentVideoDuration(lastSegment.videoTimingInfo) : lastSegment.duration + lastSegment.duration * SEGMENT_END_FUDGE_PERCENT;\n    var lastSegmentEnd = new Date(lastSegmentStart.getTime() + lastSegmentDuration * 1000);\n\n    if (dateTimeObject > lastSegmentEnd) {\n      // Beyond the end of the stream, or our best guess of the end of the stream.\n      return null;\n    }\n\n    if (dateTimeObject > lastSegmentStart) {\n      segment = lastSegment;\n    }\n\n    return {\n      segment: segment,\n      estimatedStart: segment.videoTimingInfo ? segment.videoTimingInfo.transmuxedPresentationStart : Playlist.duration(playlist, playlist.mediaSequence + playlist.segments.indexOf(segment)),\n      // Although, given that all segments have accurate date time objects, the segment\n      // selected should be accurate, unless the video has been transmuxed at some point\n      // (determined by the presence of the videoTimingInfo object), the segment's \"player\n      // time\" (the start time in the player) can't be considered accurate.\n      type: segment.videoTimingInfo ? 'accurate' : 'estimate'\n    };\n  };\n  /**\n   * Finds a segment that contains the given player time(in seconds).\n   *\n   * @param {Number} time The player time to find a match for\n   * @param {Object} playlist A playlist object to search within\n   */\n\n\n  var findSegmentForPlayerTime = function findSegmentForPlayerTime(time, playlist) {\n    // Assumptions:\n    // - there will always be a segment.duration\n    // - we can start from zero\n    // - segments are in time order\n    if (!playlist || !playlist.segments || playlist.segments.length === 0) {\n      return null;\n    }\n\n    var segmentEnd = 0;\n    var segment = void 0;\n\n    for (var i = 0; i < playlist.segments.length; i++) {\n      segment = playlist.segments[i]; // videoTimingInfo is set after the segment is downloaded and transmuxed, and\n      // should contain the most accurate values we have for the segment's player times.\n      //\n      // Use the accurate transmuxedPresentationEnd value if it is available, otherwise fall\n      // back to an estimate based on the manifest derived (inaccurate) segment.duration, to\n      // calculate an end value.\n\n      segmentEnd = segment.videoTimingInfo ? segment.videoTimingInfo.transmuxedPresentationEnd : segmentEnd + segment.duration;\n\n      if (time <= segmentEnd) {\n        break;\n      }\n    }\n\n    var lastSegment = playlist.segments[playlist.segments.length - 1];\n\n    if (lastSegment.videoTimingInfo && lastSegment.videoTimingInfo.transmuxedPresentationEnd < time) {\n      // The time requested is beyond the stream end.\n      return null;\n    }\n\n    if (time > segmentEnd) {\n      // The time is within or beyond the last segment.\n      //\n      // Check to see if the time is beyond a reasonable guess of the end of the stream.\n      if (time > segmentEnd + lastSegment.duration * SEGMENT_END_FUDGE_PERCENT) {\n        // Technically, because the duration value is only an estimate, the time may still\n        // exist in the last segment, however, there isn't enough information to make even\n        // a reasonable estimate.\n        return null;\n      }\n\n      segment = lastSegment;\n    }\n\n    return {\n      segment: segment,\n      estimatedStart: segment.videoTimingInfo ? segment.videoTimingInfo.transmuxedPresentationStart : segmentEnd - segment.duration,\n      // Because videoTimingInfo is only set after transmux, it is the only way to get\n      // accurate timing values.\n      type: segment.videoTimingInfo ? 'accurate' : 'estimate'\n    };\n  };\n  /**\n   * Gives the offset of the comparisonTimestamp from the programTime timestamp in seconds.\n   * If the offset returned is positive, the programTime occurs after the\n   * comparisonTimestamp.\n   * If the offset is negative, the programTime occurs before the comparisonTimestamp.\n   *\n   * @param {String} comparisonTimeStamp An ISO-8601 timestamp to compare against\n   * @param {String} programTime The programTime as an ISO-8601 string\n   * @return {Number} offset\n   */\n\n\n  var getOffsetFromTimestamp = function getOffsetFromTimestamp(comparisonTimeStamp, programTime) {\n    var segmentDateTime = void 0;\n    var programDateTime = void 0;\n\n    try {\n      segmentDateTime = new Date(comparisonTimeStamp);\n      programDateTime = new Date(programTime);\n    } catch (e) {// TODO handle error\n    }\n\n    var segmentTimeEpoch = segmentDateTime.getTime();\n    var programTimeEpoch = programDateTime.getTime();\n    return (programTimeEpoch - segmentTimeEpoch) / 1000;\n  };\n  /**\n   * Checks that all segments in this playlist have programDateTime tags.\n   *\n   * @param {Object} playlist A playlist object\n   */\n\n\n  var verifyProgramDateTimeTags = function verifyProgramDateTimeTags(playlist) {\n    if (!playlist.segments || playlist.segments.length === 0) {\n      return false;\n    }\n\n    for (var i = 0; i < playlist.segments.length; i++) {\n      var segment = playlist.segments[i];\n\n      if (!segment.dateTimeObject) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n  /**\n   * Returns the programTime of the media given a playlist and a playerTime.\n   * The playlist must have programDateTime tags for a programDateTime tag to be returned.\n   * If the segments containing the time requested have not been buffered yet, an estimate\n   * may be returned to the callback.\n   *\n   * @param {Object} args\n   * @param {Object} args.playlist A playlist object to search within\n   * @param {Number} time A playerTime in seconds\n   * @param {Function} callback(err, programTime)\n   * @returns {String} err.message A detailed error message\n   * @returns {Object} programTime\n   * @returns {Number} programTime.mediaSeconds The streamTime in seconds\n   * @returns {String} programTime.programDateTime The programTime as an ISO-8601 String\n   */\n\n\n  var getProgramTime = function getProgramTime(_ref) {\n    var playlist = _ref.playlist,\n        _ref$time = _ref.time,\n        time = _ref$time === undefined ? undefined : _ref$time,\n        callback = _ref.callback;\n\n    if (!callback) {\n      throw new Error('getProgramTime: callback must be provided');\n    }\n\n    if (!playlist || time === undefined) {\n      return callback({\n        message: 'getProgramTime: playlist and time must be provided'\n      });\n    }\n\n    var matchedSegment = findSegmentForPlayerTime(time, playlist);\n\n    if (!matchedSegment) {\n      return callback({\n        message: 'valid programTime was not found'\n      });\n    }\n\n    if (matchedSegment.type === 'estimate') {\n      return callback({\n        message: 'Accurate programTime could not be determined.' + ' Please seek to e.seekTime and try again',\n        seekTime: matchedSegment.estimatedStart\n      });\n    }\n\n    var programTimeObject = {\n      mediaSeconds: time\n    };\n    var programTime = playerTimeToProgramTime(time, matchedSegment.segment);\n\n    if (programTime) {\n      programTimeObject.programDateTime = programTime.toISOString();\n    }\n\n    return callback(null, programTimeObject);\n  };\n  /**\n   * Seeks in the player to a time that matches the given programTime ISO-8601 string.\n   *\n   * @param {Object} args\n   * @param {String} args.programTime A programTime to seek to as an ISO-8601 String\n   * @param {Object} args.playlist A playlist to look within\n   * @param {Number} args.retryCount The number of times to try for an accurate seek. Default is 2.\n   * @param {Function} args.seekTo A method to perform a seek\n   * @param {Boolean} args.pauseAfterSeek Whether to end in a paused state after seeking. Default is true.\n   * @param {Object} args.tech The tech to seek on\n   * @param {Function} args.callback(err, newTime) A callback to return the new time to\n   * @returns {String} err.message A detailed error message\n   * @returns {Number} newTime The exact time that was seeked to in seconds\n   */\n\n\n  var seekToProgramTime = function seekToProgramTime(_ref2) {\n    var programTime = _ref2.programTime,\n        playlist = _ref2.playlist,\n        _ref2$retryCount = _ref2.retryCount,\n        retryCount = _ref2$retryCount === undefined ? 2 : _ref2$retryCount,\n        seekTo = _ref2.seekTo,\n        _ref2$pauseAfterSeek = _ref2.pauseAfterSeek,\n        pauseAfterSeek = _ref2$pauseAfterSeek === undefined ? true : _ref2$pauseAfterSeek,\n        tech = _ref2.tech,\n        callback = _ref2.callback;\n\n    if (!callback) {\n      throw new Error('seekToProgramTime: callback must be provided');\n    }\n\n    if (typeof programTime === 'undefined' || !playlist || !seekTo) {\n      return callback({\n        message: 'seekToProgramTime: programTime, seekTo and playlist must be provided'\n      });\n    }\n\n    if (!playlist.endList && !tech.hasStarted_) {\n      return callback({\n        message: 'player must be playing a live stream to start buffering'\n      });\n    }\n\n    if (!verifyProgramDateTimeTags(playlist)) {\n      return callback({\n        message: 'programDateTime tags must be provided in the manifest ' + playlist.resolvedUri\n      });\n    }\n\n    var matchedSegment = findSegmentForProgramTime(programTime, playlist); // no match\n\n    if (!matchedSegment) {\n      return callback({\n        message: programTime + ' was not found in the stream'\n      });\n    }\n\n    var segment = matchedSegment.segment;\n    var mediaOffset = getOffsetFromTimestamp(segment.dateTimeObject, programTime);\n\n    if (matchedSegment.type === 'estimate') {\n      // we've run out of retries\n      if (retryCount === 0) {\n        return callback({\n          message: programTime + ' is not buffered yet. Try again'\n        });\n      }\n\n      seekTo(matchedSegment.estimatedStart + mediaOffset);\n      tech.one('seeked', function () {\n        seekToProgramTime({\n          programTime: programTime,\n          playlist: playlist,\n          retryCount: retryCount - 1,\n          seekTo: seekTo,\n          pauseAfterSeek: pauseAfterSeek,\n          tech: tech,\n          callback: callback\n        });\n      });\n      return;\n    } // Since the segment.start value is determined from the buffered end or ending time\n    // of the prior segment, the seekToTime doesn't need to account for any transmuxer\n    // modifications.\n\n\n    var seekToTime = segment.start + mediaOffset;\n\n    var seekedCallback = function seekedCallback() {\n      return callback(null, tech.currentTime());\n    }; // listen for seeked event\n\n\n    tech.one('seeked', seekedCallback); // pause before seeking as video.js will restore this state\n\n    if (pauseAfterSeek) {\n      tech.pause();\n    }\n\n    seekTo(seekToTime);\n  };\n  /**\n   * ranges\n   *\n   * Utilities for working with TimeRanges.\n   *\n   */\n  // Fudge factor to account for TimeRanges rounding\n\n\n  var TIME_FUDGE_FACTOR = 1 / 30; // Comparisons between time values such as current time and the end of the buffered range\n  // can be misleading because of precision differences or when the current media has poorly\n  // aligned audio and video, which can cause values to be slightly off from what you would\n  // expect. This value is what we consider to be safe to use in such comparisons to account\n  // for these scenarios.\n\n  var SAFE_TIME_DELTA = TIME_FUDGE_FACTOR * 3;\n\n  var filterRanges = function filterRanges(timeRanges, predicate) {\n    var results = [];\n    var i = void 0;\n\n    if (timeRanges && timeRanges.length) {\n      // Search for ranges that match the predicate\n      for (i = 0; i < timeRanges.length; i++) {\n        if (predicate(timeRanges.start(i), timeRanges.end(i))) {\n          results.push([timeRanges.start(i), timeRanges.end(i)]);\n        }\n      }\n    }\n\n    return videojs$1.createTimeRanges(results);\n  };\n  /**\n   * Attempts to find the buffered TimeRange that contains the specified\n   * time.\n   * @param {TimeRanges} buffered - the TimeRanges object to query\n   * @param {number} time  - the time to filter on.\n   * @returns {TimeRanges} a new TimeRanges object\n   */\n\n\n  var findRange = function findRange(buffered, time) {\n    return filterRanges(buffered, function (start, end) {\n      return start - SAFE_TIME_DELTA <= time && end + SAFE_TIME_DELTA >= time;\n    });\n  };\n  /**\n   * Returns the TimeRanges that begin later than the specified time.\n   * @param {TimeRanges} timeRanges - the TimeRanges object to query\n   * @param {number} time - the time to filter on.\n   * @returns {TimeRanges} a new TimeRanges object.\n   */\n\n\n  var findNextRange = function findNextRange(timeRanges, time) {\n    return filterRanges(timeRanges, function (start) {\n      return start - TIME_FUDGE_FACTOR >= time;\n    });\n  };\n  /**\n   * Returns gaps within a list of TimeRanges\n   * @param {TimeRanges} buffered - the TimeRanges object\n   * @return {TimeRanges} a TimeRanges object of gaps\n   */\n\n\n  var findGaps = function findGaps(buffered) {\n    if (buffered.length < 2) {\n      return videojs$1.createTimeRanges();\n    }\n\n    var ranges = [];\n\n    for (var i = 1; i < buffered.length; i++) {\n      var start = buffered.end(i - 1);\n      var end = buffered.start(i);\n      ranges.push([start, end]);\n    }\n\n    return videojs$1.createTimeRanges(ranges);\n  };\n  /**\n   * Gets a human readable string for a TimeRange\n   *\n   * @param {TimeRange} range\n   * @returns {String} a human readable string\n   */\n\n\n  var printableRange = function printableRange(range) {\n    var strArr = [];\n\n    if (!range || !range.length) {\n      return '';\n    }\n\n    for (var i = 0; i < range.length; i++) {\n      strArr.push(range.start(i) + ' => ' + range.end(i));\n    }\n\n    return strArr.join(', ');\n  };\n  /**\n   * Calculates the amount of time left in seconds until the player hits the end of the\n   * buffer and causes a rebuffer\n   *\n   * @param {TimeRange} buffered\n   *        The state of the buffer\n   * @param {Numnber} currentTime\n   *        The current time of the player\n   * @param {Number} playbackRate\n   *        The current playback rate of the player. Defaults to 1.\n   * @return {Number}\n   *         Time until the player has to start rebuffering in seconds.\n   * @function timeUntilRebuffer\n   */\n\n\n  var timeUntilRebuffer = function timeUntilRebuffer(buffered, currentTime) {\n    var playbackRate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var bufferedEnd = buffered.length ? buffered.end(buffered.length - 1) : 0;\n    return (bufferedEnd - currentTime) / playbackRate;\n  };\n  /**\n   * Converts a TimeRanges object into an array representation\n   * @param {TimeRanges} timeRanges\n   * @returns {Array}\n   */\n\n\n  var timeRangesToArray = function timeRangesToArray(timeRanges) {\n    var timeRangesList = [];\n\n    for (var i = 0; i < timeRanges.length; i++) {\n      timeRangesList.push({\n        start: timeRanges.start(i),\n        end: timeRanges.end(i)\n      });\n    }\n\n    return timeRangesList;\n  };\n  /**\n   * @file create-text-tracks-if-necessary.js\n   */\n\n  /**\n   * Create text tracks on video.js if they exist on a segment.\n   *\n   * @param {Object} sourceBuffer the VSB or FSB\n   * @param {Object} mediaSource the HTML media source\n   * @param {Object} segment the segment that may contain the text track\n   * @private\n   */\n\n\n  var createTextTracksIfNecessary = function createTextTracksIfNecessary(sourceBuffer, mediaSource, segment) {\n    var player = mediaSource.player_; // create an in-band caption track if one is present in the segment\n\n    if (segment.captions && segment.captions.length) {\n      if (!sourceBuffer.inbandTextTracks_) {\n        sourceBuffer.inbandTextTracks_ = {};\n      }\n\n      for (var trackId in segment.captionStreams) {\n        if (!sourceBuffer.inbandTextTracks_[trackId]) {\n          player.tech_.trigger({\n            type: 'usage',\n            name: 'hls-608'\n          });\n          var track = player.textTracks().getTrackById(trackId);\n\n          if (track) {\n            // Resuse an existing track with a CC# id because this was\n            // very likely created by videojs-contrib-hls from information\n            // in the m3u8 for us to use\n            sourceBuffer.inbandTextTracks_[trackId] = track;\n          } else {\n            // Otherwise, create a track with the default `CC#` label and\n            // without a language\n            sourceBuffer.inbandTextTracks_[trackId] = player.addRemoteTextTrack({\n              kind: 'captions',\n              id: trackId,\n              label: trackId\n            }, false).track;\n          }\n        }\n      }\n    }\n\n    if (segment.metadata && segment.metadata.length && !sourceBuffer.metadataTrack_) {\n      sourceBuffer.metadataTrack_ = player.addRemoteTextTrack({\n        kind: 'metadata',\n        label: 'Timed Metadata'\n      }, false).track;\n      sourceBuffer.metadataTrack_.inBandMetadataTrackDispatchType = segment.metadata.dispatchType;\n    }\n  };\n  /**\n   * @file remove-cues-from-track.js\n   */\n\n  /**\n   * Remove cues from a track on video.js.\n   *\n   * @param {Double} start start of where we should remove the cue\n   * @param {Double} end end of where the we should remove the cue\n   * @param {Object} track the text track to remove the cues from\n   * @private\n   */\n\n\n  var removeCuesFromTrack = function removeCuesFromTrack(start, end, track) {\n    var i = void 0;\n    var cue = void 0;\n\n    if (!track) {\n      return;\n    }\n\n    if (!track.cues) {\n      return;\n    }\n\n    i = track.cues.length;\n\n    while (i--) {\n      cue = track.cues[i]; // Remove any overlapping cue\n\n      if (cue.startTime <= end && cue.endTime >= start) {\n        track.removeCue(cue);\n      }\n    }\n  };\n  /**\n   * @file add-text-track-data.js\n   */\n\n  /**\n   * Define properties on a cue for backwards compatability,\n   * but warn the user that the way that they are using it\n   * is depricated and will be removed at a later date.\n   *\n   * @param {Cue} cue the cue to add the properties on\n   * @private\n   */\n\n\n  var deprecateOldCue = function deprecateOldCue(cue) {\n    Object.defineProperties(cue.frame, {\n      id: {\n        get: function get() {\n          videojs$1.log.warn('cue.frame.id is deprecated. Use cue.value.key instead.');\n          return cue.value.key;\n        }\n      },\n      value: {\n        get: function get() {\n          videojs$1.log.warn('cue.frame.value is deprecated. Use cue.value.data instead.');\n          return cue.value.data;\n        }\n      },\n      privateData: {\n        get: function get() {\n          videojs$1.log.warn('cue.frame.privateData is deprecated. Use cue.value.data instead.');\n          return cue.value.data;\n        }\n      }\n    });\n  };\n\n  var durationOfVideo = function durationOfVideo(duration) {\n    var dur = void 0;\n\n    if (isNaN(duration) || Math.abs(duration) === Infinity) {\n      dur = Number.MAX_VALUE;\n    } else {\n      dur = duration;\n    }\n\n    return dur;\n  };\n  /**\n   * Add text track data to a source handler given the captions and\n   * metadata from the buffer.\n   *\n   * @param {Object} sourceHandler the virtual source buffer\n   * @param {Array} captionArray an array of caption data\n   * @param {Array} metadataArray an array of meta data\n   * @private\n   */\n\n\n  var addTextTrackData = function addTextTrackData(sourceHandler, captionArray, metadataArray) {\n    var Cue = window$1.WebKitDataCue || window$1.VTTCue;\n\n    if (captionArray) {\n      captionArray.forEach(function (caption) {\n        var track = caption.stream;\n        this.inbandTextTracks_[track].addCue(new Cue(caption.startTime + this.timestampOffset, caption.endTime + this.timestampOffset, caption.text));\n      }, sourceHandler);\n    }\n\n    if (metadataArray) {\n      var videoDuration = durationOfVideo(sourceHandler.mediaSource_.duration);\n      metadataArray.forEach(function (metadata) {\n        var time = metadata.cueTime + this.timestampOffset; // if time isn't a finite number between 0 and Infinity, like NaN,\n        // ignore this bit of metadata.\n        // This likely occurs when you have an non-timed ID3 tag like TIT2,\n        // which is the \"Title/Songname/Content description\" frame\n\n        if (typeof time !== 'number' || window$1.isNaN(time) || time < 0 || !(time < Infinity)) {\n          return;\n        }\n\n        metadata.frames.forEach(function (frame) {\n          var cue = new Cue(time, time, frame.value || frame.url || frame.data || '');\n          cue.frame = frame;\n          cue.value = frame;\n          deprecateOldCue(cue);\n          this.metadataTrack_.addCue(cue);\n        }, this);\n      }, sourceHandler); // Updating the metadeta cues so that\n      // the endTime of each cue is the startTime of the next cue\n      // the endTime of last cue is the duration of the video\n\n      if (sourceHandler.metadataTrack_ && sourceHandler.metadataTrack_.cues && sourceHandler.metadataTrack_.cues.length) {\n        var cues = sourceHandler.metadataTrack_.cues;\n        var cuesArray = []; // Create a copy of the TextTrackCueList...\n        // ...disregarding cues with a falsey value\n\n        for (var i = 0; i < cues.length; i++) {\n          if (cues[i]) {\n            cuesArray.push(cues[i]);\n          }\n        } // Group cues by their startTime value\n\n\n        var cuesGroupedByStartTime = cuesArray.reduce(function (obj, cue) {\n          var timeSlot = obj[cue.startTime] || [];\n          timeSlot.push(cue);\n          obj[cue.startTime] = timeSlot;\n          return obj;\n        }, {}); // Sort startTimes by ascending order\n\n        var sortedStartTimes = Object.keys(cuesGroupedByStartTime).sort(function (a, b) {\n          return Number(a) - Number(b);\n        }); // Map each cue group's endTime to the next group's startTime\n\n        sortedStartTimes.forEach(function (startTime, idx) {\n          var cueGroup = cuesGroupedByStartTime[startTime];\n          var nextTime = Number(sortedStartTimes[idx + 1]) || videoDuration; // Map each cue's endTime the next group's startTime\n\n          cueGroup.forEach(function (cue) {\n            cue.endTime = nextTime;\n          });\n        });\n      }\n    }\n  };\n\n  var win = typeof window !== 'undefined' ? window : {},\n      TARGET = typeof Symbol === 'undefined' ? '__target' : Symbol(),\n      SCRIPT_TYPE = 'application/javascript',\n      BlobBuilder = win.BlobBuilder || win.WebKitBlobBuilder || win.MozBlobBuilder || win.MSBlobBuilder,\n      URL = win.URL || win.webkitURL || URL && URL.msURL,\n      Worker = win.Worker;\n  /**\n   * Returns a wrapper around Web Worker code that is constructible.\n   *\n   * @function shimWorker\n   *\n   * @param { String }    filename    The name of the file\n   * @param { Function }  fn          Function wrapping the code of the worker\n   */\n\n  function shimWorker(filename, fn) {\n    return function ShimWorker(forceFallback) {\n      var o = this;\n\n      if (!fn) {\n        return new Worker(filename);\n      } else if (Worker && !forceFallback) {\n        // Convert the function's inner code to a string to construct the worker\n        var source = fn.toString().replace(/^function.+?{/, '').slice(0, -1),\n            objURL = createSourceObject(source);\n        this[TARGET] = new Worker(objURL);\n        wrapTerminate(this[TARGET], objURL);\n        return this[TARGET];\n      } else {\n        var selfShim = {\n          postMessage: function postMessage(m) {\n            if (o.onmessage) {\n              setTimeout(function () {\n                o.onmessage({\n                  data: m,\n                  target: selfShim\n                });\n              });\n            }\n          }\n        };\n        fn.call(selfShim);\n\n        this.postMessage = function (m) {\n          setTimeout(function () {\n            selfShim.onmessage({\n              data: m,\n              target: o\n            });\n          });\n        };\n\n        this.isThisThread = true;\n      }\n    };\n  } // Test Worker capabilities\n\n\n  if (Worker) {\n    var testWorker,\n        objURL = createSourceObject('self.onmessage = function () {}'),\n        testArray = new Uint8Array(1);\n\n    try {\n      testWorker = new Worker(objURL); // Native browser on some Samsung devices throws for transferables, let's detect it\n\n      testWorker.postMessage(testArray, [testArray.buffer]);\n    } catch (e) {\n      Worker = null;\n    } finally {\n      URL.revokeObjectURL(objURL);\n\n      if (testWorker) {\n        testWorker.terminate();\n      }\n    }\n  }\n\n  function createSourceObject(str) {\n    try {\n      return URL.createObjectURL(new Blob([str], {\n        type: SCRIPT_TYPE\n      }));\n    } catch (e) {\n      var blob = new BlobBuilder();\n      blob.append(str);\n      return URL.createObjectURL(blob.getBlob(type));\n    }\n  }\n\n  function wrapTerminate(worker, objURL) {\n    if (!worker || !objURL) return;\n    var term = worker.terminate;\n    worker.objURL = objURL;\n\n    worker.terminate = function () {\n      if (worker.objURL) URL.revokeObjectURL(worker.objURL);\n      term.call(worker);\n    };\n  }\n\n  var TransmuxWorker = new shimWorker(\"./transmuxer-worker.worker.js\", function (window, document$$1) {\n    var self = this;\n\n    var transmuxerWorker = function () {\n      /**\n       * mux.js\n       *\n       * Copyright (c) Brightcove\n       * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n       *\n       * A lightweight readable stream implemention that handles event dispatching.\n       * Objects that inherit from streams should call init in their constructors.\n       */\n      var Stream = function Stream() {\n        this.init = function () {\n          var listeners = {};\n          /**\n           * Add a listener for a specified event type.\n           * @param type {string} the event name\n           * @param listener {function} the callback to be invoked when an event of\n           * the specified type occurs\n           */\n\n          this.on = function (type, listener) {\n            if (!listeners[type]) {\n              listeners[type] = [];\n            }\n\n            listeners[type] = listeners[type].concat(listener);\n          };\n          /**\n           * Remove a listener for a specified event type.\n           * @param type {string} the event name\n           * @param listener {function} a function previously registered for this\n           * type of event through `on`\n           */\n\n\n          this.off = function (type, listener) {\n            var index;\n\n            if (!listeners[type]) {\n              return false;\n            }\n\n            index = listeners[type].indexOf(listener);\n            listeners[type] = listeners[type].slice();\n            listeners[type].splice(index, 1);\n            return index > -1;\n          };\n          /**\n           * Trigger an event of the specified type on this stream. Any additional\n           * arguments to this function are passed as parameters to event listeners.\n           * @param type {string} the event name\n           */\n\n\n          this.trigger = function (type) {\n            var callbacks, i, length, args;\n            callbacks = listeners[type];\n\n            if (!callbacks) {\n              return;\n            } // Slicing the arguments on every invocation of this method\n            // can add a significant amount of overhead. Avoid the\n            // intermediate object creation for the common case of a\n            // single callback argument\n\n\n            if (arguments.length === 2) {\n              length = callbacks.length;\n\n              for (i = 0; i < length; ++i) {\n                callbacks[i].call(this, arguments[1]);\n              }\n            } else {\n              args = [];\n              i = arguments.length;\n\n              for (i = 1; i < arguments.length; ++i) {\n                args.push(arguments[i]);\n              }\n\n              length = callbacks.length;\n\n              for (i = 0; i < length; ++i) {\n                callbacks[i].apply(this, args);\n              }\n            }\n          };\n          /**\n           * Destroys the stream and cleans up.\n           */\n\n\n          this.dispose = function () {\n            listeners = {};\n          };\n        };\n      };\n      /**\n       * Forwards all `data` events on this stream to the destination stream. The\n       * destination stream should provide a method `push` to receive the data\n       * events as they arrive.\n       * @param destination {stream} the stream that will receive all `data` events\n       * @param autoFlush {boolean} if false, we will not call `flush` on the destination\n       *                            when the current stream emits a 'done' event\n       * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n       */\n\n\n      Stream.prototype.pipe = function (destination) {\n        this.on('data', function (data) {\n          destination.push(data);\n        });\n        this.on('done', function (flushSource) {\n          destination.flush(flushSource);\n        });\n        this.on('partialdone', function (flushSource) {\n          destination.partialFlush(flushSource);\n        });\n        this.on('endedtimeline', function (flushSource) {\n          destination.endTimeline(flushSource);\n        });\n        this.on('reset', function (flushSource) {\n          destination.reset(flushSource);\n        });\n        return destination;\n      }; // Default stream functions that are expected to be overridden to perform\n      // actual work. These are provided by the prototype as a sort of no-op\n      // implementation so that we don't have to check for their existence in the\n      // `pipe` function above.\n\n\n      Stream.prototype.push = function (data) {\n        this.trigger('data', data);\n      };\n\n      Stream.prototype.flush = function (flushSource) {\n        this.trigger('done', flushSource);\n      };\n\n      Stream.prototype.partialFlush = function (flushSource) {\n        this.trigger('partialdone', flushSource);\n      };\n\n      Stream.prototype.endTimeline = function (flushSource) {\n        this.trigger('endedtimeline', flushSource);\n      };\n\n      Stream.prototype.reset = function (flushSource) {\n        this.trigger('reset', flushSource);\n      };\n\n      var stream = Stream;\n      /**\n       * mux.js\n       *\n       * Copyright (c) Brightcove\n       * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n       *\n       * Functions that generate fragmented MP4s suitable for use with Media\n       * Source Extensions.\n       */\n\n      var UINT32_MAX = Math.pow(2, 32) - 1;\n      var box, dinf, esds, ftyp, mdat, mfhd, minf, moof, moov, mvex, mvhd, trak, tkhd, mdia, mdhd, hdlr, sdtp, stbl, stsd, traf, trex, trun, types, MAJOR_BRAND, MINOR_VERSION, AVC1_BRAND, VIDEO_HDLR, AUDIO_HDLR, HDLR_TYPES, VMHD, SMHD, DREF, STCO, STSC, STSZ, STTS; // pre-calculate constants\n\n      (function () {\n        var i;\n        types = {\n          avc1: [],\n          // codingname\n          avcC: [],\n          btrt: [],\n          dinf: [],\n          dref: [],\n          esds: [],\n          ftyp: [],\n          hdlr: [],\n          mdat: [],\n          mdhd: [],\n          mdia: [],\n          mfhd: [],\n          minf: [],\n          moof: [],\n          moov: [],\n          mp4a: [],\n          // codingname\n          mvex: [],\n          mvhd: [],\n          pasp: [],\n          sdtp: [],\n          smhd: [],\n          stbl: [],\n          stco: [],\n          stsc: [],\n          stsd: [],\n          stsz: [],\n          stts: [],\n          styp: [],\n          tfdt: [],\n          tfhd: [],\n          traf: [],\n          trak: [],\n          trun: [],\n          trex: [],\n          tkhd: [],\n          vmhd: []\n        }; // In environments where Uint8Array is undefined (e.g., IE8), skip set up so that we\n        // don't throw an error\n\n        if (typeof Uint8Array === 'undefined') {\n          return;\n        }\n\n        for (i in types) {\n          if (types.hasOwnProperty(i)) {\n            types[i] = [i.charCodeAt(0), i.charCodeAt(1), i.charCodeAt(2), i.charCodeAt(3)];\n          }\n        }\n\n        MAJOR_BRAND = new Uint8Array(['i'.charCodeAt(0), 's'.charCodeAt(0), 'o'.charCodeAt(0), 'm'.charCodeAt(0)]);\n        AVC1_BRAND = new Uint8Array(['a'.charCodeAt(0), 'v'.charCodeAt(0), 'c'.charCodeAt(0), '1'.charCodeAt(0)]);\n        MINOR_VERSION = new Uint8Array([0, 0, 0, 1]);\n        VIDEO_HDLR = new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x00, // pre_defined\n        0x76, 0x69, 0x64, 0x65, // handler_type: 'vide'\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x56, 0x69, 0x64, 0x65, 0x6f, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'VideoHandler'\n        ]);\n        AUDIO_HDLR = new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x00, // pre_defined\n        0x73, 0x6f, 0x75, 0x6e, // handler_type: 'soun'\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x53, 0x6f, 0x75, 0x6e, 0x64, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'SoundHandler'\n        ]);\n        HDLR_TYPES = {\n          video: VIDEO_HDLR,\n          audio: AUDIO_HDLR\n        };\n        DREF = new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x01, // entry_count\n        0x00, 0x00, 0x00, 0x0c, // entry_size\n        0x75, 0x72, 0x6c, 0x20, // 'url' type\n        0x00, // version 0\n        0x00, 0x00, 0x01 // entry_flags\n        ]);\n        SMHD = new Uint8Array([0x00, // version\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, // balance, 0 means centered\n        0x00, 0x00 // reserved\n        ]);\n        STCO = new Uint8Array([0x00, // version\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x00 // entry_count\n        ]);\n        STSC = STCO;\n        STSZ = new Uint8Array([0x00, // version\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x00, // sample_size\n        0x00, 0x00, 0x00, 0x00 // sample_count\n        ]);\n        STTS = STCO;\n        VMHD = new Uint8Array([0x00, // version\n        0x00, 0x00, 0x01, // flags\n        0x00, 0x00, // graphicsmode\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00 // opcolor\n        ]);\n      })();\n\n      box = function box(type) {\n        var payload = [],\n            size = 0,\n            i,\n            result,\n            view;\n\n        for (i = 1; i < arguments.length; i++) {\n          payload.push(arguments[i]);\n        }\n\n        i = payload.length; // calculate the total size we need to allocate\n\n        while (i--) {\n          size += payload[i].byteLength;\n        }\n\n        result = new Uint8Array(size + 8);\n        view = new DataView(result.buffer, result.byteOffset, result.byteLength);\n        view.setUint32(0, result.byteLength);\n        result.set(type, 4); // copy the payload into the result\n\n        for (i = 0, size = 8; i < payload.length; i++) {\n          result.set(payload[i], size);\n          size += payload[i].byteLength;\n        }\n\n        return result;\n      };\n\n      dinf = function dinf() {\n        return box(types.dinf, box(types.dref, DREF));\n      };\n\n      esds = function esds(track) {\n        return box(types.esds, new Uint8Array([0x00, // version\n        0x00, 0x00, 0x00, // flags\n        // ES_Descriptor\n        0x03, // tag, ES_DescrTag\n        0x19, // length\n        0x00, 0x00, // ES_ID\n        0x00, // streamDependenceFlag, URL_flag, reserved, streamPriority\n        // DecoderConfigDescriptor\n        0x04, // tag, DecoderConfigDescrTag\n        0x11, // length\n        0x40, // object type\n        0x15, // streamType\n        0x00, 0x06, 0x00, // bufferSizeDB\n        0x00, 0x00, 0xda, 0xc0, // maxBitrate\n        0x00, 0x00, 0xda, 0xc0, // avgBitrate\n        // DecoderSpecificInfo\n        0x05, // tag, DecoderSpecificInfoTag\n        0x02, // length\n        // ISO/IEC 14496-3, AudioSpecificConfig\n        // for samplingFrequencyIndex see ISO/IEC 13818-7:2006, 8.1.3.2.2, Table 35\n        track.audioobjecttype << 3 | track.samplingfrequencyindex >>> 1, track.samplingfrequencyindex << 7 | track.channelcount << 3, 0x06, 0x01, 0x02 // GASpecificConfig\n        ]));\n      };\n\n      ftyp = function ftyp() {\n        return box(types.ftyp, MAJOR_BRAND, MINOR_VERSION, MAJOR_BRAND, AVC1_BRAND);\n      };\n\n      hdlr = function hdlr(type) {\n        return box(types.hdlr, HDLR_TYPES[type]);\n      };\n\n      mdat = function mdat(data) {\n        return box(types.mdat, data);\n      };\n\n      mdhd = function mdhd(track) {\n        var result = new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x02, // creation_time\n        0x00, 0x00, 0x00, 0x03, // modification_time\n        0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\n        track.duration >>> 24 & 0xFF, track.duration >>> 16 & 0xFF, track.duration >>> 8 & 0xFF, track.duration & 0xFF, // duration\n        0x55, 0xc4, // 'und' language (undetermined)\n        0x00, 0x00]); // Use the sample rate from the track metadata, when it is\n        // defined. The sample rate can be parsed out of an ADTS header, for\n        // instance.\n\n        if (track.samplerate) {\n          result[12] = track.samplerate >>> 24 & 0xFF;\n          result[13] = track.samplerate >>> 16 & 0xFF;\n          result[14] = track.samplerate >>> 8 & 0xFF;\n          result[15] = track.samplerate & 0xFF;\n        }\n\n        return box(types.mdhd, result);\n      };\n\n      mdia = function mdia(track) {\n        return box(types.mdia, mdhd(track), hdlr(track.type), minf(track));\n      };\n\n      mfhd = function mfhd(sequenceNumber) {\n        return box(types.mfhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // flags\n        (sequenceNumber & 0xFF000000) >> 24, (sequenceNumber & 0xFF0000) >> 16, (sequenceNumber & 0xFF00) >> 8, sequenceNumber & 0xFF // sequence_number\n        ]));\n      };\n\n      minf = function minf(track) {\n        return box(types.minf, track.type === 'video' ? box(types.vmhd, VMHD) : box(types.smhd, SMHD), dinf(), stbl(track));\n      };\n\n      moof = function moof(sequenceNumber, tracks) {\n        var trackFragments = [],\n            i = tracks.length; // build traf boxes for each track fragment\n\n        while (i--) {\n          trackFragments[i] = traf(tracks[i]);\n        }\n\n        return box.apply(null, [types.moof, mfhd(sequenceNumber)].concat(trackFragments));\n      };\n      /**\n       * Returns a movie box.\n       * @param tracks {array} the tracks associated with this movie\n       * @see ISO/IEC 14496-12:2012(E), section 8.2.1\n       */\n\n\n      moov = function moov(tracks) {\n        var i = tracks.length,\n            boxes = [];\n\n        while (i--) {\n          boxes[i] = trak(tracks[i]);\n        }\n\n        return box.apply(null, [types.moov, mvhd(0xffffffff)].concat(boxes).concat(mvex(tracks)));\n      };\n\n      mvex = function mvex(tracks) {\n        var i = tracks.length,\n            boxes = [];\n\n        while (i--) {\n          boxes[i] = trex(tracks[i]);\n        }\n\n        return box.apply(null, [types.mvex].concat(boxes));\n      };\n\n      mvhd = function mvhd(duration) {\n        var bytes = new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x01, // creation_time\n        0x00, 0x00, 0x00, 0x02, // modification_time\n        0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\n        (duration & 0xFF000000) >> 24, (duration & 0xFF0000) >> 16, (duration & 0xFF00) >> 8, duration & 0xFF, // duration\n        0x00, 0x01, 0x00, 0x00, // 1.0 rate\n        0x01, 0x00, // 1.0 volume\n        0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre_defined\n        0xff, 0xff, 0xff, 0xff // next_track_ID\n        ]);\n        return box(types.mvhd, bytes);\n      };\n\n      sdtp = function sdtp(track) {\n        var samples = track.samples || [],\n            bytes = new Uint8Array(4 + samples.length),\n            flags,\n            i; // leave the full box header (4 bytes) all zero\n        // write the sample table\n\n        for (i = 0; i < samples.length; i++) {\n          flags = samples[i].flags;\n          bytes[i + 4] = flags.dependsOn << 4 | flags.isDependedOn << 2 | flags.hasRedundancy;\n        }\n\n        return box(types.sdtp, bytes);\n      };\n\n      stbl = function stbl(track) {\n        return box(types.stbl, stsd(track), box(types.stts, STTS), box(types.stsc, STSC), box(types.stsz, STSZ), box(types.stco, STCO));\n      };\n\n      (function () {\n        var videoSample, audioSample;\n\n        stsd = function stsd(track) {\n          return box(types.stsd, new Uint8Array([0x00, // version 0\n          0x00, 0x00, 0x00, // flags\n          0x00, 0x00, 0x00, 0x01]), track.type === 'video' ? videoSample(track) : audioSample(track));\n        };\n\n        videoSample = function videoSample(track) {\n          var sps = track.sps || [],\n              pps = track.pps || [],\n              sequenceParameterSets = [],\n              pictureParameterSets = [],\n              i,\n              avc1Box; // assemble the SPSs\n\n          for (i = 0; i < sps.length; i++) {\n            sequenceParameterSets.push((sps[i].byteLength & 0xFF00) >>> 8);\n            sequenceParameterSets.push(sps[i].byteLength & 0xFF); // sequenceParameterSetLength\n\n            sequenceParameterSets = sequenceParameterSets.concat(Array.prototype.slice.call(sps[i])); // SPS\n          } // assemble the PPSs\n\n\n          for (i = 0; i < pps.length; i++) {\n            pictureParameterSets.push((pps[i].byteLength & 0xFF00) >>> 8);\n            pictureParameterSets.push(pps[i].byteLength & 0xFF);\n            pictureParameterSets = pictureParameterSets.concat(Array.prototype.slice.call(pps[i]));\n          }\n\n          avc1Box = [types.avc1, new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n          0x00, 0x01, // data_reference_index\n          0x00, 0x00, // pre_defined\n          0x00, 0x00, // reserved\n          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre_defined\n          (track.width & 0xff00) >> 8, track.width & 0xff, // width\n          (track.height & 0xff00) >> 8, track.height & 0xff, // height\n          0x00, 0x48, 0x00, 0x00, // horizresolution\n          0x00, 0x48, 0x00, 0x00, // vertresolution\n          0x00, 0x00, 0x00, 0x00, // reserved\n          0x00, 0x01, // frame_count\n          0x13, 0x76, 0x69, 0x64, 0x65, 0x6f, 0x6a, 0x73, 0x2d, 0x63, 0x6f, 0x6e, 0x74, 0x72, 0x69, 0x62, 0x2d, 0x68, 0x6c, 0x73, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // compressorname\n          0x00, 0x18, // depth = 24\n          0x11, 0x11 // pre_defined = -1\n          ]), box(types.avcC, new Uint8Array([0x01, // configurationVersion\n          track.profileIdc, // AVCProfileIndication\n          track.profileCompatibility, // profile_compatibility\n          track.levelIdc, // AVCLevelIndication\n          0xff // lengthSizeMinusOne, hard-coded to 4 bytes\n          ].concat([sps.length], // numOfSequenceParameterSets\n          sequenceParameterSets, // \"SPS\"\n          [pps.length], // numOfPictureParameterSets\n          pictureParameterSets // \"PPS\"\n          ))), box(types.btrt, new Uint8Array([0x00, 0x1c, 0x9c, 0x80, // bufferSizeDB\n          0x00, 0x2d, 0xc6, 0xc0, // maxBitrate\n          0x00, 0x2d, 0xc6, 0xc0 // avgBitrate\n          ]))];\n\n          if (track.sarRatio) {\n            var hSpacing = track.sarRatio[0],\n                vSpacing = track.sarRatio[1];\n            avc1Box.push(box(types.pasp, new Uint8Array([(hSpacing & 0xFF000000) >> 24, (hSpacing & 0xFF0000) >> 16, (hSpacing & 0xFF00) >> 8, hSpacing & 0xFF, (vSpacing & 0xFF000000) >> 24, (vSpacing & 0xFF0000) >> 16, (vSpacing & 0xFF00) >> 8, vSpacing & 0xFF])));\n          }\n\n          return box.apply(null, avc1Box);\n        };\n\n        audioSample = function audioSample(track) {\n          return box(types.mp4a, new Uint8Array([// SampleEntry, ISO/IEC 14496-12\n          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n          0x00, 0x01, // data_reference_index\n          // AudioSampleEntry, ISO/IEC 14496-12\n          0x00, 0x00, 0x00, 0x00, // reserved\n          0x00, 0x00, 0x00, 0x00, // reserved\n          (track.channelcount & 0xff00) >> 8, track.channelcount & 0xff, // channelcount\n          (track.samplesize & 0xff00) >> 8, track.samplesize & 0xff, // samplesize\n          0x00, 0x00, // pre_defined\n          0x00, 0x00, // reserved\n          (track.samplerate & 0xff00) >> 8, track.samplerate & 0xff, 0x00, 0x00 // samplerate, 16.16\n          // MP4AudioSampleEntry, ISO/IEC 14496-14\n          ]), esds(track));\n        };\n      })();\n\n      tkhd = function tkhd(track) {\n        var result = new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x07, // flags\n        0x00, 0x00, 0x00, 0x00, // creation_time\n        0x00, 0x00, 0x00, 0x00, // modification_time\n        (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n        0x00, 0x00, 0x00, 0x00, // reserved\n        (track.duration & 0xFF000000) >> 24, (track.duration & 0xFF0000) >> 16, (track.duration & 0xFF00) >> 8, track.duration & 0xFF, // duration\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, // layer\n        0x00, 0x00, // alternate_group\n        0x01, 0x00, // non-audio track volume\n        0x00, 0x00, // reserved\n        0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n        (track.width & 0xFF00) >> 8, track.width & 0xFF, 0x00, 0x00, // width\n        (track.height & 0xFF00) >> 8, track.height & 0xFF, 0x00, 0x00 // height\n        ]);\n        return box(types.tkhd, result);\n      };\n      /**\n       * Generate a track fragment (traf) box. A traf box collects metadata\n       * about tracks in a movie fragment (moof) box.\n       */\n\n\n      traf = function traf(track) {\n        var trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun, sampleDependencyTable, dataOffset, upperWordBaseMediaDecodeTime, lowerWordBaseMediaDecodeTime;\n        trackFragmentHeader = box(types.tfhd, new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x3a, // flags\n        (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n        0x00, 0x00, 0x00, 0x01, // sample_description_index\n        0x00, 0x00, 0x00, 0x00, // default_sample_duration\n        0x00, 0x00, 0x00, 0x00, // default_sample_size\n        0x00, 0x00, 0x00, 0x00 // default_sample_flags\n        ]));\n        upperWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime / (UINT32_MAX + 1));\n        lowerWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime % (UINT32_MAX + 1));\n        trackFragmentDecodeTime = box(types.tfdt, new Uint8Array([0x01, // version 1\n        0x00, 0x00, 0x00, // flags\n        // baseMediaDecodeTime\n        upperWordBaseMediaDecodeTime >>> 24 & 0xFF, upperWordBaseMediaDecodeTime >>> 16 & 0xFF, upperWordBaseMediaDecodeTime >>> 8 & 0xFF, upperWordBaseMediaDecodeTime & 0xFF, lowerWordBaseMediaDecodeTime >>> 24 & 0xFF, lowerWordBaseMediaDecodeTime >>> 16 & 0xFF, lowerWordBaseMediaDecodeTime >>> 8 & 0xFF, lowerWordBaseMediaDecodeTime & 0xFF])); // the data offset specifies the number of bytes from the start of\n        // the containing moof to the first payload byte of the associated\n        // mdat\n\n        dataOffset = 32 + // tfhd\n        20 + // tfdt\n        8 + // traf header\n        16 + // mfhd\n        8 + // moof header\n        8; // mdat header\n        // audio tracks require less metadata\n\n        if (track.type === 'audio') {\n          trackFragmentRun = trun(track, dataOffset);\n          return box(types.traf, trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun);\n        } // video tracks should contain an independent and disposable samples\n        // box (sdtp)\n        // generate one and adjust offsets to match\n\n\n        sampleDependencyTable = sdtp(track);\n        trackFragmentRun = trun(track, sampleDependencyTable.length + dataOffset);\n        return box(types.traf, trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun, sampleDependencyTable);\n      };\n      /**\n       * Generate a track box.\n       * @param track {object} a track definition\n       * @return {Uint8Array} the track box\n       */\n\n\n      trak = function trak(track) {\n        track.duration = track.duration || 0xffffffff;\n        return box(types.trak, tkhd(track), mdia(track));\n      };\n\n      trex = function trex(track) {\n        var result = new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n        0x00, 0x00, 0x00, 0x01, // default_sample_description_index\n        0x00, 0x00, 0x00, 0x00, // default_sample_duration\n        0x00, 0x00, 0x00, 0x00, // default_sample_size\n        0x00, 0x01, 0x00, 0x01 // default_sample_flags\n        ]); // the last two bytes of default_sample_flags is the sample\n        // degradation priority, a hint about the importance of this sample\n        // relative to others. Lower the degradation priority for all sample\n        // types other than video.\n\n        if (track.type !== 'video') {\n          result[result.length - 1] = 0x00;\n        }\n\n        return box(types.trex, result);\n      };\n\n      (function () {\n        var audioTrun, videoTrun, trunHeader; // This method assumes all samples are uniform. That is, if a\n        // duration is present for the first sample, it will be present for\n        // all subsequent samples.\n        // see ISO/IEC 14496-12:2012, Section 8.8.8.1\n\n        trunHeader = function trunHeader(samples, offset) {\n          var durationPresent = 0,\n              sizePresent = 0,\n              flagsPresent = 0,\n              compositionTimeOffset = 0; // trun flag constants\n\n          if (samples.length) {\n            if (samples[0].duration !== undefined) {\n              durationPresent = 0x1;\n            }\n\n            if (samples[0].size !== undefined) {\n              sizePresent = 0x2;\n            }\n\n            if (samples[0].flags !== undefined) {\n              flagsPresent = 0x4;\n            }\n\n            if (samples[0].compositionTimeOffset !== undefined) {\n              compositionTimeOffset = 0x8;\n            }\n          }\n\n          return [0x00, // version 0\n          0x00, durationPresent | sizePresent | flagsPresent | compositionTimeOffset, 0x01, // flags\n          (samples.length & 0xFF000000) >>> 24, (samples.length & 0xFF0000) >>> 16, (samples.length & 0xFF00) >>> 8, samples.length & 0xFF, // sample_count\n          (offset & 0xFF000000) >>> 24, (offset & 0xFF0000) >>> 16, (offset & 0xFF00) >>> 8, offset & 0xFF // data_offset\n          ];\n        };\n\n        videoTrun = function videoTrun(track, offset) {\n          var bytes, samples, sample, i;\n          samples = track.samples || [];\n          offset += 8 + 12 + 16 * samples.length;\n          bytes = trunHeader(samples, offset);\n\n          for (i = 0; i < samples.length; i++) {\n            sample = samples[i];\n            bytes = bytes.concat([(sample.duration & 0xFF000000) >>> 24, (sample.duration & 0xFF0000) >>> 16, (sample.duration & 0xFF00) >>> 8, sample.duration & 0xFF, // sample_duration\n            (sample.size & 0xFF000000) >>> 24, (sample.size & 0xFF0000) >>> 16, (sample.size & 0xFF00) >>> 8, sample.size & 0xFF, // sample_size\n            sample.flags.isLeading << 2 | sample.flags.dependsOn, sample.flags.isDependedOn << 6 | sample.flags.hasRedundancy << 4 | sample.flags.paddingValue << 1 | sample.flags.isNonSyncSample, sample.flags.degradationPriority & 0xF0 << 8, sample.flags.degradationPriority & 0x0F, // sample_flags\n            (sample.compositionTimeOffset & 0xFF000000) >>> 24, (sample.compositionTimeOffset & 0xFF0000) >>> 16, (sample.compositionTimeOffset & 0xFF00) >>> 8, sample.compositionTimeOffset & 0xFF // sample_composition_time_offset\n            ]);\n          }\n\n          return box(types.trun, new Uint8Array(bytes));\n        };\n\n        audioTrun = function audioTrun(track, offset) {\n          var bytes, samples, sample, i;\n          samples = track.samples || [];\n          offset += 8 + 12 + 8 * samples.length;\n          bytes = trunHeader(samples, offset);\n\n          for (i = 0; i < samples.length; i++) {\n            sample = samples[i];\n            bytes = bytes.concat([(sample.duration & 0xFF000000) >>> 24, (sample.duration & 0xFF0000) >>> 16, (sample.duration & 0xFF00) >>> 8, sample.duration & 0xFF, // sample_duration\n            (sample.size & 0xFF000000) >>> 24, (sample.size & 0xFF0000) >>> 16, (sample.size & 0xFF00) >>> 8, sample.size & 0xFF]); // sample_size\n          }\n\n          return box(types.trun, new Uint8Array(bytes));\n        };\n\n        trun = function trun(track, offset) {\n          if (track.type === 'audio') {\n            return audioTrun(track, offset);\n          }\n\n          return videoTrun(track, offset);\n        };\n      })();\n\n      var mp4Generator = {\n        ftyp: ftyp,\n        mdat: mdat,\n        moof: moof,\n        moov: moov,\n        initSegment: function initSegment(tracks) {\n          var fileType = ftyp(),\n              movie = moov(tracks),\n              result;\n          result = new Uint8Array(fileType.byteLength + movie.byteLength);\n          result.set(fileType);\n          result.set(movie, fileType.byteLength);\n          return result;\n        }\n      };\n      /**\n       * mux.js\n       *\n       * Copyright (c) Brightcove\n       * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n       */\n      // Convert an array of nal units into an array of frames with each frame being\n      // composed of the nal units that make up that frame\n      // Also keep track of cummulative data about the frame from the nal units such\n      // as the frame duration, starting pts, etc.\n\n      var groupNalsIntoFrames = function groupNalsIntoFrames(nalUnits) {\n        var i,\n            currentNal,\n            currentFrame = [],\n            frames = []; // TODO added for LHLS, make sure this is OK\n\n        frames.byteLength = 0;\n        frames.nalCount = 0;\n        frames.duration = 0;\n        currentFrame.byteLength = 0;\n\n        for (i = 0; i < nalUnits.length; i++) {\n          currentNal = nalUnits[i]; // Split on 'aud'-type nal units\n\n          if (currentNal.nalUnitType === 'access_unit_delimiter_rbsp') {\n            // Since the very first nal unit is expected to be an AUD\n            // only push to the frames array when currentFrame is not empty\n            if (currentFrame.length) {\n              currentFrame.duration = currentNal.dts - currentFrame.dts; // TODO added for LHLS, make sure this is OK\n\n              frames.byteLength += currentFrame.byteLength;\n              frames.nalCount += currentFrame.length;\n              frames.duration += currentFrame.duration;\n              frames.push(currentFrame);\n            }\n\n            currentFrame = [currentNal];\n            currentFrame.byteLength = currentNal.data.byteLength;\n            currentFrame.pts = currentNal.pts;\n            currentFrame.dts = currentNal.dts;\n          } else {\n            // Specifically flag key frames for ease of use later\n            if (currentNal.nalUnitType === 'slice_layer_without_partitioning_rbsp_idr') {\n              currentFrame.keyFrame = true;\n            }\n\n            currentFrame.duration = currentNal.dts - currentFrame.dts;\n            currentFrame.byteLength += currentNal.data.byteLength;\n            currentFrame.push(currentNal);\n          }\n        } // For the last frame, use the duration of the previous frame if we\n        // have nothing better to go on\n\n\n        if (frames.length && (!currentFrame.duration || currentFrame.duration <= 0)) {\n          currentFrame.duration = frames[frames.length - 1].duration;\n        } // Push the final frame\n        // TODO added for LHLS, make sure this is OK\n\n\n        frames.byteLength += currentFrame.byteLength;\n        frames.nalCount += currentFrame.length;\n        frames.duration += currentFrame.duration;\n        frames.push(currentFrame);\n        return frames;\n      }; // Convert an array of frames into an array of Gop with each Gop being composed\n      // of the frames that make up that Gop\n      // Also keep track of cummulative data about the Gop from the frames such as the\n      // Gop duration, starting pts, etc.\n\n\n      var groupFramesIntoGops = function groupFramesIntoGops(frames) {\n        var i,\n            currentFrame,\n            currentGop = [],\n            gops = []; // We must pre-set some of the values on the Gop since we\n        // keep running totals of these values\n\n        currentGop.byteLength = 0;\n        currentGop.nalCount = 0;\n        currentGop.duration = 0;\n        currentGop.pts = frames[0].pts;\n        currentGop.dts = frames[0].dts; // store some metadata about all the Gops\n\n        gops.byteLength = 0;\n        gops.nalCount = 0;\n        gops.duration = 0;\n        gops.pts = frames[0].pts;\n        gops.dts = frames[0].dts;\n\n        for (i = 0; i < frames.length; i++) {\n          currentFrame = frames[i];\n\n          if (currentFrame.keyFrame) {\n            // Since the very first frame is expected to be an keyframe\n            // only push to the gops array when currentGop is not empty\n            if (currentGop.length) {\n              gops.push(currentGop);\n              gops.byteLength += currentGop.byteLength;\n              gops.nalCount += currentGop.nalCount;\n              gops.duration += currentGop.duration;\n            }\n\n            currentGop = [currentFrame];\n            currentGop.nalCount = currentFrame.length;\n            currentGop.byteLength = currentFrame.byteLength;\n            currentGop.pts = currentFrame.pts;\n            currentGop.dts = currentFrame.dts;\n            currentGop.duration = currentFrame.duration;\n          } else {\n            currentGop.duration += currentFrame.duration;\n            currentGop.nalCount += currentFrame.length;\n            currentGop.byteLength += currentFrame.byteLength;\n            currentGop.push(currentFrame);\n          }\n        }\n\n        if (gops.length && currentGop.duration <= 0) {\n          currentGop.duration = gops[gops.length - 1].duration;\n        }\n\n        gops.byteLength += currentGop.byteLength;\n        gops.nalCount += currentGop.nalCount;\n        gops.duration += currentGop.duration; // push the final Gop\n\n        gops.push(currentGop);\n        return gops;\n      };\n      /*\n       * Search for the first keyframe in the GOPs and throw away all frames\n       * until that keyframe. Then extend the duration of the pulled keyframe\n       * and pull the PTS and DTS of the keyframe so that it covers the time\n       * range of the frames that were disposed.\n       *\n       * @param {Array} gops video GOPs\n       * @returns {Array} modified video GOPs\n       */\n\n\n      var extendFirstKeyFrame = function extendFirstKeyFrame(gops) {\n        var currentGop;\n\n        if (!gops[0][0].keyFrame && gops.length > 1) {\n          // Remove the first GOP\n          currentGop = gops.shift();\n          gops.byteLength -= currentGop.byteLength;\n          gops.nalCount -= currentGop.nalCount; // Extend the first frame of what is now the\n          // first gop to cover the time period of the\n          // frames we just removed\n\n          gops[0][0].dts = currentGop.dts;\n          gops[0][0].pts = currentGop.pts;\n          gops[0][0].duration += currentGop.duration;\n        }\n\n        return gops;\n      };\n      /**\n       * Default sample object\n       * see ISO/IEC 14496-12:2012, section 8.6.4.3\n       */\n\n\n      var createDefaultSample = function createDefaultSample() {\n        return {\n          size: 0,\n          flags: {\n            isLeading: 0,\n            dependsOn: 1,\n            isDependedOn: 0,\n            hasRedundancy: 0,\n            degradationPriority: 0,\n            isNonSyncSample: 1\n          }\n        };\n      };\n      /*\n       * Collates information from a video frame into an object for eventual\n       * entry into an MP4 sample table.\n       *\n       * @param {Object} frame the video frame\n       * @param {Number} dataOffset the byte offset to position the sample\n       * @return {Object} object containing sample table info for a frame\n       */\n\n\n      var sampleForFrame = function sampleForFrame(frame, dataOffset) {\n        var sample = createDefaultSample();\n        sample.dataOffset = dataOffset;\n        sample.compositionTimeOffset = frame.pts - frame.dts;\n        sample.duration = frame.duration;\n        sample.size = 4 * frame.length; // Space for nal unit size\n\n        sample.size += frame.byteLength;\n\n        if (frame.keyFrame) {\n          sample.flags.dependsOn = 2;\n          sample.flags.isNonSyncSample = 0;\n        }\n\n        return sample;\n      }; // generate the track's sample table from an array of gops\n\n\n      var generateSampleTable = function generateSampleTable(gops, baseDataOffset) {\n        var h,\n            i,\n            sample,\n            currentGop,\n            currentFrame,\n            dataOffset = baseDataOffset || 0,\n            samples = [];\n\n        for (h = 0; h < gops.length; h++) {\n          currentGop = gops[h];\n\n          for (i = 0; i < currentGop.length; i++) {\n            currentFrame = currentGop[i];\n            sample = sampleForFrame(currentFrame, dataOffset);\n            dataOffset += sample.size;\n            samples.push(sample);\n          }\n        }\n\n        return samples;\n      }; // generate the track's raw mdat data from an array of gops\n\n\n      var concatenateNalData = function concatenateNalData(gops) {\n        var h,\n            i,\n            j,\n            currentGop,\n            currentFrame,\n            currentNal,\n            dataOffset = 0,\n            nalsByteLength = gops.byteLength,\n            numberOfNals = gops.nalCount,\n            totalByteLength = nalsByteLength + 4 * numberOfNals,\n            data = new Uint8Array(totalByteLength),\n            view = new DataView(data.buffer); // For each Gop..\n\n        for (h = 0; h < gops.length; h++) {\n          currentGop = gops[h]; // For each Frame..\n\n          for (i = 0; i < currentGop.length; i++) {\n            currentFrame = currentGop[i]; // For each NAL..\n\n            for (j = 0; j < currentFrame.length; j++) {\n              currentNal = currentFrame[j];\n              view.setUint32(dataOffset, currentNal.data.byteLength);\n              dataOffset += 4;\n              data.set(currentNal.data, dataOffset);\n              dataOffset += currentNal.data.byteLength;\n            }\n          }\n        }\n\n        return data;\n      }; // generate the track's sample table from a frame\n\n\n      var generateSampleTableForFrame = function generateSampleTableForFrame(frame, baseDataOffset) {\n        var sample,\n            dataOffset = baseDataOffset || 0,\n            samples = [];\n        sample = sampleForFrame(frame, dataOffset);\n        samples.push(sample);\n        return samples;\n      }; // generate the track's raw mdat data from a frame\n\n\n      var concatenateNalDataForFrame = function concatenateNalDataForFrame(frame) {\n        var i,\n            currentNal,\n            dataOffset = 0,\n            nalsByteLength = frame.byteLength,\n            numberOfNals = frame.length,\n            totalByteLength = nalsByteLength + 4 * numberOfNals,\n            data = new Uint8Array(totalByteLength),\n            view = new DataView(data.buffer); // For each NAL..\n\n        for (i = 0; i < frame.length; i++) {\n          currentNal = frame[i];\n          view.setUint32(dataOffset, currentNal.data.byteLength);\n          dataOffset += 4;\n          data.set(currentNal.data, dataOffset);\n          dataOffset += currentNal.data.byteLength;\n        }\n\n        return data;\n      };\n\n      var frameUtils = {\n        groupNalsIntoFrames: groupNalsIntoFrames,\n        groupFramesIntoGops: groupFramesIntoGops,\n        extendFirstKeyFrame: extendFirstKeyFrame,\n        generateSampleTable: generateSampleTable,\n        concatenateNalData: concatenateNalData,\n        generateSampleTableForFrame: generateSampleTableForFrame,\n        concatenateNalDataForFrame: concatenateNalDataForFrame\n      };\n      /**\n       * mux.js\n       *\n       * Copyright (c) Brightcove\n       * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n       */\n\n      var highPrefix = [33, 16, 5, 32, 164, 27];\n      var lowPrefix = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252];\n\n      var zeroFill = function zeroFill(count) {\n        var a = [];\n\n        while (count--) {\n          a.push(0);\n        }\n\n        return a;\n      };\n\n      var makeTable = function makeTable(metaTable) {\n        return Object.keys(metaTable).reduce(function (obj, key) {\n          obj[key] = new Uint8Array(metaTable[key].reduce(function (arr, part) {\n            return arr.concat(part);\n          }, []));\n          return obj;\n        }, {});\n      }; // Frames-of-silence to use for filling in missing AAC frames\n\n\n      var coneOfSilence = {\n        96000: [highPrefix, [227, 64], zeroFill(154), [56]],\n        88200: [highPrefix, [231], zeroFill(170), [56]],\n        64000: [highPrefix, [248, 192], zeroFill(240), [56]],\n        48000: [highPrefix, [255, 192], zeroFill(268), [55, 148, 128], zeroFill(54), [112]],\n        44100: [highPrefix, [255, 192], zeroFill(268), [55, 163, 128], zeroFill(84), [112]],\n        32000: [highPrefix, [255, 192], zeroFill(268), [55, 234], zeroFill(226), [112]],\n        24000: [highPrefix, [255, 192], zeroFill(268), [55, 255, 128], zeroFill(268), [111, 112], zeroFill(126), [224]],\n        16000: [highPrefix, [255, 192], zeroFill(268), [55, 255, 128], zeroFill(268), [111, 255], zeroFill(269), [223, 108], zeroFill(195), [1, 192]],\n        12000: [lowPrefix, zeroFill(268), [3, 127, 248], zeroFill(268), [6, 255, 240], zeroFill(268), [13, 255, 224], zeroFill(268), [27, 253, 128], zeroFill(259), [56]],\n        11025: [lowPrefix, zeroFill(268), [3, 127, 248], zeroFill(268), [6, 255, 240], zeroFill(268), [13, 255, 224], zeroFill(268), [27, 255, 192], zeroFill(268), [55, 175, 128], zeroFill(108), [112]],\n        8000: [lowPrefix, zeroFill(268), [3, 121, 16], zeroFill(47), [7]]\n      };\n      var silence = makeTable(coneOfSilence);\n      /**\n       * mux.js\n       *\n       * Copyright (c) Brightcove\n       * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n       */\n\n      var ONE_SECOND_IN_TS = 90000,\n          // 90kHz clock\n      secondsToVideoTs,\n          secondsToAudioTs,\n          videoTsToSeconds,\n          audioTsToSeconds,\n          audioTsToVideoTs,\n          videoTsToAudioTs,\n          metadataTsToSeconds;\n\n      secondsToVideoTs = function secondsToVideoTs(seconds) {\n        return seconds * ONE_SECOND_IN_TS;\n      };\n\n      secondsToAudioTs = function secondsToAudioTs(seconds, sampleRate) {\n        return seconds * sampleRate;\n      };\n\n      videoTsToSeconds = function videoTsToSeconds(timestamp) {\n        return timestamp / ONE_SECOND_IN_TS;\n      };\n\n      audioTsToSeconds = function audioTsToSeconds(timestamp, sampleRate) {\n        return timestamp / sampleRate;\n      };\n\n      audioTsToVideoTs = function audioTsToVideoTs(timestamp, sampleRate) {\n        return secondsToVideoTs(audioTsToSeconds(timestamp, sampleRate));\n      };\n\n      videoTsToAudioTs = function videoTsToAudioTs(timestamp, sampleRate) {\n        return secondsToAudioTs(videoTsToSeconds(timestamp), sampleRate);\n      };\n      /**\n       * Adjust ID3 tag or caption timing information by the timeline pts values\n       * (if keepOriginalTimestamps is false) and convert to seconds\n       */\n\n\n      metadataTsToSeconds = function metadataTsToSeconds(timestamp, timelineStartPts, keepOriginalTimestamps) {\n        return videoTsToSeconds(keepOriginalTimestamps ? timestamp : timestamp - timelineStartPts);\n      };\n\n      var clock = {\n        ONE_SECOND_IN_TS: ONE_SECOND_IN_TS,\n        secondsToVideoTs: secondsToVideoTs,\n        secondsToAudioTs: secondsToAudioTs,\n        videoTsToSeconds: videoTsToSeconds,\n        audioTsToSeconds: audioTsToSeconds,\n        audioTsToVideoTs: audioTsToVideoTs,\n        videoTsToAudioTs: videoTsToAudioTs,\n        metadataTsToSeconds: metadataTsToSeconds\n      };\n      /**\n       * mux.js\n       *\n       * Copyright (c) Brightcove\n       * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n       */\n\n      /**\n       * Sum the `byteLength` properties of the data in each AAC frame\n       */\n\n      var sumFrameByteLengths = function sumFrameByteLengths(array) {\n        var i,\n            currentObj,\n            sum = 0; // sum the byteLength's all each nal unit in the frame\n\n        for (i = 0; i < array.length; i++) {\n          currentObj = array[i];\n          sum += currentObj.data.byteLength;\n        }\n\n        return sum;\n      }; // Possibly pad (prefix) the audio track with silence if appending this track\n      // would lead to the introduction of a gap in the audio buffer\n\n\n      var prefixWithSilence = function prefixWithSilence(track, frames, audioAppendStartTs, videoBaseMediaDecodeTime) {\n        var baseMediaDecodeTimeTs,\n            frameDuration = 0,\n            audioGapDuration = 0,\n            audioFillFrameCount = 0,\n            audioFillDuration = 0,\n            silentFrame,\n            i,\n            firstFrame;\n\n        if (!frames.length) {\n          return;\n        }\n\n        baseMediaDecodeTimeTs = clock.audioTsToVideoTs(track.baseMediaDecodeTime, track.samplerate); // determine frame clock duration based on sample rate, round up to avoid overfills\n\n        frameDuration = Math.ceil(clock.ONE_SECOND_IN_TS / (track.samplerate / 1024));\n\n        if (audioAppendStartTs && videoBaseMediaDecodeTime) {\n          // insert the shortest possible amount (audio gap or audio to video gap)\n          audioGapDuration = baseMediaDecodeTimeTs - Math.max(audioAppendStartTs, videoBaseMediaDecodeTime); // number of full frames in the audio gap\n\n          audioFillFrameCount = Math.floor(audioGapDuration / frameDuration);\n          audioFillDuration = audioFillFrameCount * frameDuration;\n        } // don't attempt to fill gaps smaller than a single frame or larger\n        // than a half second\n\n\n        if (audioFillFrameCount < 1 || audioFillDuration > clock.ONE_SECOND_IN_TS / 2) {\n          return;\n        }\n\n        silentFrame = silence[track.samplerate];\n\n        if (!silentFrame) {\n          // we don't have a silent frame pregenerated for the sample rate, so use a frame\n          // from the content instead\n          silentFrame = frames[0].data;\n        }\n\n        for (i = 0; i < audioFillFrameCount; i++) {\n          firstFrame = frames[0];\n          frames.splice(0, 0, {\n            data: silentFrame,\n            dts: firstFrame.dts - frameDuration,\n            pts: firstFrame.pts - frameDuration\n          });\n        }\n\n        track.baseMediaDecodeTime -= Math.floor(clock.videoTsToAudioTs(audioFillDuration, track.samplerate));\n      }; // If the audio segment extends before the earliest allowed dts\n      // value, remove AAC frames until starts at or after the earliest\n      // allowed DTS so that we don't end up with a negative baseMedia-\n      // DecodeTime for the audio track\n\n\n      var trimAdtsFramesByEarliestDts = function trimAdtsFramesByEarliestDts(adtsFrames, track, earliestAllowedDts) {\n        if (track.minSegmentDts >= earliestAllowedDts) {\n          return adtsFrames;\n        } // We will need to recalculate the earliest segment Dts\n\n\n        track.minSegmentDts = Infinity;\n        return adtsFrames.filter(function (currentFrame) {\n          // If this is an allowed frame, keep it and record it's Dts\n          if (currentFrame.dts >= earliestAllowedDts) {\n            track.minSegmentDts = Math.min(track.minSegmentDts, currentFrame.dts);\n            track.minSegmentPts = track.minSegmentDts;\n            return true;\n          } // Otherwise, discard it\n\n\n          return false;\n        });\n      }; // generate the track's raw mdat data from an array of frames\n\n\n      var generateSampleTable$1 = function generateSampleTable(frames) {\n        var i,\n            currentFrame,\n            samples = [];\n\n        for (i = 0; i < frames.length; i++) {\n          currentFrame = frames[i];\n          samples.push({\n            size: currentFrame.data.byteLength,\n            duration: 1024 // For AAC audio, all samples contain 1024 samples\n\n          });\n        }\n\n        return samples;\n      }; // generate the track's sample table from an array of frames\n\n\n      var concatenateFrameData = function concatenateFrameData(frames) {\n        var i,\n            currentFrame,\n            dataOffset = 0,\n            data = new Uint8Array(sumFrameByteLengths(frames));\n\n        for (i = 0; i < frames.length; i++) {\n          currentFrame = frames[i];\n          data.set(currentFrame.data, dataOffset);\n          dataOffset += currentFrame.data.byteLength;\n        }\n\n        return data;\n      };\n\n      var audioFrameUtils = {\n        prefixWithSilence: prefixWithSilence,\n        trimAdtsFramesByEarliestDts: trimAdtsFramesByEarliestDts,\n        generateSampleTable: generateSampleTable$1,\n        concatenateFrameData: concatenateFrameData\n      };\n      /**\n       * mux.js\n       *\n       * Copyright (c) Brightcove\n       * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n       */\n\n      var ONE_SECOND_IN_TS$1 = clock.ONE_SECOND_IN_TS;\n      /**\n       * Store information about the start and end of the track and the\n       * duration for each frame/sample we process in order to calculate\n       * the baseMediaDecodeTime\n       */\n\n      var collectDtsInfo = function collectDtsInfo(track, data) {\n        if (typeof data.pts === 'number') {\n          if (track.timelineStartInfo.pts === undefined) {\n            track.timelineStartInfo.pts = data.pts;\n          }\n\n          if (track.minSegmentPts === undefined) {\n            track.minSegmentPts = data.pts;\n          } else {\n            track.minSegmentPts = Math.min(track.minSegmentPts, data.pts);\n          }\n\n          if (track.maxSegmentPts === undefined) {\n            track.maxSegmentPts = data.pts;\n          } else {\n            track.maxSegmentPts = Math.max(track.maxSegmentPts, data.pts);\n          }\n        }\n\n        if (typeof data.dts === 'number') {\n          if (track.timelineStartInfo.dts === undefined) {\n            track.timelineStartInfo.dts = data.dts;\n          }\n\n          if (track.minSegmentDts === undefined) {\n            track.minSegmentDts = data.dts;\n          } else {\n            track.minSegmentDts = Math.min(track.minSegmentDts, data.dts);\n          }\n\n          if (track.maxSegmentDts === undefined) {\n            track.maxSegmentDts = data.dts;\n          } else {\n            track.maxSegmentDts = Math.max(track.maxSegmentDts, data.dts);\n          }\n        }\n      };\n      /**\n       * Clear values used to calculate the baseMediaDecodeTime between\n       * tracks\n       */\n\n\n      var clearDtsInfo = function clearDtsInfo(track) {\n        delete track.minSegmentDts;\n        delete track.maxSegmentDts;\n        delete track.minSegmentPts;\n        delete track.maxSegmentPts;\n      };\n      /**\n       * Calculate the track's baseMediaDecodeTime based on the earliest\n       * DTS the transmuxer has ever seen and the minimum DTS for the\n       * current track\n       * @param track {object} track metadata configuration\n       * @param keepOriginalTimestamps {boolean} If true, keep the timestamps\n       *        in the source; false to adjust the first segment to start at 0.\n       */\n\n\n      var calculateTrackBaseMediaDecodeTime = function calculateTrackBaseMediaDecodeTime(track, keepOriginalTimestamps) {\n        var baseMediaDecodeTime,\n            scale,\n            minSegmentDts = track.minSegmentDts; // Optionally adjust the time so the first segment starts at zero.\n\n        if (!keepOriginalTimestamps) {\n          minSegmentDts -= track.timelineStartInfo.dts;\n        } // track.timelineStartInfo.baseMediaDecodeTime is the location, in time, where\n        // we want the start of the first segment to be placed\n\n\n        baseMediaDecodeTime = track.timelineStartInfo.baseMediaDecodeTime; // Add to that the distance this segment is from the very first\n\n        baseMediaDecodeTime += minSegmentDts; // baseMediaDecodeTime must not become negative\n\n        baseMediaDecodeTime = Math.max(0, baseMediaDecodeTime);\n\n        if (track.type === 'audio') {\n          // Audio has a different clock equal to the sampling_rate so we need to\n          // scale the PTS values into the clock rate of the track\n          scale = track.samplerate / ONE_SECOND_IN_TS$1;\n          baseMediaDecodeTime *= scale;\n          baseMediaDecodeTime = Math.floor(baseMediaDecodeTime);\n        }\n\n        return baseMediaDecodeTime;\n      };\n\n      var trackDecodeInfo = {\n        clearDtsInfo: clearDtsInfo,\n        calculateTrackBaseMediaDecodeTime: calculateTrackBaseMediaDecodeTime,\n        collectDtsInfo: collectDtsInfo\n      };\n      /**\n       * mux.js\n       *\n       * Copyright (c) Brightcove\n       * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n       *\n       * Reads in-band caption information from a video elementary\n       * stream. Captions must follow the CEA-708 standard for injection\n       * into an MPEG-2 transport streams.\n       * @see https://en.wikipedia.org/wiki/CEA-708\n       * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf\n       */\n      // Supplemental enhancement information (SEI) NAL units have a\n      // payload type field to indicate how they are to be\n      // interpreted. CEAS-708 caption content is always transmitted with\n      // payload type 0x04.\n\n      var USER_DATA_REGISTERED_ITU_T_T35 = 4,\n          RBSP_TRAILING_BITS = 128;\n      /**\n        * Parse a supplemental enhancement information (SEI) NAL unit.\n        * Stops parsing once a message of type ITU T T35 has been found.\n        *\n        * @param bytes {Uint8Array} the bytes of a SEI NAL unit\n        * @return {object} the parsed SEI payload\n        * @see Rec. ITU-T H.264, 7.3.2.3.1\n        */\n\n      var parseSei = function parseSei(bytes) {\n        var i = 0,\n            result = {\n          payloadType: -1,\n          payloadSize: 0\n        },\n            payloadType = 0,\n            payloadSize = 0; // go through the sei_rbsp parsing each each individual sei_message\n\n        while (i < bytes.byteLength) {\n          // stop once we have hit the end of the sei_rbsp\n          if (bytes[i] === RBSP_TRAILING_BITS) {\n            break;\n          } // Parse payload type\n\n\n          while (bytes[i] === 0xFF) {\n            payloadType += 255;\n            i++;\n          }\n\n          payloadType += bytes[i++]; // Parse payload size\n\n          while (bytes[i] === 0xFF) {\n            payloadSize += 255;\n            i++;\n          }\n\n          payloadSize += bytes[i++]; // this sei_message is a 608/708 caption so save it and break\n          // there can only ever be one caption message in a frame's sei\n\n          if (!result.payload && payloadType === USER_DATA_REGISTERED_ITU_T_T35) {\n            result.payloadType = payloadType;\n            result.payloadSize = payloadSize;\n            result.payload = bytes.subarray(i, i + payloadSize);\n            break;\n          } // skip the payload and parse the next message\n\n\n          i += payloadSize;\n          payloadType = 0;\n          payloadSize = 0;\n        }\n\n        return result;\n      }; // see ANSI/SCTE 128-1 (2013), section 8.1\n\n\n      var parseUserData = function parseUserData(sei) {\n        // itu_t_t35_contry_code must be 181 (United States) for\n        // captions\n        if (sei.payload[0] !== 181) {\n          return null;\n        } // itu_t_t35_provider_code should be 49 (ATSC) for captions\n\n\n        if ((sei.payload[1] << 8 | sei.payload[2]) !== 49) {\n          return null;\n        } // the user_identifier should be \"GA94\" to indicate ATSC1 data\n\n\n        if (String.fromCharCode(sei.payload[3], sei.payload[4], sei.payload[5], sei.payload[6]) !== 'GA94') {\n          return null;\n        } // finally, user_data_type_code should be 0x03 for caption data\n\n\n        if (sei.payload[7] !== 0x03) {\n          return null;\n        } // return the user_data_type_structure and strip the trailing\n        // marker bits\n\n\n        return sei.payload.subarray(8, sei.payload.length - 1);\n      }; // see CEA-708-D, section 4.4\n\n\n      var parseCaptionPackets = function parseCaptionPackets(pts, userData) {\n        var results = [],\n            i,\n            count,\n            offset,\n            data; // if this is just filler, return immediately\n\n        if (!(userData[0] & 0x40)) {\n          return results;\n        } // parse out the cc_data_1 and cc_data_2 fields\n\n\n        count = userData[0] & 0x1f;\n\n        for (i = 0; i < count; i++) {\n          offset = i * 3;\n          data = {\n            type: userData[offset + 2] & 0x03,\n            pts: pts\n          }; // capture cc data when cc_valid is 1\n\n          if (userData[offset + 2] & 0x04) {\n            data.ccData = userData[offset + 3] << 8 | userData[offset + 4];\n            results.push(data);\n          }\n        }\n\n        return results;\n      };\n\n      var discardEmulationPreventionBytes = function discardEmulationPreventionBytes(data) {\n        var length = data.byteLength,\n            emulationPreventionBytesPositions = [],\n            i = 1,\n            newLength,\n            newData; // Find all `Emulation Prevention Bytes`\n\n        while (i < length - 2) {\n          if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n            emulationPreventionBytesPositions.push(i + 2);\n            i += 2;\n          } else {\n            i++;\n          }\n        } // If no Emulation Prevention Bytes were found just return the original\n        // array\n\n\n        if (emulationPreventionBytesPositions.length === 0) {\n          return data;\n        } // Create a new array to hold the NAL unit data\n\n\n        newLength = length - emulationPreventionBytesPositions.length;\n        newData = new Uint8Array(newLength);\n        var sourceIndex = 0;\n\n        for (i = 0; i < newLength; sourceIndex++, i++) {\n          if (sourceIndex === emulationPreventionBytesPositions[0]) {\n            // Skip this byte\n            sourceIndex++; // Remove this position index\n\n            emulationPreventionBytesPositions.shift();\n          }\n\n          newData[i] = data[sourceIndex];\n        }\n\n        return newData;\n      }; // exports\n\n\n      var captionPacketParser = {\n        parseSei: parseSei,\n        parseUserData: parseUserData,\n        parseCaptionPackets: parseCaptionPackets,\n        discardEmulationPreventionBytes: discardEmulationPreventionBytes,\n        USER_DATA_REGISTERED_ITU_T_T35: USER_DATA_REGISTERED_ITU_T_T35\n      }; // -----------------\n      // Link To Transport\n      // -----------------\n\n      var CaptionStream = function CaptionStream() {\n        CaptionStream.prototype.init.call(this);\n        this.captionPackets_ = [];\n        this.ccStreams_ = [new Cea608Stream(0, 0), // eslint-disable-line no-use-before-define\n        new Cea608Stream(0, 1), // eslint-disable-line no-use-before-define\n        new Cea608Stream(1, 0), // eslint-disable-line no-use-before-define\n        new Cea608Stream(1, 1) // eslint-disable-line no-use-before-define\n        ];\n        this.reset(); // forward data and done events from CCs to this CaptionStream\n\n        this.ccStreams_.forEach(function (cc) {\n          cc.on('data', this.trigger.bind(this, 'data'));\n          cc.on('partialdone', this.trigger.bind(this, 'partialdone'));\n          cc.on('done', this.trigger.bind(this, 'done'));\n        }, this);\n      };\n\n      CaptionStream.prototype = new stream();\n\n      CaptionStream.prototype.push = function (event) {\n        var sei, userData, newCaptionPackets; // only examine SEI NALs\n\n        if (event.nalUnitType !== 'sei_rbsp') {\n          return;\n        } // parse the sei\n\n\n        sei = captionPacketParser.parseSei(event.escapedRBSP); // ignore everything but user_data_registered_itu_t_t35\n\n        if (sei.payloadType !== captionPacketParser.USER_DATA_REGISTERED_ITU_T_T35) {\n          return;\n        } // parse out the user data payload\n\n\n        userData = captionPacketParser.parseUserData(sei); // ignore unrecognized userData\n\n        if (!userData) {\n          return;\n        } // Sometimes, the same segment # will be downloaded twice. To stop the\n        // caption data from being processed twice, we track the latest dts we've\n        // received and ignore everything with a dts before that. However, since\n        // data for a specific dts can be split across packets on either side of\n        // a segment boundary, we need to make sure we *don't* ignore the packets\n        // from the *next* segment that have dts === this.latestDts_. By constantly\n        // tracking the number of packets received with dts === this.latestDts_, we\n        // know how many should be ignored once we start receiving duplicates.\n\n\n        if (event.dts < this.latestDts_) {\n          // We've started getting older data, so set the flag.\n          this.ignoreNextEqualDts_ = true;\n          return;\n        } else if (event.dts === this.latestDts_ && this.ignoreNextEqualDts_) {\n          this.numSameDts_--;\n\n          if (!this.numSameDts_) {\n            // We've received the last duplicate packet, time to start processing again\n            this.ignoreNextEqualDts_ = false;\n          }\n\n          return;\n        } // parse out CC data packets and save them for later\n\n\n        newCaptionPackets = captionPacketParser.parseCaptionPackets(event.pts, userData);\n        this.captionPackets_ = this.captionPackets_.concat(newCaptionPackets);\n\n        if (this.latestDts_ !== event.dts) {\n          this.numSameDts_ = 0;\n        }\n\n        this.numSameDts_++;\n        this.latestDts_ = event.dts;\n      };\n\n      CaptionStream.prototype.flushCCStreams = function (flushType) {\n        this.ccStreams_.forEach(function (cc) {\n          return flushType === 'flush' ? cc.flush() : cc.partialFlush();\n        }, this);\n      };\n\n      CaptionStream.prototype.flushStream = function (flushType) {\n        // make sure we actually parsed captions before proceeding\n        if (!this.captionPackets_.length) {\n          this.flushCCStreams(flushType);\n          return;\n        } // In Chrome, the Array#sort function is not stable so add a\n        // presortIndex that we can use to ensure we get a stable-sort\n\n\n        this.captionPackets_.forEach(function (elem, idx) {\n          elem.presortIndex = idx;\n        }); // sort caption byte-pairs based on their PTS values\n\n        this.captionPackets_.sort(function (a, b) {\n          if (a.pts === b.pts) {\n            return a.presortIndex - b.presortIndex;\n          }\n\n          return a.pts - b.pts;\n        });\n        this.captionPackets_.forEach(function (packet) {\n          if (packet.type < 2) {\n            // Dispatch packet to the right Cea608Stream\n            this.dispatchCea608Packet(packet);\n          } // this is where an 'else' would go for a dispatching packets\n          // to a theoretical Cea708Stream that handles SERVICEn data\n\n        }, this);\n        this.captionPackets_.length = 0;\n        this.flushCCStreams(flushType);\n      };\n\n      CaptionStream.prototype.flush = function () {\n        return this.flushStream('flush');\n      }; // Only called if handling partial data\n\n\n      CaptionStream.prototype.partialFlush = function () {\n        return this.flushStream('partialFlush');\n      };\n\n      CaptionStream.prototype.reset = function () {\n        this.latestDts_ = null;\n        this.ignoreNextEqualDts_ = false;\n        this.numSameDts_ = 0;\n        this.activeCea608Channel_ = [null, null];\n        this.ccStreams_.forEach(function (ccStream) {\n          ccStream.reset();\n        });\n      }; // From the CEA-608 spec:\n\n      /*\n       * When XDS sub-packets are interleaved with other services, the end of each sub-packet shall be followed\n       * by a control pair to change to a different service. When any of the control codes from 0x10 to 0x1F is\n       * used to begin a control code pair, it indicates the return to captioning or Text data. The control code pair\n       * and subsequent data should then be processed according to the FCC rules. It may be necessary for the\n       * line 21 data encoder to automatically insert a control code pair (i.e. RCL, RU2, RU3, RU4, RDC, or RTD)\n       * to switch to captioning or Text.\n      */\n      // With that in mind, we ignore any data between an XDS control code and a\n      // subsequent closed-captioning control code.\n\n\n      CaptionStream.prototype.dispatchCea608Packet = function (packet) {\n        // NOTE: packet.type is the CEA608 field\n        if (this.setsTextOrXDSActive(packet)) {\n          this.activeCea608Channel_[packet.type] = null;\n        } else if (this.setsChannel1Active(packet)) {\n          this.activeCea608Channel_[packet.type] = 0;\n        } else if (this.setsChannel2Active(packet)) {\n          this.activeCea608Channel_[packet.type] = 1;\n        }\n\n        if (this.activeCea608Channel_[packet.type] === null) {\n          // If we haven't received anything to set the active channel, or the\n          // packets are Text/XDS data, discard the data; we don't want jumbled\n          // captions\n          return;\n        }\n\n        this.ccStreams_[(packet.type << 1) + this.activeCea608Channel_[packet.type]].push(packet);\n      };\n\n      CaptionStream.prototype.setsChannel1Active = function (packet) {\n        return (packet.ccData & 0x7800) === 0x1000;\n      };\n\n      CaptionStream.prototype.setsChannel2Active = function (packet) {\n        return (packet.ccData & 0x7800) === 0x1800;\n      };\n\n      CaptionStream.prototype.setsTextOrXDSActive = function (packet) {\n        return (packet.ccData & 0x7100) === 0x0100 || (packet.ccData & 0x78fe) === 0x102a || (packet.ccData & 0x78fe) === 0x182a;\n      }; // ----------------------\n      // Session to Application\n      // ----------------------\n      // This hash maps non-ASCII, special, and extended character codes to their\n      // proper Unicode equivalent. The first keys that are only a single byte\n      // are the non-standard ASCII characters, which simply map the CEA608 byte\n      // to the standard ASCII/Unicode. The two-byte keys that follow are the CEA608\n      // character codes, but have their MSB bitmasked with 0x03 so that a lookup\n      // can be performed regardless of the field and data channel on which the\n      // character code was received.\n\n\n      var CHARACTER_TRANSLATION = {\n        0x2a: 0xe1,\n        // \n        0x5c: 0xe9,\n        // \n        0x5e: 0xed,\n        // \n        0x5f: 0xf3,\n        // \n        0x60: 0xfa,\n        // \n        0x7b: 0xe7,\n        // \n        0x7c: 0xf7,\n        // \n        0x7d: 0xd1,\n        // \n        0x7e: 0xf1,\n        // \n        0x7f: 0x2588,\n        // \n        0x0130: 0xae,\n        // \n        0x0131: 0xb0,\n        // \n        0x0132: 0xbd,\n        // \n        0x0133: 0xbf,\n        // \n        0x0134: 0x2122,\n        // \n        0x0135: 0xa2,\n        // \n        0x0136: 0xa3,\n        // \n        0x0137: 0x266a,\n        // \n        0x0138: 0xe0,\n        // \n        0x0139: 0xa0,\n        //\n        0x013a: 0xe8,\n        // \n        0x013b: 0xe2,\n        // \n        0x013c: 0xea,\n        // \n        0x013d: 0xee,\n        // \n        0x013e: 0xf4,\n        // \n        0x013f: 0xfb,\n        // \n        0x0220: 0xc1,\n        // \n        0x0221: 0xc9,\n        // \n        0x0222: 0xd3,\n        // \n        0x0223: 0xda,\n        // \n        0x0224: 0xdc,\n        // \n        0x0225: 0xfc,\n        // \n        0x0226: 0x2018,\n        // \n        0x0227: 0xa1,\n        // \n        0x0228: 0x2a,\n        // *\n        0x0229: 0x27,\n        // '\n        0x022a: 0x2014,\n        // \n        0x022b: 0xa9,\n        // \n        0x022c: 0x2120,\n        // \n        0x022d: 0x2022,\n        // \n        0x022e: 0x201c,\n        // \n        0x022f: 0x201d,\n        // \n        0x0230: 0xc0,\n        // \n        0x0231: 0xc2,\n        // \n        0x0232: 0xc7,\n        // \n        0x0233: 0xc8,\n        // \n        0x0234: 0xca,\n        // \n        0x0235: 0xcb,\n        // \n        0x0236: 0xeb,\n        // \n        0x0237: 0xce,\n        // \n        0x0238: 0xcf,\n        // \n        0x0239: 0xef,\n        // \n        0x023a: 0xd4,\n        // \n        0x023b: 0xd9,\n        // \n        0x023c: 0xf9,\n        // \n        0x023d: 0xdb,\n        // \n        0x023e: 0xab,\n        // \n        0x023f: 0xbb,\n        // \n        0x0320: 0xc3,\n        // \n        0x0321: 0xe3,\n        // \n        0x0322: 0xcd,\n        // \n        0x0323: 0xcc,\n        // \n        0x0324: 0xec,\n        // \n        0x0325: 0xd2,\n        // \n        0x0326: 0xf2,\n        // \n        0x0327: 0xd5,\n        // \n        0x0328: 0xf5,\n        // \n        0x0329: 0x7b,\n        // {\n        0x032a: 0x7d,\n        // }\n        0x032b: 0x5c,\n        // \\\n        0x032c: 0x5e,\n        // ^\n        0x032d: 0x5f,\n        // _\n        0x032e: 0x7c,\n        // |\n        0x032f: 0x7e,\n        // ~\n        0x0330: 0xc4,\n        // \n        0x0331: 0xe4,\n        // \n        0x0332: 0xd6,\n        // \n        0x0333: 0xf6,\n        // \n        0x0334: 0xdf,\n        // \n        0x0335: 0xa5,\n        // \n        0x0336: 0xa4,\n        // \n        0x0337: 0x2502,\n        // \n        0x0338: 0xc5,\n        // \n        0x0339: 0xe5,\n        // \n        0x033a: 0xd8,\n        // \n        0x033b: 0xf8,\n        // \n        0x033c: 0x250c,\n        // \n        0x033d: 0x2510,\n        // \n        0x033e: 0x2514,\n        // \n        0x033f: 0x2518 // \n\n      };\n\n      var getCharFromCode = function getCharFromCode(code) {\n        if (code === null) {\n          return '';\n        }\n\n        code = CHARACTER_TRANSLATION[code] || code;\n        return String.fromCharCode(code);\n      }; // the index of the last row in a CEA-608 display buffer\n\n\n      var BOTTOM_ROW = 14; // This array is used for mapping PACs -> row #, since there's no way of\n      // getting it through bit logic.\n\n      var ROWS = [0x1100, 0x1120, 0x1200, 0x1220, 0x1500, 0x1520, 0x1600, 0x1620, 0x1700, 0x1720, 0x1000, 0x1300, 0x1320, 0x1400, 0x1420]; // CEA-608 captions are rendered onto a 34x15 matrix of character\n      // cells. The \"bottom\" row is the last element in the outer array.\n\n      var createDisplayBuffer = function createDisplayBuffer() {\n        var result = [],\n            i = BOTTOM_ROW + 1;\n\n        while (i--) {\n          result.push('');\n        }\n\n        return result;\n      };\n\n      var Cea608Stream = function Cea608Stream(field, dataChannel) {\n        Cea608Stream.prototype.init.call(this);\n        this.field_ = field || 0;\n        this.dataChannel_ = dataChannel || 0;\n        this.name_ = 'CC' + ((this.field_ << 1 | this.dataChannel_) + 1);\n        this.setConstants();\n        this.reset();\n\n        this.push = function (packet) {\n          var data, swap, char0, char1, text; // remove the parity bits\n\n          data = packet.ccData & 0x7f7f; // ignore duplicate control codes; the spec demands they're sent twice\n\n          if (data === this.lastControlCode_) {\n            this.lastControlCode_ = null;\n            return;\n          } // Store control codes\n\n\n          if ((data & 0xf000) === 0x1000) {\n            this.lastControlCode_ = data;\n          } else if (data !== this.PADDING_) {\n            this.lastControlCode_ = null;\n          }\n\n          char0 = data >>> 8;\n          char1 = data & 0xff;\n\n          if (data === this.PADDING_) {\n            return;\n          } else if (data === this.RESUME_CAPTION_LOADING_) {\n            this.mode_ = 'popOn';\n          } else if (data === this.END_OF_CAPTION_) {\n            // If an EOC is received while in paint-on mode, the displayed caption\n            // text should be swapped to non-displayed memory as if it was a pop-on\n            // caption. Because of that, we should explicitly switch back to pop-on\n            // mode\n            this.mode_ = 'popOn';\n            this.clearFormatting(packet.pts); // if a caption was being displayed, it's gone now\n\n            this.flushDisplayed(packet.pts); // flip memory\n\n            swap = this.displayed_;\n            this.displayed_ = this.nonDisplayed_;\n            this.nonDisplayed_ = swap; // start measuring the time to display the caption\n\n            this.startPts_ = packet.pts;\n          } else if (data === this.ROLL_UP_2_ROWS_) {\n            this.rollUpRows_ = 2;\n            this.setRollUp(packet.pts);\n          } else if (data === this.ROLL_UP_3_ROWS_) {\n            this.rollUpRows_ = 3;\n            this.setRollUp(packet.pts);\n          } else if (data === this.ROLL_UP_4_ROWS_) {\n            this.rollUpRows_ = 4;\n            this.setRollUp(packet.pts);\n          } else if (data === this.CARRIAGE_RETURN_) {\n            this.clearFormatting(packet.pts);\n            this.flushDisplayed(packet.pts);\n            this.shiftRowsUp_();\n            this.startPts_ = packet.pts;\n          } else if (data === this.BACKSPACE_) {\n            if (this.mode_ === 'popOn') {\n              this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n            } else {\n              this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n            }\n          } else if (data === this.ERASE_DISPLAYED_MEMORY_) {\n            this.flushDisplayed(packet.pts);\n            this.displayed_ = createDisplayBuffer();\n          } else if (data === this.ERASE_NON_DISPLAYED_MEMORY_) {\n            this.nonDisplayed_ = createDisplayBuffer();\n          } else if (data === this.RESUME_DIRECT_CAPTIONING_) {\n            if (this.mode_ !== 'paintOn') {\n              // NOTE: This should be removed when proper caption positioning is\n              // implemented\n              this.flushDisplayed(packet.pts);\n              this.displayed_ = createDisplayBuffer();\n            }\n\n            this.mode_ = 'paintOn';\n            this.startPts_ = packet.pts; // Append special characters to caption text\n          } else if (this.isSpecialCharacter(char0, char1)) {\n            // Bitmask char0 so that we can apply character transformations\n            // regardless of field and data channel.\n            // Then byte-shift to the left and OR with char1 so we can pass the\n            // entire character code to `getCharFromCode`.\n            char0 = (char0 & 0x03) << 8;\n            text = getCharFromCode(char0 | char1);\n            this[this.mode_](packet.pts, text);\n            this.column_++; // Append extended characters to caption text\n          } else if (this.isExtCharacter(char0, char1)) {\n            // Extended characters always follow their \"non-extended\" equivalents.\n            // IE if a \"\" is desired, you'll always receive \"e\"; non-compliant\n            // decoders are supposed to drop the \"\", while compliant decoders\n            // backspace the \"e\" and insert \"\".\n            // Delete the previous character\n            if (this.mode_ === 'popOn') {\n              this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n            } else {\n              this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n            } // Bitmask char0 so that we can apply character transformations\n            // regardless of field and data channel.\n            // Then byte-shift to the left and OR with char1 so we can pass the\n            // entire character code to `getCharFromCode`.\n\n\n            char0 = (char0 & 0x03) << 8;\n            text = getCharFromCode(char0 | char1);\n            this[this.mode_](packet.pts, text);\n            this.column_++; // Process mid-row codes\n          } else if (this.isMidRowCode(char0, char1)) {\n            // Attributes are not additive, so clear all formatting\n            this.clearFormatting(packet.pts); // According to the standard, mid-row codes\n            // should be replaced with spaces, so add one now\n\n            this[this.mode_](packet.pts, ' ');\n            this.column_++;\n\n            if ((char1 & 0xe) === 0xe) {\n              this.addFormatting(packet.pts, ['i']);\n            }\n\n            if ((char1 & 0x1) === 0x1) {\n              this.addFormatting(packet.pts, ['u']);\n            } // Detect offset control codes and adjust cursor\n\n          } else if (this.isOffsetControlCode(char0, char1)) {\n            // Cursor position is set by indent PAC (see below) in 4-column\n            // increments, with an additional offset code of 1-3 to reach any\n            // of the 32 columns specified by CEA-608. So all we need to do\n            // here is increment the column cursor by the given offset.\n            this.column_ += char1 & 0x03; // Detect PACs (Preamble Address Codes)\n          } else if (this.isPAC(char0, char1)) {\n            // There's no logic for PAC -> row mapping, so we have to just\n            // find the row code in an array and use its index :(\n            var row = ROWS.indexOf(data & 0x1f20); // Configure the caption window if we're in roll-up mode\n\n            if (this.mode_ === 'rollUp') {\n              // This implies that the base row is incorrectly set.\n              // As per the recommendation in CEA-608(Base Row Implementation), defer to the number\n              // of roll-up rows set.\n              if (row - this.rollUpRows_ + 1 < 0) {\n                row = this.rollUpRows_ - 1;\n              }\n\n              this.setRollUp(packet.pts, row);\n            }\n\n            if (row !== this.row_) {\n              // formatting is only persistent for current row\n              this.clearFormatting(packet.pts);\n              this.row_ = row;\n            } // All PACs can apply underline, so detect and apply\n            // (All odd-numbered second bytes set underline)\n\n\n            if (char1 & 0x1 && this.formatting_.indexOf('u') === -1) {\n              this.addFormatting(packet.pts, ['u']);\n            }\n\n            if ((data & 0x10) === 0x10) {\n              // We've got an indent level code. Each successive even number\n              // increments the column cursor by 4, so we can get the desired\n              // column position by bit-shifting to the right (to get n/2)\n              // and multiplying by 4.\n              this.column_ = ((data & 0xe) >> 1) * 4;\n            }\n\n            if (this.isColorPAC(char1)) {\n              // it's a color code, though we only support white, which\n              // can be either normal or italicized. white italics can be\n              // either 0x4e or 0x6e depending on the row, so we just\n              // bitwise-and with 0xe to see if italics should be turned on\n              if ((char1 & 0xe) === 0xe) {\n                this.addFormatting(packet.pts, ['i']);\n              }\n            } // We have a normal character in char0, and possibly one in char1\n\n          } else if (this.isNormalChar(char0)) {\n            if (char1 === 0x00) {\n              char1 = null;\n            }\n\n            text = getCharFromCode(char0);\n            text += getCharFromCode(char1);\n            this[this.mode_](packet.pts, text);\n            this.column_ += text.length;\n          } // finish data processing\n\n        };\n      };\n\n      Cea608Stream.prototype = new stream(); // Trigger a cue point that captures the current state of the\n      // display buffer\n\n      Cea608Stream.prototype.flushDisplayed = function (pts) {\n        var content = this.displayed_ // remove spaces from the start and end of the string\n        .map(function (row) {\n          try {\n            return row.trim();\n          } catch (e) {\n            // Ordinarily, this shouldn't happen. However, caption\n            // parsing errors should not throw exceptions and\n            // break playback.\n            // eslint-disable-next-line no-console\n            console.error('Skipping malformed caption.');\n            return '';\n          }\n        }) // combine all text rows to display in one cue\n        .join('\\n') // and remove blank rows from the start and end, but not the middle\n        .replace(/^\\n+|\\n+$/g, '');\n\n        if (content.length) {\n          this.trigger('data', {\n            startPts: this.startPts_,\n            endPts: pts,\n            text: content,\n            stream: this.name_\n          });\n        }\n      };\n      /**\n       * Zero out the data, used for startup and on seek\n       */\n\n\n      Cea608Stream.prototype.reset = function () {\n        this.mode_ = 'popOn'; // When in roll-up mode, the index of the last row that will\n        // actually display captions. If a caption is shifted to a row\n        // with a lower index than this, it is cleared from the display\n        // buffer\n\n        this.topRow_ = 0;\n        this.startPts_ = 0;\n        this.displayed_ = createDisplayBuffer();\n        this.nonDisplayed_ = createDisplayBuffer();\n        this.lastControlCode_ = null; // Track row and column for proper line-breaking and spacing\n\n        this.column_ = 0;\n        this.row_ = BOTTOM_ROW;\n        this.rollUpRows_ = 2; // This variable holds currently-applied formatting\n\n        this.formatting_ = [];\n      };\n      /**\n       * Sets up control code and related constants for this instance\n       */\n\n\n      Cea608Stream.prototype.setConstants = function () {\n        // The following attributes have these uses:\n        // ext_ :    char0 for mid-row codes, and the base for extended\n        //           chars (ext_+0, ext_+1, and ext_+2 are char0s for\n        //           extended codes)\n        // control_: char0 for control codes, except byte-shifted to the\n        //           left so that we can do this.control_ | CONTROL_CODE\n        // offset_:  char0 for tab offset codes\n        //\n        // It's also worth noting that control codes, and _only_ control codes,\n        // differ between field 1 and field2. Field 2 control codes are always\n        // their field 1 value plus 1. That's why there's the \"| field\" on the\n        // control value.\n        if (this.dataChannel_ === 0) {\n          this.BASE_ = 0x10;\n          this.EXT_ = 0x11;\n          this.CONTROL_ = (0x14 | this.field_) << 8;\n          this.OFFSET_ = 0x17;\n        } else if (this.dataChannel_ === 1) {\n          this.BASE_ = 0x18;\n          this.EXT_ = 0x19;\n          this.CONTROL_ = (0x1c | this.field_) << 8;\n          this.OFFSET_ = 0x1f;\n        } // Constants for the LSByte command codes recognized by Cea608Stream. This\n        // list is not exhaustive. For a more comprehensive listing and semantics see\n        // http://www.gpo.gov/fdsys/pkg/CFR-2010-title47-vol1/pdf/CFR-2010-title47-vol1-sec15-119.pdf\n        // Padding\n\n\n        this.PADDING_ = 0x0000; // Pop-on Mode\n\n        this.RESUME_CAPTION_LOADING_ = this.CONTROL_ | 0x20;\n        this.END_OF_CAPTION_ = this.CONTROL_ | 0x2f; // Roll-up Mode\n\n        this.ROLL_UP_2_ROWS_ = this.CONTROL_ | 0x25;\n        this.ROLL_UP_3_ROWS_ = this.CONTROL_ | 0x26;\n        this.ROLL_UP_4_ROWS_ = this.CONTROL_ | 0x27;\n        this.CARRIAGE_RETURN_ = this.CONTROL_ | 0x2d; // paint-on mode\n\n        this.RESUME_DIRECT_CAPTIONING_ = this.CONTROL_ | 0x29; // Erasure\n\n        this.BACKSPACE_ = this.CONTROL_ | 0x21;\n        this.ERASE_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2c;\n        this.ERASE_NON_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2e;\n      };\n      /**\n       * Detects if the 2-byte packet data is a special character\n       *\n       * Special characters have a second byte in the range 0x30 to 0x3f,\n       * with the first byte being 0x11 (for data channel 1) or 0x19 (for\n       * data channel 2).\n       *\n       * @param  {Integer} char0 The first byte\n       * @param  {Integer} char1 The second byte\n       * @return {Boolean}       Whether the 2 bytes are an special character\n       */\n\n\n      Cea608Stream.prototype.isSpecialCharacter = function (char0, char1) {\n        return char0 === this.EXT_ && char1 >= 0x30 && char1 <= 0x3f;\n      };\n      /**\n       * Detects if the 2-byte packet data is an extended character\n       *\n       * Extended characters have a second byte in the range 0x20 to 0x3f,\n       * with the first byte being 0x12 or 0x13 (for data channel 1) or\n       * 0x1a or 0x1b (for data channel 2).\n       *\n       * @param  {Integer} char0 The first byte\n       * @param  {Integer} char1 The second byte\n       * @return {Boolean}       Whether the 2 bytes are an extended character\n       */\n\n\n      Cea608Stream.prototype.isExtCharacter = function (char0, char1) {\n        return (char0 === this.EXT_ + 1 || char0 === this.EXT_ + 2) && char1 >= 0x20 && char1 <= 0x3f;\n      };\n      /**\n       * Detects if the 2-byte packet is a mid-row code\n       *\n       * Mid-row codes have a second byte in the range 0x20 to 0x2f, with\n       * the first byte being 0x11 (for data channel 1) or 0x19 (for data\n       * channel 2).\n       *\n       * @param  {Integer} char0 The first byte\n       * @param  {Integer} char1 The second byte\n       * @return {Boolean}       Whether the 2 bytes are a mid-row code\n       */\n\n\n      Cea608Stream.prototype.isMidRowCode = function (char0, char1) {\n        return char0 === this.EXT_ && char1 >= 0x20 && char1 <= 0x2f;\n      };\n      /**\n       * Detects if the 2-byte packet is an offset control code\n       *\n       * Offset control codes have a second byte in the range 0x21 to 0x23,\n       * with the first byte being 0x17 (for data channel 1) or 0x1f (for\n       * data channel 2).\n       *\n       * @param  {Integer} char0 The first byte\n       * @param  {Integer} char1 The second byte\n       * @return {Boolean}       Whether the 2 bytes are an offset control code\n       */\n\n\n      Cea608Stream.prototype.isOffsetControlCode = function (char0, char1) {\n        return char0 === this.OFFSET_ && char1 >= 0x21 && char1 <= 0x23;\n      };\n      /**\n       * Detects if the 2-byte packet is a Preamble Address Code\n       *\n       * PACs have a first byte in the range 0x10 to 0x17 (for data channel 1)\n       * or 0x18 to 0x1f (for data channel 2), with the second byte in the\n       * range 0x40 to 0x7f.\n       *\n       * @param  {Integer} char0 The first byte\n       * @param  {Integer} char1 The second byte\n       * @return {Boolean}       Whether the 2 bytes are a PAC\n       */\n\n\n      Cea608Stream.prototype.isPAC = function (char0, char1) {\n        return char0 >= this.BASE_ && char0 < this.BASE_ + 8 && char1 >= 0x40 && char1 <= 0x7f;\n      };\n      /**\n       * Detects if a packet's second byte is in the range of a PAC color code\n       *\n       * PAC color codes have the second byte be in the range 0x40 to 0x4f, or\n       * 0x60 to 0x6f.\n       *\n       * @param  {Integer} char1 The second byte\n       * @return {Boolean}       Whether the byte is a color PAC\n       */\n\n\n      Cea608Stream.prototype.isColorPAC = function (char1) {\n        return char1 >= 0x40 && char1 <= 0x4f || char1 >= 0x60 && char1 <= 0x7f;\n      };\n      /**\n       * Detects if a single byte is in the range of a normal character\n       *\n       * Normal text bytes are in the range 0x20 to 0x7f.\n       *\n       * @param  {Integer} char  The byte\n       * @return {Boolean}       Whether the byte is a normal character\n       */\n\n\n      Cea608Stream.prototype.isNormalChar = function (_char) {\n        return _char >= 0x20 && _char <= 0x7f;\n      };\n      /**\n       * Configures roll-up\n       *\n       * @param  {Integer} pts         Current PTS\n       * @param  {Integer} newBaseRow  Used by PACs to slide the current window to\n       *                               a new position\n       */\n\n\n      Cea608Stream.prototype.setRollUp = function (pts, newBaseRow) {\n        // Reset the base row to the bottom row when switching modes\n        if (this.mode_ !== 'rollUp') {\n          this.row_ = BOTTOM_ROW;\n          this.mode_ = 'rollUp'; // Spec says to wipe memories when switching to roll-up\n\n          this.flushDisplayed(pts);\n          this.nonDisplayed_ = createDisplayBuffer();\n          this.displayed_ = createDisplayBuffer();\n        }\n\n        if (newBaseRow !== undefined && newBaseRow !== this.row_) {\n          // move currently displayed captions (up or down) to the new base row\n          for (var i = 0; i < this.rollUpRows_; i++) {\n            this.displayed_[newBaseRow - i] = this.displayed_[this.row_ - i];\n            this.displayed_[this.row_ - i] = '';\n          }\n        }\n\n        if (newBaseRow === undefined) {\n          newBaseRow = this.row_;\n        }\n\n        this.topRow_ = newBaseRow - this.rollUpRows_ + 1;\n      }; // Adds the opening HTML tag for the passed character to the caption text,\n      // and keeps track of it for later closing\n\n\n      Cea608Stream.prototype.addFormatting = function (pts, format) {\n        this.formatting_ = this.formatting_.concat(format);\n        var text = format.reduce(function (text, format) {\n          return text + '<' + format + '>';\n        }, '');\n        this[this.mode_](pts, text);\n      }; // Adds HTML closing tags for current formatting to caption text and\n      // clears remembered formatting\n\n\n      Cea608Stream.prototype.clearFormatting = function (pts) {\n        if (!this.formatting_.length) {\n          return;\n        }\n\n        var text = this.formatting_.reverse().reduce(function (text, format) {\n          return text + '</' + format + '>';\n        }, '');\n        this.formatting_ = [];\n        this[this.mode_](pts, text);\n      }; // Mode Implementations\n\n\n      Cea608Stream.prototype.popOn = function (pts, text) {\n        var baseRow = this.nonDisplayed_[this.row_]; // buffer characters\n\n        baseRow += text;\n        this.nonDisplayed_[this.row_] = baseRow;\n      };\n\n      Cea608Stream.prototype.rollUp = function (pts, text) {\n        var baseRow = this.displayed_[this.row_];\n        baseRow += text;\n        this.displayed_[this.row_] = baseRow;\n      };\n\n      Cea608Stream.prototype.shiftRowsUp_ = function () {\n        var i; // clear out inactive rows\n\n        for (i = 0; i < this.topRow_; i++) {\n          this.displayed_[i] = '';\n        }\n\n        for (i = this.row_ + 1; i < BOTTOM_ROW + 1; i++) {\n          this.displayed_[i] = '';\n        } // shift displayed rows up\n\n\n        for (i = this.topRow_; i < this.row_; i++) {\n          this.displayed_[i] = this.displayed_[i + 1];\n        } // clear out the bottom row\n\n\n        this.displayed_[this.row_] = '';\n      };\n\n      Cea608Stream.prototype.paintOn = function (pts, text) {\n        var baseRow = this.displayed_[this.row_];\n        baseRow += text;\n        this.displayed_[this.row_] = baseRow;\n      }; // exports\n\n\n      var captionStream = {\n        CaptionStream: CaptionStream,\n        Cea608Stream: Cea608Stream\n      };\n      /**\n       * mux.js\n       *\n       * Copyright (c) Brightcove\n       * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n       */\n\n      var streamTypes = {\n        H264_STREAM_TYPE: 0x1B,\n        ADTS_STREAM_TYPE: 0x0F,\n        METADATA_STREAM_TYPE: 0x15\n      };\n      var MAX_TS = 8589934592;\n      var RO_THRESH = 4294967296;\n      var TYPE_SHARED = 'shared';\n\n      var handleRollover = function handleRollover(value, reference) {\n        var direction = 1;\n\n        if (value > reference) {\n          // If the current timestamp value is greater than our reference timestamp and we detect a\n          // timestamp rollover, this means the roll over is happening in the opposite direction.\n          // Example scenario: Enter a long stream/video just after a rollover occurred. The reference\n          // point will be set to a small number, e.g. 1. The user then seeks backwards over the\n          // rollover point. In loading this segment, the timestamp values will be very large,\n          // e.g. 2^33 - 1. Since this comes before the data we loaded previously, we want to adjust\n          // the time stamp to be `value - 2^33`.\n          direction = -1;\n        } // Note: A seek forwards or back that is greater than the RO_THRESH (2^32, ~13 hours) will\n        // cause an incorrect adjustment.\n\n\n        while (Math.abs(reference - value) > RO_THRESH) {\n          value += direction * MAX_TS;\n        }\n\n        return value;\n      };\n\n      var TimestampRolloverStream = function TimestampRolloverStream(type) {\n        var lastDTS, referenceDTS;\n        TimestampRolloverStream.prototype.init.call(this); // The \"shared\" type is used in cases where a stream will contain muxed\n        // video and audio. We could use `undefined` here, but having a string\n        // makes debugging a little clearer.\n\n        this.type_ = type || TYPE_SHARED;\n\n        this.push = function (data) {\n          // Any \"shared\" rollover streams will accept _all_ data. Otherwise,\n          // streams will only accept data that matches their type.\n          if (this.type_ !== TYPE_SHARED && data.type !== this.type_) {\n            return;\n          }\n\n          if (referenceDTS === undefined) {\n            referenceDTS = data.dts;\n          }\n\n          data.dts = handleRollover(data.dts, referenceDTS);\n          data.pts = handleRollover(data.pts, referenceDTS);\n          lastDTS = data.dts;\n          this.trigger('data', data);\n        };\n\n        this.flush = function () {\n          referenceDTS = lastDTS;\n          this.trigger('done');\n        };\n\n        this.endTimeline = function () {\n          this.flush();\n          this.trigger('endedtimeline');\n        };\n\n        this.discontinuity = function () {\n          referenceDTS = void 0;\n          lastDTS = void 0;\n        };\n\n        this.reset = function () {\n          this.discontinuity();\n          this.trigger('reset');\n        };\n      };\n\n      TimestampRolloverStream.prototype = new stream();\n      var timestampRolloverStream = {\n        TimestampRolloverStream: TimestampRolloverStream,\n        handleRollover: handleRollover\n      };\n\n      var percentEncode = function percentEncode(bytes, start, end) {\n        var i,\n            result = '';\n\n        for (i = start; i < end; i++) {\n          result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n        }\n\n        return result;\n      },\n          // return the string representation of the specified byte range,\n      // interpreted as UTf-8.\n      parseUtf8 = function parseUtf8(bytes, start, end) {\n        return decodeURIComponent(percentEncode(bytes, start, end));\n      },\n          // return the string representation of the specified byte range,\n      // interpreted as ISO-8859-1.\n      parseIso88591 = function parseIso88591(bytes, start, end) {\n        return unescape(percentEncode(bytes, start, end)); // jshint ignore:line\n      },\n          parseSyncSafeInteger = function parseSyncSafeInteger(data) {\n        return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n      },\n          tagParsers = {\n        TXXX: function TXXX(tag) {\n          var i;\n\n          if (tag.data[0] !== 3) {\n            // ignore frames with unrecognized character encodings\n            return;\n          }\n\n          for (i = 1; i < tag.data.length; i++) {\n            if (tag.data[i] === 0) {\n              // parse the text fields\n              tag.description = parseUtf8(tag.data, 1, i); // do not include the null terminator in the tag value\n\n              tag.value = parseUtf8(tag.data, i + 1, tag.data.length).replace(/\\0*$/, '');\n              break;\n            }\n          }\n\n          tag.data = tag.value;\n        },\n        WXXX: function WXXX(tag) {\n          var i;\n\n          if (tag.data[0] !== 3) {\n            // ignore frames with unrecognized character encodings\n            return;\n          }\n\n          for (i = 1; i < tag.data.length; i++) {\n            if (tag.data[i] === 0) {\n              // parse the description and URL fields\n              tag.description = parseUtf8(tag.data, 1, i);\n              tag.url = parseUtf8(tag.data, i + 1, tag.data.length);\n              break;\n            }\n          }\n        },\n        PRIV: function PRIV(tag) {\n          var i;\n\n          for (i = 0; i < tag.data.length; i++) {\n            if (tag.data[i] === 0) {\n              // parse the description and URL fields\n              tag.owner = parseIso88591(tag.data, 0, i);\n              break;\n            }\n          }\n\n          tag.privateData = tag.data.subarray(i + 1);\n          tag.data = tag.privateData;\n        }\n      },\n          _MetadataStream;\n\n      _MetadataStream = function MetadataStream(options) {\n        var settings = {\n          debug: !!(options && options.debug),\n          // the bytes of the program-level descriptor field in MP2T\n          // see ISO/IEC 13818-1:2013 (E), section 2.6 \"Program and\n          // program element descriptors\"\n          descriptor: options && options.descriptor\n        },\n            // the total size in bytes of the ID3 tag being parsed\n        tagSize = 0,\n            // tag data that is not complete enough to be parsed\n        buffer = [],\n            // the total number of bytes currently in the buffer\n        bufferSize = 0,\n            i;\n\n        _MetadataStream.prototype.init.call(this); // calculate the text track in-band metadata track dispatch type\n        // https://html.spec.whatwg.org/multipage/embedded-content.html#steps-to-expose-a-media-resource-specific-text-track\n\n\n        this.dispatchType = streamTypes.METADATA_STREAM_TYPE.toString(16);\n\n        if (settings.descriptor) {\n          for (i = 0; i < settings.descriptor.length; i++) {\n            this.dispatchType += ('00' + settings.descriptor[i].toString(16)).slice(-2);\n          }\n        }\n\n        this.push = function (chunk) {\n          var tag, frameStart, frameSize, frame, i, frameHeader;\n\n          if (chunk.type !== 'timed-metadata') {\n            return;\n          } // if data_alignment_indicator is set in the PES header,\n          // we must have the start of a new ID3 tag. Assume anything\n          // remaining in the buffer was malformed and throw it out\n\n\n          if (chunk.dataAlignmentIndicator) {\n            bufferSize = 0;\n            buffer.length = 0;\n          } // ignore events that don't look like ID3 data\n\n\n          if (buffer.length === 0 && (chunk.data.length < 10 || chunk.data[0] !== 'I'.charCodeAt(0) || chunk.data[1] !== 'D'.charCodeAt(0) || chunk.data[2] !== '3'.charCodeAt(0))) {\n            if (settings.debug) {\n              // eslint-disable-next-line no-console\n              console.log('Skipping unrecognized metadata packet');\n            }\n\n            return;\n          } // add this chunk to the data we've collected so far\n\n\n          buffer.push(chunk);\n          bufferSize += chunk.data.byteLength; // grab the size of the entire frame from the ID3 header\n\n          if (buffer.length === 1) {\n            // the frame size is transmitted as a 28-bit integer in the\n            // last four bytes of the ID3 header.\n            // The most significant bit of each byte is dropped and the\n            // results concatenated to recover the actual value.\n            tagSize = parseSyncSafeInteger(chunk.data.subarray(6, 10)); // ID3 reports the tag size excluding the header but it's more\n            // convenient for our comparisons to include it\n\n            tagSize += 10;\n          } // if the entire frame has not arrived, wait for more data\n\n\n          if (bufferSize < tagSize) {\n            return;\n          } // collect the entire frame so it can be parsed\n\n\n          tag = {\n            data: new Uint8Array(tagSize),\n            frames: [],\n            pts: buffer[0].pts,\n            dts: buffer[0].dts\n          };\n\n          for (i = 0; i < tagSize;) {\n            tag.data.set(buffer[0].data.subarray(0, tagSize - i), i);\n            i += buffer[0].data.byteLength;\n            bufferSize -= buffer[0].data.byteLength;\n            buffer.shift();\n          } // find the start of the first frame and the end of the tag\n\n\n          frameStart = 10;\n\n          if (tag.data[5] & 0x40) {\n            // advance the frame start past the extended header\n            frameStart += 4; // header size field\n\n            frameStart += parseSyncSafeInteger(tag.data.subarray(10, 14)); // clip any padding off the end\n\n            tagSize -= parseSyncSafeInteger(tag.data.subarray(16, 20));\n          } // parse one or more ID3 frames\n          // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n          do {\n            // determine the number of bytes in this frame\n            frameSize = parseSyncSafeInteger(tag.data.subarray(frameStart + 4, frameStart + 8));\n\n            if (frameSize < 1) {\n              // eslint-disable-next-line no-console\n              return console.log('Malformed ID3 frame encountered. Skipping metadata parsing.');\n            }\n\n            frameHeader = String.fromCharCode(tag.data[frameStart], tag.data[frameStart + 1], tag.data[frameStart + 2], tag.data[frameStart + 3]);\n            frame = {\n              id: frameHeader,\n              data: tag.data.subarray(frameStart + 10, frameStart + frameSize + 10)\n            };\n            frame.key = frame.id;\n\n            if (tagParsers[frame.id]) {\n              tagParsers[frame.id](frame); // handle the special PRIV frame used to indicate the start\n              // time for raw AAC data\n\n              if (frame.owner === 'com.apple.streaming.transportStreamTimestamp') {\n                var d = frame.data,\n                    size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n                size *= 4;\n                size += d[7] & 0x03;\n                frame.timeStamp = size; // in raw AAC, all subsequent data will be timestamped based\n                // on the value of this frame\n                // we couldn't have known the appropriate pts and dts before\n                // parsing this ID3 tag so set those values now\n\n                if (tag.pts === undefined && tag.dts === undefined) {\n                  tag.pts = frame.timeStamp;\n                  tag.dts = frame.timeStamp;\n                }\n\n                this.trigger('timestamp', frame);\n              }\n            }\n\n            tag.frames.push(frame);\n            frameStart += 10; // advance past the frame header\n\n            frameStart += frameSize; // advance past the frame body\n          } while (frameStart < tagSize);\n\n          this.trigger('data', tag);\n        };\n      };\n\n      _MetadataStream.prototype = new stream();\n      var metadataStream = _MetadataStream;\n      var TimestampRolloverStream$1 = timestampRolloverStream.TimestampRolloverStream; // object types\n\n      var _TransportPacketStream, _TransportParseStream, _ElementaryStream; // constants\n\n\n      var MP2T_PACKET_LENGTH = 188,\n          // bytes\n      SYNC_BYTE = 0x47;\n      /**\n       * Splits an incoming stream of binary data into MPEG-2 Transport\n       * Stream packets.\n       */\n\n      _TransportPacketStream = function TransportPacketStream() {\n        var buffer = new Uint8Array(MP2T_PACKET_LENGTH),\n            bytesInBuffer = 0;\n\n        _TransportPacketStream.prototype.init.call(this); // Deliver new bytes to the stream.\n\n        /**\n         * Split a stream of data into M2TS packets\n        **/\n\n\n        this.push = function (bytes) {\n          var startIndex = 0,\n              endIndex = MP2T_PACKET_LENGTH,\n              everything; // If there are bytes remaining from the last segment, prepend them to the\n          // bytes that were pushed in\n\n          if (bytesInBuffer) {\n            everything = new Uint8Array(bytes.byteLength + bytesInBuffer);\n            everything.set(buffer.subarray(0, bytesInBuffer));\n            everything.set(bytes, bytesInBuffer);\n            bytesInBuffer = 0;\n          } else {\n            everything = bytes;\n          } // While we have enough data for a packet\n\n\n          while (endIndex < everything.byteLength) {\n            // Look for a pair of start and end sync bytes in the data..\n            if (everything[startIndex] === SYNC_BYTE && everything[endIndex] === SYNC_BYTE) {\n              // We found a packet so emit it and jump one whole packet forward in\n              // the stream\n              this.trigger('data', everything.subarray(startIndex, endIndex));\n              startIndex += MP2T_PACKET_LENGTH;\n              endIndex += MP2T_PACKET_LENGTH;\n              continue;\n            } // If we get here, we have somehow become de-synchronized and we need to step\n            // forward one byte at a time until we find a pair of sync bytes that denote\n            // a packet\n\n\n            startIndex++;\n            endIndex++;\n          } // If there was some data left over at the end of the segment that couldn't\n          // possibly be a whole packet, keep it because it might be the start of a packet\n          // that continues in the next segment\n\n\n          if (startIndex < everything.byteLength) {\n            buffer.set(everything.subarray(startIndex), 0);\n            bytesInBuffer = everything.byteLength - startIndex;\n          }\n        };\n        /**\n         * Passes identified M2TS packets to the TransportParseStream to be parsed\n        **/\n\n\n        this.flush = function () {\n          // If the buffer contains a whole packet when we are being flushed, emit it\n          // and empty the buffer. Otherwise hold onto the data because it may be\n          // important for decoding the next segment\n          if (bytesInBuffer === MP2T_PACKET_LENGTH && buffer[0] === SYNC_BYTE) {\n            this.trigger('data', buffer);\n            bytesInBuffer = 0;\n          }\n\n          this.trigger('done');\n        };\n\n        this.endTimeline = function () {\n          this.flush();\n          this.trigger('endedtimeline');\n        };\n\n        this.reset = function () {\n          bytesInBuffer = 0;\n          this.trigger('reset');\n        };\n      };\n\n      _TransportPacketStream.prototype = new stream();\n      /**\n       * Accepts an MP2T TransportPacketStream and emits data events with parsed\n       * forms of the individual transport stream packets.\n       */\n\n      _TransportParseStream = function TransportParseStream() {\n        var parsePsi, parsePat, parsePmt, self;\n\n        _TransportParseStream.prototype.init.call(this);\n\n        self = this;\n        this.packetsWaitingForPmt = [];\n        this.programMapTable = undefined;\n\n        parsePsi = function parsePsi(payload, psi) {\n          var offset = 0; // PSI packets may be split into multiple sections and those\n          // sections may be split into multiple packets. If a PSI\n          // section starts in this packet, the payload_unit_start_indicator\n          // will be true and the first byte of the payload will indicate\n          // the offset from the current position to the start of the\n          // section.\n\n          if (psi.payloadUnitStartIndicator) {\n            offset += payload[offset] + 1;\n          }\n\n          if (psi.type === 'pat') {\n            parsePat(payload.subarray(offset), psi);\n          } else {\n            parsePmt(payload.subarray(offset), psi);\n          }\n        };\n\n        parsePat = function parsePat(payload, pat) {\n          pat.section_number = payload[7]; // eslint-disable-line camelcase\n\n          pat.last_section_number = payload[8]; // eslint-disable-line camelcase\n          // skip the PSI header and parse the first PMT entry\n\n          self.pmtPid = (payload[10] & 0x1F) << 8 | payload[11];\n          pat.pmtPid = self.pmtPid;\n        };\n        /**\n         * Parse out the relevant fields of a Program Map Table (PMT).\n         * @param payload {Uint8Array} the PMT-specific portion of an MP2T\n         * packet. The first byte in this array should be the table_id\n         * field.\n         * @param pmt {object} the object that should be decorated with\n         * fields parsed from the PMT.\n         */\n\n\n        parsePmt = function parsePmt(payload, pmt) {\n          var sectionLength, tableEnd, programInfoLength, offset; // PMTs can be sent ahead of the time when they should actually\n          // take effect. We don't believe this should ever be the case\n          // for HLS but we'll ignore \"forward\" PMT declarations if we see\n          // them. Future PMT declarations have the current_next_indicator\n          // set to zero.\n\n          if (!(payload[5] & 0x01)) {\n            return;\n          } // overwrite any existing program map table\n\n\n          self.programMapTable = {\n            video: null,\n            audio: null,\n            'timed-metadata': {}\n          }; // the mapping table ends at the end of the current section\n\n          sectionLength = (payload[1] & 0x0f) << 8 | payload[2];\n          tableEnd = 3 + sectionLength - 4; // to determine where the table is, we have to figure out how\n          // long the program info descriptors are\n\n          programInfoLength = (payload[10] & 0x0f) << 8 | payload[11]; // advance the offset to the first entry in the mapping table\n\n          offset = 12 + programInfoLength;\n\n          while (offset < tableEnd) {\n            var streamType = payload[offset];\n            var pid = (payload[offset + 1] & 0x1F) << 8 | payload[offset + 2]; // only map a single elementary_pid for audio and video stream types\n            // TODO: should this be done for metadata too? for now maintain behavior of\n            //       multiple metadata streams\n\n            if (streamType === streamTypes.H264_STREAM_TYPE && self.programMapTable.video === null) {\n              self.programMapTable.video = pid;\n            } else if (streamType === streamTypes.ADTS_STREAM_TYPE && self.programMapTable.audio === null) {\n              self.programMapTable.audio = pid;\n            } else if (streamType === streamTypes.METADATA_STREAM_TYPE) {\n              // map pid to stream type for metadata streams\n              self.programMapTable['timed-metadata'][pid] = streamType;\n            } // move to the next table entry\n            // skip past the elementary stream descriptors, if present\n\n\n            offset += ((payload[offset + 3] & 0x0F) << 8 | payload[offset + 4]) + 5;\n          } // record the map on the packet as well\n\n\n          pmt.programMapTable = self.programMapTable;\n        };\n        /**\n         * Deliver a new MP2T packet to the next stream in the pipeline.\n         */\n\n\n        this.push = function (packet) {\n          var result = {},\n              offset = 4;\n          result.payloadUnitStartIndicator = !!(packet[1] & 0x40); // pid is a 13-bit field starting at the last bit of packet[1]\n\n          result.pid = packet[1] & 0x1f;\n          result.pid <<= 8;\n          result.pid |= packet[2]; // if an adaption field is present, its length is specified by the\n          // fifth byte of the TS packet header. The adaptation field is\n          // used to add stuffing to PES packets that don't fill a complete\n          // TS packet, and to specify some forms of timing and control data\n          // that we do not currently use.\n\n          if ((packet[3] & 0x30) >>> 4 > 0x01) {\n            offset += packet[offset] + 1;\n          } // parse the rest of the packet based on the type\n\n\n          if (result.pid === 0) {\n            result.type = 'pat';\n            parsePsi(packet.subarray(offset), result);\n            this.trigger('data', result);\n          } else if (result.pid === this.pmtPid) {\n            result.type = 'pmt';\n            parsePsi(packet.subarray(offset), result);\n            this.trigger('data', result); // if there are any packets waiting for a PMT to be found, process them now\n\n            while (this.packetsWaitingForPmt.length) {\n              this.processPes_.apply(this, this.packetsWaitingForPmt.shift());\n            }\n          } else if (this.programMapTable === undefined) {\n            // When we have not seen a PMT yet, defer further processing of\n            // PES packets until one has been parsed\n            this.packetsWaitingForPmt.push([packet, offset, result]);\n          } else {\n            this.processPes_(packet, offset, result);\n          }\n        };\n\n        this.processPes_ = function (packet, offset, result) {\n          // set the appropriate stream type\n          if (result.pid === this.programMapTable.video) {\n            result.streamType = streamTypes.H264_STREAM_TYPE;\n          } else if (result.pid === this.programMapTable.audio) {\n            result.streamType = streamTypes.ADTS_STREAM_TYPE;\n          } else {\n            // if not video or audio, it is timed-metadata or unknown\n            // if unknown, streamType will be undefined\n            result.streamType = this.programMapTable['timed-metadata'][result.pid];\n          }\n\n          result.type = 'pes';\n          result.data = packet.subarray(offset);\n          this.trigger('data', result);\n        };\n      };\n\n      _TransportParseStream.prototype = new stream();\n      _TransportParseStream.STREAM_TYPES = {\n        h264: 0x1b,\n        adts: 0x0f\n      };\n      /**\n       * Reconsistutes program elementary stream (PES) packets from parsed\n       * transport stream packets. That is, if you pipe an\n       * mp2t.TransportParseStream into a mp2t.ElementaryStream, the output\n       * events will be events which capture the bytes for individual PES\n       * packets plus relevant metadata that has been extracted from the\n       * container.\n       */\n\n      _ElementaryStream = function ElementaryStream() {\n        var self = this,\n            // PES packet fragments\n        video = {\n          data: [],\n          size: 0\n        },\n            audio = {\n          data: [],\n          size: 0\n        },\n            timedMetadata = {\n          data: [],\n          size: 0\n        },\n            programMapTable,\n            parsePes = function parsePes(payload, pes) {\n          var ptsDtsFlags; // get the packet length, this will be 0 for video\n\n          pes.packetLength = 6 + (payload[4] << 8 | payload[5]); // find out if this packets starts a new keyframe\n\n          pes.dataAlignmentIndicator = (payload[6] & 0x04) !== 0; // PES packets may be annotated with a PTS value, or a PTS value\n          // and a DTS value. Determine what combination of values is\n          // available to work with.\n\n          ptsDtsFlags = payload[7]; // PTS and DTS are normally stored as a 33-bit number.  Javascript\n          // performs all bitwise operations on 32-bit integers but javascript\n          // supports a much greater range (52-bits) of integer using standard\n          // mathematical operations.\n          // We construct a 31-bit value using bitwise operators over the 31\n          // most significant bits and then multiply by 4 (equal to a left-shift\n          // of 2) before we add the final 2 least significant bits of the\n          // timestamp (equal to an OR.)\n\n          if (ptsDtsFlags & 0xC0) {\n            // the PTS and DTS are not written out directly. For information\n            // on how they are encoded, see\n            // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\n            pes.pts = (payload[9] & 0x0E) << 27 | (payload[10] & 0xFF) << 20 | (payload[11] & 0xFE) << 12 | (payload[12] & 0xFF) << 5 | (payload[13] & 0xFE) >>> 3;\n            pes.pts *= 4; // Left shift by 2\n\n            pes.pts += (payload[13] & 0x06) >>> 1; // OR by the two LSBs\n\n            pes.dts = pes.pts;\n\n            if (ptsDtsFlags & 0x40) {\n              pes.dts = (payload[14] & 0x0E) << 27 | (payload[15] & 0xFF) << 20 | (payload[16] & 0xFE) << 12 | (payload[17] & 0xFF) << 5 | (payload[18] & 0xFE) >>> 3;\n              pes.dts *= 4; // Left shift by 2\n\n              pes.dts += (payload[18] & 0x06) >>> 1; // OR by the two LSBs\n            }\n          } // the data section starts immediately after the PES header.\n          // pes_header_data_length specifies the number of header bytes\n          // that follow the last byte of the field.\n\n\n          pes.data = payload.subarray(9 + payload[8]);\n        },\n\n        /**\n          * Pass completely parsed PES packets to the next stream in the pipeline\n         **/\n        flushStream = function flushStream(stream$$1, type, forceFlush) {\n          var packetData = new Uint8Array(stream$$1.size),\n              event = {\n            type: type\n          },\n              i = 0,\n              offset = 0,\n              packetFlushable = false,\n              fragment; // do nothing if there is not enough buffered data for a complete\n          // PES header\n\n          if (!stream$$1.data.length || stream$$1.size < 9) {\n            return;\n          }\n\n          event.trackId = stream$$1.data[0].pid; // reassemble the packet\n\n          for (i = 0; i < stream$$1.data.length; i++) {\n            fragment = stream$$1.data[i];\n            packetData.set(fragment.data, offset);\n            offset += fragment.data.byteLength;\n          } // parse assembled packet's PES header\n\n\n          parsePes(packetData, event); // non-video PES packets MUST have a non-zero PES_packet_length\n          // check that there is enough stream data to fill the packet\n\n          packetFlushable = type === 'video' || event.packetLength <= stream$$1.size; // flush pending packets if the conditions are right\n\n          if (forceFlush || packetFlushable) {\n            stream$$1.size = 0;\n            stream$$1.data.length = 0;\n          } // only emit packets that are complete. this is to avoid assembling\n          // incomplete PES packets due to poor segmentation\n\n\n          if (packetFlushable) {\n            self.trigger('data', event);\n          }\n        };\n\n        _ElementaryStream.prototype.init.call(this);\n        /**\n         * Identifies M2TS packet types and parses PES packets using metadata\n         * parsed from the PMT\n         **/\n\n\n        this.push = function (data) {\n          ({\n            pat: function pat() {// we have to wait for the PMT to arrive as well before we\n              // have any meaningful metadata\n            },\n            pes: function pes() {\n              var stream$$1, streamType;\n\n              switch (data.streamType) {\n                case streamTypes.H264_STREAM_TYPE:\n                case streamTypes.H264_STREAM_TYPE:\n                  stream$$1 = video;\n                  streamType = 'video';\n                  break;\n\n                case streamTypes.ADTS_STREAM_TYPE:\n                  stream$$1 = audio;\n                  streamType = 'audio';\n                  break;\n\n                case streamTypes.METADATA_STREAM_TYPE:\n                  stream$$1 = timedMetadata;\n                  streamType = 'timed-metadata';\n                  break;\n\n                default:\n                  // ignore unknown stream types\n                  return;\n              } // if a new packet is starting, we can flush the completed\n              // packet\n\n\n              if (data.payloadUnitStartIndicator) {\n                flushStream(stream$$1, streamType, true);\n              } // buffer this fragment until we are sure we've received the\n              // complete payload\n\n\n              stream$$1.data.push(data);\n              stream$$1.size += data.data.byteLength;\n            },\n            pmt: function pmt() {\n              var event = {\n                type: 'metadata',\n                tracks: []\n              };\n              programMapTable = data.programMapTable; // translate audio and video streams to tracks\n\n              if (programMapTable.video !== null) {\n                event.tracks.push({\n                  timelineStartInfo: {\n                    baseMediaDecodeTime: 0\n                  },\n                  id: +programMapTable.video,\n                  codec: 'avc',\n                  type: 'video'\n                });\n              }\n\n              if (programMapTable.audio !== null) {\n                event.tracks.push({\n                  timelineStartInfo: {\n                    baseMediaDecodeTime: 0\n                  },\n                  id: +programMapTable.audio,\n                  codec: 'adts',\n                  type: 'audio'\n                });\n              }\n\n              self.trigger('data', event);\n            }\n          })[data.type]();\n        };\n\n        this.reset = function () {\n          video.size = 0;\n          video.data.length = 0;\n          audio.size = 0;\n          audio.data.length = 0;\n          this.trigger('reset');\n        };\n        /**\n         * Flush any remaining input. Video PES packets may be of variable\n         * length. Normally, the start of a new video packet can trigger the\n         * finalization of the previous packet. That is not possible if no\n         * more video is forthcoming, however. In that case, some other\n         * mechanism (like the end of the file) has to be employed. When it is\n         * clear that no additional data is forthcoming, calling this method\n         * will flush the buffered packets.\n         */\n\n\n        this.flushStreams_ = function () {\n          // !!THIS ORDER IS IMPORTANT!!\n          // video first then audio\n          flushStream(video, 'video');\n          flushStream(audio, 'audio');\n          flushStream(timedMetadata, 'timed-metadata');\n        };\n\n        this.flush = function () {\n          this.flushStreams_();\n          this.trigger('done');\n        };\n      };\n\n      _ElementaryStream.prototype = new stream();\n      var m2ts = {\n        PAT_PID: 0x0000,\n        MP2T_PACKET_LENGTH: MP2T_PACKET_LENGTH,\n        TransportPacketStream: _TransportPacketStream,\n        TransportParseStream: _TransportParseStream,\n        ElementaryStream: _ElementaryStream,\n        TimestampRolloverStream: TimestampRolloverStream$1,\n        CaptionStream: captionStream.CaptionStream,\n        Cea608Stream: captionStream.Cea608Stream,\n        MetadataStream: metadataStream\n      };\n\n      for (var type in streamTypes) {\n        if (streamTypes.hasOwnProperty(type)) {\n          m2ts[type] = streamTypes[type];\n        }\n      }\n\n      var m2ts_1 = m2ts;\n      var ONE_SECOND_IN_TS$2 = clock.ONE_SECOND_IN_TS;\n\n      var _AdtsStream;\n\n      var ADTS_SAMPLING_FREQUENCIES = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n      /*\n       * Accepts a ElementaryStream and emits data events with parsed\n       * AAC Audio Frames of the individual packets. Input audio in ADTS\n       * format is unpacked and re-emitted as AAC frames.\n       *\n       * @see http://wiki.multimedia.cx/index.php?title=ADTS\n       * @see http://wiki.multimedia.cx/?title=Understanding_AAC\n       */\n\n      _AdtsStream = function AdtsStream(handlePartialSegments) {\n        var buffer,\n            frameNum = 0;\n\n        _AdtsStream.prototype.init.call(this);\n\n        this.push = function (packet) {\n          var i = 0,\n              frameLength,\n              protectionSkipBytes,\n              frameEnd,\n              oldBuffer,\n              sampleCount,\n              adtsFrameDuration;\n\n          if (!handlePartialSegments) {\n            frameNum = 0;\n          }\n\n          if (packet.type !== 'audio') {\n            // ignore non-audio data\n            return;\n          } // Prepend any data in the buffer to the input data so that we can parse\n          // aac frames the cross a PES packet boundary\n\n\n          if (buffer) {\n            oldBuffer = buffer;\n            buffer = new Uint8Array(oldBuffer.byteLength + packet.data.byteLength);\n            buffer.set(oldBuffer);\n            buffer.set(packet.data, oldBuffer.byteLength);\n          } else {\n            buffer = packet.data;\n          } // unpack any ADTS frames which have been fully received\n          // for details on the ADTS header, see http://wiki.multimedia.cx/index.php?title=ADTS\n\n\n          while (i + 5 < buffer.length) {\n            // Look for the start of an ADTS header..\n            if (buffer[i] !== 0xFF || (buffer[i + 1] & 0xF6) !== 0xF0) {\n              // If a valid header was not found,  jump one forward and attempt to\n              // find a valid ADTS header starting at the next byte\n              i++;\n              continue;\n            } // The protection skip bit tells us if we have 2 bytes of CRC data at the\n            // end of the ADTS header\n\n\n            protectionSkipBytes = (~buffer[i + 1] & 0x01) * 2; // Frame length is a 13 bit integer starting 16 bits from the\n            // end of the sync sequence\n\n            frameLength = (buffer[i + 3] & 0x03) << 11 | buffer[i + 4] << 3 | (buffer[i + 5] & 0xe0) >> 5;\n            sampleCount = ((buffer[i + 6] & 0x03) + 1) * 1024;\n            adtsFrameDuration = sampleCount * ONE_SECOND_IN_TS$2 / ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2];\n            frameEnd = i + frameLength; // If we don't have enough data to actually finish this ADTS frame, return\n            // and wait for more data\n\n            if (buffer.byteLength < frameEnd) {\n              return;\n            } // Otherwise, deliver the complete AAC frame\n\n\n            this.trigger('data', {\n              pts: packet.pts + frameNum * adtsFrameDuration,\n              dts: packet.dts + frameNum * adtsFrameDuration,\n              sampleCount: sampleCount,\n              audioobjecttype: (buffer[i + 2] >>> 6 & 0x03) + 1,\n              channelcount: (buffer[i + 2] & 1) << 2 | (buffer[i + 3] & 0xc0) >>> 6,\n              samplerate: ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2],\n              samplingfrequencyindex: (buffer[i + 2] & 0x3c) >>> 2,\n              // assume ISO/IEC 14496-12 AudioSampleEntry default of 16\n              samplesize: 16,\n              data: buffer.subarray(i + 7 + protectionSkipBytes, frameEnd)\n            });\n            frameNum++; // If the buffer is empty, clear it and return\n\n            if (buffer.byteLength === frameEnd) {\n              buffer = undefined;\n              return;\n            } // Remove the finished frame from the buffer and start the process again\n\n\n            buffer = buffer.subarray(frameEnd);\n          }\n        };\n\n        this.flush = function () {\n          frameNum = 0;\n          this.trigger('done');\n        };\n\n        this.reset = function () {\n          buffer = void 0;\n          this.trigger('reset');\n        };\n\n        this.endTimeline = function () {\n          buffer = void 0;\n          this.trigger('endedtimeline');\n        };\n      };\n\n      _AdtsStream.prototype = new stream();\n      var adts = _AdtsStream;\n      /**\n       * mux.js\n       *\n       * Copyright (c) Brightcove\n       * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n       */\n\n      var ExpGolomb;\n      /**\n       * Parser for exponential Golomb codes, a variable-bitwidth number encoding\n       * scheme used by h264.\n       */\n\n      ExpGolomb = function ExpGolomb(workingData) {\n        var // the number of bytes left to examine in workingData\n        workingBytesAvailable = workingData.byteLength,\n            // the current word being examined\n        workingWord = 0,\n            // :uint\n        // the number of bits left to examine in the current word\n        workingBitsAvailable = 0; // :uint;\n        // ():uint\n\n        this.length = function () {\n          return 8 * workingBytesAvailable;\n        }; // ():uint\n\n\n        this.bitsAvailable = function () {\n          return 8 * workingBytesAvailable + workingBitsAvailable;\n        }; // ():void\n\n\n        this.loadWord = function () {\n          var position = workingData.byteLength - workingBytesAvailable,\n              workingBytes = new Uint8Array(4),\n              availableBytes = Math.min(4, workingBytesAvailable);\n\n          if (availableBytes === 0) {\n            throw new Error('no bytes available');\n          }\n\n          workingBytes.set(workingData.subarray(position, position + availableBytes));\n          workingWord = new DataView(workingBytes.buffer).getUint32(0); // track the amount of workingData that has been processed\n\n          workingBitsAvailable = availableBytes * 8;\n          workingBytesAvailable -= availableBytes;\n        }; // (count:int):void\n\n\n        this.skipBits = function (count) {\n          var skipBytes; // :int\n\n          if (workingBitsAvailable > count) {\n            workingWord <<= count;\n            workingBitsAvailable -= count;\n          } else {\n            count -= workingBitsAvailable;\n            skipBytes = Math.floor(count / 8);\n            count -= skipBytes * 8;\n            workingBytesAvailable -= skipBytes;\n            this.loadWord();\n            workingWord <<= count;\n            workingBitsAvailable -= count;\n          }\n        }; // (size:int):uint\n\n\n        this.readBits = function (size) {\n          var bits = Math.min(workingBitsAvailable, size),\n              // :uint\n          valu = workingWord >>> 32 - bits; // :uint\n          // if size > 31, handle error\n\n          workingBitsAvailable -= bits;\n\n          if (workingBitsAvailable > 0) {\n            workingWord <<= bits;\n          } else if (workingBytesAvailable > 0) {\n            this.loadWord();\n          }\n\n          bits = size - bits;\n\n          if (bits > 0) {\n            return valu << bits | this.readBits(bits);\n          }\n\n          return valu;\n        }; // ():uint\n\n\n        this.skipLeadingZeros = function () {\n          var leadingZeroCount; // :uint\n\n          for (leadingZeroCount = 0; leadingZeroCount < workingBitsAvailable; ++leadingZeroCount) {\n            if ((workingWord & 0x80000000 >>> leadingZeroCount) !== 0) {\n              // the first bit of working word is 1\n              workingWord <<= leadingZeroCount;\n              workingBitsAvailable -= leadingZeroCount;\n              return leadingZeroCount;\n            }\n          } // we exhausted workingWord and still have not found a 1\n\n\n          this.loadWord();\n          return leadingZeroCount + this.skipLeadingZeros();\n        }; // ():void\n\n\n        this.skipUnsignedExpGolomb = function () {\n          this.skipBits(1 + this.skipLeadingZeros());\n        }; // ():void\n\n\n        this.skipExpGolomb = function () {\n          this.skipBits(1 + this.skipLeadingZeros());\n        }; // ():uint\n\n\n        this.readUnsignedExpGolomb = function () {\n          var clz = this.skipLeadingZeros(); // :uint\n\n          return this.readBits(clz + 1) - 1;\n        }; // ():int\n\n\n        this.readExpGolomb = function () {\n          var valu = this.readUnsignedExpGolomb(); // :int\n\n          if (0x01 & valu) {\n            // the number is odd if the low order bit is set\n            return 1 + valu >>> 1; // add 1 to make it even, and divide by 2\n          }\n\n          return -1 * (valu >>> 1); // divide by two then make it negative\n        }; // Some convenience functions\n        // :Boolean\n\n\n        this.readBoolean = function () {\n          return this.readBits(1) === 1;\n        }; // ():int\n\n\n        this.readUnsignedByte = function () {\n          return this.readBits(8);\n        };\n\n        this.loadWord();\n      };\n\n      var expGolomb = ExpGolomb;\n\n      var _H264Stream, _NalByteStream;\n\n      var PROFILES_WITH_OPTIONAL_SPS_DATA;\n      /**\n       * Accepts a NAL unit byte stream and unpacks the embedded NAL units.\n       */\n\n      _NalByteStream = function NalByteStream() {\n        var syncPoint = 0,\n            i,\n            buffer;\n\n        _NalByteStream.prototype.init.call(this);\n        /*\n         * Scans a byte stream and triggers a data event with the NAL units found.\n         * @param {Object} data Event received from H264Stream\n         * @param {Uint8Array} data.data The h264 byte stream to be scanned\n         *\n         * @see H264Stream.push\n         */\n\n\n        this.push = function (data) {\n          var swapBuffer;\n\n          if (!buffer) {\n            buffer = data.data;\n          } else {\n            swapBuffer = new Uint8Array(buffer.byteLength + data.data.byteLength);\n            swapBuffer.set(buffer);\n            swapBuffer.set(data.data, buffer.byteLength);\n            buffer = swapBuffer;\n          }\n\n          var len = buffer.byteLength; // Rec. ITU-T H.264, Annex B\n          // scan for NAL unit boundaries\n          // a match looks like this:\n          // 0 0 1 .. NAL .. 0 0 1\n          // ^ sync point        ^ i\n          // or this:\n          // 0 0 1 .. NAL .. 0 0 0\n          // ^ sync point        ^ i\n          // advance the sync point to a NAL start, if necessary\n\n          for (; syncPoint < len - 3; syncPoint++) {\n            if (buffer[syncPoint + 2] === 1) {\n              // the sync point is properly aligned\n              i = syncPoint + 5;\n              break;\n            }\n          }\n\n          while (i < len) {\n            // look at the current byte to determine if we've hit the end of\n            // a NAL unit boundary\n            switch (buffer[i]) {\n              case 0:\n                // skip past non-sync sequences\n                if (buffer[i - 1] !== 0) {\n                  i += 2;\n                  break;\n                } else if (buffer[i - 2] !== 0) {\n                  i++;\n                  break;\n                } // deliver the NAL unit if it isn't empty\n\n\n                if (syncPoint + 3 !== i - 2) {\n                  this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\n                } // drop trailing zeroes\n\n\n                do {\n                  i++;\n                } while (buffer[i] !== 1 && i < len);\n\n                syncPoint = i - 2;\n                i += 3;\n                break;\n\n              case 1:\n                // skip past non-sync sequences\n                if (buffer[i - 1] !== 0 || buffer[i - 2] !== 0) {\n                  i += 3;\n                  break;\n                } // deliver the NAL unit\n\n\n                this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\n                syncPoint = i - 2;\n                i += 3;\n                break;\n\n              default:\n                // the current byte isn't a one or zero, so it cannot be part\n                // of a sync sequence\n                i += 3;\n                break;\n            }\n          } // filter out the NAL units that were delivered\n\n\n          buffer = buffer.subarray(syncPoint);\n          i -= syncPoint;\n          syncPoint = 0;\n        };\n\n        this.reset = function () {\n          buffer = null;\n          syncPoint = 0;\n          this.trigger('reset');\n        };\n\n        this.flush = function () {\n          // deliver the last buffered NAL unit\n          if (buffer && buffer.byteLength > 3) {\n            this.trigger('data', buffer.subarray(syncPoint + 3));\n          } // reset the stream state\n\n\n          buffer = null;\n          syncPoint = 0;\n          this.trigger('done');\n        };\n\n        this.endTimeline = function () {\n          this.flush();\n          this.trigger('endedtimeline');\n        };\n      };\n\n      _NalByteStream.prototype = new stream(); // values of profile_idc that indicate additional fields are included in the SPS\n      // see Recommendation ITU-T H.264 (4/2013),\n      // 7.3.2.1.1 Sequence parameter set data syntax\n\n      PROFILES_WITH_OPTIONAL_SPS_DATA = {\n        100: true,\n        110: true,\n        122: true,\n        244: true,\n        44: true,\n        83: true,\n        86: true,\n        118: true,\n        128: true,\n        138: true,\n        139: true,\n        134: true\n      };\n      /**\n       * Accepts input from a ElementaryStream and produces H.264 NAL unit data\n       * events.\n       */\n\n      _H264Stream = function H264Stream() {\n        var nalByteStream = new _NalByteStream(),\n            self,\n            trackId,\n            currentPts,\n            currentDts,\n            discardEmulationPreventionBytes,\n            readSequenceParameterSet,\n            skipScalingList;\n\n        _H264Stream.prototype.init.call(this);\n\n        self = this;\n        /*\n         * Pushes a packet from a stream onto the NalByteStream\n         *\n         * @param {Object} packet - A packet received from a stream\n         * @param {Uint8Array} packet.data - The raw bytes of the packet\n         * @param {Number} packet.dts - Decode timestamp of the packet\n         * @param {Number} packet.pts - Presentation timestamp of the packet\n         * @param {Number} packet.trackId - The id of the h264 track this packet came from\n         * @param {('video'|'audio')} packet.type - The type of packet\n         *\n         */\n\n        this.push = function (packet) {\n          if (packet.type !== 'video') {\n            return;\n          }\n\n          trackId = packet.trackId;\n          currentPts = packet.pts;\n          currentDts = packet.dts;\n          nalByteStream.push(packet);\n        };\n        /*\n         * Identify NAL unit types and pass on the NALU, trackId, presentation and decode timestamps\n         * for the NALUs to the next stream component.\n         * Also, preprocess caption and sequence parameter NALUs.\n         *\n         * @param {Uint8Array} data - A NAL unit identified by `NalByteStream.push`\n         * @see NalByteStream.push\n         */\n\n\n        nalByteStream.on('data', function (data) {\n          var event = {\n            trackId: trackId,\n            pts: currentPts,\n            dts: currentDts,\n            data: data\n          };\n\n          switch (data[0] & 0x1f) {\n            case 0x05:\n              event.nalUnitType = 'slice_layer_without_partitioning_rbsp_idr';\n              break;\n\n            case 0x06:\n              event.nalUnitType = 'sei_rbsp';\n              event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\n              break;\n\n            case 0x07:\n              event.nalUnitType = 'seq_parameter_set_rbsp';\n              event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\n              event.config = readSequenceParameterSet(event.escapedRBSP);\n              break;\n\n            case 0x08:\n              event.nalUnitType = 'pic_parameter_set_rbsp';\n              break;\n\n            case 0x09:\n              event.nalUnitType = 'access_unit_delimiter_rbsp';\n              break;\n\n            default:\n              break;\n          } // This triggers data on the H264Stream\n\n\n          self.trigger('data', event);\n        });\n        nalByteStream.on('done', function () {\n          self.trigger('done');\n        });\n        nalByteStream.on('partialdone', function () {\n          self.trigger('partialdone');\n        });\n        nalByteStream.on('reset', function () {\n          self.trigger('reset');\n        });\n        nalByteStream.on('endedtimeline', function () {\n          self.trigger('endedtimeline');\n        });\n\n        this.flush = function () {\n          nalByteStream.flush();\n        };\n\n        this.partialFlush = function () {\n          nalByteStream.partialFlush();\n        };\n\n        this.reset = function () {\n          nalByteStream.reset();\n        };\n\n        this.endTimeline = function () {\n          nalByteStream.endTimeline();\n        };\n        /**\n         * Advance the ExpGolomb decoder past a scaling list. The scaling\n         * list is optionally transmitted as part of a sequence parameter\n         * set and is not relevant to transmuxing.\n         * @param count {number} the number of entries in this scaling list\n         * @param expGolombDecoder {object} an ExpGolomb pointed to the\n         * start of a scaling list\n         * @see Recommendation ITU-T H.264, Section 7.3.2.1.1.1\n         */\n\n\n        skipScalingList = function skipScalingList(count, expGolombDecoder) {\n          var lastScale = 8,\n              nextScale = 8,\n              j,\n              deltaScale;\n\n          for (j = 0; j < count; j++) {\n            if (nextScale !== 0) {\n              deltaScale = expGolombDecoder.readExpGolomb();\n              nextScale = (lastScale + deltaScale + 256) % 256;\n            }\n\n            lastScale = nextScale === 0 ? lastScale : nextScale;\n          }\n        };\n        /**\n         * Expunge any \"Emulation Prevention\" bytes from a \"Raw Byte\n         * Sequence Payload\"\n         * @param data {Uint8Array} the bytes of a RBSP from a NAL\n         * unit\n         * @return {Uint8Array} the RBSP without any Emulation\n         * Prevention Bytes\n         */\n\n\n        discardEmulationPreventionBytes = function discardEmulationPreventionBytes(data) {\n          var length = data.byteLength,\n              emulationPreventionBytesPositions = [],\n              i = 1,\n              newLength,\n              newData; // Find all `Emulation Prevention Bytes`\n\n          while (i < length - 2) {\n            if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n              emulationPreventionBytesPositions.push(i + 2);\n              i += 2;\n            } else {\n              i++;\n            }\n          } // If no Emulation Prevention Bytes were found just return the original\n          // array\n\n\n          if (emulationPreventionBytesPositions.length === 0) {\n            return data;\n          } // Create a new array to hold the NAL unit data\n\n\n          newLength = length - emulationPreventionBytesPositions.length;\n          newData = new Uint8Array(newLength);\n          var sourceIndex = 0;\n\n          for (i = 0; i < newLength; sourceIndex++, i++) {\n            if (sourceIndex === emulationPreventionBytesPositions[0]) {\n              // Skip this byte\n              sourceIndex++; // Remove this position index\n\n              emulationPreventionBytesPositions.shift();\n            }\n\n            newData[i] = data[sourceIndex];\n          }\n\n          return newData;\n        };\n        /**\n         * Read a sequence parameter set and return some interesting video\n         * properties. A sequence parameter set is the H264 metadata that\n         * describes the properties of upcoming video frames.\n         * @param data {Uint8Array} the bytes of a sequence parameter set\n         * @return {object} an object with configuration parsed from the\n         * sequence parameter set, including the dimensions of the\n         * associated video frames.\n         */\n\n\n        readSequenceParameterSet = function readSequenceParameterSet(data) {\n          var frameCropLeftOffset = 0,\n              frameCropRightOffset = 0,\n              frameCropTopOffset = 0,\n              frameCropBottomOffset = 0,\n              sarScale = 1,\n              expGolombDecoder,\n              profileIdc,\n              levelIdc,\n              profileCompatibility,\n              chromaFormatIdc,\n              picOrderCntType,\n              numRefFramesInPicOrderCntCycle,\n              picWidthInMbsMinus1,\n              picHeightInMapUnitsMinus1,\n              frameMbsOnlyFlag,\n              scalingListCount,\n              sarRatio,\n              aspectRatioIdc,\n              i;\n          expGolombDecoder = new expGolomb(data);\n          profileIdc = expGolombDecoder.readUnsignedByte(); // profile_idc\n\n          profileCompatibility = expGolombDecoder.readUnsignedByte(); // constraint_set[0-5]_flag\n\n          levelIdc = expGolombDecoder.readUnsignedByte(); // level_idc u(8)\n\n          expGolombDecoder.skipUnsignedExpGolomb(); // seq_parameter_set_id\n          // some profiles have more optional data we don't need\n\n          if (PROFILES_WITH_OPTIONAL_SPS_DATA[profileIdc]) {\n            chromaFormatIdc = expGolombDecoder.readUnsignedExpGolomb();\n\n            if (chromaFormatIdc === 3) {\n              expGolombDecoder.skipBits(1); // separate_colour_plane_flag\n            }\n\n            expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_luma_minus8\n\n            expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_chroma_minus8\n\n            expGolombDecoder.skipBits(1); // qpprime_y_zero_transform_bypass_flag\n\n            if (expGolombDecoder.readBoolean()) {\n              // seq_scaling_matrix_present_flag\n              scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n\n              for (i = 0; i < scalingListCount; i++) {\n                if (expGolombDecoder.readBoolean()) {\n                  // seq_scaling_list_present_flag[ i ]\n                  if (i < 6) {\n                    skipScalingList(16, expGolombDecoder);\n                  } else {\n                    skipScalingList(64, expGolombDecoder);\n                  }\n                }\n              }\n            }\n          }\n\n          expGolombDecoder.skipUnsignedExpGolomb(); // log2_max_frame_num_minus4\n\n          picOrderCntType = expGolombDecoder.readUnsignedExpGolomb();\n\n          if (picOrderCntType === 0) {\n            expGolombDecoder.readUnsignedExpGolomb(); // log2_max_pic_order_cnt_lsb_minus4\n          } else if (picOrderCntType === 1) {\n            expGolombDecoder.skipBits(1); // delta_pic_order_always_zero_flag\n\n            expGolombDecoder.skipExpGolomb(); // offset_for_non_ref_pic\n\n            expGolombDecoder.skipExpGolomb(); // offset_for_top_to_bottom_field\n\n            numRefFramesInPicOrderCntCycle = expGolombDecoder.readUnsignedExpGolomb();\n\n            for (i = 0; i < numRefFramesInPicOrderCntCycle; i++) {\n              expGolombDecoder.skipExpGolomb(); // offset_for_ref_frame[ i ]\n            }\n          }\n\n          expGolombDecoder.skipUnsignedExpGolomb(); // max_num_ref_frames\n\n          expGolombDecoder.skipBits(1); // gaps_in_frame_num_value_allowed_flag\n\n          picWidthInMbsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\n          picHeightInMapUnitsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\n          frameMbsOnlyFlag = expGolombDecoder.readBits(1);\n\n          if (frameMbsOnlyFlag === 0) {\n            expGolombDecoder.skipBits(1); // mb_adaptive_frame_field_flag\n          }\n\n          expGolombDecoder.skipBits(1); // direct_8x8_inference_flag\n\n          if (expGolombDecoder.readBoolean()) {\n            // frame_cropping_flag\n            frameCropLeftOffset = expGolombDecoder.readUnsignedExpGolomb();\n            frameCropRightOffset = expGolombDecoder.readUnsignedExpGolomb();\n            frameCropTopOffset = expGolombDecoder.readUnsignedExpGolomb();\n            frameCropBottomOffset = expGolombDecoder.readUnsignedExpGolomb();\n          }\n\n          if (expGolombDecoder.readBoolean()) {\n            // vui_parameters_present_flag\n            if (expGolombDecoder.readBoolean()) {\n              // aspect_ratio_info_present_flag\n              aspectRatioIdc = expGolombDecoder.readUnsignedByte();\n\n              switch (aspectRatioIdc) {\n                case 1:\n                  sarRatio = [1, 1];\n                  break;\n\n                case 2:\n                  sarRatio = [12, 11];\n                  break;\n\n                case 3:\n                  sarRatio = [10, 11];\n                  break;\n\n                case 4:\n                  sarRatio = [16, 11];\n                  break;\n\n                case 5:\n                  sarRatio = [40, 33];\n                  break;\n\n                case 6:\n                  sarRatio = [24, 11];\n                  break;\n\n                case 7:\n                  sarRatio = [20, 11];\n                  break;\n\n                case 8:\n                  sarRatio = [32, 11];\n                  break;\n\n                case 9:\n                  sarRatio = [80, 33];\n                  break;\n\n                case 10:\n                  sarRatio = [18, 11];\n                  break;\n\n                case 11:\n                  sarRatio = [15, 11];\n                  break;\n\n                case 12:\n                  sarRatio = [64, 33];\n                  break;\n\n                case 13:\n                  sarRatio = [160, 99];\n                  break;\n\n                case 14:\n                  sarRatio = [4, 3];\n                  break;\n\n                case 15:\n                  sarRatio = [3, 2];\n                  break;\n\n                case 16:\n                  sarRatio = [2, 1];\n                  break;\n\n                case 255:\n                  {\n                    sarRatio = [expGolombDecoder.readUnsignedByte() << 8 | expGolombDecoder.readUnsignedByte(), expGolombDecoder.readUnsignedByte() << 8 | expGolombDecoder.readUnsignedByte()];\n                    break;\n                  }\n              }\n\n              if (sarRatio) {\n                sarScale = sarRatio[0] / sarRatio[1];\n              }\n            }\n          }\n\n          return {\n            profileIdc: profileIdc,\n            levelIdc: levelIdc,\n            profileCompatibility: profileCompatibility,\n            width: Math.ceil(((picWidthInMbsMinus1 + 1) * 16 - frameCropLeftOffset * 2 - frameCropRightOffset * 2) * sarScale),\n            height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - frameCropTopOffset * 2 - frameCropBottomOffset * 2,\n            sarRatio: sarRatio\n          };\n        };\n      };\n\n      _H264Stream.prototype = new stream();\n      var h264 = {\n        H264Stream: _H264Stream,\n        NalByteStream: _NalByteStream\n      };\n      /**\n       * mux.js\n       *\n       * Copyright (c) Brightcove\n       * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n       *\n       * Utilities to detect basic properties and metadata about Aac data.\n       */\n\n      var ADTS_SAMPLING_FREQUENCIES$1 = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n\n      var isLikelyAacData = function isLikelyAacData(data) {\n        if (data[0] === 'I'.charCodeAt(0) && data[1] === 'D'.charCodeAt(0) && data[2] === '3'.charCodeAt(0)) {\n          return true;\n        }\n\n        return false;\n      };\n\n      var parseSyncSafeInteger$1 = function parseSyncSafeInteger(data) {\n        return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n      }; // return a percent-encoded representation of the specified byte range\n      // @see http://en.wikipedia.org/wiki/Percent-encoding\n\n\n      var percentEncode$1 = function percentEncode(bytes, start, end) {\n        var i,\n            result = '';\n\n        for (i = start; i < end; i++) {\n          result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n        }\n\n        return result;\n      }; // return the string representation of the specified byte range,\n      // interpreted as ISO-8859-1.\n\n\n      var parseIso88591$1 = function parseIso88591(bytes, start, end) {\n        return unescape(percentEncode$1(bytes, start, end)); // jshint ignore:line\n      };\n\n      var parseId3TagSize = function parseId3TagSize(header, byteIndex) {\n        var returnSize = header[byteIndex + 6] << 21 | header[byteIndex + 7] << 14 | header[byteIndex + 8] << 7 | header[byteIndex + 9],\n            flags = header[byteIndex + 5],\n            footerPresent = (flags & 16) >> 4;\n\n        if (footerPresent) {\n          return returnSize + 20;\n        }\n\n        return returnSize + 10;\n      };\n\n      var parseAdtsSize = function parseAdtsSize(header, byteIndex) {\n        var lowThree = (header[byteIndex + 5] & 0xE0) >> 5,\n            middle = header[byteIndex + 4] << 3,\n            highTwo = header[byteIndex + 3] & 0x3 << 11;\n        return highTwo | middle | lowThree;\n      };\n\n      var parseType = function parseType(header, byteIndex) {\n        if (header[byteIndex] === 'I'.charCodeAt(0) && header[byteIndex + 1] === 'D'.charCodeAt(0) && header[byteIndex + 2] === '3'.charCodeAt(0)) {\n          return 'timed-metadata';\n        } else if (header[byteIndex] & 0xff === 0xff && (header[byteIndex + 1] & 0xf0) === 0xf0) {\n          return 'audio';\n        }\n\n        return null;\n      };\n\n      var parseSampleRate = function parseSampleRate(packet) {\n        var i = 0;\n\n        while (i + 5 < packet.length) {\n          if (packet[i] !== 0xFF || (packet[i + 1] & 0xF6) !== 0xF0) {\n            // If a valid header was not found,  jump one forward and attempt to\n            // find a valid ADTS header starting at the next byte\n            i++;\n            continue;\n          }\n\n          return ADTS_SAMPLING_FREQUENCIES$1[(packet[i + 2] & 0x3c) >>> 2];\n        }\n\n        return null;\n      };\n\n      var parseAacTimestamp = function parseAacTimestamp(packet) {\n        var frameStart, frameSize, frame, frameHeader; // find the start of the first frame and the end of the tag\n\n        frameStart = 10;\n\n        if (packet[5] & 0x40) {\n          // advance the frame start past the extended header\n          frameStart += 4; // header size field\n\n          frameStart += parseSyncSafeInteger$1(packet.subarray(10, 14));\n        } // parse one or more ID3 frames\n        // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n        do {\n          // determine the number of bytes in this frame\n          frameSize = parseSyncSafeInteger$1(packet.subarray(frameStart + 4, frameStart + 8));\n\n          if (frameSize < 1) {\n            return null;\n          }\n\n          frameHeader = String.fromCharCode(packet[frameStart], packet[frameStart + 1], packet[frameStart + 2], packet[frameStart + 3]);\n\n          if (frameHeader === 'PRIV') {\n            frame = packet.subarray(frameStart + 10, frameStart + frameSize + 10);\n\n            for (var i = 0; i < frame.byteLength; i++) {\n              if (frame[i] === 0) {\n                var owner = parseIso88591$1(frame, 0, i);\n\n                if (owner === 'com.apple.streaming.transportStreamTimestamp') {\n                  var d = frame.subarray(i + 1);\n                  var size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n                  size *= 4;\n                  size += d[7] & 0x03;\n                  return size;\n                }\n\n                break;\n              }\n            }\n          }\n\n          frameStart += 10; // advance past the frame header\n\n          frameStart += frameSize; // advance past the frame body\n        } while (frameStart < packet.byteLength);\n\n        return null;\n      };\n\n      var utils = {\n        isLikelyAacData: isLikelyAacData,\n        parseId3TagSize: parseId3TagSize,\n        parseAdtsSize: parseAdtsSize,\n        parseType: parseType,\n        parseSampleRate: parseSampleRate,\n        parseAacTimestamp: parseAacTimestamp\n      }; // Constants\n\n      var _AacStream;\n      /**\n       * Splits an incoming stream of binary data into ADTS and ID3 Frames.\n       */\n\n\n      _AacStream = function AacStream() {\n        var everything = new Uint8Array(),\n            timeStamp = 0;\n\n        _AacStream.prototype.init.call(this);\n\n        this.setTimestamp = function (timestamp) {\n          timeStamp = timestamp;\n        };\n\n        this.push = function (bytes) {\n          var frameSize = 0,\n              byteIndex = 0,\n              bytesLeft,\n              chunk,\n              packet,\n              tempLength; // If there are bytes remaining from the last segment, prepend them to the\n          // bytes that were pushed in\n\n          if (everything.length) {\n            tempLength = everything.length;\n            everything = new Uint8Array(bytes.byteLength + tempLength);\n            everything.set(everything.subarray(0, tempLength));\n            everything.set(bytes, tempLength);\n          } else {\n            everything = bytes;\n          }\n\n          while (everything.length - byteIndex >= 3) {\n            if (everything[byteIndex] === 'I'.charCodeAt(0) && everything[byteIndex + 1] === 'D'.charCodeAt(0) && everything[byteIndex + 2] === '3'.charCodeAt(0)) {\n              // Exit early because we don't have enough to parse\n              // the ID3 tag header\n              if (everything.length - byteIndex < 10) {\n                break;\n              } // check framesize\n\n\n              frameSize = utils.parseId3TagSize(everything, byteIndex); // Exit early if we don't have enough in the buffer\n              // to emit a full packet\n              // Add to byteIndex to support multiple ID3 tags in sequence\n\n              if (byteIndex + frameSize > everything.length) {\n                break;\n              }\n\n              chunk = {\n                type: 'timed-metadata',\n                data: everything.subarray(byteIndex, byteIndex + frameSize)\n              };\n              this.trigger('data', chunk);\n              byteIndex += frameSize;\n              continue;\n            } else if ((everything[byteIndex] & 0xff) === 0xff && (everything[byteIndex + 1] & 0xf0) === 0xf0) {\n              // Exit early because we don't have enough to parse\n              // the ADTS frame header\n              if (everything.length - byteIndex < 7) {\n                break;\n              }\n\n              frameSize = utils.parseAdtsSize(everything, byteIndex); // Exit early if we don't have enough in the buffer\n              // to emit a full packet\n\n              if (byteIndex + frameSize > everything.length) {\n                break;\n              }\n\n              packet = {\n                type: 'audio',\n                data: everything.subarray(byteIndex, byteIndex + frameSize),\n                pts: timeStamp,\n                dts: timeStamp\n              };\n              this.trigger('data', packet);\n              byteIndex += frameSize;\n              continue;\n            }\n\n            byteIndex++;\n          }\n\n          bytesLeft = everything.length - byteIndex;\n\n          if (bytesLeft > 0) {\n            everything = everything.subarray(byteIndex);\n          } else {\n            everything = new Uint8Array();\n          }\n        };\n\n        this.reset = function () {\n          everything = new Uint8Array();\n          this.trigger('reset');\n        };\n\n        this.endTimeline = function () {\n          everything = new Uint8Array();\n          this.trigger('endedtimeline');\n        };\n      };\n\n      _AacStream.prototype = new stream();\n      var aac = _AacStream;\n      var H264Stream = h264.H264Stream;\n      var isLikelyAacData$1 = utils.isLikelyAacData;\n      var ONE_SECOND_IN_TS$3 = clock.ONE_SECOND_IN_TS; // constants\n\n      var AUDIO_PROPERTIES = ['audioobjecttype', 'channelcount', 'samplerate', 'samplingfrequencyindex', 'samplesize'];\n      var VIDEO_PROPERTIES = ['width', 'height', 'profileIdc', 'levelIdc', 'profileCompatibility', 'sarRatio']; // object types\n\n      var _VideoSegmentStream, _AudioSegmentStream, _Transmuxer, _CoalesceStream;\n      /**\n       * Compare two arrays (even typed) for same-ness\n       */\n\n\n      var arrayEquals = function arrayEquals(a, b) {\n        var i;\n\n        if (a.length !== b.length) {\n          return false;\n        } // compare the value of each element in the array\n\n\n        for (i = 0; i < a.length; i++) {\n          if (a[i] !== b[i]) {\n            return false;\n          }\n        }\n\n        return true;\n      };\n\n      var generateVideoSegmentTimingInfo = function generateVideoSegmentTimingInfo(baseMediaDecodeTime, startDts, startPts, endDts, endPts, prependedContentDuration) {\n        var ptsOffsetFromDts = startPts - startDts,\n            decodeDuration = endDts - startDts,\n            presentationDuration = endPts - startPts; // The PTS and DTS values are based on the actual stream times from the segment,\n        // however, the player time values will reflect a start from the baseMediaDecodeTime.\n        // In order to provide relevant values for the player times, base timing info on the\n        // baseMediaDecodeTime and the DTS and PTS durations of the segment.\n\n        return {\n          start: {\n            dts: baseMediaDecodeTime,\n            pts: baseMediaDecodeTime + ptsOffsetFromDts\n          },\n          end: {\n            dts: baseMediaDecodeTime + decodeDuration,\n            pts: baseMediaDecodeTime + presentationDuration\n          },\n          prependedContentDuration: prependedContentDuration,\n          baseMediaDecodeTime: baseMediaDecodeTime\n        };\n      };\n      /**\n       * Constructs a single-track, ISO BMFF media segment from AAC data\n       * events. The output of this stream can be fed to a SourceBuffer\n       * configured with a suitable initialization segment.\n       * @param track {object} track metadata configuration\n       * @param options {object} transmuxer options object\n       * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n       *        in the source; false to adjust the first segment to start at 0.\n       */\n\n\n      _AudioSegmentStream = function AudioSegmentStream(track, options) {\n        var adtsFrames = [],\n            sequenceNumber = 0,\n            earliestAllowedDts = 0,\n            audioAppendStartTs = 0,\n            videoBaseMediaDecodeTime = Infinity;\n        options = options || {};\n\n        _AudioSegmentStream.prototype.init.call(this);\n\n        this.push = function (data) {\n          trackDecodeInfo.collectDtsInfo(track, data);\n\n          if (track) {\n            AUDIO_PROPERTIES.forEach(function (prop) {\n              track[prop] = data[prop];\n            });\n          } // buffer audio data until end() is called\n\n\n          adtsFrames.push(data);\n        };\n\n        this.setEarliestDts = function (earliestDts) {\n          earliestAllowedDts = earliestDts - track.timelineStartInfo.baseMediaDecodeTime;\n        };\n\n        this.setVideoBaseMediaDecodeTime = function (baseMediaDecodeTime) {\n          videoBaseMediaDecodeTime = baseMediaDecodeTime;\n        };\n\n        this.setAudioAppendStart = function (timestamp) {\n          audioAppendStartTs = timestamp;\n        };\n\n        this.flush = function () {\n          var frames, moof, mdat, boxes, frameDuration; // return early if no audio data has been observed\n\n          if (adtsFrames.length === 0) {\n            this.trigger('done', 'AudioSegmentStream');\n            return;\n          }\n\n          frames = audioFrameUtils.trimAdtsFramesByEarliestDts(adtsFrames, track, earliestAllowedDts);\n          track.baseMediaDecodeTime = trackDecodeInfo.calculateTrackBaseMediaDecodeTime(track, options.keepOriginalTimestamps);\n          audioFrameUtils.prefixWithSilence(track, frames, audioAppendStartTs, videoBaseMediaDecodeTime); // we have to build the index from byte locations to\n          // samples (that is, adts frames) in the audio data\n\n          track.samples = audioFrameUtils.generateSampleTable(frames); // concatenate the audio data to constuct the mdat\n\n          mdat = mp4Generator.mdat(audioFrameUtils.concatenateFrameData(frames));\n          adtsFrames = [];\n          moof = mp4Generator.moof(sequenceNumber, [track]);\n          boxes = new Uint8Array(moof.byteLength + mdat.byteLength); // bump the sequence number for next time\n\n          sequenceNumber++;\n          boxes.set(moof);\n          boxes.set(mdat, moof.byteLength);\n          trackDecodeInfo.clearDtsInfo(track);\n          frameDuration = Math.ceil(ONE_SECOND_IN_TS$3 * 1024 / track.samplerate); // TODO this check was added to maintain backwards compatibility (particularly with\n          // tests) on adding the timingInfo event. However, it seems unlikely that there's a\n          // valid use-case where an init segment/data should be triggered without associated\n          // frames. Leaving for now, but should be looked into.\n\n          if (frames.length) {\n            this.trigger('timingInfo', {\n              start: frames[0].dts,\n              end: frames[0].dts + frames.length * frameDuration\n            });\n          }\n\n          this.trigger('data', {\n            track: track,\n            boxes: boxes\n          });\n          this.trigger('done', 'AudioSegmentStream');\n        };\n\n        this.reset = function () {\n          trackDecodeInfo.clearDtsInfo(track);\n          adtsFrames = [];\n          this.trigger('reset');\n        };\n      };\n\n      _AudioSegmentStream.prototype = new stream();\n      /**\n       * Constructs a single-track, ISO BMFF media segment from H264 data\n       * events. The output of this stream can be fed to a SourceBuffer\n       * configured with a suitable initialization segment.\n       * @param track {object} track metadata configuration\n       * @param options {object} transmuxer options object\n       * @param options.alignGopsAtEnd {boolean} If true, start from the end of the\n       *        gopsToAlignWith list when attempting to align gop pts\n       * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n       *        in the source; false to adjust the first segment to start at 0.\n       */\n\n      _VideoSegmentStream = function VideoSegmentStream(track, options) {\n        var sequenceNumber = 0,\n            nalUnits = [],\n            gopsToAlignWith = [],\n            config,\n            pps;\n        options = options || {};\n\n        _VideoSegmentStream.prototype.init.call(this);\n\n        delete track.minPTS;\n        this.gopCache_ = [];\n        /**\n          * Constructs a ISO BMFF segment given H264 nalUnits\n          * @param {Object} nalUnit A data event representing a nalUnit\n          * @param {String} nalUnit.nalUnitType\n          * @param {Object} nalUnit.config Properties for a mp4 track\n          * @param {Uint8Array} nalUnit.data The nalUnit bytes\n          * @see lib/codecs/h264.js\n         **/\n\n        this.push = function (nalUnit) {\n          trackDecodeInfo.collectDtsInfo(track, nalUnit); // record the track config\n\n          if (nalUnit.nalUnitType === 'seq_parameter_set_rbsp' && !config) {\n            config = nalUnit.config;\n            track.sps = [nalUnit.data];\n            VIDEO_PROPERTIES.forEach(function (prop) {\n              track[prop] = config[prop];\n            }, this);\n          }\n\n          if (nalUnit.nalUnitType === 'pic_parameter_set_rbsp' && !pps) {\n            pps = nalUnit.data;\n            track.pps = [nalUnit.data];\n          } // buffer video until flush() is called\n\n\n          nalUnits.push(nalUnit);\n        };\n        /**\n          * Pass constructed ISO BMFF track and boxes on to the\n          * next stream in the pipeline\n         **/\n\n\n        this.flush = function () {\n          var frames,\n              gopForFusion,\n              gops,\n              moof,\n              mdat,\n              boxes,\n              prependedContentDuration = 0,\n              firstGop,\n              lastGop; // Throw away nalUnits at the start of the byte stream until\n          // we find the first AUD\n\n          while (nalUnits.length) {\n            if (nalUnits[0].nalUnitType === 'access_unit_delimiter_rbsp') {\n              break;\n            }\n\n            nalUnits.shift();\n          } // Return early if no video data has been observed\n\n\n          if (nalUnits.length === 0) {\n            this.resetStream_();\n            this.trigger('done', 'VideoSegmentStream');\n            return;\n          } // Organize the raw nal-units into arrays that represent\n          // higher-level constructs such as frames and gops\n          // (group-of-pictures)\n\n\n          frames = frameUtils.groupNalsIntoFrames(nalUnits);\n          gops = frameUtils.groupFramesIntoGops(frames); // If the first frame of this fragment is not a keyframe we have\n          // a problem since MSE (on Chrome) requires a leading keyframe.\n          //\n          // We have two approaches to repairing this situation:\n          // 1) GOP-FUSION:\n          //    This is where we keep track of the GOPS (group-of-pictures)\n          //    from previous fragments and attempt to find one that we can\n          //    prepend to the current fragment in order to create a valid\n          //    fragment.\n          // 2) KEYFRAME-PULLING:\n          //    Here we search for the first keyframe in the fragment and\n          //    throw away all the frames between the start of the fragment\n          //    and that keyframe. We then extend the duration and pull the\n          //    PTS of the keyframe forward so that it covers the time range\n          //    of the frames that were disposed of.\n          //\n          // #1 is far prefereable over #2 which can cause \"stuttering\" but\n          // requires more things to be just right.\n\n          if (!gops[0][0].keyFrame) {\n            // Search for a gop for fusion from our gopCache\n            gopForFusion = this.getGopForFusion_(nalUnits[0], track);\n\n            if (gopForFusion) {\n              // in order to provide more accurate timing information about the segment, save\n              // the number of seconds prepended to the original segment due to GOP fusion\n              prependedContentDuration = gopForFusion.duration;\n              gops.unshift(gopForFusion); // Adjust Gops' metadata to account for the inclusion of the\n              // new gop at the beginning\n\n              gops.byteLength += gopForFusion.byteLength;\n              gops.nalCount += gopForFusion.nalCount;\n              gops.pts = gopForFusion.pts;\n              gops.dts = gopForFusion.dts;\n              gops.duration += gopForFusion.duration;\n            } else {\n              // If we didn't find a candidate gop fall back to keyframe-pulling\n              gops = frameUtils.extendFirstKeyFrame(gops);\n            }\n          } // Trim gops to align with gopsToAlignWith\n\n\n          if (gopsToAlignWith.length) {\n            var alignedGops;\n\n            if (options.alignGopsAtEnd) {\n              alignedGops = this.alignGopsAtEnd_(gops);\n            } else {\n              alignedGops = this.alignGopsAtStart_(gops);\n            }\n\n            if (!alignedGops) {\n              // save all the nals in the last GOP into the gop cache\n              this.gopCache_.unshift({\n                gop: gops.pop(),\n                pps: track.pps,\n                sps: track.sps\n              }); // Keep a maximum of 6 GOPs in the cache\n\n              this.gopCache_.length = Math.min(6, this.gopCache_.length); // Clear nalUnits\n\n              nalUnits = []; // return early no gops can be aligned with desired gopsToAlignWith\n\n              this.resetStream_();\n              this.trigger('done', 'VideoSegmentStream');\n              return;\n            } // Some gops were trimmed. clear dts info so minSegmentDts and pts are correct\n            // when recalculated before sending off to CoalesceStream\n\n\n            trackDecodeInfo.clearDtsInfo(track);\n            gops = alignedGops;\n          }\n\n          trackDecodeInfo.collectDtsInfo(track, gops); // First, we have to build the index from byte locations to\n          // samples (that is, frames) in the video data\n\n          track.samples = frameUtils.generateSampleTable(gops); // Concatenate the video data and construct the mdat\n\n          mdat = mp4Generator.mdat(frameUtils.concatenateNalData(gops));\n          track.baseMediaDecodeTime = trackDecodeInfo.calculateTrackBaseMediaDecodeTime(track, options.keepOriginalTimestamps);\n          this.trigger('processedGopsInfo', gops.map(function (gop) {\n            return {\n              pts: gop.pts,\n              dts: gop.dts,\n              byteLength: gop.byteLength\n            };\n          }));\n          firstGop = gops[0];\n          lastGop = gops[gops.length - 1];\n          this.trigger('segmentTimingInfo', generateVideoSegmentTimingInfo(track.baseMediaDecodeTime, firstGop.dts, firstGop.pts, lastGop.dts + lastGop.duration, lastGop.pts + lastGop.duration, prependedContentDuration));\n          this.trigger('timingInfo', {\n            start: gops[0].dts,\n            end: gops[gops.length - 1].dts + gops[gops.length - 1].duration\n          }); // save all the nals in the last GOP into the gop cache\n\n          this.gopCache_.unshift({\n            gop: gops.pop(),\n            pps: track.pps,\n            sps: track.sps\n          }); // Keep a maximum of 6 GOPs in the cache\n\n          this.gopCache_.length = Math.min(6, this.gopCache_.length); // Clear nalUnits\n\n          nalUnits = [];\n          this.trigger('baseMediaDecodeTime', track.baseMediaDecodeTime);\n          this.trigger('timelineStartInfo', track.timelineStartInfo);\n          moof = mp4Generator.moof(sequenceNumber, [track]); // it would be great to allocate this array up front instead of\n          // throwing away hundreds of media segment fragments\n\n          boxes = new Uint8Array(moof.byteLength + mdat.byteLength); // Bump the sequence number for next time\n\n          sequenceNumber++;\n          boxes.set(moof);\n          boxes.set(mdat, moof.byteLength);\n          this.trigger('data', {\n            track: track,\n            boxes: boxes\n          });\n          this.resetStream_(); // Continue with the flush process now\n\n          this.trigger('done', 'VideoSegmentStream');\n        };\n\n        this.reset = function () {\n          this.resetStream_();\n          nalUnits = [];\n          this.gopCache_.length = 0;\n          gopsToAlignWith.length = 0;\n          this.trigger('reset');\n        };\n\n        this.resetStream_ = function () {\n          trackDecodeInfo.clearDtsInfo(track); // reset config and pps because they may differ across segments\n          // for instance, when we are rendition switching\n\n          config = undefined;\n          pps = undefined;\n        }; // Search for a candidate Gop for gop-fusion from the gop cache and\n        // return it or return null if no good candidate was found\n\n\n        this.getGopForFusion_ = function (nalUnit) {\n          var halfSecond = 45000,\n              // Half-a-second in a 90khz clock\n          allowableOverlap = 10000,\n              // About 3 frames @ 30fps\n          nearestDistance = Infinity,\n              dtsDistance,\n              nearestGopObj,\n              currentGop,\n              currentGopObj,\n              i; // Search for the GOP nearest to the beginning of this nal unit\n\n          for (i = 0; i < this.gopCache_.length; i++) {\n            currentGopObj = this.gopCache_[i];\n            currentGop = currentGopObj.gop; // Reject Gops with different SPS or PPS\n\n            if (!(track.pps && arrayEquals(track.pps[0], currentGopObj.pps[0])) || !(track.sps && arrayEquals(track.sps[0], currentGopObj.sps[0]))) {\n              continue;\n            } // Reject Gops that would require a negative baseMediaDecodeTime\n\n\n            if (currentGop.dts < track.timelineStartInfo.dts) {\n              continue;\n            } // The distance between the end of the gop and the start of the nalUnit\n\n\n            dtsDistance = nalUnit.dts - currentGop.dts - currentGop.duration; // Only consider GOPS that start before the nal unit and end within\n            // a half-second of the nal unit\n\n            if (dtsDistance >= -allowableOverlap && dtsDistance <= halfSecond) {\n              // Always use the closest GOP we found if there is more than\n              // one candidate\n              if (!nearestGopObj || nearestDistance > dtsDistance) {\n                nearestGopObj = currentGopObj;\n                nearestDistance = dtsDistance;\n              }\n            }\n          }\n\n          if (nearestGopObj) {\n            return nearestGopObj.gop;\n          }\n\n          return null;\n        }; // trim gop list to the first gop found that has a matching pts with a gop in the list\n        // of gopsToAlignWith starting from the START of the list\n\n\n        this.alignGopsAtStart_ = function (gops) {\n          var alignIndex, gopIndex, align, gop, byteLength, nalCount, duration, alignedGops;\n          byteLength = gops.byteLength;\n          nalCount = gops.nalCount;\n          duration = gops.duration;\n          alignIndex = gopIndex = 0;\n\n          while (alignIndex < gopsToAlignWith.length && gopIndex < gops.length) {\n            align = gopsToAlignWith[alignIndex];\n            gop = gops[gopIndex];\n\n            if (align.pts === gop.pts) {\n              break;\n            }\n\n            if (gop.pts > align.pts) {\n              // this current gop starts after the current gop we want to align on, so increment\n              // align index\n              alignIndex++;\n              continue;\n            } // current gop starts before the current gop we want to align on. so increment gop\n            // index\n\n\n            gopIndex++;\n            byteLength -= gop.byteLength;\n            nalCount -= gop.nalCount;\n            duration -= gop.duration;\n          }\n\n          if (gopIndex === 0) {\n            // no gops to trim\n            return gops;\n          }\n\n          if (gopIndex === gops.length) {\n            // all gops trimmed, skip appending all gops\n            return null;\n          }\n\n          alignedGops = gops.slice(gopIndex);\n          alignedGops.byteLength = byteLength;\n          alignedGops.duration = duration;\n          alignedGops.nalCount = nalCount;\n          alignedGops.pts = alignedGops[0].pts;\n          alignedGops.dts = alignedGops[0].dts;\n          return alignedGops;\n        }; // trim gop list to the first gop found that has a matching pts with a gop in the list\n        // of gopsToAlignWith starting from the END of the list\n\n\n        this.alignGopsAtEnd_ = function (gops) {\n          var alignIndex, gopIndex, align, gop, alignEndIndex, matchFound;\n          alignIndex = gopsToAlignWith.length - 1;\n          gopIndex = gops.length - 1;\n          alignEndIndex = null;\n          matchFound = false;\n\n          while (alignIndex >= 0 && gopIndex >= 0) {\n            align = gopsToAlignWith[alignIndex];\n            gop = gops[gopIndex];\n\n            if (align.pts === gop.pts) {\n              matchFound = true;\n              break;\n            }\n\n            if (align.pts > gop.pts) {\n              alignIndex--;\n              continue;\n            }\n\n            if (alignIndex === gopsToAlignWith.length - 1) {\n              // gop.pts is greater than the last alignment candidate. If no match is found\n              // by the end of this loop, we still want to append gops that come after this\n              // point\n              alignEndIndex = gopIndex;\n            }\n\n            gopIndex--;\n          }\n\n          if (!matchFound && alignEndIndex === null) {\n            return null;\n          }\n\n          var trimIndex;\n\n          if (matchFound) {\n            trimIndex = gopIndex;\n          } else {\n            trimIndex = alignEndIndex;\n          }\n\n          if (trimIndex === 0) {\n            return gops;\n          }\n\n          var alignedGops = gops.slice(trimIndex);\n          var metadata = alignedGops.reduce(function (total, gop) {\n            total.byteLength += gop.byteLength;\n            total.duration += gop.duration;\n            total.nalCount += gop.nalCount;\n            return total;\n          }, {\n            byteLength: 0,\n            duration: 0,\n            nalCount: 0\n          });\n          alignedGops.byteLength = metadata.byteLength;\n          alignedGops.duration = metadata.duration;\n          alignedGops.nalCount = metadata.nalCount;\n          alignedGops.pts = alignedGops[0].pts;\n          alignedGops.dts = alignedGops[0].dts;\n          return alignedGops;\n        };\n\n        this.alignGopsWith = function (newGopsToAlignWith) {\n          gopsToAlignWith = newGopsToAlignWith;\n        };\n      };\n\n      _VideoSegmentStream.prototype = new stream();\n      /**\n       * A Stream that can combine multiple streams (ie. audio & video)\n       * into a single output segment for MSE. Also supports audio-only\n       * and video-only streams.\n       * @param options {object} transmuxer options object\n       * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n       *        in the source; false to adjust the first segment to start at media timeline start.\n       */\n\n      _CoalesceStream = function CoalesceStream(options, metadataStream) {\n        // Number of Tracks per output segment\n        // If greater than 1, we combine multiple\n        // tracks into a single segment\n        this.numberOfTracks = 0;\n        this.metadataStream = metadataStream;\n        options = options || {};\n\n        if (typeof options.remux !== 'undefined') {\n          this.remuxTracks = !!options.remux;\n        } else {\n          this.remuxTracks = true;\n        }\n\n        if (typeof options.keepOriginalTimestamps === 'boolean') {\n          this.keepOriginalTimestamps = options.keepOriginalTimestamps;\n        } else {\n          this.keepOriginalTimestamps = false;\n        }\n\n        this.pendingTracks = [];\n        this.videoTrack = null;\n        this.pendingBoxes = [];\n        this.pendingCaptions = [];\n        this.pendingMetadata = [];\n        this.pendingBytes = 0;\n        this.emittedTracks = 0;\n\n        _CoalesceStream.prototype.init.call(this); // Take output from multiple\n\n\n        this.push = function (output) {\n          // buffer incoming captions until the associated video segment\n          // finishes\n          if (output.text) {\n            return this.pendingCaptions.push(output);\n          } // buffer incoming id3 tags until the final flush\n\n\n          if (output.frames) {\n            return this.pendingMetadata.push(output);\n          } // Add this track to the list of pending tracks and store\n          // important information required for the construction of\n          // the final segment\n\n\n          this.pendingTracks.push(output.track);\n          this.pendingBytes += output.boxes.byteLength; // TODO: is there an issue for this against chrome?\n          // We unshift audio and push video because\n          // as of Chrome 75 when switching from\n          // one init segment to another if the video\n          // mdat does not appear after the audio mdat\n          // only audio will play for the duration of our transmux.\n\n          if (output.track.type === 'video') {\n            this.videoTrack = output.track;\n            this.pendingBoxes.push(output.boxes);\n          }\n\n          if (output.track.type === 'audio') {\n            this.audioTrack = output.track;\n            this.pendingBoxes.unshift(output.boxes);\n          }\n        };\n      };\n\n      _CoalesceStream.prototype = new stream();\n\n      _CoalesceStream.prototype.flush = function (flushSource) {\n        var offset = 0,\n            event = {\n          captions: [],\n          captionStreams: {},\n          metadata: [],\n          info: {}\n        },\n            caption,\n            id3,\n            initSegment,\n            timelineStartPts = 0,\n            i;\n\n        if (this.pendingTracks.length < this.numberOfTracks) {\n          if (flushSource !== 'VideoSegmentStream' && flushSource !== 'AudioSegmentStream') {\n            // Return because we haven't received a flush from a data-generating\n            // portion of the segment (meaning that we have only recieved meta-data\n            // or captions.)\n            return;\n          } else if (this.remuxTracks) {\n            // Return until we have enough tracks from the pipeline to remux (if we\n            // are remuxing audio and video into a single MP4)\n            return;\n          } else if (this.pendingTracks.length === 0) {\n            // In the case where we receive a flush without any data having been\n            // received we consider it an emitted track for the purposes of coalescing\n            // `done` events.\n            // We do this for the case where there is an audio and video track in the\n            // segment but no audio data. (seen in several playlists with alternate\n            // audio tracks and no audio present in the main TS segments.)\n            this.emittedTracks++;\n\n            if (this.emittedTracks >= this.numberOfTracks) {\n              this.trigger('done');\n              this.emittedTracks = 0;\n            }\n\n            return;\n          }\n        }\n\n        if (this.videoTrack) {\n          timelineStartPts = this.videoTrack.timelineStartInfo.pts;\n          VIDEO_PROPERTIES.forEach(function (prop) {\n            event.info[prop] = this.videoTrack[prop];\n          }, this);\n        } else if (this.audioTrack) {\n          timelineStartPts = this.audioTrack.timelineStartInfo.pts;\n          AUDIO_PROPERTIES.forEach(function (prop) {\n            event.info[prop] = this.audioTrack[prop];\n          }, this);\n        }\n\n        if (this.videoTrack || this.audioTrack) {\n          if (this.pendingTracks.length === 1) {\n            event.type = this.pendingTracks[0].type;\n          } else {\n            event.type = 'combined';\n          }\n\n          this.emittedTracks += this.pendingTracks.length;\n          initSegment = mp4Generator.initSegment(this.pendingTracks); // Create a new typed array to hold the init segment\n\n          event.initSegment = new Uint8Array(initSegment.byteLength); // Create an init segment containing a moov\n          // and track definitions\n\n          event.initSegment.set(initSegment); // Create a new typed array to hold the moof+mdats\n\n          event.data = new Uint8Array(this.pendingBytes); // Append each moof+mdat (one per track) together\n\n          for (i = 0; i < this.pendingBoxes.length; i++) {\n            event.data.set(this.pendingBoxes[i], offset);\n            offset += this.pendingBoxes[i].byteLength;\n          } // Translate caption PTS times into second offsets to match the\n          // video timeline for the segment, and add track info\n\n\n          for (i = 0; i < this.pendingCaptions.length; i++) {\n            caption = this.pendingCaptions[i];\n            caption.startTime = clock.metadataTsToSeconds(caption.startPts, timelineStartPts, this.keepOriginalTimestamps);\n            caption.endTime = clock.metadataTsToSeconds(caption.endPts, timelineStartPts, this.keepOriginalTimestamps);\n            event.captionStreams[caption.stream] = true;\n            event.captions.push(caption);\n          } // Translate ID3 frame PTS times into second offsets to match the\n          // video timeline for the segment\n\n\n          for (i = 0; i < this.pendingMetadata.length; i++) {\n            id3 = this.pendingMetadata[i];\n            id3.cueTime = clock.metadataTsToSeconds(id3.pts, timelineStartPts, this.keepOriginalTimestamps);\n            event.metadata.push(id3);\n          } // We add this to every single emitted segment even though we only need\n          // it for the first\n\n\n          event.metadata.dispatchType = this.metadataStream.dispatchType; // Reset stream state\n\n          this.pendingTracks.length = 0;\n          this.videoTrack = null;\n          this.pendingBoxes.length = 0;\n          this.pendingCaptions.length = 0;\n          this.pendingBytes = 0;\n          this.pendingMetadata.length = 0; // Emit the built segment\n          // We include captions and ID3 tags for backwards compatibility,\n          // ideally we should send only video and audio in the data event\n\n          this.trigger('data', event); // Emit each caption to the outside world\n          // Ideally, this would happen immediately on parsing captions,\n          // but we need to ensure that video data is sent back first\n          // so that caption timing can be adjusted to match video timing\n\n          for (i = 0; i < event.captions.length; i++) {\n            caption = event.captions[i];\n            this.trigger('caption', caption);\n          } // Emit each id3 tag to the outside world\n          // Ideally, this would happen immediately on parsing the tag,\n          // but we need to ensure that video data is sent back first\n          // so that ID3 frame timing can be adjusted to match video timing\n\n\n          for (i = 0; i < event.metadata.length; i++) {\n            id3 = event.metadata[i];\n            this.trigger('id3Frame', id3);\n          }\n        } // Only emit `done` if all tracks have been flushed and emitted\n\n\n        if (this.emittedTracks >= this.numberOfTracks) {\n          this.trigger('done');\n          this.emittedTracks = 0;\n        }\n      };\n\n      _CoalesceStream.prototype.setRemux = function (val) {\n        this.remuxTracks = val;\n      };\n      /**\n       * A Stream that expects MP2T binary data as input and produces\n       * corresponding media segments, suitable for use with Media Source\n       * Extension (MSE) implementations that support the ISO BMFF byte\n       * stream format, like Chrome.\n       */\n\n\n      _Transmuxer = function Transmuxer(options) {\n        var self = this,\n            hasFlushed = true,\n            videoTrack,\n            audioTrack;\n\n        _Transmuxer.prototype.init.call(this);\n\n        options = options || {};\n        this.baseMediaDecodeTime = options.baseMediaDecodeTime || 0;\n        this.transmuxPipeline_ = {};\n\n        this.setupAacPipeline = function () {\n          var pipeline = {};\n          this.transmuxPipeline_ = pipeline;\n          pipeline.type = 'aac';\n          pipeline.metadataStream = new m2ts_1.MetadataStream(); // set up the parsing pipeline\n\n          pipeline.aacStream = new aac();\n          pipeline.audioTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('audio');\n          pipeline.timedMetadataTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('timed-metadata');\n          pipeline.adtsStream = new adts();\n          pipeline.coalesceStream = new _CoalesceStream(options, pipeline.metadataStream);\n          pipeline.headOfPipeline = pipeline.aacStream;\n          pipeline.aacStream.pipe(pipeline.audioTimestampRolloverStream).pipe(pipeline.adtsStream);\n          pipeline.aacStream.pipe(pipeline.timedMetadataTimestampRolloverStream).pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream);\n          pipeline.metadataStream.on('timestamp', function (frame) {\n            pipeline.aacStream.setTimestamp(frame.timeStamp);\n          });\n          pipeline.aacStream.on('data', function (data) {\n            if (data.type === 'timed-metadata' && !pipeline.audioSegmentStream) {\n              audioTrack = audioTrack || {\n                timelineStartInfo: {\n                  baseMediaDecodeTime: self.baseMediaDecodeTime\n                },\n                codec: 'adts',\n                type: 'audio'\n              }; // hook up the audio segment stream to the first track with aac data\n\n              pipeline.coalesceStream.numberOfTracks++;\n              pipeline.audioSegmentStream = new _AudioSegmentStream(audioTrack, options);\n              pipeline.audioSegmentStream.on('timingInfo', self.trigger.bind(self, 'audioTimingInfo')); // Set up the final part of the audio pipeline\n\n              pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream);\n            } // emit pmt info\n\n\n            self.trigger('trackinfo', {\n              hasAudio: !!audioTrack,\n              hasVideo: !!videoTrack\n            });\n          }); // Re-emit any data coming from the coalesce stream to the outside world\n\n          pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data')); // Let the consumer know we have finished flushing the entire pipeline\n\n          pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\n        };\n\n        this.setupTsPipeline = function () {\n          var pipeline = {};\n          this.transmuxPipeline_ = pipeline;\n          pipeline.type = 'ts';\n          pipeline.metadataStream = new m2ts_1.MetadataStream(); // set up the parsing pipeline\n\n          pipeline.packetStream = new m2ts_1.TransportPacketStream();\n          pipeline.parseStream = new m2ts_1.TransportParseStream();\n          pipeline.elementaryStream = new m2ts_1.ElementaryStream();\n          pipeline.timestampRolloverStream = new m2ts_1.TimestampRolloverStream();\n          pipeline.adtsStream = new adts();\n          pipeline.h264Stream = new H264Stream();\n          pipeline.captionStream = new m2ts_1.CaptionStream();\n          pipeline.coalesceStream = new _CoalesceStream(options, pipeline.metadataStream);\n          pipeline.headOfPipeline = pipeline.packetStream; // disassemble MPEG2-TS packets into elementary streams\n\n          pipeline.packetStream.pipe(pipeline.parseStream).pipe(pipeline.elementaryStream).pipe(pipeline.timestampRolloverStream); // !!THIS ORDER IS IMPORTANT!!\n          // demux the streams\n\n          pipeline.timestampRolloverStream.pipe(pipeline.h264Stream);\n          pipeline.timestampRolloverStream.pipe(pipeline.adtsStream);\n          pipeline.timestampRolloverStream.pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream); // Hook up CEA-608/708 caption stream\n\n          pipeline.h264Stream.pipe(pipeline.captionStream).pipe(pipeline.coalesceStream);\n          pipeline.elementaryStream.on('data', function (data) {\n            var i;\n\n            if (data.type === 'metadata') {\n              i = data.tracks.length; // scan the tracks listed in the metadata\n\n              while (i--) {\n                if (!videoTrack && data.tracks[i].type === 'video') {\n                  videoTrack = data.tracks[i];\n                  videoTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\n                } else if (!audioTrack && data.tracks[i].type === 'audio') {\n                  audioTrack = data.tracks[i];\n                  audioTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\n                }\n              } // hook up the video segment stream to the first track with h264 data\n\n\n              if (videoTrack && !pipeline.videoSegmentStream) {\n                pipeline.coalesceStream.numberOfTracks++;\n                pipeline.videoSegmentStream = new _VideoSegmentStream(videoTrack, options);\n                pipeline.videoSegmentStream.on('timelineStartInfo', function (timelineStartInfo) {\n                  // When video emits timelineStartInfo data after a flush, we forward that\n                  // info to the AudioSegmentStream, if it exists, because video timeline\n                  // data takes precedence.\n                  if (audioTrack) {\n                    audioTrack.timelineStartInfo = timelineStartInfo; // On the first segment we trim AAC frames that exist before the\n                    // very earliest DTS we have seen in video because Chrome will\n                    // interpret any video track with a baseMediaDecodeTime that is\n                    // non-zero as a gap.\n\n                    pipeline.audioSegmentStream.setEarliestDts(timelineStartInfo.dts);\n                  }\n                });\n                pipeline.videoSegmentStream.on('processedGopsInfo', self.trigger.bind(self, 'gopInfo'));\n                pipeline.videoSegmentStream.on('segmentTimingInfo', self.trigger.bind(self, 'videoSegmentTimingInfo'));\n                pipeline.videoSegmentStream.on('baseMediaDecodeTime', function (baseMediaDecodeTime) {\n                  if (audioTrack) {\n                    pipeline.audioSegmentStream.setVideoBaseMediaDecodeTime(baseMediaDecodeTime);\n                  }\n                });\n                pipeline.videoSegmentStream.on('timingInfo', self.trigger.bind(self, 'videoTimingInfo')); // Set up the final part of the video pipeline\n\n                pipeline.h264Stream.pipe(pipeline.videoSegmentStream).pipe(pipeline.coalesceStream);\n              }\n\n              if (audioTrack && !pipeline.audioSegmentStream) {\n                // hook up the audio segment stream to the first track with aac data\n                pipeline.coalesceStream.numberOfTracks++;\n                pipeline.audioSegmentStream = new _AudioSegmentStream(audioTrack, options);\n                pipeline.audioSegmentStream.on('timingInfo', self.trigger.bind(self, 'audioTimingInfo')); // Set up the final part of the audio pipeline\n\n                pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream);\n              } // emit pmt info\n\n\n              self.trigger('trackinfo', {\n                hasAudio: !!audioTrack,\n                hasVideo: !!videoTrack\n              });\n            }\n          }); // Re-emit any data coming from the coalesce stream to the outside world\n\n          pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data'));\n          pipeline.coalesceStream.on('id3Frame', function (id3Frame) {\n            id3Frame.dispatchType = pipeline.metadataStream.dispatchType;\n            self.trigger('id3Frame', id3Frame);\n          });\n          pipeline.coalesceStream.on('caption', this.trigger.bind(this, 'caption')); // Let the consumer know we have finished flushing the entire pipeline\n\n          pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\n        }; // hook up the segment streams once track metadata is delivered\n\n\n        this.setBaseMediaDecodeTime = function (baseMediaDecodeTime) {\n          var pipeline = this.transmuxPipeline_;\n\n          if (!options.keepOriginalTimestamps) {\n            this.baseMediaDecodeTime = baseMediaDecodeTime;\n          }\n\n          if (audioTrack) {\n            audioTrack.timelineStartInfo.dts = undefined;\n            audioTrack.timelineStartInfo.pts = undefined;\n            trackDecodeInfo.clearDtsInfo(audioTrack);\n\n            if (!options.keepOriginalTimestamps) {\n              audioTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\n            }\n\n            if (pipeline.audioTimestampRolloverStream) {\n              pipeline.audioTimestampRolloverStream.discontinuity();\n            }\n          }\n\n          if (videoTrack) {\n            if (pipeline.videoSegmentStream) {\n              pipeline.videoSegmentStream.gopCache_ = [];\n            }\n\n            videoTrack.timelineStartInfo.dts = undefined;\n            videoTrack.timelineStartInfo.pts = undefined;\n            trackDecodeInfo.clearDtsInfo(videoTrack);\n            pipeline.captionStream.reset();\n\n            if (!options.keepOriginalTimestamps) {\n              videoTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\n            }\n          }\n\n          if (pipeline.timestampRolloverStream) {\n            pipeline.timestampRolloverStream.discontinuity();\n          }\n        };\n\n        this.setAudioAppendStart = function (timestamp) {\n          if (audioTrack) {\n            this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(timestamp);\n          }\n        };\n\n        this.setRemux = function (val) {\n          var pipeline = this.transmuxPipeline_;\n          options.remux = val;\n\n          if (pipeline && pipeline.coalesceStream) {\n            pipeline.coalesceStream.setRemux(val);\n          }\n        };\n\n        this.alignGopsWith = function (gopsToAlignWith) {\n          if (videoTrack && this.transmuxPipeline_.videoSegmentStream) {\n            this.transmuxPipeline_.videoSegmentStream.alignGopsWith(gopsToAlignWith);\n          }\n        }; // feed incoming data to the front of the parsing pipeline\n\n\n        this.push = function (data) {\n          if (hasFlushed) {\n            var isAac = isLikelyAacData$1(data);\n\n            if (isAac && this.transmuxPipeline_.type !== 'aac') {\n              this.setupAacPipeline();\n            } else if (!isAac && this.transmuxPipeline_.type !== 'ts') {\n              this.setupTsPipeline();\n            }\n\n            hasFlushed = false;\n          }\n\n          this.transmuxPipeline_.headOfPipeline.push(data);\n        }; // flush any buffered data\n\n\n        this.flush = function () {\n          hasFlushed = true; // Start at the top of the pipeline and flush all pending work\n\n          this.transmuxPipeline_.headOfPipeline.flush();\n        };\n\n        this.endTimeline = function () {\n          this.transmuxPipeline_.headOfPipeline.endTimeline();\n        };\n\n        this.reset = function () {\n          if (this.transmuxPipeline_.headOfPipeline) {\n            this.transmuxPipeline_.headOfPipeline.reset();\n          }\n        }; // Caption data has to be reset when seeking outside buffered range\n\n\n        this.resetCaptions = function () {\n          if (this.transmuxPipeline_.captionStream) {\n            this.transmuxPipeline_.captionStream.reset();\n          }\n        };\n      };\n\n      _Transmuxer.prototype = new stream();\n      var transmuxer = {\n        Transmuxer: _Transmuxer,\n        VideoSegmentStream: _VideoSegmentStream,\n        AudioSegmentStream: _AudioSegmentStream,\n        AUDIO_PROPERTIES: AUDIO_PROPERTIES,\n        VIDEO_PROPERTIES: VIDEO_PROPERTIES,\n        // exported for testing\n        generateVideoSegmentTimingInfo: generateVideoSegmentTimingInfo\n      };\n\n      var classCallCheck = function classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      };\n\n      var createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n      /**\n       * @file transmuxer-worker.js\n       */\n\n      /**\n       * Re-emits transmuxer events by converting them into messages to the\n       * world outside the worker.\n       *\n       * @param {Object} transmuxer the transmuxer to wire events on\n       * @private\n       */\n\n\n      var wireTransmuxerEvents = function wireTransmuxerEvents(self, transmuxer$$1) {\n        transmuxer$$1.on('data', function (segment) {\n          // transfer ownership of the underlying ArrayBuffer\n          // instead of doing a copy to save memory\n          // ArrayBuffers are transferable but generic TypedArrays are not\n          // @link https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers#Passing_data_by_transferring_ownership_(transferable_objects)\n          var initArray = segment.initSegment;\n          segment.initSegment = {\n            data: initArray.buffer,\n            byteOffset: initArray.byteOffset,\n            byteLength: initArray.byteLength\n          };\n          var typedArray = segment.data;\n          segment.data = typedArray.buffer;\n          self.postMessage({\n            action: 'data',\n            segment: segment,\n            byteOffset: typedArray.byteOffset,\n            byteLength: typedArray.byteLength\n          }, [segment.data]);\n        });\n\n        if (transmuxer$$1.captionStream) {\n          transmuxer$$1.captionStream.on('data', function (caption) {\n            self.postMessage({\n              action: 'caption',\n              data: caption\n            });\n          });\n        }\n\n        transmuxer$$1.on('done', function (data) {\n          self.postMessage({\n            action: 'done'\n          });\n        });\n        transmuxer$$1.on('gopInfo', function (gopInfo) {\n          self.postMessage({\n            action: 'gopInfo',\n            gopInfo: gopInfo\n          });\n        });\n        transmuxer$$1.on('videoSegmentTimingInfo', function (videoSegmentTimingInfo) {\n          self.postMessage({\n            action: 'videoSegmentTimingInfo',\n            videoSegmentTimingInfo: videoSegmentTimingInfo\n          });\n        });\n      };\n      /**\n       * All incoming messages route through this hash. If no function exists\n       * to handle an incoming message, then we ignore the message.\n       *\n       * @class MessageHandlers\n       * @param {Object} options the options to initialize with\n       */\n\n\n      var MessageHandlers = function () {\n        function MessageHandlers(self, options) {\n          classCallCheck(this, MessageHandlers);\n          this.options = options || {};\n          this.self = self;\n          this.init();\n        }\n        /**\n         * initialize our web worker and wire all the events.\n         */\n\n\n        createClass(MessageHandlers, [{\n          key: 'init',\n          value: function init() {\n            if (this.transmuxer) {\n              this.transmuxer.dispose();\n            }\n\n            this.transmuxer = new transmuxer.Transmuxer(this.options);\n            wireTransmuxerEvents(this.self, this.transmuxer);\n          }\n          /**\n           * Adds data (a ts segment) to the start of the transmuxer pipeline for\n           * processing.\n           *\n           * @param {ArrayBuffer} data data to push into the muxer\n           */\n\n        }, {\n          key: 'push',\n          value: function push(data) {\n            // Cast array buffer to correct type for transmuxer\n            var segment = new Uint8Array(data.data, data.byteOffset, data.byteLength);\n            this.transmuxer.push(segment);\n          }\n          /**\n           * Recreate the transmuxer so that the next segment added via `push`\n           * start with a fresh transmuxer.\n           */\n\n        }, {\n          key: 'reset',\n          value: function reset() {\n            this.init();\n          }\n          /**\n           * Set the value that will be used as the `baseMediaDecodeTime` time for the\n           * next segment pushed in. Subsequent segments will have their `baseMediaDecodeTime`\n           * set relative to the first based on the PTS values.\n           *\n           * @param {Object} data used to set the timestamp offset in the muxer\n           */\n\n        }, {\n          key: 'setTimestampOffset',\n          value: function setTimestampOffset(data) {\n            var timestampOffset = data.timestampOffset || 0;\n            this.transmuxer.setBaseMediaDecodeTime(Math.round(timestampOffset * 90000));\n          }\n        }, {\n          key: 'setAudioAppendStart',\n          value: function setAudioAppendStart(data) {\n            this.transmuxer.setAudioAppendStart(Math.ceil(data.appendStart * 90000));\n          }\n          /**\n           * Forces the pipeline to finish processing the last segment and emit it's\n           * results.\n           *\n           * @param {Object} data event data, not really used\n           */\n\n        }, {\n          key: 'flush',\n          value: function flush(data) {\n            this.transmuxer.flush();\n          }\n        }, {\n          key: 'resetCaptions',\n          value: function resetCaptions() {\n            this.transmuxer.resetCaptions();\n          }\n        }, {\n          key: 'alignGopsWith',\n          value: function alignGopsWith(data) {\n            this.transmuxer.alignGopsWith(data.gopsToAlignWith.slice());\n          }\n        }]);\n        return MessageHandlers;\n      }();\n      /**\n       * Our web wroker interface so that things can talk to mux.js\n       * that will be running in a web worker. the scope is passed to this by\n       * webworkify.\n       *\n       * @param {Object} self the scope for the web worker\n       */\n\n\n      var TransmuxerWorker = function TransmuxerWorker(self) {\n        self.onmessage = function (event) {\n          if (event.data.action === 'init' && event.data.options) {\n            this.messageHandlers = new MessageHandlers(self, event.data.options);\n            return;\n          }\n\n          if (!this.messageHandlers) {\n            this.messageHandlers = new MessageHandlers(self);\n          }\n\n          if (event.data && event.data.action && event.data.action !== 'init') {\n            if (this.messageHandlers[event.data.action]) {\n              this.messageHandlers[event.data.action](event.data);\n            }\n          }\n        };\n      };\n\n      var transmuxerWorker = new TransmuxerWorker(self);\n      return transmuxerWorker;\n    }();\n  });\n  /**\n   * @file - codecs.js - Handles tasks regarding codec strings such as translating them to\n   * codec strings, or translating codec strings into objects that can be examined.\n   */\n  // Default codec parameters if none were provided for video and/or audio\n\n  var defaultCodecs = {\n    videoCodec: 'avc1',\n    videoObjectTypeIndicator: '.4d400d',\n    // AAC-LC\n    audioProfile: '2'\n  };\n  /**\n   * Replace the old apple-style `avc1.<dd>.<dd>` codec string with the standard\n   * `avc1.<hhhhhh>`\n   *\n   * @param {Array} codecs an array of codec strings to fix\n   * @return {Array} the translated codec array\n   * @private\n   */\n\n  var translateLegacyCodecs = function translateLegacyCodecs(codecs) {\n    return codecs.map(function (codec) {\n      return codec.replace(/avc1\\.(\\d+)\\.(\\d+)/i, function (orig, profile, avcLevel) {\n        var profileHex = ('00' + Number(profile).toString(16)).slice(-2);\n        var avcLevelHex = ('00' + Number(avcLevel).toString(16)).slice(-2);\n        return 'avc1.' + profileHex + '00' + avcLevelHex;\n      });\n    });\n  };\n  /**\n   * Parses a codec string to retrieve the number of codecs specified,\n   * the video codec and object type indicator, and the audio profile.\n   */\n\n\n  var parseCodecs = function parseCodecs() {\n    var codecs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var result = {\n      codecCount: 0\n    };\n    var parsed = void 0;\n    result.codecCount = codecs.split(',').length;\n    result.codecCount = result.codecCount || 2; // parse the video codec\n\n    parsed = /(^|\\s|,)+(avc[13])([^ ,]*)/i.exec(codecs);\n\n    if (parsed) {\n      result.videoCodec = parsed[2];\n      result.videoObjectTypeIndicator = parsed[3];\n    } // parse the last field of the audio codec\n\n\n    result.audioProfile = /(^|\\s|,)+mp4a.[0-9A-Fa-f]+\\.([0-9A-Fa-f]+)/i.exec(codecs);\n    result.audioProfile = result.audioProfile && result.audioProfile[2];\n    return result;\n  };\n  /**\n   * Replace codecs in the codec string with the old apple-style `avc1.<dd>.<dd>` to the\n   * standard `avc1.<hhhhhh>`.\n   *\n   * @param codecString {String} the codec string\n   * @return {String} the codec string with old apple-style codecs replaced\n   *\n   * @private\n   */\n\n\n  var mapLegacyAvcCodecs = function mapLegacyAvcCodecs(codecString) {\n    return codecString.replace(/avc1\\.(\\d+)\\.(\\d+)/i, function (match) {\n      return translateLegacyCodecs([match])[0];\n    });\n  };\n  /**\n   * Build a media mime-type string from a set of parameters\n   * @param {String} type either 'audio' or 'video'\n   * @param {String} container either 'mp2t' or 'mp4'\n   * @param {Array} codecs an array of codec strings to add\n   * @return {String} a valid media mime-type\n   */\n\n\n  var makeMimeTypeString = function makeMimeTypeString(type, container, codecs) {\n    // The codecs array is filtered so that falsey values are\n    // dropped and don't cause Array#join to create spurious\n    // commas\n    return type + '/' + container + '; codecs=\"' + codecs.filter(function (c) {\n      return !!c;\n    }).join(', ') + '\"';\n  };\n  /**\n   * Returns the type container based on information in the playlist\n   * @param {Playlist} media the current media playlist\n   * @return {String} a valid media container type\n   */\n\n\n  var getContainerType = function getContainerType(media) {\n    // An initialization segment means the media playlist is an iframe\n    // playlist or is using the mp4 container. We don't currently\n    // support iframe playlists, so assume this is signalling mp4\n    // fragments.\n    if (media.segments && media.segments.length && media.segments[0].map) {\n      return 'mp4';\n    }\n\n    return 'mp2t';\n  };\n  /**\n   * Returns a set of codec strings parsed from the playlist or the default\n   * codec strings if no codecs were specified in the playlist\n   * @param {Playlist} media the current media playlist\n   * @return {Object} an object with the video and audio codecs\n   */\n\n\n  var getCodecs = function getCodecs(media) {\n    // if the codecs were explicitly specified, use them instead of the\n    // defaults\n    var mediaAttributes = media.attributes || {};\n\n    if (mediaAttributes.CODECS) {\n      return parseCodecs(mediaAttributes.CODECS);\n    }\n\n    return defaultCodecs;\n  };\n\n  var audioProfileFromDefault = function audioProfileFromDefault(master, audioGroupId) {\n    if (!master.mediaGroups.AUDIO || !audioGroupId) {\n      return null;\n    }\n\n    var audioGroup = master.mediaGroups.AUDIO[audioGroupId];\n\n    if (!audioGroup) {\n      return null;\n    }\n\n    for (var name in audioGroup) {\n      var audioType = audioGroup[name];\n\n      if (audioType[\"default\"] && audioType.playlists) {\n        // codec should be the same for all playlists within the audio type\n        return parseCodecs(audioType.playlists[0].attributes.CODECS).audioProfile;\n      }\n    }\n\n    return null;\n  };\n  /**\n   * Calculates the MIME type strings for a working configuration of\n   * SourceBuffers to play variant streams in a master playlist. If\n   * there is no possible working configuration, an empty array will be\n   * returned.\n   *\n   * @param master {Object} the m3u8 object for the master playlist\n   * @param media {Object} the m3u8 object for the variant playlist\n   * @return {Array} the MIME type strings. If the array has more than\n   * one entry, the first element should be applied to the video\n   * SourceBuffer and the second to the audio SourceBuffer.\n   *\n   * @private\n   */\n\n\n  var mimeTypesForPlaylist = function mimeTypesForPlaylist(master, media) {\n    var containerType = getContainerType(media);\n    var codecInfo = getCodecs(media);\n    var mediaAttributes = media.attributes || {}; // Default condition for a traditional HLS (no demuxed audio/video)\n\n    var isMuxed = true;\n    var isMaat = false;\n\n    if (!media) {\n      // Not enough information\n      return [];\n    }\n\n    if (master.mediaGroups.AUDIO && mediaAttributes.AUDIO) {\n      var audioGroup = master.mediaGroups.AUDIO[mediaAttributes.AUDIO]; // Handle the case where we are in a multiple-audio track scenario\n\n      if (audioGroup) {\n        isMaat = true; // Start with the everything demuxed then...\n\n        isMuxed = false; // ...check to see if any audio group tracks are muxed (ie. lacking a uri)\n\n        for (var groupId in audioGroup) {\n          // either a uri is present (if the case of HLS and an external playlist), or\n          // playlists is present (in the case of DASH where we don't have external audio\n          // playlists)\n          if (!audioGroup[groupId].uri && !audioGroup[groupId].playlists) {\n            isMuxed = true;\n            break;\n          }\n        }\n      }\n    } // HLS with multiple-audio tracks must always get an audio codec.\n    // Put another way, there is no way to have a video-only multiple-audio HLS!\n\n\n    if (isMaat && !codecInfo.audioProfile) {\n      if (!isMuxed) {\n        // It is possible for codecs to be specified on the audio media group playlist but\n        // not on the rendition playlist. This is mostly the case for DASH, where audio and\n        // video are always separate (and separately specified).\n        codecInfo.audioProfile = audioProfileFromDefault(master, mediaAttributes.AUDIO);\n      }\n\n      if (!codecInfo.audioProfile) {\n        videojs$1.log.warn('Multiple audio tracks present but no audio codec string is specified. ' + 'Attempting to use the default audio codec (mp4a.40.2)');\n        codecInfo.audioProfile = defaultCodecs.audioProfile;\n      }\n    } // Generate the final codec strings from the codec object generated above\n\n\n    var codecStrings = {};\n\n    if (codecInfo.videoCodec) {\n      codecStrings.video = '' + codecInfo.videoCodec + codecInfo.videoObjectTypeIndicator;\n    }\n\n    if (codecInfo.audioProfile) {\n      codecStrings.audio = 'mp4a.40.' + codecInfo.audioProfile;\n    } // Finally, make and return an array with proper mime-types depending on\n    // the configuration\n\n\n    var justAudio = makeMimeTypeString('audio', containerType, [codecStrings.audio]);\n    var justVideo = makeMimeTypeString('video', containerType, [codecStrings.video]);\n    var bothVideoAudio = makeMimeTypeString('video', containerType, [codecStrings.video, codecStrings.audio]);\n\n    if (isMaat) {\n      if (!isMuxed && codecStrings.video) {\n        return [justVideo, justAudio];\n      }\n\n      if (!isMuxed && !codecStrings.video) {\n        // There is no muxed content and no video codec string, so this is an audio only\n        // stream with alternate audio.\n        return [justAudio, justAudio];\n      } // There exists the possiblity that this will return a `video/container`\n      // mime-type for the first entry in the array even when there is only audio.\n      // This doesn't appear to be a problem and simplifies the code.\n\n\n      return [bothVideoAudio, justAudio];\n    } // If there is no video codec at all, always just return a single\n    // audio/<container> mime-type\n\n\n    if (!codecStrings.video) {\n      return [justAudio];\n    } // When not using separate audio media groups, audio and video is\n    // *always* muxed\n\n\n    return [bothVideoAudio];\n  };\n  /**\n   * Parse a content type header into a type and parameters\n   * object\n   *\n   * @param {String} type the content type header\n   * @return {Object} the parsed content-type\n   * @private\n   */\n\n\n  var parseContentType = function parseContentType(type) {\n    var object = {\n      type: '',\n      parameters: {}\n    };\n    var parameters = type.trim().split(';'); // first parameter should always be content-type\n\n    object.type = parameters.shift().trim();\n    parameters.forEach(function (parameter) {\n      var pair = parameter.trim().split('=');\n\n      if (pair.length > 1) {\n        var name = pair[0].replace(/\"/g, '').trim();\n        var value = pair[1].replace(/\"/g, '').trim();\n        object.parameters[name] = value;\n      }\n    });\n    return object;\n  };\n  /**\n   * Check if a codec string refers to an audio codec.\n   *\n   * @param {String} codec codec string to check\n   * @return {Boolean} if this is an audio codec\n   * @private\n   */\n\n\n  var isAudioCodec = function isAudioCodec(codec) {\n    return /mp4a\\.\\d+.\\d+/i.test(codec);\n  };\n  /**\n   * Check if a codec string refers to a video codec.\n   *\n   * @param {String} codec codec string to check\n   * @return {Boolean} if this is a video codec\n   * @private\n   */\n\n\n  var isVideoCodec = function isVideoCodec(codec) {\n    return /avc1\\.[\\da-f]+/i.test(codec);\n  };\n  /**\n   * Returns a list of gops in the buffer that have a pts value of 3 seconds or more in\n   * front of current time.\n   *\n   * @param {Array} buffer\n   *        The current buffer of gop information\n   * @param {Number} currentTime\n   *        The current time\n   * @param {Double} mapping\n   *        Offset to map display time to stream presentation time\n   * @return {Array}\n   *         List of gops considered safe to append over\n   */\n\n\n  var gopsSafeToAlignWith = function gopsSafeToAlignWith(buffer, currentTime, mapping) {\n    if (typeof currentTime === 'undefined' || currentTime === null || !buffer.length) {\n      return [];\n    } // pts value for current time + 3 seconds to give a bit more wiggle room\n\n\n    var currentTimePts = Math.ceil((currentTime - mapping + 3) * 90000);\n    var i = void 0;\n\n    for (i = 0; i < buffer.length; i++) {\n      if (buffer[i].pts > currentTimePts) {\n        break;\n      }\n    }\n\n    return buffer.slice(i);\n  };\n  /**\n   * Appends gop information (timing and byteLength) received by the transmuxer for the\n   * gops appended in the last call to appendBuffer\n   *\n   * @param {Array} buffer\n   *        The current buffer of gop information\n   * @param {Array} gops\n   *        List of new gop information\n   * @param {boolean} replace\n   *        If true, replace the buffer with the new gop information. If false, append the\n   *        new gop information to the buffer in the right location of time.\n   * @return {Array}\n   *         Updated list of gop information\n   */\n\n\n  var updateGopBuffer = function updateGopBuffer(buffer, gops, replace) {\n    if (!gops.length) {\n      return buffer;\n    }\n\n    if (replace) {\n      // If we are in safe append mode, then completely overwrite the gop buffer\n      // with the most recent appeneded data. This will make sure that when appending\n      // future segments, we only try to align with gops that are both ahead of current\n      // time and in the last segment appended.\n      return gops.slice();\n    }\n\n    var start = gops[0].pts;\n    var i = 0;\n\n    for (i; i < buffer.length; i++) {\n      if (buffer[i].pts >= start) {\n        break;\n      }\n    }\n\n    return buffer.slice(0, i).concat(gops);\n  };\n  /**\n   * Removes gop information in buffer that overlaps with provided start and end\n   *\n   * @param {Array} buffer\n   *        The current buffer of gop information\n   * @param {Double} start\n   *        position to start the remove at\n   * @param {Double} end\n   *        position to end the remove at\n   * @param {Double} mapping\n   *        Offset to map display time to stream presentation time\n   */\n\n\n  var removeGopBuffer = function removeGopBuffer(buffer, start, end, mapping) {\n    var startPts = Math.ceil((start - mapping) * 90000);\n    var endPts = Math.ceil((end - mapping) * 90000);\n    var updatedBuffer = buffer.slice();\n    var i = buffer.length;\n\n    while (i--) {\n      if (buffer[i].pts <= endPts) {\n        break;\n      }\n    }\n\n    if (i === -1) {\n      // no removal because end of remove range is before start of buffer\n      return updatedBuffer;\n    }\n\n    var j = i + 1;\n\n    while (j--) {\n      if (buffer[j].pts <= startPts) {\n        break;\n      }\n    } // clamp remove range start to 0 index\n\n\n    j = Math.max(j, 0);\n    updatedBuffer.splice(j, i - j + 1);\n    return updatedBuffer;\n  };\n\n  var buffered = function buffered(videoBuffer, audioBuffer, audioDisabled) {\n    var start = null;\n    var end = null;\n    var arity = 0;\n    var extents = [];\n    var ranges = []; // neither buffer has been created yet\n\n    if (!videoBuffer && !audioBuffer) {\n      return videojs$1.createTimeRange();\n    } // only one buffer is configured\n\n\n    if (!videoBuffer) {\n      return audioBuffer.buffered;\n    }\n\n    if (!audioBuffer) {\n      return videoBuffer.buffered;\n    } // both buffers are configured\n\n\n    if (audioDisabled) {\n      return videoBuffer.buffered;\n    } // both buffers are empty\n\n\n    if (videoBuffer.buffered.length === 0 && audioBuffer.buffered.length === 0) {\n      return videojs$1.createTimeRange();\n    } // Handle the case where we have both buffers and create an\n    // intersection of the two\n\n\n    var videoBuffered = videoBuffer.buffered;\n    var audioBuffered = audioBuffer.buffered;\n    var count = videoBuffered.length; // A) Gather up all start and end times\n\n    while (count--) {\n      extents.push({\n        time: videoBuffered.start(count),\n        type: 'start'\n      });\n      extents.push({\n        time: videoBuffered.end(count),\n        type: 'end'\n      });\n    }\n\n    count = audioBuffered.length;\n\n    while (count--) {\n      extents.push({\n        time: audioBuffered.start(count),\n        type: 'start'\n      });\n      extents.push({\n        time: audioBuffered.end(count),\n        type: 'end'\n      });\n    } // B) Sort them by time\n\n\n    extents.sort(function (a, b) {\n      return a.time - b.time;\n    }); // C) Go along one by one incrementing arity for start and decrementing\n    //    arity for ends\n\n    for (count = 0; count < extents.length; count++) {\n      if (extents[count].type === 'start') {\n        arity++; // D) If arity is ever incremented to 2 we are entering an\n        //    overlapping range\n\n        if (arity === 2) {\n          start = extents[count].time;\n        }\n      } else if (extents[count].type === 'end') {\n        arity--; // E) If arity is ever decremented to 1 we leaving an\n        //    overlapping range\n\n        if (arity === 1) {\n          end = extents[count].time;\n        }\n      } // F) Record overlapping ranges\n\n\n      if (start !== null && end !== null) {\n        ranges.push([start, end]);\n        start = null;\n        end = null;\n      }\n    }\n\n    return videojs$1.createTimeRanges(ranges);\n  };\n  /**\n   * @file virtual-source-buffer.js\n   */\n\n\n  var ONE_SECOND_IN_TS$2 = 90000; // We create a wrapper around the SourceBuffer so that we can manage the\n  // state of the `updating` property manually. We have to do this because\n  // Firefox changes `updating` to false long before triggering `updateend`\n  // events and that was causing strange problems in videojs-contrib-hls\n\n  var makeWrappedSourceBuffer = function makeWrappedSourceBuffer(mediaSource, mimeType) {\n    var sourceBuffer = mediaSource.addSourceBuffer(mimeType);\n    var wrapper = Object.create(null);\n    wrapper.updating = false;\n    wrapper.realBuffer_ = sourceBuffer;\n\n    var _loop = function _loop(key) {\n      if (typeof sourceBuffer[key] === 'function') {\n        wrapper[key] = function () {\n          return sourceBuffer[key].apply(sourceBuffer, arguments);\n        };\n      } else if (typeof wrapper[key] === 'undefined') {\n        Object.defineProperty(wrapper, key, {\n          get: function get$$1() {\n            return sourceBuffer[key];\n          },\n          set: function set$$1(v) {\n            return sourceBuffer[key] = v;\n          }\n        });\n      }\n    };\n\n    for (var key in sourceBuffer) {\n      _loop(key);\n    }\n\n    return wrapper;\n  };\n  /**\n   * VirtualSourceBuffers exist so that we can transmux non native formats\n   * into a native format, but keep the same api as a native source buffer.\n   * It creates a transmuxer, that works in its own thread (a web worker) and\n   * that transmuxer muxes the data into a native format. VirtualSourceBuffer will\n   * then send all of that data to the naive sourcebuffer so that it is\n   * indestinguishable from a natively supported format.\n   *\n   * @param {HtmlMediaSource} mediaSource the parent mediaSource\n   * @param {Array} codecs array of codecs that we will be dealing with\n   * @class VirtualSourceBuffer\n   * @extends video.js.EventTarget\n   */\n\n\n  var VirtualSourceBuffer = function (_videojs$EventTarget) {\n    inherits$1(VirtualSourceBuffer, _videojs$EventTarget);\n\n    function VirtualSourceBuffer(mediaSource, codecs) {\n      classCallCheck$1(this, VirtualSourceBuffer);\n\n      var _this = possibleConstructorReturn$1(this, (VirtualSourceBuffer.__proto__ || Object.getPrototypeOf(VirtualSourceBuffer)).call(this, videojs$1.EventTarget));\n\n      _this.timestampOffset_ = 0;\n      _this.pendingBuffers_ = [];\n      _this.bufferUpdating_ = false;\n      _this.mediaSource_ = mediaSource;\n      _this.codecs_ = codecs;\n      _this.audioCodec_ = null;\n      _this.videoCodec_ = null;\n      _this.audioDisabled_ = false;\n      _this.appendAudioInitSegment_ = true;\n      _this.gopBuffer_ = [];\n      _this.timeMapping_ = 0;\n      _this.safeAppend_ = videojs$1.browser.IE_VERSION >= 11;\n      var options = {\n        remux: false,\n        alignGopsAtEnd: _this.safeAppend_\n      };\n\n      _this.codecs_.forEach(function (codec) {\n        if (isAudioCodec(codec)) {\n          _this.audioCodec_ = codec;\n        } else if (isVideoCodec(codec)) {\n          _this.videoCodec_ = codec;\n        }\n      }); // append muxed segments to their respective native buffers as\n      // soon as they are available\n\n\n      _this.transmuxer_ = new TransmuxWorker();\n\n      _this.transmuxer_.postMessage({\n        action: 'init',\n        options: options\n      });\n\n      _this.transmuxer_.onmessage = function (event) {\n        if (event.data.action === 'data') {\n          return _this.data_(event);\n        }\n\n        if (event.data.action === 'done') {\n          return _this.done_(event);\n        }\n\n        if (event.data.action === 'gopInfo') {\n          return _this.appendGopInfo_(event);\n        }\n\n        if (event.data.action === 'videoSegmentTimingInfo') {\n          return _this.videoSegmentTimingInfo_(event.data.videoSegmentTimingInfo);\n        }\n      }; // this timestampOffset is a property with the side-effect of resetting\n      // baseMediaDecodeTime in the transmuxer on the setter\n\n\n      Object.defineProperty(_this, 'timestampOffset', {\n        get: function get$$1() {\n          return this.timestampOffset_;\n        },\n        set: function set$$1(val) {\n          if (typeof val === 'number' && val >= 0) {\n            this.timestampOffset_ = val;\n            this.appendAudioInitSegment_ = true; // reset gop buffer on timestampoffset as this signals a change in timeline\n\n            this.gopBuffer_.length = 0;\n            this.timeMapping_ = 0; // We have to tell the transmuxer to set the baseMediaDecodeTime to\n            // the desired timestampOffset for the next segment\n\n            this.transmuxer_.postMessage({\n              action: 'setTimestampOffset',\n              timestampOffset: val\n            });\n          }\n        }\n      }); // setting the append window affects both source buffers\n\n      Object.defineProperty(_this, 'appendWindowStart', {\n        get: function get$$1() {\n          return (this.videoBuffer_ || this.audioBuffer_).appendWindowStart;\n        },\n        set: function set$$1(start) {\n          if (this.videoBuffer_) {\n            this.videoBuffer_.appendWindowStart = start;\n          }\n\n          if (this.audioBuffer_) {\n            this.audioBuffer_.appendWindowStart = start;\n          }\n        }\n      }); // this buffer is \"updating\" if either of its native buffers are\n\n      Object.defineProperty(_this, 'updating', {\n        get: function get$$1() {\n          return !!(this.bufferUpdating_ || !this.audioDisabled_ && this.audioBuffer_ && this.audioBuffer_.updating || this.videoBuffer_ && this.videoBuffer_.updating);\n        }\n      }); // the buffered property is the intersection of the buffered\n      // ranges of the native source buffers\n\n      Object.defineProperty(_this, 'buffered', {\n        get: function get$$1() {\n          return buffered(this.videoBuffer_, this.audioBuffer_, this.audioDisabled_);\n        }\n      });\n      return _this;\n    }\n    /**\n     * When we get a data event from the transmuxer\n     * we call this function and handle the data that\n     * was sent to us\n     *\n     * @private\n     * @param {Event} event the data event from the transmuxer\n     */\n\n\n    createClass$1(VirtualSourceBuffer, [{\n      key: 'data_',\n      value: function data_(event) {\n        var segment = event.data.segment; // Cast ArrayBuffer to TypedArray\n\n        segment.data = new Uint8Array(segment.data, event.data.byteOffset, event.data.byteLength);\n        segment.initSegment = new Uint8Array(segment.initSegment.data, segment.initSegment.byteOffset, segment.initSegment.byteLength);\n        createTextTracksIfNecessary(this, this.mediaSource_, segment); // Add the segments to the pendingBuffers array\n\n        this.pendingBuffers_.push(segment);\n        return;\n      }\n      /**\n       * When we get a done event from the transmuxer\n       * we call this function and we process all\n       * of the pending data that we have been saving in the\n       * data_ function\n       *\n       * @private\n       * @param {Event} event the done event from the transmuxer\n       */\n\n    }, {\n      key: 'done_',\n      value: function done_(event) {\n        // Don't process and append data if the mediaSource is closed\n        if (this.mediaSource_.readyState === 'closed') {\n          this.pendingBuffers_.length = 0;\n          return;\n        } // All buffers should have been flushed from the muxer\n        // start processing anything we have received\n\n\n        this.processPendingSegments_();\n        return;\n      }\n    }, {\n      key: 'videoSegmentTimingInfo_',\n      value: function videoSegmentTimingInfo_(timingInfo) {\n        var timingInfoInSeconds = {\n          start: {\n            decode: timingInfo.start.dts / ONE_SECOND_IN_TS$2,\n            presentation: timingInfo.start.pts / ONE_SECOND_IN_TS$2\n          },\n          end: {\n            decode: timingInfo.end.dts / ONE_SECOND_IN_TS$2,\n            presentation: timingInfo.end.pts / ONE_SECOND_IN_TS$2\n          },\n          baseMediaDecodeTime: timingInfo.baseMediaDecodeTime / ONE_SECOND_IN_TS$2\n        };\n\n        if (timingInfo.prependedContentDuration) {\n          timingInfoInSeconds.prependedContentDuration = timingInfo.prependedContentDuration / ONE_SECOND_IN_TS$2;\n        }\n\n        this.trigger({\n          type: 'videoSegmentTimingInfo',\n          videoSegmentTimingInfo: timingInfoInSeconds\n        });\n      }\n      /**\n       * Create our internal native audio/video source buffers and add\n       * event handlers to them with the following conditions:\n       * 1. they do not already exist on the mediaSource\n       * 2. this VSB has a codec for them\n       *\n       * @private\n       */\n\n    }, {\n      key: 'createRealSourceBuffers_',\n      value: function createRealSourceBuffers_() {\n        var _this2 = this;\n\n        var types = ['audio', 'video'];\n        types.forEach(function (type) {\n          // Don't create a SourceBuffer of this type if we don't have a\n          // codec for it\n          if (!_this2[type + 'Codec_']) {\n            return;\n          } // Do nothing if a SourceBuffer of this type already exists\n\n\n          if (_this2[type + 'Buffer_']) {\n            return;\n          }\n\n          var buffer = null; // If the mediasource already has a SourceBuffer for the codec\n          // use that\n\n          if (_this2.mediaSource_[type + 'Buffer_']) {\n            buffer = _this2.mediaSource_[type + 'Buffer_']; // In multiple audio track cases, the audio source buffer is disabled\n            // on the main VirtualSourceBuffer by the HTMLMediaSource much earlier\n            // than createRealSourceBuffers_ is called to create the second\n            // VirtualSourceBuffer because that happens as a side-effect of\n            // videojs-contrib-hls starting the audioSegmentLoader. As a result,\n            // the audioBuffer is essentially \"ownerless\" and no one will toggle\n            // the `updating` state back to false once the `updateend` event is received\n            //\n            // Setting `updating` to false manually will work around this\n            // situation and allow work to continue\n\n            buffer.updating = false;\n          } else {\n            var codecProperty = type + 'Codec_';\n            var mimeType = type + '/mp4;codecs=\"' + _this2[codecProperty] + '\"';\n            buffer = makeWrappedSourceBuffer(_this2.mediaSource_.nativeMediaSource_, mimeType);\n            _this2.mediaSource_[type + 'Buffer_'] = buffer;\n          }\n\n          _this2[type + 'Buffer_'] = buffer; // Wire up the events to the SourceBuffer\n\n          ['update', 'updatestart', 'updateend'].forEach(function (event) {\n            buffer.addEventListener(event, function () {\n              // if audio is disabled\n              if (type === 'audio' && _this2.audioDisabled_) {\n                return;\n              }\n\n              if (event === 'updateend') {\n                _this2[type + 'Buffer_'].updating = false;\n              }\n\n              var shouldTrigger = types.every(function (t) {\n                // skip checking audio's updating status if audio\n                // is not enabled\n                if (t === 'audio' && _this2.audioDisabled_) {\n                  return true;\n                } // if the other type is updating we don't trigger\n\n\n                if (type !== t && _this2[t + 'Buffer_'] && _this2[t + 'Buffer_'].updating) {\n                  return false;\n                }\n\n                return true;\n              });\n\n              if (shouldTrigger) {\n                return _this2.trigger(event);\n              }\n            });\n          });\n        });\n      }\n      /**\n       * Emulate the native mediasource function, but our function will\n       * send all of the proposed segments to the transmuxer so that we\n       * can transmux them before we append them to our internal\n       * native source buffers in the correct format.\n       *\n       * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/appendBuffer\n       * @param {Uint8Array} segment the segment to append to the buffer\n       */\n\n    }, {\n      key: 'appendBuffer',\n      value: function appendBuffer(segment) {\n        // Start the internal \"updating\" state\n        this.bufferUpdating_ = true;\n\n        if (this.audioBuffer_ && this.audioBuffer_.buffered.length) {\n          var audioBuffered = this.audioBuffer_.buffered;\n          this.transmuxer_.postMessage({\n            action: 'setAudioAppendStart',\n            appendStart: audioBuffered.end(audioBuffered.length - 1)\n          });\n        }\n\n        if (this.videoBuffer_) {\n          this.transmuxer_.postMessage({\n            action: 'alignGopsWith',\n            gopsToAlignWith: gopsSafeToAlignWith(this.gopBuffer_, this.mediaSource_.player_ ? this.mediaSource_.player_.currentTime() : null, this.timeMapping_)\n          });\n        }\n\n        this.transmuxer_.postMessage({\n          action: 'push',\n          // Send the typed-array of data as an ArrayBuffer so that\n          // it can be sent as a \"Transferable\" and avoid the costly\n          // memory copy\n          data: segment.buffer,\n          // To recreate the original typed-array, we need information\n          // about what portion of the ArrayBuffer it was a view into\n          byteOffset: segment.byteOffset,\n          byteLength: segment.byteLength\n        }, [segment.buffer]);\n        this.transmuxer_.postMessage({\n          action: 'flush'\n        });\n      }\n      /**\n       * Appends gop information (timing and byteLength) received by the transmuxer for the\n       * gops appended in the last call to appendBuffer\n       *\n       * @param {Event} event\n       *        The gopInfo event from the transmuxer\n       * @param {Array} event.data.gopInfo\n       *        List of gop info to append\n       */\n\n    }, {\n      key: 'appendGopInfo_',\n      value: function appendGopInfo_(event) {\n        this.gopBuffer_ = updateGopBuffer(this.gopBuffer_, event.data.gopInfo, this.safeAppend_);\n      }\n      /**\n       * Emulate the native mediasource function and remove parts\n       * of the buffer from any of our internal buffers that exist\n       *\n       * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/remove\n       * @param {Double} start position to start the remove at\n       * @param {Double} end position to end the remove at\n       */\n\n    }, {\n      key: 'remove',\n      value: function remove(start, end) {\n        if (this.videoBuffer_) {\n          this.videoBuffer_.updating = true;\n          this.videoBuffer_.remove(start, end);\n          this.gopBuffer_ = removeGopBuffer(this.gopBuffer_, start, end, this.timeMapping_);\n        }\n\n        if (!this.audioDisabled_ && this.audioBuffer_) {\n          this.audioBuffer_.updating = true;\n          this.audioBuffer_.remove(start, end);\n        } // Remove Metadata Cues (id3)\n\n\n        removeCuesFromTrack(start, end, this.metadataTrack_); // Remove Any Captions\n\n        if (this.inbandTextTracks_) {\n          for (var track in this.inbandTextTracks_) {\n            removeCuesFromTrack(start, end, this.inbandTextTracks_[track]);\n          }\n        }\n      }\n      /**\n       * Process any segments that the muxer has output\n       * Concatenate segments together based on type and append them into\n       * their respective sourceBuffers\n       *\n       * @private\n       */\n\n    }, {\n      key: 'processPendingSegments_',\n      value: function processPendingSegments_() {\n        var sortedSegments = {\n          video: {\n            segments: [],\n            bytes: 0\n          },\n          audio: {\n            segments: [],\n            bytes: 0\n          },\n          captions: [],\n          metadata: []\n        };\n\n        if (!this.pendingBuffers_.length) {\n          // We are no longer in the internal \"updating\" state\n          this.trigger('updateend');\n          this.bufferUpdating_ = false;\n          return;\n        } // Sort segments into separate video/audio arrays and\n        // keep track of their total byte lengths\n\n\n        sortedSegments = this.pendingBuffers_.reduce(function (segmentObj, segment) {\n          var type = segment.type;\n          var data = segment.data;\n          var initSegment = segment.initSegment;\n          segmentObj[type].segments.push(data);\n          segmentObj[type].bytes += data.byteLength;\n          segmentObj[type].initSegment = initSegment; // Gather any captions into a single array\n\n          if (segment.captions) {\n            segmentObj.captions = segmentObj.captions.concat(segment.captions);\n          }\n\n          if (segment.info) {\n            segmentObj[type].info = segment.info;\n          } // Gather any metadata into a single array\n\n\n          if (segment.metadata) {\n            segmentObj.metadata = segmentObj.metadata.concat(segment.metadata);\n          }\n\n          return segmentObj;\n        }, sortedSegments); // Create the real source buffers if they don't exist by now since we\n        // finally are sure what tracks are contained in the source\n\n        if (!this.videoBuffer_ && !this.audioBuffer_) {\n          // Remove any codecs that may have been specified by default but\n          // are no longer applicable now\n          if (sortedSegments.video.bytes === 0) {\n            this.videoCodec_ = null;\n          }\n\n          if (sortedSegments.audio.bytes === 0) {\n            this.audioCodec_ = null;\n          }\n\n          this.createRealSourceBuffers_();\n        }\n\n        if (sortedSegments.audio.info) {\n          this.mediaSource_.trigger({\n            type: 'audioinfo',\n            info: sortedSegments.audio.info\n          });\n        }\n\n        if (sortedSegments.video.info) {\n          this.mediaSource_.trigger({\n            type: 'videoinfo',\n            info: sortedSegments.video.info\n          });\n        }\n\n        if (this.appendAudioInitSegment_) {\n          if (!this.audioDisabled_ && this.audioBuffer_) {\n            sortedSegments.audio.segments.unshift(sortedSegments.audio.initSegment);\n            sortedSegments.audio.bytes += sortedSegments.audio.initSegment.byteLength;\n          }\n\n          this.appendAudioInitSegment_ = false;\n        }\n\n        var triggerUpdateend = false; // Merge multiple video and audio segments into one and append\n\n        if (this.videoBuffer_ && sortedSegments.video.bytes) {\n          sortedSegments.video.segments.unshift(sortedSegments.video.initSegment);\n          sortedSegments.video.bytes += sortedSegments.video.initSegment.byteLength;\n          this.concatAndAppendSegments_(sortedSegments.video, this.videoBuffer_);\n        } else if (this.videoBuffer_ && (this.audioDisabled_ || !this.audioBuffer_)) {\n          // The transmuxer did not return any bytes of video, meaning it was all trimmed\n          // for gop alignment. Since we have a video buffer and audio is disabled, updateend\n          // will never be triggered by this source buffer, which will cause contrib-hls\n          // to be stuck forever waiting for updateend. If audio is not disabled, updateend\n          // will be triggered by the audio buffer, which will be sent upwards since the video\n          // buffer will not be in an updating state.\n          triggerUpdateend = true;\n        } // Add text-track data for all\n\n\n        addTextTrackData(this, sortedSegments.captions, sortedSegments.metadata);\n\n        if (!this.audioDisabled_ && this.audioBuffer_) {\n          this.concatAndAppendSegments_(sortedSegments.audio, this.audioBuffer_);\n        }\n\n        this.pendingBuffers_.length = 0;\n\n        if (triggerUpdateend) {\n          this.trigger('updateend');\n        } // We are no longer in the internal \"updating\" state\n\n\n        this.bufferUpdating_ = false;\n      }\n      /**\n       * Combine all segments into a single Uint8Array and then append them\n       * to the destination buffer\n       *\n       * @param {Object} segmentObj\n       * @param {SourceBuffer} destinationBuffer native source buffer to append data to\n       * @private\n       */\n\n    }, {\n      key: 'concatAndAppendSegments_',\n      value: function concatAndAppendSegments_(segmentObj, destinationBuffer) {\n        var offset = 0;\n        var tempBuffer = void 0;\n\n        if (segmentObj.bytes) {\n          tempBuffer = new Uint8Array(segmentObj.bytes); // Combine the individual segments into one large typed-array\n\n          segmentObj.segments.forEach(function (segment) {\n            tempBuffer.set(segment, offset);\n            offset += segment.byteLength;\n          });\n\n          try {\n            destinationBuffer.updating = true;\n            destinationBuffer.appendBuffer(tempBuffer);\n          } catch (error) {\n            if (this.mediaSource_.player_) {\n              this.mediaSource_.player_.error({\n                code: -3,\n                type: 'APPEND_BUFFER_ERR',\n                message: error.message,\n                originalError: error\n              });\n            }\n          }\n        }\n      }\n      /**\n       * Emulate the native mediasource function. abort any soureBuffer\n       * actions and throw out any un-appended data.\n       *\n       * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/abort\n       */\n\n    }, {\n      key: 'abort',\n      value: function abort() {\n        if (this.videoBuffer_) {\n          this.videoBuffer_.abort();\n        }\n\n        if (!this.audioDisabled_ && this.audioBuffer_) {\n          this.audioBuffer_.abort();\n        }\n\n        if (this.transmuxer_) {\n          this.transmuxer_.postMessage({\n            action: 'reset'\n          });\n        }\n\n        this.pendingBuffers_.length = 0;\n        this.bufferUpdating_ = false;\n      }\n    }]);\n    return VirtualSourceBuffer;\n  }(videojs$1.EventTarget);\n  /**\n   * @file html-media-source.js\n   */\n\n  /**\n   * Our MediaSource implementation in HTML, mimics native\n   * MediaSource where/if possible.\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource\n   * @class HtmlMediaSource\n   * @extends videojs.EventTarget\n   */\n\n\n  var HtmlMediaSource = function (_videojs$EventTarget) {\n    inherits$1(HtmlMediaSource, _videojs$EventTarget);\n\n    function HtmlMediaSource() {\n      classCallCheck$1(this, HtmlMediaSource);\n\n      var _this = possibleConstructorReturn$1(this, (HtmlMediaSource.__proto__ || Object.getPrototypeOf(HtmlMediaSource)).call(this));\n\n      var property = void 0;\n      _this.nativeMediaSource_ = new window$1.MediaSource(); // delegate to the native MediaSource's methods by default\n\n      for (property in _this.nativeMediaSource_) {\n        if (!(property in HtmlMediaSource.prototype) && typeof _this.nativeMediaSource_[property] === 'function') {\n          _this[property] = _this.nativeMediaSource_[property].bind(_this.nativeMediaSource_);\n        }\n      } // emulate `duration` and `seekable` until seeking can be\n      // handled uniformly for live streams\n      // see https://github.com/w3c/media-source/issues/5\n\n\n      _this.duration_ = NaN;\n      Object.defineProperty(_this, 'duration', {\n        get: function get$$1() {\n          if (this.duration_ === Infinity) {\n            return this.duration_;\n          }\n\n          return this.nativeMediaSource_.duration;\n        },\n        set: function set$$1(duration) {\n          this.duration_ = duration;\n\n          if (duration !== Infinity) {\n            this.nativeMediaSource_.duration = duration;\n            return;\n          }\n        }\n      });\n      Object.defineProperty(_this, 'seekable', {\n        get: function get$$1() {\n          if (this.duration_ === Infinity) {\n            return videojs$1.createTimeRanges([[0, this.nativeMediaSource_.duration]]);\n          }\n\n          return this.nativeMediaSource_.seekable;\n        }\n      });\n      Object.defineProperty(_this, 'readyState', {\n        get: function get$$1() {\n          return this.nativeMediaSource_.readyState;\n        }\n      });\n      Object.defineProperty(_this, 'activeSourceBuffers', {\n        get: function get$$1() {\n          return this.activeSourceBuffers_;\n        }\n      }); // the list of virtual and native SourceBuffers created by this\n      // MediaSource\n\n      _this.sourceBuffers = [];\n      _this.activeSourceBuffers_ = [];\n      /**\n       * update the list of active source buffers based upon various\n       * imformation from HLS and video.js\n       *\n       * @private\n       */\n\n      _this.updateActiveSourceBuffers_ = function () {\n        // Retain the reference but empty the array\n        _this.activeSourceBuffers_.length = 0; // If there is only one source buffer, then it will always be active and audio will\n        // be disabled based on the codec of the source buffer\n\n        if (_this.sourceBuffers.length === 1) {\n          var sourceBuffer = _this.sourceBuffers[0];\n          sourceBuffer.appendAudioInitSegment_ = true;\n          sourceBuffer.audioDisabled_ = !sourceBuffer.audioCodec_;\n\n          _this.activeSourceBuffers_.push(sourceBuffer);\n\n          return;\n        } // There are 2 source buffers, a combined (possibly video only) source buffer and\n        // and an audio only source buffer.\n        // By default, the audio in the combined virtual source buffer is enabled\n        // and the audio-only source buffer (if it exists) is disabled.\n\n\n        var disableCombined = false;\n        var disableAudioOnly = true; // TODO: maybe we can store the sourcebuffers on the track objects?\n        // safari may do something like this\n\n        for (var i = 0; i < _this.player_.audioTracks().length; i++) {\n          var track = _this.player_.audioTracks()[i];\n\n          if (track.enabled && track.kind !== 'main') {\n            // The enabled track is an alternate audio track so disable the audio in\n            // the combined source buffer and enable the audio-only source buffer.\n            disableCombined = true;\n            disableAudioOnly = false;\n            break;\n          }\n        }\n\n        _this.sourceBuffers.forEach(function (sourceBuffer, index) {\n          /* eslinst-disable */\n          // TODO once codecs are required, we can switch to using the codecs to determine\n          //      what stream is the video stream, rather than relying on videoTracks\n\n          /* eslinst-enable */\n          sourceBuffer.appendAudioInitSegment_ = true;\n\n          if (sourceBuffer.videoCodec_ && sourceBuffer.audioCodec_) {\n            // combined\n            sourceBuffer.audioDisabled_ = disableCombined;\n          } else if (sourceBuffer.videoCodec_ && !sourceBuffer.audioCodec_) {\n            // If the \"combined\" source buffer is video only, then we do not want\n            // disable the audio-only source buffer (this is mostly for demuxed\n            // audio and video hls)\n            sourceBuffer.audioDisabled_ = true;\n            disableAudioOnly = false;\n          } else if (!sourceBuffer.videoCodec_ && sourceBuffer.audioCodec_) {\n            // audio only\n            // In the case of audio only with alternate audio and disableAudioOnly is true\n            // this means we want to disable the audio on the alternate audio sourcebuffer\n            // but not the main \"combined\" source buffer. The \"combined\" source buffer is\n            // always at index 0, so this ensures audio won't be disabled in both source\n            // buffers.\n            sourceBuffer.audioDisabled_ = index ? disableAudioOnly : !disableAudioOnly;\n\n            if (sourceBuffer.audioDisabled_) {\n              return;\n            }\n          }\n\n          _this.activeSourceBuffers_.push(sourceBuffer);\n        });\n      };\n\n      _this.onPlayerMediachange_ = function () {\n        _this.sourceBuffers.forEach(function (sourceBuffer) {\n          sourceBuffer.appendAudioInitSegment_ = true;\n        });\n      };\n\n      _this.onHlsReset_ = function () {\n        _this.sourceBuffers.forEach(function (sourceBuffer) {\n          if (sourceBuffer.transmuxer_) {\n            sourceBuffer.transmuxer_.postMessage({\n              action: 'resetCaptions'\n            });\n          }\n        });\n      };\n\n      _this.onHlsSegmentTimeMapping_ = function (event) {\n        _this.sourceBuffers.forEach(function (buffer) {\n          return buffer.timeMapping_ = event.mapping;\n        });\n      }; // Re-emit MediaSource events on the polyfill\n\n\n      ['sourceopen', 'sourceclose', 'sourceended'].forEach(function (eventName) {\n        this.nativeMediaSource_.addEventListener(eventName, this.trigger.bind(this));\n      }, _this); // capture the associated player when the MediaSource is\n      // successfully attached\n\n      _this.on('sourceopen', function (event) {\n        // Get the player this MediaSource is attached to\n        var video = document.querySelector('[src=\"' + _this.url_ + '\"]');\n\n        if (!video) {\n          return;\n        }\n\n        _this.player_ = videojs$1(video.parentNode);\n\n        if (!_this.player_) {\n          return;\n        } // hls-reset is fired by videojs.Hls on to the tech after the main SegmentLoader\n        // resets its state and flushes the buffer\n\n\n        _this.player_.tech_.on('hls-reset', _this.onHlsReset_); // hls-segment-time-mapping is fired by videojs.Hls on to the tech after the main\n        // SegmentLoader inspects an MTS segment and has an accurate stream to display\n        // time mapping\n\n\n        _this.player_.tech_.on('hls-segment-time-mapping', _this.onHlsSegmentTimeMapping_);\n\n        if (_this.player_.audioTracks && _this.player_.audioTracks()) {\n          _this.player_.audioTracks().on('change', _this.updateActiveSourceBuffers_);\n\n          _this.player_.audioTracks().on('addtrack', _this.updateActiveSourceBuffers_);\n\n          _this.player_.audioTracks().on('removetrack', _this.updateActiveSourceBuffers_);\n        }\n\n        _this.player_.on('mediachange', _this.onPlayerMediachange_);\n      });\n\n      _this.on('sourceended', function (event) {\n        var duration = durationOfVideo(_this.duration);\n\n        for (var i = 0; i < _this.sourceBuffers.length; i++) {\n          var sourcebuffer = _this.sourceBuffers[i];\n          var cues = sourcebuffer.metadataTrack_ && sourcebuffer.metadataTrack_.cues;\n\n          if (cues && cues.length) {\n            cues[cues.length - 1].endTime = duration;\n          }\n        }\n      }); // explicitly terminate any WebWorkers that were created\n      // by SourceHandlers\n\n\n      _this.on('sourceclose', function (event) {\n        this.sourceBuffers.forEach(function (sourceBuffer) {\n          if (sourceBuffer.transmuxer_) {\n            sourceBuffer.transmuxer_.terminate();\n          }\n        });\n        this.sourceBuffers.length = 0;\n\n        if (!this.player_) {\n          return;\n        }\n\n        if (this.player_.audioTracks && this.player_.audioTracks()) {\n          this.player_.audioTracks().off('change', this.updateActiveSourceBuffers_);\n          this.player_.audioTracks().off('addtrack', this.updateActiveSourceBuffers_);\n          this.player_.audioTracks().off('removetrack', this.updateActiveSourceBuffers_);\n        } // We can only change this if the player hasn't been disposed of yet\n        // because `off` eventually tries to use the el_ property. If it has\n        // been disposed of, then don't worry about it because there are no\n        // event handlers left to unbind anyway\n\n\n        if (this.player_.el_) {\n          this.player_.off('mediachange', this.onPlayerMediachange_);\n        }\n\n        if (this.player_.tech_ && this.player_.tech_.el_) {\n          this.player_.tech_.off('hls-reset', this.onHlsReset_);\n          this.player_.tech_.off('hls-segment-time-mapping', this.onHlsSegmentTimeMapping_);\n        }\n      });\n\n      return _this;\n    }\n    /**\n     * Add a range that that can now be seeked to.\n     *\n     * @param {Double} start where to start the addition\n     * @param {Double} end where to end the addition\n     * @private\n     */\n\n\n    createClass$1(HtmlMediaSource, [{\n      key: 'addSeekableRange_',\n      value: function addSeekableRange_(start, end) {\n        var error = void 0;\n\n        if (this.duration !== Infinity) {\n          error = new Error('MediaSource.addSeekableRange() can only be invoked ' + 'when the duration is Infinity');\n          error.name = 'InvalidStateError';\n          error.code = 11;\n          throw error;\n        }\n\n        if (end > this.nativeMediaSource_.duration || isNaN(this.nativeMediaSource_.duration)) {\n          this.nativeMediaSource_.duration = end;\n        }\n      }\n      /**\n       * Add a source buffer to the media source.\n       *\n       * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource/addSourceBuffer\n       * @param {String} type the content-type of the content\n       * @return {Object} the created source buffer\n       */\n\n    }, {\n      key: 'addSourceBuffer',\n      value: function addSourceBuffer(type) {\n        var buffer = void 0;\n        var parsedType = parseContentType(type); // Create a VirtualSourceBuffer to transmux MPEG-2 transport\n        // stream segments into fragmented MP4s\n\n        if (/^(video|audio)\\/mp2t$/i.test(parsedType.type)) {\n          var codecs = [];\n\n          if (parsedType.parameters && parsedType.parameters.codecs) {\n            codecs = parsedType.parameters.codecs.split(',');\n            codecs = translateLegacyCodecs(codecs);\n            codecs = codecs.filter(function (codec) {\n              return isAudioCodec(codec) || isVideoCodec(codec);\n            });\n          }\n\n          if (codecs.length === 0) {\n            codecs = ['avc1.4d400d', 'mp4a.40.2'];\n          }\n\n          buffer = new VirtualSourceBuffer(this, codecs);\n\n          if (this.sourceBuffers.length !== 0) {\n            // If another VirtualSourceBuffer already exists, then we are creating a\n            // SourceBuffer for an alternate audio track and therefore we know that\n            // the source has both an audio and video track.\n            // That means we should trigger the manual creation of the real\n            // SourceBuffers instead of waiting for the transmuxer to return data\n            this.sourceBuffers[0].createRealSourceBuffers_();\n            buffer.createRealSourceBuffers_(); // Automatically disable the audio on the first source buffer if\n            // a second source buffer is ever created\n\n            this.sourceBuffers[0].audioDisabled_ = true;\n          }\n        } else {\n          // delegate to the native implementation\n          buffer = this.nativeMediaSource_.addSourceBuffer(type);\n        }\n\n        this.sourceBuffers.push(buffer);\n        return buffer;\n      }\n    }]);\n    return HtmlMediaSource;\n  }(videojs$1.EventTarget);\n  /**\n   * @file videojs-contrib-media-sources.js\n   */\n\n\n  var urlCount = 0; // ------------\n  // Media Source\n  // ------------\n  // store references to the media sources so they can be connected\n  // to a video element (a swf object)\n  // TODO: can we store this somewhere local to this module?\n\n  videojs$1.mediaSources = {};\n  /**\n   * Provide a method for a swf object to notify JS that a\n   * media source is now open.\n   *\n   * @param {String} msObjectURL string referencing the MSE Object URL\n   * @param {String} swfId the swf id\n   */\n\n  var open = function open(msObjectURL, swfId) {\n    var mediaSource = videojs$1.mediaSources[msObjectURL];\n\n    if (mediaSource) {\n      mediaSource.trigger({\n        type: 'sourceopen',\n        swfId: swfId\n      });\n    } else {\n      throw new Error('Media Source not found (Video.js)');\n    }\n  };\n  /**\n   * Check to see if the native MediaSource object exists and supports\n   * an MP4 container with both H.264 video and AAC-LC audio.\n   *\n   * @return {Boolean} if  native media sources are supported\n   */\n\n\n  var supportsNativeMediaSources = function supportsNativeMediaSources() {\n    return !!window$1.MediaSource && !!window$1.MediaSource.isTypeSupported && window$1.MediaSource.isTypeSupported('video/mp4;codecs=\"avc1.4d400d,mp4a.40.2\"');\n  };\n  /**\n   * An emulation of the MediaSource API so that we can support\n   * native and non-native functionality. returns an instance of\n   * HtmlMediaSource.\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource/MediaSource\n   */\n\n\n  var MediaSource = function MediaSource() {\n    this.MediaSource = {\n      open: open,\n      supportsNativeMediaSources: supportsNativeMediaSources\n    };\n\n    if (supportsNativeMediaSources()) {\n      return new HtmlMediaSource();\n    }\n\n    throw new Error('Cannot use create a virtual MediaSource for this video');\n  };\n\n  MediaSource.open = open;\n  MediaSource.supportsNativeMediaSources = supportsNativeMediaSources;\n  /**\n   * A wrapper around the native URL for our MSE object\n   * implementation, this object is exposed under videojs.URL\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/API/URL/URL\n   */\n\n  var URL$1 = {\n    /**\n     * A wrapper around the native createObjectURL for our objects.\n     * This function maps a native or emulated mediaSource to a blob\n     * url so that it can be loaded into video.js\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n     * @param {MediaSource} object the object to create a blob url to\n     */\n    createObjectURL: function createObjectURL(object) {\n      var objectUrlPrefix = 'blob:vjs-media-source/';\n      var url = void 0; // use the native MediaSource to generate an object URL\n\n      if (object instanceof HtmlMediaSource) {\n        url = window$1.URL.createObjectURL(object.nativeMediaSource_);\n        object.url_ = url;\n        return url;\n      } // if the object isn't an emulated MediaSource, delegate to the\n      // native implementation\n\n\n      if (!(object instanceof HtmlMediaSource)) {\n        url = window$1.URL.createObjectURL(object);\n        object.url_ = url;\n        return url;\n      } // build a URL that can be used to map back to the emulated\n      // MediaSource\n\n\n      url = objectUrlPrefix + urlCount;\n      urlCount++; // setup the mapping back to object\n\n      videojs$1.mediaSources[url] = object;\n      return url;\n    }\n  };\n  videojs$1.MediaSource = MediaSource;\n  videojs$1.URL = URL$1;\n  var EventTarget$1$1 = videojs$1.EventTarget,\n      mergeOptions$2 = videojs$1.mergeOptions;\n  /**\n   * Returns a new master manifest that is the result of merging an updated master manifest\n   * into the original version.\n   *\n   * @param {Object} oldMaster\n   *        The old parsed mpd object\n   * @param {Object} newMaster\n   *        The updated parsed mpd object\n   * @return {Object}\n   *         A new object representing the original master manifest with the updated media\n   *         playlists merged in\n   */\n\n  var updateMaster$1 = function updateMaster$$1(oldMaster, newMaster) {\n    var noChanges = void 0;\n    var update = mergeOptions$2(oldMaster, {\n      // These are top level properties that can be updated\n      duration: newMaster.duration,\n      minimumUpdatePeriod: newMaster.minimumUpdatePeriod\n    }); // First update the playlists in playlist list\n\n    for (var i = 0; i < newMaster.playlists.length; i++) {\n      var playlistUpdate = updateMaster(update, newMaster.playlists[i]);\n\n      if (playlistUpdate) {\n        update = playlistUpdate;\n      } else {\n        noChanges = true;\n      }\n    } // Then update media group playlists\n\n\n    forEachMediaGroup(newMaster, function (properties, type, group, label) {\n      if (properties.playlists && properties.playlists.length) {\n        var uri = properties.playlists[0].uri;\n\n        var _playlistUpdate = updateMaster(update, properties.playlists[0]);\n\n        if (_playlistUpdate) {\n          update = _playlistUpdate; // update the playlist reference within media groups\n\n          update.mediaGroups[type][group][label].playlists[0] = update.playlists[uri];\n          noChanges = false;\n        }\n      }\n    });\n\n    if (noChanges) {\n      return null;\n    }\n\n    return update;\n  };\n\n  var generateSidxKey = function generateSidxKey(sidxInfo) {\n    // should be non-inclusive\n    var sidxByteRangeEnd = sidxInfo.byterange.offset + sidxInfo.byterange.length - 1;\n    return sidxInfo.uri + '-' + sidxInfo.byterange.offset + '-' + sidxByteRangeEnd;\n  }; // SIDX should be equivalent if the URI and byteranges of the SIDX match.\n  // If the SIDXs have maps, the two maps should match,\n  // both `a` and `b` missing SIDXs is considered matching.\n  // If `a` or `b` but not both have a map, they aren't matching.\n\n\n  var equivalentSidx = function equivalentSidx(a, b) {\n    var neitherMap = Boolean(!a.map && !b.map);\n    var equivalentMap = neitherMap || Boolean(a.map && b.map && a.map.byterange.offset === b.map.byterange.offset && a.map.byterange.length === b.map.byterange.length);\n    return equivalentMap && a.uri === b.uri && a.byterange.offset === b.byterange.offset && a.byterange.length === b.byterange.length;\n  }; // exported for testing\n\n\n  var compareSidxEntry = function compareSidxEntry(playlists, oldSidxMapping) {\n    var newSidxMapping = {};\n\n    for (var uri in playlists) {\n      var playlist = playlists[uri];\n      var currentSidxInfo = playlist.sidx;\n\n      if (currentSidxInfo) {\n        var key = generateSidxKey(currentSidxInfo);\n\n        if (!oldSidxMapping[key]) {\n          break;\n        }\n\n        var savedSidxInfo = oldSidxMapping[key].sidxInfo;\n\n        if (equivalentSidx(savedSidxInfo, currentSidxInfo)) {\n          newSidxMapping[key] = oldSidxMapping[key];\n        }\n      }\n    }\n\n    return newSidxMapping;\n  };\n  /**\n   *  A function that filters out changed items as they need to be requested separately.\n   *\n   *  The method is exported for testing\n   *\n   *  @param {Object} masterXml the mpd XML\n   *  @param {string} srcUrl the mpd url\n   *  @param {Date} clientOffset a time difference between server and client (passed through and not used)\n   *  @param {Object} oldSidxMapping the SIDX to compare against\n   */\n\n\n  var filterChangedSidxMappings = function filterChangedSidxMappings(masterXml, srcUrl, clientOffset, oldSidxMapping) {\n    // Don't pass current sidx mapping\n    var master = parse(masterXml, {\n      manifestUri: srcUrl,\n      clientOffset: clientOffset\n    });\n    var videoSidx = compareSidxEntry(master.playlists, oldSidxMapping);\n    var mediaGroupSidx = videoSidx;\n    forEachMediaGroup(master, function (properties, mediaType, groupKey, labelKey) {\n      if (properties.playlists && properties.playlists.length) {\n        var playlists = properties.playlists;\n        mediaGroupSidx = mergeOptions$2(mediaGroupSidx, compareSidxEntry(playlists, oldSidxMapping));\n      }\n    });\n    return mediaGroupSidx;\n  }; // exported for testing\n\n\n  var requestSidx_ = function requestSidx_(sidxRange, playlist, xhr, options, finishProcessingFn) {\n    var sidxInfo = {\n      // resolve the segment URL relative to the playlist\n      uri: resolveManifestRedirect(options.handleManifestRedirects, sidxRange.resolvedUri),\n      // resolvedUri: sidxRange.resolvedUri,\n      byterange: sidxRange.byterange,\n      // the segment's playlist\n      playlist: playlist\n    };\n    var sidxRequestOptions = videojs$1.mergeOptions(sidxInfo, {\n      responseType: 'arraybuffer',\n      headers: segmentXhrHeaders(sidxInfo)\n    });\n    return xhr(sidxRequestOptions, finishProcessingFn);\n  };\n\n  var DashPlaylistLoader = function (_EventTarget) {\n    inherits$1(DashPlaylistLoader, _EventTarget); // DashPlaylistLoader must accept either a src url or a playlist because subsequent\n    // playlist loader setups from media groups will expect to be able to pass a playlist\n    // (since there aren't external URLs to media playlists with DASH)\n\n    function DashPlaylistLoader(srcUrlOrPlaylist, hls) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var masterPlaylistLoader = arguments[3];\n      classCallCheck$1(this, DashPlaylistLoader);\n\n      var _this = possibleConstructorReturn$1(this, (DashPlaylistLoader.__proto__ || Object.getPrototypeOf(DashPlaylistLoader)).call(this));\n\n      var _options$withCredenti = options.withCredentials,\n          withCredentials = _options$withCredenti === undefined ? false : _options$withCredenti,\n          _options$handleManife = options.handleManifestRedirects,\n          handleManifestRedirects = _options$handleManife === undefined ? false : _options$handleManife;\n      _this.hls_ = hls;\n      _this.withCredentials = withCredentials;\n      _this.handleManifestRedirects = handleManifestRedirects;\n\n      if (!srcUrlOrPlaylist) {\n        throw new Error('A non-empty playlist URL or playlist is required');\n      } // event naming?\n\n\n      _this.on('minimumUpdatePeriod', function () {\n        _this.refreshXml_();\n      }); // live playlist staleness timeout\n\n\n      _this.on('mediaupdatetimeout', function () {\n        _this.refreshMedia_(_this.media().uri);\n      });\n\n      _this.state = 'HAVE_NOTHING';\n      _this.loadedPlaylists_ = {}; // initialize the loader state\n      // The masterPlaylistLoader will be created with a string\n\n      if (typeof srcUrlOrPlaylist === 'string') {\n        _this.srcUrl = srcUrlOrPlaylist; // TODO: reset sidxMapping between period changes\n        // once multi-period is refactored\n\n        _this.sidxMapping_ = {};\n        return possibleConstructorReturn$1(_this);\n      }\n\n      _this.setupChildLoader(masterPlaylistLoader, srcUrlOrPlaylist);\n\n      return _this;\n    }\n\n    createClass$1(DashPlaylistLoader, [{\n      key: 'setupChildLoader',\n      value: function setupChildLoader(masterPlaylistLoader, playlist) {\n        this.masterPlaylistLoader_ = masterPlaylistLoader;\n        this.childPlaylist_ = playlist;\n      }\n    }, {\n      key: 'dispose',\n      value: function dispose() {\n        this.stopRequest();\n        this.loadedPlaylists_ = {};\n        window$1.clearTimeout(this.minimumUpdatePeriodTimeout_);\n        window$1.clearTimeout(this.mediaRequest_);\n        window$1.clearTimeout(this.mediaUpdateTimeout);\n      }\n    }, {\n      key: 'hasPendingRequest',\n      value: function hasPendingRequest() {\n        return this.request || this.mediaRequest_;\n      }\n    }, {\n      key: 'stopRequest',\n      value: function stopRequest() {\n        if (this.request) {\n          var oldRequest = this.request;\n          this.request = null;\n          oldRequest.onreadystatechange = null;\n          oldRequest.abort();\n        }\n      }\n    }, {\n      key: 'sidxRequestFinished_',\n      value: function sidxRequestFinished_(playlist, master, startingState, doneFn) {\n        var _this2 = this;\n\n        return function (err, request) {\n          // disposed\n          if (!_this2.request) {\n            return;\n          } // pending request is cleared\n\n\n          _this2.request = null;\n\n          if (err) {\n            _this2.error = {\n              status: request.status,\n              message: 'DASH playlist request error at URL: ' + playlist.uri,\n              response: request.response,\n              // MEDIA_ERR_NETWORK\n              code: 2\n            };\n\n            if (startingState) {\n              _this2.state = startingState;\n            }\n\n            _this2.trigger('error');\n\n            return doneFn(master, null);\n          }\n\n          var bytes = new Uint8Array(request.response);\n          var sidx = mp4Inspector.parseSidx(bytes.subarray(8));\n          return doneFn(master, sidx);\n        };\n      }\n    }, {\n      key: 'media',\n      value: function media(playlist) {\n        var _this3 = this; // getter\n\n\n        if (!playlist) {\n          return this.media_;\n        } // setter\n\n\n        if (this.state === 'HAVE_NOTHING') {\n          throw new Error('Cannot switch media playlist from ' + this.state);\n        }\n\n        var startingState = this.state; // find the playlist object if the target playlist has been specified by URI\n\n        if (typeof playlist === 'string') {\n          if (!this.master.playlists[playlist]) {\n            throw new Error('Unknown playlist URI: ' + playlist);\n          }\n\n          playlist = this.master.playlists[playlist];\n        }\n\n        var mediaChange = !this.media_ || playlist.uri !== this.media_.uri; // switch to previously loaded playlists immediately\n\n        if (mediaChange && this.loadedPlaylists_[playlist.uri] && this.loadedPlaylists_[playlist.uri].endList) {\n          this.state = 'HAVE_METADATA';\n          this.media_ = playlist; // trigger media change if the active media has been updated\n\n          if (mediaChange) {\n            this.trigger('mediachanging');\n            this.trigger('mediachange');\n          }\n\n          return;\n        } // switching to the active playlist is a no-op\n\n\n        if (!mediaChange) {\n          return;\n        } // switching from an already loaded playlist\n\n\n        if (this.media_) {\n          this.trigger('mediachanging');\n        }\n\n        if (!playlist.sidx) {\n          // Continue asynchronously if there is no sidx\n          // wait one tick to allow haveMaster to run first on a child loader\n          this.mediaRequest_ = window$1.setTimeout(this.haveMetadata.bind(this, {\n            startingState: startingState,\n            playlist: playlist\n          }), 0); // exit early and don't do sidx work\n\n          return;\n        } // we have sidx mappings\n\n\n        var oldMaster = void 0;\n        var sidxMapping = void 0; // sidxMapping is used when parsing the masterXml, so store\n        // it on the masterPlaylistLoader\n\n        if (this.masterPlaylistLoader_) {\n          oldMaster = this.masterPlaylistLoader_.master;\n          sidxMapping = this.masterPlaylistLoader_.sidxMapping_;\n        } else {\n          oldMaster = this.master;\n          sidxMapping = this.sidxMapping_;\n        }\n\n        var sidxKey = generateSidxKey(playlist.sidx);\n        sidxMapping[sidxKey] = {\n          sidxInfo: playlist.sidx\n        };\n        this.request = requestSidx_(playlist.sidx, playlist, this.hls_.xhr, {\n          handleManifestRedirects: this.handleManifestRedirects\n        }, this.sidxRequestFinished_(playlist, oldMaster, startingState, function (newMaster, sidx) {\n          if (!newMaster || !sidx) {\n            throw new Error('failed to request sidx');\n          } // update loader's sidxMapping with parsed sidx box\n\n\n          sidxMapping[sidxKey].sidx = sidx; // everything is ready just continue to haveMetadata\n\n          _this3.haveMetadata({\n            startingState: startingState,\n            playlist: newMaster.playlists[playlist.uri]\n          });\n        }));\n      }\n    }, {\n      key: 'haveMetadata',\n      value: function haveMetadata(_ref) {\n        var startingState = _ref.startingState,\n            playlist = _ref.playlist;\n        this.state = 'HAVE_METADATA';\n        this.loadedPlaylists_[playlist.uri] = playlist;\n        this.mediaRequest_ = null; // This will trigger loadedplaylist\n\n        this.refreshMedia_(playlist.uri); // fire loadedmetadata the first time a media playlist is loaded\n        // to resolve setup of media groups\n\n        if (startingState === 'HAVE_MASTER') {\n          this.trigger('loadedmetadata');\n        } else {\n          // trigger media change if the active media has been updated\n          this.trigger('mediachange');\n        }\n      }\n    }, {\n      key: 'pause',\n      value: function pause() {\n        this.stopRequest();\n        window$1.clearTimeout(this.mediaUpdateTimeout);\n        window$1.clearTimeout(this.minimumUpdatePeriodTimeout_);\n\n        if (this.state === 'HAVE_NOTHING') {\n          // If we pause the loader before any data has been retrieved, its as if we never\n          // started, so reset to an unstarted state.\n          this.started = false;\n        }\n      }\n    }, {\n      key: 'load',\n      value: function load(isFinalRendition) {\n        var _this4 = this;\n\n        window$1.clearTimeout(this.mediaUpdateTimeout);\n        window$1.clearTimeout(this.minimumUpdatePeriodTimeout_);\n        var media = this.media();\n\n        if (isFinalRendition) {\n          var delay = media ? media.targetDuration / 2 * 1000 : 5 * 1000;\n          this.mediaUpdateTimeout = window$1.setTimeout(function () {\n            return _this4.load();\n          }, delay);\n          return;\n        } // because the playlists are internal to the manifest, load should either load the\n        // main manifest, or do nothing but trigger an event\n\n\n        if (!this.started) {\n          this.start();\n          return;\n        }\n\n        this.trigger('loadedplaylist');\n      }\n      /**\n       * Parses the master xml string and updates playlist uri references\n       *\n       * @return {Object}\n       *         The parsed mpd manifest object\n       */\n\n    }, {\n      key: 'parseMasterXml',\n      value: function parseMasterXml() {\n        var master = parse(this.masterXml_, {\n          manifestUri: this.srcUrl,\n          clientOffset: this.clientOffset_,\n          sidxMapping: this.sidxMapping_\n        });\n        master.uri = this.srcUrl; // Set up phony URIs for the playlists since we won't have external URIs for DASH\n        // but reference playlists by their URI throughout the project\n        // TODO: Should we create the dummy uris in mpd-parser as well (leaning towards yes).\n\n        for (var i = 0; i < master.playlists.length; i++) {\n          var phonyUri = 'placeholder-uri-' + i;\n          master.playlists[i].uri = phonyUri; // set up by URI references\n\n          master.playlists[phonyUri] = master.playlists[i];\n        } // set up phony URIs for the media group playlists since we won't have external\n        // URIs for DASH but reference playlists by their URI throughout the project\n\n\n        forEachMediaGroup(master, function (properties, mediaType, groupKey, labelKey) {\n          if (properties.playlists && properties.playlists.length) {\n            var _phonyUri = 'placeholder-uri-' + mediaType + '-' + groupKey + '-' + labelKey;\n\n            properties.playlists[0].uri = _phonyUri; // setup URI references\n\n            master.playlists[_phonyUri] = properties.playlists[0];\n          }\n        });\n        setupMediaPlaylists(master);\n        resolveMediaGroupUris(master);\n        return master;\n      }\n    }, {\n      key: 'start',\n      value: function start() {\n        var _this5 = this;\n\n        this.started = true; // We don't need to request the master manifest again\n        // Call this asynchronously to match the xhr request behavior below\n\n        if (this.masterPlaylistLoader_) {\n          this.mediaRequest_ = window$1.setTimeout(this.haveMaster_.bind(this), 0);\n          return;\n        } // request the specified URL\n\n\n        this.request = this.hls_.xhr({\n          uri: this.srcUrl,\n          withCredentials: this.withCredentials\n        }, function (error, req) {\n          // disposed\n          if (!_this5.request) {\n            return;\n          } // clear the loader's request reference\n\n\n          _this5.request = null;\n\n          if (error) {\n            _this5.error = {\n              status: req.status,\n              message: 'DASH playlist request error at URL: ' + _this5.srcUrl,\n              responseText: req.responseText,\n              // MEDIA_ERR_NETWORK\n              code: 2\n            };\n\n            if (_this5.state === 'HAVE_NOTHING') {\n              _this5.started = false;\n            }\n\n            return _this5.trigger('error');\n          }\n\n          _this5.masterXml_ = req.responseText;\n\n          if (req.responseHeaders && req.responseHeaders.date) {\n            _this5.masterLoaded_ = Date.parse(req.responseHeaders.date);\n          } else {\n            _this5.masterLoaded_ = Date.now();\n          }\n\n          _this5.srcUrl = resolveManifestRedirect(_this5.handleManifestRedirects, _this5.srcUrl, req);\n\n          _this5.syncClientServerClock_(_this5.onClientServerClockSync_.bind(_this5));\n        });\n      }\n      /**\n       * Parses the master xml for UTCTiming node to sync the client clock to the server\n       * clock. If the UTCTiming node requires a HEAD or GET request, that request is made.\n       *\n       * @param {Function} done\n       *        Function to call when clock sync has completed\n       */\n\n    }, {\n      key: 'syncClientServerClock_',\n      value: function syncClientServerClock_(done) {\n        var _this6 = this;\n\n        var utcTiming = parseUTCTiming(this.masterXml_); // No UTCTiming element found in the mpd. Use Date header from mpd request as the\n        // server clock\n\n        if (utcTiming === null) {\n          this.clientOffset_ = this.masterLoaded_ - Date.now();\n          return done();\n        }\n\n        if (utcTiming.method === 'DIRECT') {\n          this.clientOffset_ = utcTiming.value - Date.now();\n          return done();\n        }\n\n        this.request = this.hls_.xhr({\n          uri: resolveUrl$1(this.srcUrl, utcTiming.value),\n          method: utcTiming.method,\n          withCredentials: this.withCredentials\n        }, function (error, req) {\n          // disposed\n          if (!_this6.request) {\n            return;\n          }\n\n          if (error) {\n            // sync request failed, fall back to using date header from mpd\n            // TODO: log warning\n            _this6.clientOffset_ = _this6.masterLoaded_ - Date.now();\n            return done();\n          }\n\n          var serverTime = void 0;\n\n          if (utcTiming.method === 'HEAD') {\n            if (!req.responseHeaders || !req.responseHeaders.date) {\n              // expected date header not preset, fall back to using date header from mpd\n              // TODO: log warning\n              serverTime = _this6.masterLoaded_;\n            } else {\n              serverTime = Date.parse(req.responseHeaders.date);\n            }\n          } else {\n            serverTime = Date.parse(req.responseText);\n          }\n\n          _this6.clientOffset_ = serverTime - Date.now();\n          done();\n        });\n      }\n    }, {\n      key: 'haveMaster_',\n      value: function haveMaster_() {\n        this.state = 'HAVE_MASTER'; // clear media request\n\n        this.mediaRequest_ = null;\n\n        if (!this.masterPlaylistLoader_) {\n          this.master = this.parseMasterXml(); // We have the master playlist at this point, so\n          // trigger this to allow MasterPlaylistController\n          // to make an initial playlist selection\n\n          this.trigger('loadedplaylist');\n        } else if (!this.media_) {\n          // no media playlist was specifically selected so select\n          // the one the child playlist loader was created with\n          this.media(this.childPlaylist_);\n        }\n      }\n      /**\n       * Handler for after client/server clock synchronization has happened. Sets up\n       * xml refresh timer if specificed by the manifest.\n       */\n\n    }, {\n      key: 'onClientServerClockSync_',\n      value: function onClientServerClockSync_() {\n        var _this7 = this;\n\n        this.haveMaster_();\n\n        if (!this.hasPendingRequest() && !this.media_) {\n          this.media(this.master.playlists[0]);\n        } // TODO: minimumUpdatePeriod can have a value of 0. Currently the manifest will not\n        // be refreshed when this is the case. The inter-op guide says that when the\n        // minimumUpdatePeriod is 0, the manifest should outline all currently available\n        // segments, but future segments may require an update. I think a good solution\n        // would be to update the manifest at the same rate that the media playlists\n        // are \"refreshed\", i.e. every targetDuration.\n\n\n        if (this.master && this.master.minimumUpdatePeriod) {\n          this.minimumUpdatePeriodTimeout_ = window$1.setTimeout(function () {\n            _this7.trigger('minimumUpdatePeriod');\n          }, this.master.minimumUpdatePeriod);\n        }\n      }\n      /**\n       * Sends request to refresh the master xml and updates the parsed master manifest\n       * TODO: Does the client offset need to be recalculated when the xml is refreshed?\n       */\n\n    }, {\n      key: 'refreshXml_',\n      value: function refreshXml_() {\n        var _this8 = this; // The srcUrl here *may* need to pass through handleManifestsRedirects when\n        // sidx is implemented\n\n\n        this.request = this.hls_.xhr({\n          uri: this.srcUrl,\n          withCredentials: this.withCredentials\n        }, function (error, req) {\n          // disposed\n          if (!_this8.request) {\n            return;\n          } // clear the loader's request reference\n\n\n          _this8.request = null;\n\n          if (error) {\n            _this8.error = {\n              status: req.status,\n              message: 'DASH playlist request error at URL: ' + _this8.srcUrl,\n              responseText: req.responseText,\n              // MEDIA_ERR_NETWORK\n              code: 2\n            };\n\n            if (_this8.state === 'HAVE_NOTHING') {\n              _this8.started = false;\n            }\n\n            return _this8.trigger('error');\n          }\n\n          _this8.masterXml_ = req.responseText; // This will filter out updated sidx info from the mapping\n\n          _this8.sidxMapping_ = filterChangedSidxMappings(_this8.masterXml_, _this8.srcUrl, _this8.clientOffset_, _this8.sidxMapping_);\n\n          var master = _this8.parseMasterXml();\n\n          var updatedMaster = updateMaster$1(_this8.master, master);\n\n          var currentSidxInfo = _this8.media().sidx;\n\n          if (updatedMaster) {\n            if (currentSidxInfo) {\n              var sidxKey = generateSidxKey(currentSidxInfo); // the sidx was updated, so the previous mapping was removed\n\n              if (!_this8.sidxMapping_[sidxKey]) {\n                var playlist = _this8.media();\n\n                _this8.request = requestSidx_(playlist.sidx, playlist, _this8.hls_.xhr, {\n                  handleManifestRedirects: _this8.handleManifestRedirects\n                }, _this8.sidxRequestFinished_(playlist, master, _this8.state, function (newMaster, sidx) {\n                  if (!newMaster || !sidx) {\n                    throw new Error('failed to request sidx on minimumUpdatePeriod');\n                  } // update loader's sidxMapping with parsed sidx box\n\n\n                  _this8.sidxMapping_[sidxKey].sidx = sidx;\n                  _this8.minimumUpdatePeriodTimeout_ = window$1.setTimeout(function () {\n                    _this8.trigger('minimumUpdatePeriod');\n                  }, _this8.master.minimumUpdatePeriod); // TODO: do we need to reload the current playlist?\n\n                  _this8.refreshMedia_(_this8.media().uri);\n\n                  return;\n                }));\n              }\n            } else {\n              _this8.master = updatedMaster;\n            }\n          }\n\n          _this8.minimumUpdatePeriodTimeout_ = window$1.setTimeout(function () {\n            _this8.trigger('minimumUpdatePeriod');\n          }, _this8.master.minimumUpdatePeriod);\n        });\n      }\n      /**\n       * Refreshes the media playlist by re-parsing the master xml and updating playlist\n       * references. If this is an alternate loader, the updated parsed manifest is retrieved\n       * from the master loader.\n       */\n\n    }, {\n      key: 'refreshMedia_',\n      value: function refreshMedia_(mediaUri) {\n        var _this9 = this;\n\n        if (!mediaUri) {\n          throw new Error('refreshMedia_ must take a media uri');\n        }\n\n        var oldMaster = void 0;\n        var newMaster = void 0;\n\n        if (this.masterPlaylistLoader_) {\n          oldMaster = this.masterPlaylistLoader_.master;\n          newMaster = this.masterPlaylistLoader_.parseMasterXml();\n        } else {\n          oldMaster = this.master;\n          newMaster = this.parseMasterXml();\n        }\n\n        var updatedMaster = updateMaster$1(oldMaster, newMaster);\n\n        if (updatedMaster) {\n          if (this.masterPlaylistLoader_) {\n            this.masterPlaylistLoader_.master = updatedMaster;\n          } else {\n            this.master = updatedMaster;\n          }\n\n          this.media_ = updatedMaster.playlists[mediaUri];\n        } else {\n          this.media_ = newMaster.playlists[mediaUri];\n          this.trigger('playlistunchanged');\n        }\n\n        if (!this.media().endList) {\n          this.mediaUpdateTimeout = window$1.setTimeout(function () {\n            _this9.trigger('mediaupdatetimeout');\n          }, refreshDelay(this.media(), !!updatedMaster));\n        }\n\n        this.trigger('loadedplaylist');\n      }\n    }]);\n    return DashPlaylistLoader;\n  }(EventTarget$1$1);\n\n  var logger = function logger(source) {\n    if (videojs$1.log.debug) {\n      return videojs$1.log.debug.bind(videojs$1, 'VHS:', source + ' >');\n    }\n\n    return function () {};\n  };\n\n  function noop$1() {}\n  /**\n   * @file source-updater.js\n   */\n\n  /**\n   * A queue of callbacks to be serialized and applied when a\n   * MediaSource and its associated SourceBuffers are not in the\n   * updating state. It is used by the segment loader to update the\n   * underlying SourceBuffers when new data is loaded, for instance.\n   *\n   * @class SourceUpdater\n   * @param {MediaSource} mediaSource the MediaSource to create the\n   * SourceBuffer from\n   * @param {String} mimeType the desired MIME type of the underlying\n   * SourceBuffer\n   * @param {Object} sourceBufferEmitter an event emitter that fires when a source buffer is\n   * added to the media source\n   */\n\n\n  var SourceUpdater = function () {\n    function SourceUpdater(mediaSource, mimeType, type, sourceBufferEmitter) {\n      classCallCheck$1(this, SourceUpdater);\n      this.callbacks_ = [];\n      this.pendingCallback_ = null;\n      this.timestampOffset_ = 0;\n      this.mediaSource = mediaSource;\n      this.processedAppend_ = false;\n      this.type_ = type;\n      this.mimeType_ = mimeType;\n      this.logger_ = logger('SourceUpdater[' + type + '][' + mimeType + ']');\n\n      if (mediaSource.readyState === 'closed') {\n        mediaSource.addEventListener('sourceopen', this.createSourceBuffer_.bind(this, mimeType, sourceBufferEmitter));\n      } else {\n        this.createSourceBuffer_(mimeType, sourceBufferEmitter);\n      }\n    }\n\n    createClass$1(SourceUpdater, [{\n      key: 'createSourceBuffer_',\n      value: function createSourceBuffer_(mimeType, sourceBufferEmitter) {\n        var _this = this;\n\n        this.sourceBuffer_ = this.mediaSource.addSourceBuffer(mimeType);\n        this.logger_('created SourceBuffer');\n\n        if (sourceBufferEmitter) {\n          sourceBufferEmitter.trigger('sourcebufferadded');\n\n          if (this.mediaSource.sourceBuffers.length < 2) {\n            // There's another source buffer we must wait for before we can start updating\n            // our own (or else we can get into a bad state, i.e., appending video/audio data\n            // before the other video/audio source buffer is available and leading to a video\n            // or audio only buffer).\n            sourceBufferEmitter.on('sourcebufferadded', function () {\n              _this.start_();\n            });\n            return;\n          }\n        }\n\n        this.start_();\n      }\n    }, {\n      key: 'start_',\n      value: function start_() {\n        var _this2 = this;\n\n        this.started_ = true; // run completion handlers and process callbacks as updateend\n        // events fire\n\n        this.onUpdateendCallback_ = function () {\n          var pendingCallback = _this2.pendingCallback_;\n          _this2.pendingCallback_ = null;\n          _this2.sourceBuffer_.removing = false;\n\n          _this2.logger_('buffered [' + printableRange(_this2.buffered()) + ']');\n\n          if (pendingCallback) {\n            pendingCallback();\n          }\n\n          _this2.runCallback_();\n        };\n\n        this.sourceBuffer_.addEventListener('updateend', this.onUpdateendCallback_);\n        this.runCallback_();\n      }\n      /**\n       * Aborts the current segment and resets the segment parser.\n       *\n       * @param {Function} done function to call when done\n       * @see http://w3c.github.io/media-source/#widl-SourceBuffer-abort-void\n       */\n\n    }, {\n      key: 'abort',\n      value: function abort(done) {\n        var _this3 = this;\n\n        if (this.processedAppend_) {\n          this.queueCallback_(function () {\n            _this3.sourceBuffer_.abort();\n          }, done);\n        }\n      }\n      /**\n       * Queue an update to append an ArrayBuffer.\n       *\n       * @param {ArrayBuffer} bytes\n       * @param {Function} done the function to call when done\n       * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-appendBuffer-void-ArrayBuffer-data\n       */\n\n    }, {\n      key: 'appendBuffer',\n      value: function appendBuffer(config, done) {\n        var _this4 = this;\n\n        this.processedAppend_ = true;\n        this.queueCallback_(function () {\n          if (config.videoSegmentTimingInfoCallback) {\n            _this4.sourceBuffer_.addEventListener('videoSegmentTimingInfo', config.videoSegmentTimingInfoCallback);\n          }\n\n          _this4.sourceBuffer_.appendBuffer(config.bytes);\n        }, function () {\n          if (config.videoSegmentTimingInfoCallback) {\n            _this4.sourceBuffer_.removeEventListener('videoSegmentTimingInfo', config.videoSegmentTimingInfoCallback);\n          }\n\n          done();\n        });\n      }\n      /**\n       * Indicates what TimeRanges are buffered in the managed SourceBuffer.\n       *\n       * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-buffered\n       */\n\n    }, {\n      key: 'buffered',\n      value: function buffered() {\n        if (!this.sourceBuffer_) {\n          return videojs$1.createTimeRanges();\n        }\n\n        return this.sourceBuffer_.buffered;\n      }\n      /**\n       * Queue an update to remove a time range from the buffer.\n       *\n       * @param {Number} start where to start the removal\n       * @param {Number} end where to end the removal\n       * @param {Function} [done=noop] optional callback to be executed when the remove\n       * operation is complete\n       * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-remove-void-double-start-unrestricted-double-end\n       */\n\n    }, {\n      key: 'remove',\n      value: function remove(start, end) {\n        var _this5 = this;\n\n        var done = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : noop$1;\n\n        if (this.processedAppend_) {\n          this.queueCallback_(function () {\n            _this5.logger_('remove [' + start + ' => ' + end + ']');\n\n            _this5.sourceBuffer_.removing = true;\n\n            _this5.sourceBuffer_.remove(start, end);\n          }, done);\n        }\n      }\n      /**\n       * Whether the underlying sourceBuffer is updating or not\n       *\n       * @return {Boolean} the updating status of the SourceBuffer\n       */\n\n    }, {\n      key: 'updating',\n      value: function updating() {\n        // we are updating if the sourcebuffer is updating or\n        return !this.sourceBuffer_ || this.sourceBuffer_.updating || // if we have a pending callback that is not our internal noop\n        !!this.pendingCallback_ && this.pendingCallback_ !== noop$1;\n      }\n      /**\n       * Set/get the timestampoffset on the SourceBuffer\n       *\n       * @return {Number} the timestamp offset\n       */\n\n    }, {\n      key: 'timestampOffset',\n      value: function timestampOffset(offset) {\n        var _this6 = this;\n\n        if (typeof offset !== 'undefined') {\n          this.queueCallback_(function () {\n            _this6.sourceBuffer_.timestampOffset = offset;\n\n            _this6.runCallback_();\n          });\n          this.timestampOffset_ = offset;\n        }\n\n        return this.timestampOffset_;\n      }\n      /**\n       * Queue a callback to run\n       */\n\n    }, {\n      key: 'queueCallback_',\n      value: function queueCallback_(callback, done) {\n        this.callbacks_.push([callback.bind(this), done]);\n        this.runCallback_();\n      }\n      /**\n       * Run a queued callback\n       */\n\n    }, {\n      key: 'runCallback_',\n      value: function runCallback_() {\n        var callbacks = void 0;\n\n        if (!this.updating() && this.callbacks_.length && this.started_) {\n          callbacks = this.callbacks_.shift();\n          this.pendingCallback_ = callbacks[1];\n          callbacks[0]();\n        }\n      }\n      /**\n       * dispose of the source updater and the underlying sourceBuffer\n       */\n\n    }, {\n      key: 'dispose',\n      value: function dispose() {\n        var _this7 = this;\n\n        var disposeFn = function disposeFn() {\n          if (_this7.sourceBuffer_ && _this7.mediaSource.readyState === 'open') {\n            _this7.sourceBuffer_.abort();\n          }\n\n          _this7.sourceBuffer_.removeEventListener('updateend', disposeFn);\n        };\n\n        this.sourceBuffer_.removeEventListener('updateend', this.onUpdateendCallback_);\n\n        if (this.sourceBuffer_.removing) {\n          this.sourceBuffer_.addEventListener('updateend', disposeFn);\n        } else {\n          disposeFn();\n        }\n      }\n    }]);\n    return SourceUpdater;\n  }();\n\n  var Config = {\n    GOAL_BUFFER_LENGTH: 30,\n    MAX_GOAL_BUFFER_LENGTH: 60,\n    GOAL_BUFFER_LENGTH_RATE: 1,\n    // 0.5 MB/s\n    INITIAL_BANDWIDTH: 4194304,\n    // A fudge factor to apply to advertised playlist bitrates to account for\n    // temporary flucations in client bandwidth\n    BANDWIDTH_VARIANCE: 1.2,\n    // How much of the buffer must be filled before we consider upswitching\n    BUFFER_LOW_WATER_LINE: 0,\n    MAX_BUFFER_LOW_WATER_LINE: 30,\n    BUFFER_LOW_WATER_LINE_RATE: 1\n  };\n  var REQUEST_ERRORS = {\n    FAILURE: 2,\n    TIMEOUT: -101,\n    ABORTED: -102\n  };\n  /**\n   * Abort all requests\n   *\n   * @param {Object} activeXhrs - an object that tracks all XHR requests\n   */\n\n  var abortAll = function abortAll(activeXhrs) {\n    activeXhrs.forEach(function (xhr) {\n      xhr.abort();\n    });\n  };\n  /**\n   * Gather important bandwidth stats once a request has completed\n   *\n   * @param {Object} request - the XHR request from which to gather stats\n   */\n\n\n  var getRequestStats = function getRequestStats(request) {\n    return {\n      bandwidth: request.bandwidth,\n      bytesReceived: request.bytesReceived || 0,\n      roundTripTime: request.roundTripTime || 0\n    };\n  };\n  /**\n   * If possible gather bandwidth stats as a request is in\n   * progress\n   *\n   * @param {Event} progressEvent - an event object from an XHR's progress event\n   */\n\n\n  var getProgressStats = function getProgressStats(progressEvent) {\n    var request = progressEvent.target;\n    var roundTripTime = Date.now() - request.requestTime;\n    var stats = {\n      bandwidth: Infinity,\n      bytesReceived: 0,\n      roundTripTime: roundTripTime || 0\n    };\n    stats.bytesReceived = progressEvent.loaded; // This can result in Infinity if stats.roundTripTime is 0 but that is ok\n    // because we should only use bandwidth stats on progress to determine when\n    // abort a request early due to insufficient bandwidth\n\n    stats.bandwidth = Math.floor(stats.bytesReceived / stats.roundTripTime * 8 * 1000);\n    return stats;\n  };\n  /**\n   * Handle all error conditions in one place and return an object\n   * with all the information\n   *\n   * @param {Error|null} error - if non-null signals an error occured with the XHR\n   * @param {Object} request -  the XHR request that possibly generated the error\n   */\n\n\n  var handleErrors = function handleErrors(error, request) {\n    if (request.timedout) {\n      return {\n        status: request.status,\n        message: 'HLS request timed-out at URL: ' + request.uri,\n        code: REQUEST_ERRORS.TIMEOUT,\n        xhr: request\n      };\n    }\n\n    if (request.aborted) {\n      return {\n        status: request.status,\n        message: 'HLS request aborted at URL: ' + request.uri,\n        code: REQUEST_ERRORS.ABORTED,\n        xhr: request\n      };\n    }\n\n    if (error) {\n      return {\n        status: request.status,\n        message: 'HLS request errored at URL: ' + request.uri,\n        code: REQUEST_ERRORS.FAILURE,\n        xhr: request\n      };\n    }\n\n    return null;\n  };\n  /**\n   * Handle responses for key data and convert the key data to the correct format\n   * for the decryption step later\n   *\n   * @param {Object} segment - a simplified copy of the segmentInfo object\n   *                           from SegmentLoader\n   * @param {Function} finishProcessingFn - a callback to execute to continue processing\n   *                                        this request\n   */\n\n\n  var handleKeyResponse = function handleKeyResponse(segment, finishProcessingFn) {\n    return function (error, request) {\n      var response = request.response;\n      var errorObj = handleErrors(error, request);\n\n      if (errorObj) {\n        return finishProcessingFn(errorObj, segment);\n      }\n\n      if (response.byteLength !== 16) {\n        return finishProcessingFn({\n          status: request.status,\n          message: 'Invalid HLS key at URL: ' + request.uri,\n          code: REQUEST_ERRORS.FAILURE,\n          xhr: request\n        }, segment);\n      }\n\n      var view = new DataView(response);\n      segment.key.bytes = new Uint32Array([view.getUint32(0), view.getUint32(4), view.getUint32(8), view.getUint32(12)]);\n      return finishProcessingFn(null, segment);\n    };\n  };\n  /**\n   * Handle init-segment responses\n   *\n   * @param {Object} segment - a simplified copy of the segmentInfo object\n   *                           from SegmentLoader\n   * @param {Function} finishProcessingFn - a callback to execute to continue processing\n   *                                        this request\n   */\n\n\n  var handleInitSegmentResponse = function handleInitSegmentResponse(segment, captionParser, finishProcessingFn) {\n    return function (error, request) {\n      var response = request.response;\n      var errorObj = handleErrors(error, request);\n\n      if (errorObj) {\n        return finishProcessingFn(errorObj, segment);\n      } // stop processing if received empty content\n\n\n      if (response.byteLength === 0) {\n        return finishProcessingFn({\n          status: request.status,\n          message: 'Empty HLS segment content at URL: ' + request.uri,\n          code: REQUEST_ERRORS.FAILURE,\n          xhr: request\n        }, segment);\n      }\n\n      segment.map.bytes = new Uint8Array(request.response); // Initialize CaptionParser if it hasn't been yet\n\n      if (captionParser && !captionParser.isInitialized()) {\n        captionParser.init();\n      }\n\n      segment.map.timescales = probe.timescale(segment.map.bytes);\n      segment.map.videoTrackIds = probe.videoTrackIds(segment.map.bytes);\n      return finishProcessingFn(null, segment);\n    };\n  };\n  /**\n   * Response handler for segment-requests being sure to set the correct\n   * property depending on whether the segment is encryped or not\n   * Also records and keeps track of stats that are used for ABR purposes\n   *\n   * @param {Object} segment - a simplified copy of the segmentInfo object\n   *                           from SegmentLoader\n   * @param {Function} finishProcessingFn - a callback to execute to continue processing\n   *                                        this request\n   */\n\n\n  var handleSegmentResponse = function handleSegmentResponse(segment, captionParser, finishProcessingFn) {\n    return function (error, request) {\n      var response = request.response;\n      var errorObj = handleErrors(error, request);\n      var parsed = void 0;\n\n      if (errorObj) {\n        return finishProcessingFn(errorObj, segment);\n      } // stop processing if received empty content\n\n\n      if (response.byteLength === 0) {\n        return finishProcessingFn({\n          status: request.status,\n          message: 'Empty HLS segment content at URL: ' + request.uri,\n          code: REQUEST_ERRORS.FAILURE,\n          xhr: request\n        }, segment);\n      }\n\n      segment.stats = getRequestStats(request);\n\n      if (segment.key) {\n        segment.encryptedBytes = new Uint8Array(request.response);\n      } else {\n        segment.bytes = new Uint8Array(request.response);\n      } // This is likely an FMP4 and has the init segment.\n      // Run through the CaptionParser in case there are captions.\n\n\n      if (captionParser && segment.map && segment.map.bytes) {\n        // Initialize CaptionParser if it hasn't been yet\n        if (!captionParser.isInitialized()) {\n          captionParser.init();\n        }\n\n        parsed = captionParser.parse(segment.bytes, segment.map.videoTrackIds, segment.map.timescales);\n\n        if (parsed && parsed.captions) {\n          segment.captionStreams = parsed.captionStreams;\n          segment.fmp4Captions = parsed.captions;\n        }\n      }\n\n      return finishProcessingFn(null, segment);\n    };\n  };\n  /**\n   * Decrypt the segment via the decryption web worker\n   *\n   * @param {WebWorker} decrypter - a WebWorker interface to AES-128 decryption routines\n   * @param {Object} segment - a simplified copy of the segmentInfo object\n   *                           from SegmentLoader\n   * @param {Function} doneFn - a callback that is executed after decryption has completed\n   */\n\n\n  var decryptSegment = function decryptSegment(decrypter, segment, doneFn) {\n    var decryptionHandler = function decryptionHandler(event) {\n      if (event.data.source === segment.requestId) {\n        decrypter.removeEventListener('message', decryptionHandler);\n        var decrypted = event.data.decrypted;\n        segment.bytes = new Uint8Array(decrypted.bytes, decrypted.byteOffset, decrypted.byteLength);\n        return doneFn(null, segment);\n      }\n    };\n\n    decrypter.addEventListener('message', decryptionHandler);\n    var keyBytes = void 0;\n\n    if (segment.key.bytes.slice) {\n      keyBytes = segment.key.bytes.slice();\n    } else {\n      keyBytes = new Uint32Array(Array.prototype.slice.call(segment.key.bytes));\n    } // this is an encrypted segment\n    // incrementally decrypt the segment\n\n\n    decrypter.postMessage(createTransferableMessage({\n      source: segment.requestId,\n      encrypted: segment.encryptedBytes,\n      key: keyBytes,\n      iv: segment.key.iv\n    }), [segment.encryptedBytes.buffer, keyBytes.buffer]);\n  };\n  /**\n   * This function waits for all XHRs to finish (with either success or failure)\n   * before continueing processing via it's callback. The function gathers errors\n   * from each request into a single errors array so that the error status for\n   * each request can be examined later.\n   *\n   * @param {Object} activeXhrs - an object that tracks all XHR requests\n   * @param {WebWorker} decrypter - a WebWorker interface to AES-128 decryption routines\n   * @param {Function} doneFn - a callback that is executed after all resources have been\n   *                            downloaded and any decryption completed\n   */\n\n\n  var waitForCompletion = function waitForCompletion(activeXhrs, decrypter, doneFn) {\n    var count = 0;\n    var didError = false;\n    return function (error, segment) {\n      if (didError) {\n        return;\n      }\n\n      if (error) {\n        didError = true; // If there are errors, we have to abort any outstanding requests\n\n        abortAll(activeXhrs); // Even though the requests above are aborted, and in theory we could wait until we\n        // handle the aborted events from those requests, there are some cases where we may\n        // never get an aborted event. For instance, if the network connection is lost and\n        // there were two requests, the first may have triggered an error immediately, while\n        // the second request remains unsent. In that case, the aborted algorithm will not\n        // trigger an abort: see https://xhr.spec.whatwg.org/#the-abort()-method\n        //\n        // We also can't rely on the ready state of the XHR, since the request that\n        // triggered the connection error may also show as a ready state of 0 (unsent).\n        // Therefore, we have to finish this group of requests immediately after the first\n        // seen error.\n\n        return doneFn(error, segment);\n      }\n\n      count += 1;\n\n      if (count === activeXhrs.length) {\n        // Keep track of when *all* of the requests have completed\n        segment.endOfAllRequests = Date.now();\n\n        if (segment.encryptedBytes) {\n          return decryptSegment(decrypter, segment, doneFn);\n        } // Otherwise, everything is ready just continue\n\n\n        return doneFn(null, segment);\n      }\n    };\n  };\n  /**\n   * Simple progress event callback handler that gathers some stats before\n   * executing a provided callback with the `segment` object\n   *\n   * @param {Object} segment - a simplified copy of the segmentInfo object\n   *                           from SegmentLoader\n   * @param {Function} progressFn - a callback that is executed each time a progress event\n   *                                is received\n   * @param {Event} event - the progress event object from XMLHttpRequest\n   */\n\n\n  var handleProgress = function handleProgress(segment, progressFn) {\n    return function (event) {\n      segment.stats = videojs$1.mergeOptions(segment.stats, getProgressStats(event)); // record the time that we receive the first byte of data\n\n      if (!segment.stats.firstBytesReceivedAt && segment.stats.bytesReceived) {\n        segment.stats.firstBytesReceivedAt = Date.now();\n      }\n\n      return progressFn(event, segment);\n    };\n  };\n  /**\n   * Load all resources and does any processing necessary for a media-segment\n   *\n   * Features:\n   *   decrypts the media-segment if it has a key uri and an iv\n   *   aborts *all* requests if *any* one request fails\n   *\n   * The segment object, at minimum, has the following format:\n   * {\n   *   resolvedUri: String,\n   *   [byterange]: {\n   *     offset: Number,\n   *     length: Number\n   *   },\n   *   [key]: {\n   *     resolvedUri: String\n   *     [byterange]: {\n   *       offset: Number,\n   *       length: Number\n   *     },\n   *     iv: {\n   *       bytes: Uint32Array\n   *     }\n   *   },\n   *   [map]: {\n   *     resolvedUri: String,\n   *     [byterange]: {\n   *       offset: Number,\n   *       length: Number\n   *     },\n   *     [bytes]: Uint8Array\n   *   }\n   * }\n   * ...where [name] denotes optional properties\n   *\n   * @param {Function} xhr - an instance of the xhr wrapper in xhr.js\n   * @param {Object} xhrOptions - the base options to provide to all xhr requests\n   * @param {WebWorker} decryptionWorker - a WebWorker interface to AES-128\n   *                                       decryption routines\n   * @param {Object} segment - a simplified copy of the segmentInfo object\n   *                           from SegmentLoader\n   * @param {Function} progressFn - a callback that receives progress events from the main\n   *                                segment's xhr request\n   * @param {Function} doneFn - a callback that is executed only once all requests have\n   *                            succeeded or failed\n   * @returns {Function} a function that, when invoked, immediately aborts all\n   *                     outstanding requests\n   */\n\n\n  var mediaSegmentRequest = function mediaSegmentRequest(xhr, xhrOptions, decryptionWorker, captionParser, segment, progressFn, doneFn) {\n    var activeXhrs = [];\n    var finishProcessingFn = waitForCompletion(activeXhrs, decryptionWorker, doneFn); // optionally, request the decryption key\n\n    if (segment.key && !segment.key.bytes) {\n      var keyRequestOptions = videojs$1.mergeOptions(xhrOptions, {\n        uri: segment.key.resolvedUri,\n        responseType: 'arraybuffer'\n      });\n      var keyRequestCallback = handleKeyResponse(segment, finishProcessingFn);\n      var keyXhr = xhr(keyRequestOptions, keyRequestCallback);\n      activeXhrs.push(keyXhr);\n    } // optionally, request the associated media init segment\n\n\n    if (segment.map && !segment.map.bytes) {\n      var initSegmentOptions = videojs$1.mergeOptions(xhrOptions, {\n        uri: segment.map.resolvedUri,\n        responseType: 'arraybuffer',\n        headers: segmentXhrHeaders(segment.map)\n      });\n      var initSegmentRequestCallback = handleInitSegmentResponse(segment, captionParser, finishProcessingFn);\n      var initSegmentXhr = xhr(initSegmentOptions, initSegmentRequestCallback);\n      activeXhrs.push(initSegmentXhr);\n    }\n\n    var segmentRequestOptions = videojs$1.mergeOptions(xhrOptions, {\n      uri: segment.resolvedUri,\n      responseType: 'arraybuffer',\n      headers: segmentXhrHeaders(segment)\n    });\n    var segmentRequestCallback = handleSegmentResponse(segment, captionParser, finishProcessingFn);\n    var segmentXhr = xhr(segmentRequestOptions, segmentRequestCallback);\n    segmentXhr.addEventListener('progress', handleProgress(segment, progressFn));\n    activeXhrs.push(segmentXhr);\n    return function () {\n      return abortAll(activeXhrs);\n    };\n  }; // Utilities\n\n  /**\n   * Returns the CSS value for the specified property on an element\n   * using `getComputedStyle`. Firefox has a long-standing issue where\n   * getComputedStyle() may return null when running in an iframe with\n   * `display: none`.\n   *\n   * @see https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n   * @param {HTMLElement} el the htmlelement to work on\n   * @param {string} the proprety to get the style for\n   */\n\n\n  var safeGetComputedStyle = function safeGetComputedStyle(el, property) {\n    var result = void 0;\n\n    if (!el) {\n      return '';\n    }\n\n    result = window$1.getComputedStyle(el);\n\n    if (!result) {\n      return '';\n    }\n\n    return result[property];\n  };\n  /**\n   * Resuable stable sort function\n   *\n   * @param {Playlists} array\n   * @param {Function} sortFn Different comparators\n   * @function stableSort\n   */\n\n\n  var stableSort = function stableSort(array, sortFn) {\n    var newArray = array.slice();\n    array.sort(function (left, right) {\n      var cmp = sortFn(left, right);\n\n      if (cmp === 0) {\n        return newArray.indexOf(left) - newArray.indexOf(right);\n      }\n\n      return cmp;\n    });\n  };\n  /**\n   * A comparator function to sort two playlist object by bandwidth.\n   *\n   * @param {Object} left a media playlist object\n   * @param {Object} right a media playlist object\n   * @return {Number} Greater than zero if the bandwidth attribute of\n   * left is greater than the corresponding attribute of right. Less\n   * than zero if the bandwidth of right is greater than left and\n   * exactly zero if the two are equal.\n   */\n\n\n  var comparePlaylistBandwidth = function comparePlaylistBandwidth(left, right) {\n    var leftBandwidth = void 0;\n    var rightBandwidth = void 0;\n\n    if (left.attributes.BANDWIDTH) {\n      leftBandwidth = left.attributes.BANDWIDTH;\n    }\n\n    leftBandwidth = leftBandwidth || window$1.Number.MAX_VALUE;\n\n    if (right.attributes.BANDWIDTH) {\n      rightBandwidth = right.attributes.BANDWIDTH;\n    }\n\n    rightBandwidth = rightBandwidth || window$1.Number.MAX_VALUE;\n    return leftBandwidth - rightBandwidth;\n  };\n  /**\n   * A comparator function to sort two playlist object by resolution (width).\n   * @param {Object} left a media playlist object\n   * @param {Object} right a media playlist object\n   * @return {Number} Greater than zero if the resolution.width attribute of\n   * left is greater than the corresponding attribute of right. Less\n   * than zero if the resolution.width of right is greater than left and\n   * exactly zero if the two are equal.\n   */\n\n\n  var comparePlaylistResolution = function comparePlaylistResolution(left, right) {\n    var leftWidth = void 0;\n    var rightWidth = void 0;\n\n    if (left.attributes.RESOLUTION && left.attributes.RESOLUTION.width) {\n      leftWidth = left.attributes.RESOLUTION.width;\n    }\n\n    leftWidth = leftWidth || window$1.Number.MAX_VALUE;\n\n    if (right.attributes.RESOLUTION && right.attributes.RESOLUTION.width) {\n      rightWidth = right.attributes.RESOLUTION.width;\n    }\n\n    rightWidth = rightWidth || window$1.Number.MAX_VALUE; // NOTE - Fallback to bandwidth sort as appropriate in cases where multiple renditions\n    // have the same media dimensions/ resolution\n\n    if (leftWidth === rightWidth && left.attributes.BANDWIDTH && right.attributes.BANDWIDTH) {\n      return left.attributes.BANDWIDTH - right.attributes.BANDWIDTH;\n    }\n\n    return leftWidth - rightWidth;\n  };\n  /**\n   * Chooses the appropriate media playlist based on bandwidth and player size\n   *\n   * @param {Object} master\n   *        Object representation of the master manifest\n   * @param {Number} playerBandwidth\n   *        Current calculated bandwidth of the player\n   * @param {Number} playerWidth\n   *        Current width of the player element\n   * @param {Number} playerHeight\n   *        Current height of the player element\n   * @param {Boolean} limitRenditionByPlayerDimensions\n   *        True if the player width and height should be used during the selection, false otherwise\n   * @return {Playlist} the highest bitrate playlist less than the\n   * currently detected bandwidth, accounting for some amount of\n   * bandwidth variance\n   */\n\n\n  var simpleSelector = function simpleSelector(master, playerBandwidth, playerWidth, playerHeight, limitRenditionByPlayerDimensions) {\n    // convert the playlists to an intermediary representation to make comparisons easier\n    var sortedPlaylistReps = master.playlists.map(function (playlist) {\n      var width = void 0;\n      var height = void 0;\n      var bandwidth = void 0;\n      width = playlist.attributes.RESOLUTION && playlist.attributes.RESOLUTION.width;\n      height = playlist.attributes.RESOLUTION && playlist.attributes.RESOLUTION.height;\n      bandwidth = playlist.attributes.BANDWIDTH;\n      bandwidth = bandwidth || window$1.Number.MAX_VALUE;\n      return {\n        bandwidth: bandwidth,\n        width: width,\n        height: height,\n        playlist: playlist\n      };\n    });\n    stableSort(sortedPlaylistReps, function (left, right) {\n      return left.bandwidth - right.bandwidth;\n    }); // filter out any playlists that have been excluded due to\n    // incompatible configurations\n\n    sortedPlaylistReps = sortedPlaylistReps.filter(function (rep) {\n      return !Playlist.isIncompatible(rep.playlist);\n    }); // filter out any playlists that have been disabled manually through the representations\n    // api or blacklisted temporarily due to playback errors.\n\n    var enabledPlaylistReps = sortedPlaylistReps.filter(function (rep) {\n      return Playlist.isEnabled(rep.playlist);\n    });\n\n    if (!enabledPlaylistReps.length) {\n      // if there are no enabled playlists, then they have all been blacklisted or disabled\n      // by the user through the representations api. In this case, ignore blacklisting and\n      // fallback to what the user wants by using playlists the user has not disabled.\n      enabledPlaylistReps = sortedPlaylistReps.filter(function (rep) {\n        return !Playlist.isDisabled(rep.playlist);\n      });\n    } // filter out any variant that has greater effective bitrate\n    // than the current estimated bandwidth\n\n\n    var bandwidthPlaylistReps = enabledPlaylistReps.filter(function (rep) {\n      return rep.bandwidth * Config.BANDWIDTH_VARIANCE < playerBandwidth;\n    });\n    var highestRemainingBandwidthRep = bandwidthPlaylistReps[bandwidthPlaylistReps.length - 1]; // get all of the renditions with the same (highest) bandwidth\n    // and then taking the very first element\n\n    var bandwidthBestRep = bandwidthPlaylistReps.filter(function (rep) {\n      return rep.bandwidth === highestRemainingBandwidthRep.bandwidth;\n    })[0]; // if we're not going to limit renditions by player size, make an early decision.\n\n    if (limitRenditionByPlayerDimensions === false) {\n      var _chosenRep = bandwidthBestRep || enabledPlaylistReps[0] || sortedPlaylistReps[0];\n\n      return _chosenRep ? _chosenRep.playlist : null;\n    } // filter out playlists without resolution information\n\n\n    var haveResolution = bandwidthPlaylistReps.filter(function (rep) {\n      return rep.width && rep.height;\n    }); // sort variants by resolution\n\n    stableSort(haveResolution, function (left, right) {\n      return left.width - right.width;\n    }); // if we have the exact resolution as the player use it\n\n    var resolutionBestRepList = haveResolution.filter(function (rep) {\n      return rep.width === playerWidth && rep.height === playerHeight;\n    });\n    highestRemainingBandwidthRep = resolutionBestRepList[resolutionBestRepList.length - 1]; // ensure that we pick the highest bandwidth variant that have exact resolution\n\n    var resolutionBestRep = resolutionBestRepList.filter(function (rep) {\n      return rep.bandwidth === highestRemainingBandwidthRep.bandwidth;\n    })[0];\n    var resolutionPlusOneList = void 0;\n    var resolutionPlusOneSmallest = void 0;\n    var resolutionPlusOneRep = void 0; // find the smallest variant that is larger than the player\n    // if there is no match of exact resolution\n\n    if (!resolutionBestRep) {\n      resolutionPlusOneList = haveResolution.filter(function (rep) {\n        return rep.width > playerWidth || rep.height > playerHeight;\n      }); // find all the variants have the same smallest resolution\n\n      resolutionPlusOneSmallest = resolutionPlusOneList.filter(function (rep) {\n        return rep.width === resolutionPlusOneList[0].width && rep.height === resolutionPlusOneList[0].height;\n      }); // ensure that we also pick the highest bandwidth variant that\n      // is just-larger-than the video player\n\n      highestRemainingBandwidthRep = resolutionPlusOneSmallest[resolutionPlusOneSmallest.length - 1];\n      resolutionPlusOneRep = resolutionPlusOneSmallest.filter(function (rep) {\n        return rep.bandwidth === highestRemainingBandwidthRep.bandwidth;\n      })[0];\n    } // fallback chain of variants\n\n\n    var chosenRep = resolutionPlusOneRep || resolutionBestRep || bandwidthBestRep || enabledPlaylistReps[0] || sortedPlaylistReps[0];\n    return chosenRep ? chosenRep.playlist : null;\n  }; // Playlist Selectors\n\n  /**\n   * Chooses the appropriate media playlist based on the most recent\n   * bandwidth estimate and the player size.\n   *\n   * Expects to be called within the context of an instance of HlsHandler\n   *\n   * @return {Playlist} the highest bitrate playlist less than the\n   * currently detected bandwidth, accounting for some amount of\n   * bandwidth variance\n   */\n\n\n  var lastBandwidthSelector = function lastBandwidthSelector() {\n    return simpleSelector(this.playlists.master, this.systemBandwidth, parseInt(safeGetComputedStyle(this.tech_.el(), 'width'), 10), parseInt(safeGetComputedStyle(this.tech_.el(), 'height'), 10), this.limitRenditionByPlayerDimensions);\n  };\n  /**\n   * Chooses the appropriate media playlist based on the potential to rebuffer\n   *\n   * @param {Object} settings\n   *        Object of information required to use this selector\n   * @param {Object} settings.master\n   *        Object representation of the master manifest\n   * @param {Number} settings.currentTime\n   *        The current time of the player\n   * @param {Number} settings.bandwidth\n   *        Current measured bandwidth\n   * @param {Number} settings.duration\n   *        Duration of the media\n   * @param {Number} settings.segmentDuration\n   *        Segment duration to be used in round trip time calculations\n   * @param {Number} settings.timeUntilRebuffer\n   *        Time left in seconds until the player has to rebuffer\n   * @param {Number} settings.currentTimeline\n   *        The current timeline segments are being loaded from\n   * @param {SyncController} settings.syncController\n   *        SyncController for determining if we have a sync point for a given playlist\n   * @return {Object|null}\n   *         {Object} return.playlist\n   *         The highest bandwidth playlist with the least amount of rebuffering\n   *         {Number} return.rebufferingImpact\n   *         The amount of time in seconds switching to this playlist will rebuffer. A\n   *         negative value means that switching will cause zero rebuffering.\n   */\n\n\n  var minRebufferMaxBandwidthSelector = function minRebufferMaxBandwidthSelector(settings) {\n    var master = settings.master,\n        currentTime = settings.currentTime,\n        bandwidth = settings.bandwidth,\n        duration$$1 = settings.duration,\n        segmentDuration = settings.segmentDuration,\n        timeUntilRebuffer = settings.timeUntilRebuffer,\n        currentTimeline = settings.currentTimeline,\n        syncController = settings.syncController; // filter out any playlists that have been excluded due to\n    // incompatible configurations\n\n    var compatiblePlaylists = master.playlists.filter(function (playlist) {\n      return !Playlist.isIncompatible(playlist);\n    }); // filter out any playlists that have been disabled manually through the representations\n    // api or blacklisted temporarily due to playback errors.\n\n    var enabledPlaylists = compatiblePlaylists.filter(Playlist.isEnabled);\n\n    if (!enabledPlaylists.length) {\n      // if there are no enabled playlists, then they have all been blacklisted or disabled\n      // by the user through the representations api. In this case, ignore blacklisting and\n      // fallback to what the user wants by using playlists the user has not disabled.\n      enabledPlaylists = compatiblePlaylists.filter(function (playlist) {\n        return !Playlist.isDisabled(playlist);\n      });\n    }\n\n    var bandwidthPlaylists = enabledPlaylists.filter(Playlist.hasAttribute.bind(null, 'BANDWIDTH'));\n    var rebufferingEstimates = bandwidthPlaylists.map(function (playlist) {\n      var syncPoint = syncController.getSyncPoint(playlist, duration$$1, currentTimeline, currentTime); // If there is no sync point for this playlist, switching to it will require a\n      // sync request first. This will double the request time\n\n      var numRequests = syncPoint ? 1 : 2;\n      var requestTimeEstimate = Playlist.estimateSegmentRequestTime(segmentDuration, bandwidth, playlist);\n      var rebufferingImpact = requestTimeEstimate * numRequests - timeUntilRebuffer;\n      return {\n        playlist: playlist,\n        rebufferingImpact: rebufferingImpact\n      };\n    });\n    var noRebufferingPlaylists = rebufferingEstimates.filter(function (estimate) {\n      return estimate.rebufferingImpact <= 0;\n    }); // Sort by bandwidth DESC\n\n    stableSort(noRebufferingPlaylists, function (a, b) {\n      return comparePlaylistBandwidth(b.playlist, a.playlist);\n    });\n\n    if (noRebufferingPlaylists.length) {\n      return noRebufferingPlaylists[0];\n    }\n\n    stableSort(rebufferingEstimates, function (a, b) {\n      return a.rebufferingImpact - b.rebufferingImpact;\n    });\n    return rebufferingEstimates[0] || null;\n  };\n  /**\n   * Chooses the appropriate media playlist, which in this case is the lowest bitrate\n   * one with video.  If no renditions with video exist, return the lowest audio rendition.\n   *\n   * Expects to be called within the context of an instance of HlsHandler\n   *\n   * @return {Object|null}\n   *         {Object} return.playlist\n   *         The lowest bitrate playlist that contains a video codec.  If no such rendition\n   *         exists pick the lowest audio rendition.\n   */\n\n\n  var lowestBitrateCompatibleVariantSelector = function lowestBitrateCompatibleVariantSelector() {\n    // filter out any playlists that have been excluded due to\n    // incompatible configurations or playback errors\n    var playlists = this.playlists.master.playlists.filter(Playlist.isEnabled); // Sort ascending by bitrate\n\n    stableSort(playlists, function (a, b) {\n      return comparePlaylistBandwidth(a, b);\n    }); // Parse and assume that playlists with no video codec have no video\n    // (this is not necessarily true, although it is generally true).\n    //\n    // If an entire manifest has no valid videos everything will get filtered\n    // out.\n\n    var playlistsWithVideo = playlists.filter(function (playlist) {\n      return parseCodecs(playlist.attributes.CODECS).videoCodec;\n    });\n    return playlistsWithVideo[0] || null;\n  };\n  /**\n   * Create captions text tracks on video.js if they do not exist\n   *\n   * @param {Object} inbandTextTracks a reference to current inbandTextTracks\n   * @param {Object} tech the video.js tech\n   * @param {Object} captionStreams the caption streams to create\n   * @private\n   */\n\n\n  var createCaptionsTrackIfNotExists = function createCaptionsTrackIfNotExists(inbandTextTracks, tech, captionStreams) {\n    for (var trackId in captionStreams) {\n      if (!inbandTextTracks[trackId]) {\n        tech.trigger({\n          type: 'usage',\n          name: 'hls-608'\n        });\n        var track = tech.textTracks().getTrackById(trackId);\n\n        if (track) {\n          // Resuse an existing track with a CC# id because this was\n          // very likely created by videojs-contrib-hls from information\n          // in the m3u8 for us to use\n          inbandTextTracks[trackId] = track;\n        } else {\n          // Otherwise, create a track with the default `CC#` label and\n          // without a language\n          inbandTextTracks[trackId] = tech.addRemoteTextTrack({\n            kind: 'captions',\n            id: trackId,\n            label: trackId\n          }, false).track;\n        }\n      }\n    }\n  };\n\n  var addCaptionData = function addCaptionData(_ref) {\n    var inbandTextTracks = _ref.inbandTextTracks,\n        captionArray = _ref.captionArray,\n        timestampOffset = _ref.timestampOffset;\n\n    if (!captionArray) {\n      return;\n    }\n\n    var Cue = window.WebKitDataCue || window.VTTCue;\n    captionArray.forEach(function (caption) {\n      var track = caption.stream;\n      var startTime = caption.startTime;\n      var endTime = caption.endTime;\n\n      if (!inbandTextTracks[track]) {\n        return;\n      }\n\n      startTime += timestampOffset;\n      endTime += timestampOffset;\n      inbandTextTracks[track].addCue(new Cue(startTime, endTime, caption.text));\n    });\n  };\n  /**\n   * @file segment-loader.js\n   */\n  // in ms\n\n\n  var CHECK_BUFFER_DELAY = 500;\n  /**\n   * Determines if we should call endOfStream on the media source based\n   * on the state of the buffer or if appened segment was the final\n   * segment in the playlist.\n   *\n   * @param {Object} playlist a media playlist object\n   * @param {Object} mediaSource the MediaSource object\n   * @param {Number} segmentIndex the index of segment we last appended\n   * @returns {Boolean} do we need to call endOfStream on the MediaSource\n   */\n\n  var detectEndOfStream = function detectEndOfStream(playlist, mediaSource, segmentIndex) {\n    if (!playlist || !mediaSource) {\n      return false;\n    }\n\n    var segments = playlist.segments; // determine a few boolean values to help make the branch below easier\n    // to read\n\n    var appendedLastSegment = segmentIndex === segments.length; // if we've buffered to the end of the video, we need to call endOfStream\n    // so that MediaSources can trigger the `ended` event when it runs out of\n    // buffered data instead of waiting for me\n\n    return playlist.endList && mediaSource.readyState === 'open' && appendedLastSegment;\n  };\n\n  var finite = function finite(num) {\n    return typeof num === 'number' && isFinite(num);\n  };\n\n  var illegalMediaSwitch = function illegalMediaSwitch(loaderType, startingMedia, newSegmentMedia) {\n    // Although these checks should most likely cover non 'main' types, for now it narrows\n    // the scope of our checks.\n    if (loaderType !== 'main' || !startingMedia || !newSegmentMedia) {\n      return null;\n    }\n\n    if (!newSegmentMedia.containsAudio && !newSegmentMedia.containsVideo) {\n      return 'Neither audio nor video found in segment.';\n    }\n\n    if (startingMedia.containsVideo && !newSegmentMedia.containsVideo) {\n      return 'Only audio found in segment when we expected video.' + ' We can\\'t switch to audio only from a stream that had video.' + ' To get rid of this message, please add codec information to the manifest.';\n    }\n\n    if (!startingMedia.containsVideo && newSegmentMedia.containsVideo) {\n      return 'Video found in segment when we expected only audio.' + ' We can\\'t switch to a stream with video from an audio only stream.' + ' To get rid of this message, please add codec information to the manifest.';\n    }\n\n    return null;\n  };\n  /**\n   * Calculates a time value that is safe to remove from the back buffer without interupting\n   * playback.\n   *\n   * @param {TimeRange} seekable\n   *        The current seekable range\n   * @param {Number} currentTime\n   *        The current time of the player\n   * @param {Number} targetDuration\n   *        The target duration of the current playlist\n   * @return {Number}\n   *         Time that is safe to remove from the back buffer without interupting playback\n   */\n\n\n  var safeBackBufferTrimTime = function safeBackBufferTrimTime(seekable$$1, currentTime, targetDuration) {\n    var removeToTime = void 0;\n\n    if (seekable$$1.length && seekable$$1.start(0) > 0 && seekable$$1.start(0) < currentTime) {\n      // If we have a seekable range use that as the limit for what can be removed safely\n      removeToTime = seekable$$1.start(0);\n    } else {\n      // otherwise remove anything older than 30 seconds before the current play head\n      removeToTime = currentTime - 30;\n    } // Don't allow removing from the buffer within target duration of current time\n    // to avoid the possibility of removing the GOP currently being played which could\n    // cause playback stalls.\n\n\n    return Math.min(removeToTime, currentTime - targetDuration);\n  };\n\n  var segmentInfoString = function segmentInfoString(segmentInfo) {\n    var _segmentInfo$segment = segmentInfo.segment,\n        start = _segmentInfo$segment.start,\n        end = _segmentInfo$segment.end,\n        _segmentInfo$playlist = segmentInfo.playlist,\n        seq = _segmentInfo$playlist.mediaSequence,\n        id = _segmentInfo$playlist.id,\n        _segmentInfo$playlist2 = _segmentInfo$playlist.segments,\n        segments = _segmentInfo$playlist2 === undefined ? [] : _segmentInfo$playlist2,\n        index = segmentInfo.mediaIndex,\n        timeline = segmentInfo.timeline;\n    return ['appending [' + index + '] of [' + seq + ', ' + (seq + segments.length) + '] from playlist [' + id + ']', '[' + start + ' => ' + end + '] in timeline [' + timeline + ']'].join(' ');\n  };\n  /**\n   * An object that manages segment loading and appending.\n   *\n   * @class SegmentLoader\n   * @param {Object} options required and optional options\n   * @extends videojs.EventTarget\n   */\n\n\n  var SegmentLoader = function (_videojs$EventTarget) {\n    inherits$1(SegmentLoader, _videojs$EventTarget);\n\n    function SegmentLoader(settings) {\n      classCallCheck$1(this, SegmentLoader); // check pre-conditions\n\n      var _this = possibleConstructorReturn$1(this, (SegmentLoader.__proto__ || Object.getPrototypeOf(SegmentLoader)).call(this));\n\n      if (!settings) {\n        throw new TypeError('Initialization settings are required');\n      }\n\n      if (typeof settings.currentTime !== 'function') {\n        throw new TypeError('No currentTime getter specified');\n      }\n\n      if (!settings.mediaSource) {\n        throw new TypeError('No MediaSource specified');\n      } // public properties\n\n\n      _this.bandwidth = settings.bandwidth;\n      _this.throughput = {\n        rate: 0,\n        count: 0\n      };\n      _this.roundTrip = NaN;\n\n      _this.resetStats_();\n\n      _this.mediaIndex = null; // private settings\n\n      _this.hasPlayed_ = settings.hasPlayed;\n      _this.currentTime_ = settings.currentTime;\n      _this.seekable_ = settings.seekable;\n      _this.seeking_ = settings.seeking;\n      _this.duration_ = settings.duration;\n      _this.mediaSource_ = settings.mediaSource;\n      _this.hls_ = settings.hls;\n      _this.loaderType_ = settings.loaderType;\n      _this.startingMedia_ = void 0;\n      _this.segmentMetadataTrack_ = settings.segmentMetadataTrack;\n      _this.goalBufferLength_ = settings.goalBufferLength;\n      _this.sourceType_ = settings.sourceType;\n      _this.inbandTextTracks_ = settings.inbandTextTracks;\n      _this.state_ = 'INIT'; // private instance variables\n\n      _this.checkBufferTimeout_ = null;\n      _this.error_ = void 0;\n      _this.currentTimeline_ = -1;\n      _this.pendingSegment_ = null;\n      _this.mimeType_ = null;\n      _this.sourceUpdater_ = null;\n      _this.xhrOptions_ = null; // Fragmented mp4 playback\n\n      _this.activeInitSegmentId_ = null;\n      _this.initSegments_ = {}; // HLSe playback\n\n      _this.cacheEncryptionKeys_ = settings.cacheEncryptionKeys;\n      _this.keyCache_ = {}; // Fmp4 CaptionParser\n\n      if (_this.loaderType_ === 'main') {\n        _this.captionParser_ = new captionParser();\n      } else {\n        _this.captionParser_ = null;\n      }\n\n      _this.decrypter_ = settings.decrypter; // Manages the tracking and generation of sync-points, mappings\n      // between a time in the display time and a segment index within\n      // a playlist\n\n      _this.syncController_ = settings.syncController;\n      _this.syncPoint_ = {\n        segmentIndex: 0,\n        time: 0\n      };\n\n      _this.syncController_.on('syncinfoupdate', function () {\n        return _this.trigger('syncinfoupdate');\n      });\n\n      _this.mediaSource_.addEventListener('sourceopen', function () {\n        return _this.ended_ = false;\n      }); // ...for determining the fetch location\n\n\n      _this.fetchAtBuffer_ = false;\n      _this.logger_ = logger('SegmentLoader[' + _this.loaderType_ + ']');\n      Object.defineProperty(_this, 'state', {\n        get: function get$$1() {\n          return this.state_;\n        },\n        set: function set$$1(newState) {\n          if (newState !== this.state_) {\n            this.logger_(this.state_ + ' -> ' + newState);\n            this.state_ = newState;\n          }\n        }\n      });\n      return _this;\n    }\n    /**\n     * reset all of our media stats\n     *\n     * @private\n     */\n\n\n    createClass$1(SegmentLoader, [{\n      key: 'resetStats_',\n      value: function resetStats_() {\n        this.mediaBytesTransferred = 0;\n        this.mediaRequests = 0;\n        this.mediaRequestsAborted = 0;\n        this.mediaRequestsTimedout = 0;\n        this.mediaRequestsErrored = 0;\n        this.mediaTransferDuration = 0;\n        this.mediaSecondsLoaded = 0;\n      }\n      /**\n       * dispose of the SegmentLoader and reset to the default state\n       */\n\n    }, {\n      key: 'dispose',\n      value: function dispose() {\n        this.state = 'DISPOSED';\n        this.pause();\n        this.abort_();\n\n        if (this.sourceUpdater_) {\n          this.sourceUpdater_.dispose();\n        }\n\n        this.resetStats_();\n\n        if (this.captionParser_) {\n          this.captionParser_.reset();\n        }\n      }\n      /**\n       * abort anything that is currently doing on with the SegmentLoader\n       * and reset to a default state\n       */\n\n    }, {\n      key: 'abort',\n      value: function abort() {\n        if (this.state !== 'WAITING') {\n          if (this.pendingSegment_) {\n            this.pendingSegment_ = null;\n          }\n\n          return;\n        }\n\n        this.abort_(); // We aborted the requests we were waiting on, so reset the loader's state to READY\n        // since we are no longer \"waiting\" on any requests. XHR callback is not always run\n        // when the request is aborted. This will prevent the loader from being stuck in the\n        // WAITING state indefinitely.\n\n        this.state = 'READY'; // don't wait for buffer check timeouts to begin fetching the\n        // next segment\n\n        if (!this.paused()) {\n          this.monitorBuffer_();\n        }\n      }\n      /**\n       * abort all pending xhr requests and null any pending segements\n       *\n       * @private\n       */\n\n    }, {\n      key: 'abort_',\n      value: function abort_() {\n        if (this.pendingSegment_) {\n          this.pendingSegment_.abortRequests();\n        } // clear out the segment being processed\n\n\n        this.pendingSegment_ = null;\n      }\n      /**\n       * set an error on the segment loader and null out any pending segements\n       *\n       * @param {Error} error the error to set on the SegmentLoader\n       * @return {Error} the error that was set or that is currently set\n       */\n\n    }, {\n      key: 'error',\n      value: function error(_error) {\n        if (typeof _error !== 'undefined') {\n          this.error_ = _error;\n        }\n\n        this.pendingSegment_ = null;\n        return this.error_;\n      }\n    }, {\n      key: 'endOfStream',\n      value: function endOfStream() {\n        this.ended_ = true;\n        this.pause();\n        this.trigger('ended');\n      }\n      /**\n       * Indicates which time ranges are buffered\n       *\n       * @return {TimeRange}\n       *         TimeRange object representing the current buffered ranges\n       */\n\n    }, {\n      key: 'buffered_',\n      value: function buffered_() {\n        if (!this.sourceUpdater_) {\n          return videojs$1.createTimeRanges();\n        }\n\n        return this.sourceUpdater_.buffered();\n      }\n      /**\n       * Gets and sets init segment for the provided map\n       *\n       * @param {Object} map\n       *        The map object representing the init segment to get or set\n       * @param {Boolean=} set\n       *        If true, the init segment for the provided map should be saved\n       * @return {Object}\n       *         map object for desired init segment\n       */\n\n    }, {\n      key: 'initSegment',\n      value: function initSegment(map) {\n        var set$$1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if (!map) {\n          return null;\n        }\n\n        var id = initSegmentId(map);\n        var storedMap = this.initSegments_[id];\n\n        if (set$$1 && !storedMap && map.bytes) {\n          this.initSegments_[id] = storedMap = {\n            resolvedUri: map.resolvedUri,\n            byterange: map.byterange,\n            bytes: map.bytes,\n            timescales: map.timescales,\n            videoTrackIds: map.videoTrackIds\n          };\n        }\n\n        return storedMap || map;\n      }\n      /**\n       * Gets and sets key for the provided key\n       *\n       * @param {Object} key\n       *        The key object representing the key to get or set\n       * @param {Boolean=} set\n       *        If true, the key for the provided key should be saved\n       * @return {Object}\n       *         Key object for desired key\n       */\n\n    }, {\n      key: 'segmentKey',\n      value: function segmentKey(key) {\n        var set$$1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if (!key) {\n          return null;\n        }\n\n        var id = segmentKeyId(key);\n        var storedKey = this.keyCache_[id]; // TODO: We should use the HTTP Expires header to invalidate our cache per\n        // https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-6.2.3\n\n        if (this.cacheEncryptionKeys_ && set$$1 && !storedKey && key.bytes) {\n          this.keyCache_[id] = storedKey = {\n            resolvedUri: key.resolvedUri,\n            bytes: key.bytes\n          };\n        }\n\n        var result = {\n          resolvedUri: (storedKey || key).resolvedUri\n        };\n\n        if (storedKey) {\n          result.bytes = storedKey.bytes;\n        }\n\n        return result;\n      }\n      /**\n       * Returns true if all configuration required for loading is present, otherwise false.\n       *\n       * @return {Boolean} True if the all configuration is ready for loading\n       * @private\n       */\n\n    }, {\n      key: 'couldBeginLoading_',\n      value: function couldBeginLoading_() {\n        return this.playlist_ && ( // the source updater is created when init_ is called, so either having a\n        // source updater or being in the INIT state with a mimeType is enough\n        // to say we have all the needed configuration to start loading.\n        this.sourceUpdater_ || this.mimeType_ && this.state === 'INIT') && !this.paused();\n      }\n      /**\n       * load a playlist and start to fill the buffer\n       */\n\n    }, {\n      key: 'load',\n      value: function load() {\n        // un-pause\n        this.monitorBuffer_(); // if we don't have a playlist yet, keep waiting for one to be\n        // specified\n\n        if (!this.playlist_) {\n          return;\n        } // not sure if this is the best place for this\n\n\n        this.syncController_.setDateTimeMapping(this.playlist_); // if all the configuration is ready, initialize and begin loading\n\n        if (this.state === 'INIT' && this.couldBeginLoading_()) {\n          return this.init_();\n        } // if we're in the middle of processing a segment already, don't\n        // kick off an additional segment request\n\n\n        if (!this.couldBeginLoading_() || this.state !== 'READY' && this.state !== 'INIT') {\n          return;\n        }\n\n        this.state = 'READY';\n      }\n      /**\n       * Once all the starting parameters have been specified, begin\n       * operation. This method should only be invoked from the INIT\n       * state.\n       *\n       * @private\n       */\n\n    }, {\n      key: 'init_',\n      value: function init_() {\n        this.state = 'READY';\n        this.sourceUpdater_ = new SourceUpdater(this.mediaSource_, this.mimeType_, this.loaderType_, this.sourceBufferEmitter_);\n        this.resetEverything();\n        return this.monitorBuffer_();\n      }\n      /**\n       * set a playlist on the segment loader\n       *\n       * @param {PlaylistLoader} media the playlist to set on the segment loader\n       */\n\n    }, {\n      key: 'playlist',\n      value: function playlist(newPlaylist) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        if (!newPlaylist) {\n          return;\n        }\n\n        var oldPlaylist = this.playlist_;\n        var segmentInfo = this.pendingSegment_;\n        this.playlist_ = newPlaylist;\n        this.xhrOptions_ = options; // when we haven't started playing yet, the start of a live playlist\n        // is always our zero-time so force a sync update each time the playlist\n        // is refreshed from the server\n\n        if (!this.hasPlayed_()) {\n          newPlaylist.syncInfo = {\n            mediaSequence: newPlaylist.mediaSequence,\n            time: 0\n          };\n        }\n\n        var oldId = null;\n\n        if (oldPlaylist) {\n          if (oldPlaylist.id) {\n            oldId = oldPlaylist.id;\n          } else if (oldPlaylist.uri) {\n            oldId = oldPlaylist.uri;\n          }\n        }\n\n        this.logger_('playlist update [' + oldId + ' => ' + (newPlaylist.id || newPlaylist.uri) + ']'); // in VOD, this is always a rendition switch (or we updated our syncInfo above)\n        // in LIVE, we always want to update with new playlists (including refreshes)\n\n        this.trigger('syncinfoupdate'); // if we were unpaused but waiting for a playlist, start\n        // buffering now\n\n        if (this.state === 'INIT' && this.couldBeginLoading_()) {\n          return this.init_();\n        }\n\n        if (!oldPlaylist || oldPlaylist.uri !== newPlaylist.uri) {\n          if (this.mediaIndex !== null) {\n            // we must \"resync\" the segment loader when we switch renditions and\n            // the segment loader is already synced to the previous rendition\n            this.resyncLoader();\n          } // the rest of this function depends on `oldPlaylist` being defined\n\n\n          return;\n        } // we reloaded the same playlist so we are in a live scenario\n        // and we will likely need to adjust the mediaIndex\n\n\n        var mediaSequenceDiff = newPlaylist.mediaSequence - oldPlaylist.mediaSequence;\n        this.logger_('live window shift [' + mediaSequenceDiff + ']'); // update the mediaIndex on the SegmentLoader\n        // this is important because we can abort a request and this value must be\n        // equal to the last appended mediaIndex\n\n        if (this.mediaIndex !== null) {\n          this.mediaIndex -= mediaSequenceDiff;\n        } // update the mediaIndex on the SegmentInfo object\n        // this is important because we will update this.mediaIndex with this value\n        // in `handleUpdateEnd_` after the segment has been successfully appended\n\n\n        if (segmentInfo) {\n          segmentInfo.mediaIndex -= mediaSequenceDiff; // we need to update the referenced segment so that timing information is\n          // saved for the new playlist's segment, however, if the segment fell off the\n          // playlist, we can leave the old reference and just lose the timing info\n\n          if (segmentInfo.mediaIndex >= 0) {\n            segmentInfo.segment = newPlaylist.segments[segmentInfo.mediaIndex];\n          }\n        }\n\n        this.syncController_.saveExpiredSegmentInfo(oldPlaylist, newPlaylist);\n      }\n      /**\n       * Prevent the loader from fetching additional segments. If there\n       * is a segment request outstanding, it will finish processing\n       * before the loader halts. A segment loader can be unpaused by\n       * calling load().\n       */\n\n    }, {\n      key: 'pause',\n      value: function pause() {\n        if (this.checkBufferTimeout_) {\n          window$1.clearTimeout(this.checkBufferTimeout_);\n          this.checkBufferTimeout_ = null;\n        }\n      }\n      /**\n       * Returns whether the segment loader is fetching additional\n       * segments when given the opportunity. This property can be\n       * modified through calls to pause() and load().\n       */\n\n    }, {\n      key: 'paused',\n      value: function paused() {\n        return this.checkBufferTimeout_ === null;\n      }\n      /**\n       * create/set the following mimetype on the SourceBuffer through a\n       * SourceUpdater\n       *\n       * @param {String} mimeType the mime type string to use\n       * @param {Object} sourceBufferEmitter an event emitter that fires when a source buffer\n       * is added to the media source\n       */\n\n    }, {\n      key: 'mimeType',\n      value: function mimeType(_mimeType, sourceBufferEmitter) {\n        if (this.mimeType_) {\n          return;\n        }\n\n        this.mimeType_ = _mimeType;\n        this.sourceBufferEmitter_ = sourceBufferEmitter; // if we were unpaused but waiting for a sourceUpdater, start\n        // buffering now\n\n        if (this.state === 'INIT' && this.couldBeginLoading_()) {\n          this.init_();\n        }\n      }\n      /**\n       * Delete all the buffered data and reset the SegmentLoader\n       * @param {Function} [done] an optional callback to be executed when the remove\n       * operation is complete\n       */\n\n    }, {\n      key: 'resetEverything',\n      value: function resetEverything(done) {\n        this.ended_ = false;\n        this.resetLoader();\n        this.remove(0, this.duration_(), done); // clears fmp4 captions\n\n        if (this.captionParser_) {\n          this.captionParser_.clearAllCaptions();\n        }\n\n        this.trigger('reseteverything');\n      }\n      /**\n       * Force the SegmentLoader to resync and start loading around the currentTime instead\n       * of starting at the end of the buffer\n       *\n       * Useful for fast quality changes\n       */\n\n    }, {\n      key: 'resetLoader',\n      value: function resetLoader() {\n        this.fetchAtBuffer_ = false;\n        this.resyncLoader();\n      }\n      /**\n       * Force the SegmentLoader to restart synchronization and make a conservative guess\n       * before returning to the simple walk-forward method\n       */\n\n    }, {\n      key: 'resyncLoader',\n      value: function resyncLoader() {\n        this.mediaIndex = null;\n        this.syncPoint_ = null;\n        this.abort();\n      }\n      /**\n       * Remove any data in the source buffer between start and end times\n       * @param {Number} start - the start time of the region to remove from the buffer\n       * @param {Number} end - the end time of the region to remove from the buffer\n       * @param {Function} [done] - an optional callback to be executed when the remove\n       * operation is complete\n       */\n\n    }, {\n      key: 'remove',\n      value: function remove(start, end, done) {\n        if (this.sourceUpdater_) {\n          this.sourceUpdater_.remove(start, end, done);\n        }\n\n        removeCuesFromTrack(start, end, this.segmentMetadataTrack_);\n\n        if (this.inbandTextTracks_) {\n          for (var id in this.inbandTextTracks_) {\n            removeCuesFromTrack(start, end, this.inbandTextTracks_[id]);\n          }\n        }\n      }\n      /**\n       * (re-)schedule monitorBufferTick_ to run as soon as possible\n       *\n       * @private\n       */\n\n    }, {\n      key: 'monitorBuffer_',\n      value: function monitorBuffer_() {\n        if (this.checkBufferTimeout_) {\n          window$1.clearTimeout(this.checkBufferTimeout_);\n        }\n\n        this.checkBufferTimeout_ = window$1.setTimeout(this.monitorBufferTick_.bind(this), 1);\n      }\n      /**\n       * As long as the SegmentLoader is in the READY state, periodically\n       * invoke fillBuffer_().\n       *\n       * @private\n       */\n\n    }, {\n      key: 'monitorBufferTick_',\n      value: function monitorBufferTick_() {\n        if (this.state === 'READY') {\n          this.fillBuffer_();\n        }\n\n        if (this.checkBufferTimeout_) {\n          window$1.clearTimeout(this.checkBufferTimeout_);\n        }\n\n        this.checkBufferTimeout_ = window$1.setTimeout(this.monitorBufferTick_.bind(this), CHECK_BUFFER_DELAY);\n      }\n      /**\n       * fill the buffer with segements unless the sourceBuffers are\n       * currently updating\n       *\n       * Note: this function should only ever be called by monitorBuffer_\n       * and never directly\n       *\n       * @private\n       */\n\n    }, {\n      key: 'fillBuffer_',\n      value: function fillBuffer_() {\n        if (this.sourceUpdater_.updating()) {\n          return;\n        }\n\n        if (!this.syncPoint_) {\n          this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_());\n        } // see if we need to begin loading immediately\n\n\n        var segmentInfo = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);\n\n        if (!segmentInfo) {\n          return;\n        }\n\n        if (this.isEndOfStream_(segmentInfo.mediaIndex)) {\n          this.endOfStream();\n          return;\n        }\n\n        if (segmentInfo.mediaIndex === this.playlist_.segments.length - 1 && this.mediaSource_.readyState === 'ended' && !this.seeking_()) {\n          return;\n        } // We will need to change timestampOffset of the sourceBuffer if:\n        // - The segment.timeline !== this.currentTimeline\n        //   (we are crossing a discontinuity somehow)\n        // - The \"timestampOffset\" for the start of this segment is less than\n        //   the currently set timestampOffset\n        // Also, clear captions if we are crossing a discontinuity boundary\n        // Previously, we changed the timestampOffset if the start of this segment\n        // is less than the currently set timestampOffset but this isn't wanted\n        // as it can produce bad behavior, especially around long running\n        // live streams\n\n\n        if (segmentInfo.timeline !== this.currentTimeline_) {\n          this.syncController_.reset();\n          segmentInfo.timestampOffset = segmentInfo.startOfSegment;\n\n          if (this.captionParser_) {\n            this.captionParser_.clearAllCaptions();\n          }\n        }\n\n        this.loadSegment_(segmentInfo);\n      }\n      /**\n       * Determines if this segment loader is at the end of it's stream.\n       *\n       * @param {Number} mediaIndex the index of segment we last appended\n       * @param {Object} [playlist=this.playlist_] a media playlist object\n       * @returns {Boolean} true if at end of stream, false otherwise.\n       */\n\n    }, {\n      key: 'isEndOfStream_',\n      value: function isEndOfStream_(mediaIndex) {\n        var playlist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.playlist_;\n        return detectEndOfStream(playlist, this.mediaSource_, mediaIndex) && !this.sourceUpdater_.updating();\n      }\n      /**\n       * Determines what segment request should be made, given current playback\n       * state.\n       *\n       * @param {TimeRanges} buffered - the state of the buffer\n       * @param {Object} playlist - the playlist object to fetch segments from\n       * @param {Number} mediaIndex - the previous mediaIndex fetched or null\n       * @param {Boolean} hasPlayed - a flag indicating whether we have played or not\n       * @param {Number} currentTime - the playback position in seconds\n       * @param {Object} syncPoint - a segment info object that describes the\n       * @returns {Object} a segment request object that describes the segment to load\n       */\n\n    }, {\n      key: 'checkBuffer_',\n      value: function checkBuffer_(buffered, playlist, mediaIndex, hasPlayed, currentTime, syncPoint) {\n        var lastBufferedEnd = 0;\n        var startOfSegment = void 0;\n\n        if (buffered.length) {\n          lastBufferedEnd = buffered.end(buffered.length - 1);\n        }\n\n        var bufferedTime = Math.max(0, lastBufferedEnd - currentTime);\n\n        if (!playlist.segments.length) {\n          return null;\n        } // if there is plenty of content buffered, and the video has\n        // been played before relax for awhile\n\n\n        if (bufferedTime >= this.goalBufferLength_()) {\n          return null;\n        } // if the video has not yet played once, and we already have\n        // one segment downloaded do nothing\n\n\n        if (!hasPlayed && bufferedTime >= 1) {\n          return null;\n        } // When the syncPoint is null, there is no way of determining a good\n        // conservative segment index to fetch from\n        // The best thing to do here is to get the kind of sync-point data by\n        // making a request\n\n\n        if (syncPoint === null) {\n          mediaIndex = this.getSyncSegmentCandidate_(playlist);\n          return this.generateSegmentInfo_(playlist, mediaIndex, null, true);\n        } // Under normal playback conditions fetching is a simple walk forward\n\n\n        if (mediaIndex !== null) {\n          var segment = playlist.segments[mediaIndex];\n          startOfSegment = lastBufferedEnd;\n          return this.generateSegmentInfo_(playlist, mediaIndex + 1, startOfSegment, false);\n        } // There is a sync-point but the lack of a mediaIndex indicates that\n        // we need to make a good conservative guess about which segment to\n        // fetch\n\n\n        if (this.fetchAtBuffer_) {\n          // Find the segment containing the end of the buffer\n          var mediaSourceInfo = Playlist.getMediaInfoForTime(playlist, lastBufferedEnd, syncPoint.segmentIndex, syncPoint.time);\n          mediaIndex = mediaSourceInfo.mediaIndex;\n          startOfSegment = mediaSourceInfo.startTime;\n        } else {\n          // Find the segment containing currentTime\n          var _mediaSourceInfo = Playlist.getMediaInfoForTime(playlist, currentTime, syncPoint.segmentIndex, syncPoint.time);\n\n          mediaIndex = _mediaSourceInfo.mediaIndex;\n          startOfSegment = _mediaSourceInfo.startTime;\n        }\n\n        return this.generateSegmentInfo_(playlist, mediaIndex, startOfSegment, false);\n      }\n      /**\n       * The segment loader has no recourse except to fetch a segment in the\n       * current playlist and use the internal timestamps in that segment to\n       * generate a syncPoint. This function returns a good candidate index\n       * for that process.\n       *\n       * @param {Object} playlist - the playlist object to look for a\n       * @returns {Number} An index of a segment from the playlist to load\n       */\n\n    }, {\n      key: 'getSyncSegmentCandidate_',\n      value: function getSyncSegmentCandidate_(playlist) {\n        var _this2 = this;\n\n        if (this.currentTimeline_ === -1) {\n          return 0;\n        }\n\n        var segmentIndexArray = playlist.segments.map(function (s, i) {\n          return {\n            timeline: s.timeline,\n            segmentIndex: i\n          };\n        }).filter(function (s) {\n          return s.timeline === _this2.currentTimeline_;\n        });\n\n        if (segmentIndexArray.length) {\n          return segmentIndexArray[Math.min(segmentIndexArray.length - 1, 1)].segmentIndex;\n        }\n\n        return Math.max(playlist.segments.length - 1, 0);\n      }\n    }, {\n      key: 'generateSegmentInfo_',\n      value: function generateSegmentInfo_(playlist, mediaIndex, startOfSegment, isSyncRequest) {\n        if (mediaIndex < 0 || mediaIndex >= playlist.segments.length) {\n          return null;\n        }\n\n        var segment = playlist.segments[mediaIndex];\n        return {\n          requestId: 'segment-loader-' + Math.random(),\n          // resolve the segment URL relative to the playlist\n          uri: segment.resolvedUri,\n          // the segment's mediaIndex at the time it was requested\n          mediaIndex: mediaIndex,\n          // whether or not to update the SegmentLoader's state with this\n          // segment's mediaIndex\n          isSyncRequest: isSyncRequest,\n          startOfSegment: startOfSegment,\n          // the segment's playlist\n          playlist: playlist,\n          // unencrypted bytes of the segment\n          bytes: null,\n          // when a key is defined for this segment, the encrypted bytes\n          encryptedBytes: null,\n          // The target timestampOffset for this segment when we append it\n          // to the source buffer\n          timestampOffset: null,\n          // The timeline that the segment is in\n          timeline: segment.timeline,\n          // The expected duration of the segment in seconds\n          duration: segment.duration,\n          // retain the segment in case the playlist updates while doing an async process\n          segment: segment\n        };\n      }\n      /**\n       * Determines if the network has enough bandwidth to complete the current segment\n       * request in a timely manner. If not, the request will be aborted early and bandwidth\n       * updated to trigger a playlist switch.\n       *\n       * @param {Object} stats\n       *        Object containing stats about the request timing and size\n       * @return {Boolean} True if the request was aborted, false otherwise\n       * @private\n       */\n\n    }, {\n      key: 'abortRequestEarly_',\n      value: function abortRequestEarly_(stats) {\n        if (this.hls_.tech_.paused() || // Don't abort if the current playlist is on the lowestEnabledRendition\n        // TODO: Replace using timeout with a boolean indicating whether this playlist is\n        //       the lowestEnabledRendition.\n        !this.xhrOptions_.timeout || // Don't abort if we have no bandwidth information to estimate segment sizes\n        !this.playlist_.attributes.BANDWIDTH) {\n          return false;\n        } // Wait at least 1 second since the first byte of data has been received before\n        // using the calculated bandwidth from the progress event to allow the bitrate\n        // to stabilize\n\n\n        if (Date.now() - (stats.firstBytesReceivedAt || Date.now()) < 1000) {\n          return false;\n        }\n\n        var currentTime = this.currentTime_();\n        var measuredBandwidth = stats.bandwidth;\n        var segmentDuration = this.pendingSegment_.duration;\n        var requestTimeRemaining = Playlist.estimateSegmentRequestTime(segmentDuration, measuredBandwidth, this.playlist_, stats.bytesReceived); // Subtract 1 from the timeUntilRebuffer so we still consider an early abort\n        // if we are only left with less than 1 second when the request completes.\n        // A negative timeUntilRebuffering indicates we are already rebuffering\n\n        var timeUntilRebuffer$$1 = timeUntilRebuffer(this.buffered_(), currentTime, this.hls_.tech_.playbackRate()) - 1; // Only consider aborting early if the estimated time to finish the download\n        // is larger than the estimated time until the player runs out of forward buffer\n\n        if (requestTimeRemaining <= timeUntilRebuffer$$1) {\n          return false;\n        }\n\n        var switchCandidate = minRebufferMaxBandwidthSelector({\n          master: this.hls_.playlists.master,\n          currentTime: currentTime,\n          bandwidth: measuredBandwidth,\n          duration: this.duration_(),\n          segmentDuration: segmentDuration,\n          timeUntilRebuffer: timeUntilRebuffer$$1,\n          currentTimeline: this.currentTimeline_,\n          syncController: this.syncController_\n        });\n\n        if (!switchCandidate) {\n          return;\n        }\n\n        var rebufferingImpact = requestTimeRemaining - timeUntilRebuffer$$1;\n        var timeSavedBySwitching = rebufferingImpact - switchCandidate.rebufferingImpact;\n        var minimumTimeSaving = 0.5; // If we are already rebuffering, increase the amount of variance we add to the\n        // potential round trip time of the new request so that we are not too aggressive\n        // with switching to a playlist that might save us a fraction of a second.\n\n        if (timeUntilRebuffer$$1 <= TIME_FUDGE_FACTOR) {\n          minimumTimeSaving = 1;\n        }\n\n        if (!switchCandidate.playlist || switchCandidate.playlist.uri === this.playlist_.uri || timeSavedBySwitching < minimumTimeSaving) {\n          return false;\n        } // set the bandwidth to that of the desired playlist being sure to scale by\n        // BANDWIDTH_VARIANCE and add one so the playlist selector does not exclude it\n        // don't trigger a bandwidthupdate as the bandwidth is artifial\n\n\n        this.bandwidth = switchCandidate.playlist.attributes.BANDWIDTH * Config.BANDWIDTH_VARIANCE + 1;\n        this.abort();\n        this.trigger('earlyabort');\n        return true;\n      }\n      /**\n       * XHR `progress` event handler\n       *\n       * @param {Event}\n       *        The XHR `progress` event\n       * @param {Object} simpleSegment\n       *        A simplified segment object copy\n       * @private\n       */\n\n    }, {\n      key: 'handleProgress_',\n      value: function handleProgress_(event, simpleSegment) {\n        if (!this.pendingSegment_ || simpleSegment.requestId !== this.pendingSegment_.requestId || this.abortRequestEarly_(simpleSegment.stats)) {\n          return;\n        }\n\n        this.trigger('progress');\n      }\n      /**\n       * load a specific segment from a request into the buffer\n       *\n       * @private\n       */\n\n    }, {\n      key: 'loadSegment_',\n      value: function loadSegment_(segmentInfo) {\n        this.state = 'WAITING';\n        this.pendingSegment_ = segmentInfo;\n        this.trimBackBuffer_(segmentInfo);\n        segmentInfo.abortRequests = mediaSegmentRequest(this.hls_.xhr, this.xhrOptions_, this.decrypter_, this.captionParser_, this.createSimplifiedSegmentObj_(segmentInfo), // progress callback\n        this.handleProgress_.bind(this), this.segmentRequestFinished_.bind(this));\n      }\n      /**\n       * trim the back buffer so that we don't have too much data\n       * in the source buffer\n       *\n       * @private\n       *\n       * @param {Object} segmentInfo - the current segment\n       */\n\n    }, {\n      key: 'trimBackBuffer_',\n      value: function trimBackBuffer_(segmentInfo) {\n        var removeToTime = safeBackBufferTrimTime(this.seekable_(), this.currentTime_(), this.playlist_.targetDuration || 10); // Chrome has a hard limit of 150MB of\n        // buffer and a very conservative \"garbage collector\"\n        // We manually clear out the old buffer to ensure\n        // we don't trigger the QuotaExceeded error\n        // on the source buffer during subsequent appends\n\n        if (removeToTime > 0) {\n          this.remove(0, removeToTime);\n        }\n      }\n      /**\n       * created a simplified copy of the segment object with just the\n       * information necessary to perform the XHR and decryption\n       *\n       * @private\n       *\n       * @param {Object} segmentInfo - the current segment\n       * @returns {Object} a simplified segment object copy\n       */\n\n    }, {\n      key: 'createSimplifiedSegmentObj_',\n      value: function createSimplifiedSegmentObj_(segmentInfo) {\n        var segment = segmentInfo.segment;\n        var simpleSegment = {\n          resolvedUri: segment.resolvedUri,\n          byterange: segment.byterange,\n          requestId: segmentInfo.requestId\n        };\n\n        if (segment.key) {\n          // if the media sequence is greater than 2^32, the IV will be incorrect\n          // assuming 10s segments, that would be about 1300 years\n          var iv = segment.key.iv || new Uint32Array([0, 0, 0, segmentInfo.mediaIndex + segmentInfo.playlist.mediaSequence]);\n          simpleSegment.key = this.segmentKey(segment.key);\n          simpleSegment.key.iv = iv;\n        }\n\n        if (segment.map) {\n          simpleSegment.map = this.initSegment(segment.map);\n        }\n\n        return simpleSegment;\n      }\n      /**\n       * Handle the callback from the segmentRequest function and set the\n       * associated SegmentLoader state and errors if necessary\n       *\n       * @private\n       */\n\n    }, {\n      key: 'segmentRequestFinished_',\n      value: function segmentRequestFinished_(error, simpleSegment) {\n        // every request counts as a media request even if it has been aborted\n        // or canceled due to a timeout\n        this.mediaRequests += 1;\n\n        if (simpleSegment.stats) {\n          this.mediaBytesTransferred += simpleSegment.stats.bytesReceived;\n          this.mediaTransferDuration += simpleSegment.stats.roundTripTime;\n        } // The request was aborted and the SegmentLoader has already been reset\n\n\n        if (!this.pendingSegment_) {\n          this.mediaRequestsAborted += 1;\n          return;\n        } // the request was aborted and the SegmentLoader has already started\n        // another request. this can happen when the timeout for an aborted\n        // request triggers due to a limitation in the XHR library\n        // do not count this as any sort of request or we risk double-counting\n\n\n        if (simpleSegment.requestId !== this.pendingSegment_.requestId) {\n          return;\n        } // an error occurred from the active pendingSegment_ so reset everything\n\n\n        if (error) {\n          this.pendingSegment_ = null;\n          this.state = 'READY'; // the requests were aborted just record the aborted stat and exit\n          // this is not a true error condition and nothing corrective needs\n          // to be done\n\n          if (error.code === REQUEST_ERRORS.ABORTED) {\n            this.mediaRequestsAborted += 1;\n            return;\n          }\n\n          this.pause(); // the error is really just that at least one of the requests timed-out\n          // set the bandwidth to a very low value and trigger an ABR switch to\n          // take emergency action\n\n          if (error.code === REQUEST_ERRORS.TIMEOUT) {\n            this.mediaRequestsTimedout += 1;\n            this.bandwidth = 1;\n            this.roundTrip = NaN;\n            this.trigger('bandwidthupdate');\n            return;\n          } // if control-flow has arrived here, then the error is real\n          // emit an error event to blacklist the current playlist\n\n\n          this.mediaRequestsErrored += 1;\n          this.error(error);\n          this.trigger('error');\n          return;\n        } // the response was a success so set any bandwidth stats the request\n        // generated for ABR purposes\n\n\n        this.bandwidth = simpleSegment.stats.bandwidth;\n        this.roundTrip = simpleSegment.stats.roundTripTime; // if this request included an initialization segment, save that data\n        // to the initSegment cache\n\n        if (simpleSegment.map) {\n          simpleSegment.map = this.initSegment(simpleSegment.map, true);\n        } // if this request included a segment key, save that data in the cache\n\n\n        if (simpleSegment.key) {\n          this.segmentKey(simpleSegment.key, true);\n        }\n\n        this.processSegmentResponse_(simpleSegment);\n      }\n      /**\n       * Move any important data from the simplified segment object\n       * back to the real segment object for future phases\n       *\n       * @private\n       */\n\n    }, {\n      key: 'processSegmentResponse_',\n      value: function processSegmentResponse_(simpleSegment) {\n        var segmentInfo = this.pendingSegment_;\n        segmentInfo.bytes = simpleSegment.bytes;\n\n        if (simpleSegment.map) {\n          segmentInfo.segment.map.bytes = simpleSegment.map.bytes;\n        }\n\n        segmentInfo.endOfAllRequests = simpleSegment.endOfAllRequests; // This has fmp4 captions, add them to text tracks\n\n        if (simpleSegment.fmp4Captions) {\n          createCaptionsTrackIfNotExists(this.inbandTextTracks_, this.hls_.tech_, simpleSegment.captionStreams);\n          addCaptionData({\n            inbandTextTracks: this.inbandTextTracks_,\n            captionArray: simpleSegment.fmp4Captions,\n            // fmp4s will not have a timestamp offset\n            timestampOffset: 0\n          }); // Reset stored captions since we added parsed\n          // captions to a text track at this point\n\n          if (this.captionParser_) {\n            this.captionParser_.clearParsedCaptions();\n          }\n        }\n\n        this.handleSegment_();\n      }\n      /**\n       * append a decrypted segement to the SourceBuffer through a SourceUpdater\n       *\n       * @private\n       */\n\n    }, {\n      key: 'handleSegment_',\n      value: function handleSegment_() {\n        var _this3 = this;\n\n        if (!this.pendingSegment_) {\n          this.state = 'READY';\n          return;\n        }\n\n        var segmentInfo = this.pendingSegment_;\n        var segment = segmentInfo.segment;\n        var timingInfo = this.syncController_.probeSegmentInfo(segmentInfo); // When we have our first timing info, determine what media types this loader is\n        // dealing with. Although we're maintaining extra state, it helps to preserve the\n        // separation of segment loader from the actual source buffers.\n\n        if (typeof this.startingMedia_ === 'undefined' && timingInfo && ( // Guard against cases where we're not getting timing info at all until we are\n        // certain that all streams will provide it.\n        timingInfo.containsAudio || timingInfo.containsVideo)) {\n          this.startingMedia_ = {\n            containsAudio: timingInfo.containsAudio,\n            containsVideo: timingInfo.containsVideo\n          };\n        }\n\n        var illegalMediaSwitchError = illegalMediaSwitch(this.loaderType_, this.startingMedia_, timingInfo);\n\n        if (illegalMediaSwitchError) {\n          this.error({\n            message: illegalMediaSwitchError,\n            blacklistDuration: Infinity\n          });\n          this.trigger('error');\n          return;\n        }\n\n        if (segmentInfo.isSyncRequest) {\n          this.trigger('syncinfoupdate');\n          this.pendingSegment_ = null;\n          this.state = 'READY';\n          return;\n        }\n\n        if (segmentInfo.timestampOffset !== null && segmentInfo.timestampOffset !== this.sourceUpdater_.timestampOffset()) {\n          // Subtract any difference between the PTS and DTS times of the first frame\n          // from the timeStampOffset (which currently equals the buffered.end) to prevent\n          // creating any gaps in the buffer\n          if (timingInfo && timingInfo.segmentTimestampInfo) {\n            var ptsStartTime = timingInfo.segmentTimestampInfo[0].ptsTime;\n            var dtsStartTime = timingInfo.segmentTimestampInfo[0].dtsTime;\n            segmentInfo.timestampOffset -= ptsStartTime - dtsStartTime;\n          }\n\n          this.sourceUpdater_.timestampOffset(segmentInfo.timestampOffset); // fired when a timestamp offset is set in HLS (can also identify discontinuities)\n\n          this.trigger('timestampoffset');\n        }\n\n        var timelineMapping = this.syncController_.mappingForTimeline(segmentInfo.timeline);\n\n        if (timelineMapping !== null) {\n          this.trigger({\n            type: 'segmenttimemapping',\n            mapping: timelineMapping\n          });\n        }\n\n        this.state = 'APPENDING'; // if the media initialization segment is changing, append it\n        // before the content segment\n\n        if (segment.map) {\n          var initId = initSegmentId(segment.map);\n\n          if (!this.activeInitSegmentId_ || this.activeInitSegmentId_ !== initId) {\n            var initSegment = this.initSegment(segment.map);\n            this.sourceUpdater_.appendBuffer({\n              bytes: initSegment.bytes\n            }, function () {\n              _this3.activeInitSegmentId_ = initId;\n            });\n          }\n        }\n\n        segmentInfo.byteLength = segmentInfo.bytes.byteLength;\n\n        if (typeof segment.start === 'number' && typeof segment.end === 'number') {\n          this.mediaSecondsLoaded += segment.end - segment.start;\n        } else {\n          this.mediaSecondsLoaded += segment.duration;\n        }\n\n        this.logger_(segmentInfoString(segmentInfo));\n        this.sourceUpdater_.appendBuffer({\n          bytes: segmentInfo.bytes,\n          videoSegmentTimingInfoCallback: this.handleVideoSegmentTimingInfo_.bind(this, segmentInfo.requestId)\n        }, this.handleUpdateEnd_.bind(this));\n      }\n    }, {\n      key: 'handleVideoSegmentTimingInfo_',\n      value: function handleVideoSegmentTimingInfo_(requestId, event) {\n        if (!this.pendingSegment_ || requestId !== this.pendingSegment_.requestId) {\n          return;\n        }\n\n        var segment = this.pendingSegment_.segment;\n\n        if (!segment.videoTimingInfo) {\n          segment.videoTimingInfo = {};\n        }\n\n        segment.videoTimingInfo.transmuxerPrependedSeconds = event.videoSegmentTimingInfo.prependedContentDuration || 0;\n        segment.videoTimingInfo.transmuxedPresentationStart = event.videoSegmentTimingInfo.start.presentation;\n        segment.videoTimingInfo.transmuxedPresentationEnd = event.videoSegmentTimingInfo.end.presentation; // mainly used as a reference for debugging\n\n        segment.videoTimingInfo.baseMediaDecodeTime = event.videoSegmentTimingInfo.baseMediaDecodeTime;\n      }\n      /**\n       * callback to run when appendBuffer is finished. detects if we are\n       * in a good state to do things with the data we got, or if we need\n       * to wait for more\n       *\n       * @private\n       */\n\n    }, {\n      key: 'handleUpdateEnd_',\n      value: function handleUpdateEnd_() {\n        if (!this.pendingSegment_) {\n          this.state = 'READY';\n\n          if (!this.paused()) {\n            this.monitorBuffer_();\n          }\n\n          return;\n        }\n\n        var segmentInfo = this.pendingSegment_;\n        var segment = segmentInfo.segment;\n        var isWalkingForward = this.mediaIndex !== null;\n        this.pendingSegment_ = null;\n        this.recordThroughput_(segmentInfo);\n        this.addSegmentMetadataCue_(segmentInfo);\n        this.state = 'READY';\n        this.mediaIndex = segmentInfo.mediaIndex;\n        this.fetchAtBuffer_ = true;\n        this.currentTimeline_ = segmentInfo.timeline; // We must update the syncinfo to recalculate the seekable range before\n        // the following conditional otherwise it may consider this a bad \"guess\"\n        // and attempt to resync when the post-update seekable window and live\n        // point would mean that this was the perfect segment to fetch\n\n        this.trigger('syncinfoupdate'); // If we previously appended a segment that ends more than 3 targetDurations before\n        // the currentTime_ that means that our conservative guess was too conservative.\n        // In that case, reset the loader state so that we try to use any information gained\n        // from the previous request to create a new, more accurate, sync-point.\n\n        if (segment.end && this.currentTime_() - segment.end > segmentInfo.playlist.targetDuration * 3) {\n          this.resetEverything();\n          return;\n        } // Don't do a rendition switch unless we have enough time to get a sync segment\n        // and conservatively guess\n\n\n        if (isWalkingForward) {\n          this.trigger('bandwidthupdate');\n        }\n\n        this.trigger('progress'); // any time an update finishes and the last segment is in the\n        // buffer, end the stream. this ensures the \"ended\" event will\n        // fire if playback reaches that point.\n\n        if (this.isEndOfStream_(segmentInfo.mediaIndex + 1, segmentInfo.playlist)) {\n          this.endOfStream();\n        }\n\n        if (!this.paused()) {\n          this.monitorBuffer_();\n        }\n      }\n      /**\n       * Records the current throughput of the decrypt, transmux, and append\n       * portion of the semgment pipeline. `throughput.rate` is a the cumulative\n       * moving average of the throughput. `throughput.count` is the number of\n       * data points in the average.\n       *\n       * @private\n       * @param {Object} segmentInfo the object returned by loadSegment\n       */\n\n    }, {\n      key: 'recordThroughput_',\n      value: function recordThroughput_(segmentInfo) {\n        var rate = this.throughput.rate; // Add one to the time to ensure that we don't accidentally attempt to divide\n        // by zero in the case where the throughput is ridiculously high\n\n        var segmentProcessingTime = Date.now() - segmentInfo.endOfAllRequests + 1; // Multiply by 8000 to convert from bytes/millisecond to bits/second\n\n        var segmentProcessingThroughput = Math.floor(segmentInfo.byteLength / segmentProcessingTime * 8 * 1000); // This is just a cumulative moving average calculation:\n        //   newAvg = oldAvg + (sample - oldAvg) / (sampleCount + 1)\n\n        this.throughput.rate += (segmentProcessingThroughput - rate) / ++this.throughput.count;\n      }\n      /**\n       * Adds a cue to the segment-metadata track with some metadata information about the\n       * segment\n       *\n       * @private\n       * @param {Object} segmentInfo\n       *        the object returned by loadSegment\n       * @method addSegmentMetadataCue_\n       */\n\n    }, {\n      key: 'addSegmentMetadataCue_',\n      value: function addSegmentMetadataCue_(segmentInfo) {\n        if (!this.segmentMetadataTrack_) {\n          return;\n        }\n\n        var segment = segmentInfo.segment;\n        var start = segment.start;\n        var end = segment.end; // Do not try adding the cue if the start and end times are invalid.\n\n        if (!finite(start) || !finite(end)) {\n          return;\n        }\n\n        removeCuesFromTrack(start, end, this.segmentMetadataTrack_);\n        var Cue = window$1.WebKitDataCue || window$1.VTTCue;\n        var value = {\n          custom: segment.custom,\n          dateTimeObject: segment.dateTimeObject,\n          dateTimeString: segment.dateTimeString,\n          bandwidth: segmentInfo.playlist.attributes.BANDWIDTH,\n          resolution: segmentInfo.playlist.attributes.RESOLUTION,\n          codecs: segmentInfo.playlist.attributes.CODECS,\n          byteLength: segmentInfo.byteLength,\n          uri: segmentInfo.uri,\n          timeline: segmentInfo.timeline,\n          playlist: segmentInfo.playlist.uri,\n          start: start,\n          end: end\n        };\n        var data = JSON.stringify(value);\n        var cue = new Cue(start, end, data); // Attach the metadata to the value property of the cue to keep consistency between\n        // the differences of WebKitDataCue in safari and VTTCue in other browsers\n\n        cue.value = value;\n        this.segmentMetadataTrack_.addCue(cue);\n      }\n    }]);\n    return SegmentLoader;\n  }(videojs$1.EventTarget);\n\n  var uint8ToUtf8 = function uint8ToUtf8(uintArray) {\n    return decodeURIComponent(escape(String.fromCharCode.apply(null, uintArray)));\n  };\n  /**\n   * @file vtt-segment-loader.js\n   */\n\n\n  var VTT_LINE_TERMINATORS = new Uint8Array('\\n\\n'.split('').map(function (_char2) {\n    return _char2.charCodeAt(0);\n  }));\n  /**\n   * An object that manages segment loading and appending.\n   *\n   * @class VTTSegmentLoader\n   * @param {Object} options required and optional options\n   * @extends videojs.EventTarget\n   */\n\n  var VTTSegmentLoader = function (_SegmentLoader) {\n    inherits$1(VTTSegmentLoader, _SegmentLoader);\n\n    function VTTSegmentLoader(settings) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      classCallCheck$1(this, VTTSegmentLoader); // SegmentLoader requires a MediaSource be specified or it will throw an error;\n      // however, VTTSegmentLoader has no need of a media source, so delete the reference\n\n      var _this = possibleConstructorReturn$1(this, (VTTSegmentLoader.__proto__ || Object.getPrototypeOf(VTTSegmentLoader)).call(this, settings, options));\n\n      _this.mediaSource_ = null;\n      _this.subtitlesTrack_ = null;\n      return _this;\n    }\n    /**\n     * Indicates which time ranges are buffered\n     *\n     * @return {TimeRange}\n     *         TimeRange object representing the current buffered ranges\n     */\n\n\n    createClass$1(VTTSegmentLoader, [{\n      key: 'buffered_',\n      value: function buffered_() {\n        if (!this.subtitlesTrack_ || !this.subtitlesTrack_.cues.length) {\n          return videojs$1.createTimeRanges();\n        }\n\n        var cues = this.subtitlesTrack_.cues;\n        var start = cues[0].startTime;\n        var end = cues[cues.length - 1].startTime;\n        return videojs$1.createTimeRanges([[start, end]]);\n      }\n      /**\n       * Gets and sets init segment for the provided map\n       *\n       * @param {Object} map\n       *        The map object representing the init segment to get or set\n       * @param {Boolean=} set\n       *        If true, the init segment for the provided map should be saved\n       * @return {Object}\n       *         map object for desired init segment\n       */\n\n    }, {\n      key: 'initSegment',\n      value: function initSegment(map) {\n        var set$$1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if (!map) {\n          return null;\n        }\n\n        var id = initSegmentId(map);\n        var storedMap = this.initSegments_[id];\n\n        if (set$$1 && !storedMap && map.bytes) {\n          // append WebVTT line terminators to the media initialization segment if it exists\n          // to follow the WebVTT spec (https://w3c.github.io/webvtt/#file-structure) that\n          // requires two or more WebVTT line terminators between the WebVTT header and the\n          // rest of the file\n          var combinedByteLength = VTT_LINE_TERMINATORS.byteLength + map.bytes.byteLength;\n          var combinedSegment = new Uint8Array(combinedByteLength);\n          combinedSegment.set(map.bytes);\n          combinedSegment.set(VTT_LINE_TERMINATORS, map.bytes.byteLength);\n          this.initSegments_[id] = storedMap = {\n            resolvedUri: map.resolvedUri,\n            byterange: map.byterange,\n            bytes: combinedSegment\n          };\n        }\n\n        return storedMap || map;\n      }\n      /**\n       * Returns true if all configuration required for loading is present, otherwise false.\n       *\n       * @return {Boolean} True if the all configuration is ready for loading\n       * @private\n       */\n\n    }, {\n      key: 'couldBeginLoading_',\n      value: function couldBeginLoading_() {\n        return this.playlist_ && this.subtitlesTrack_ && !this.paused();\n      }\n      /**\n       * Once all the starting parameters have been specified, begin\n       * operation. This method should only be invoked from the INIT\n       * state.\n       *\n       * @private\n       */\n\n    }, {\n      key: 'init_',\n      value: function init_() {\n        this.state = 'READY';\n        this.resetEverything();\n        return this.monitorBuffer_();\n      }\n      /**\n       * Set a subtitle track on the segment loader to add subtitles to\n       *\n       * @param {TextTrack=} track\n       *        The text track to add loaded subtitles to\n       * @return {TextTrack}\n       *        Returns the subtitles track\n       */\n\n    }, {\n      key: 'track',\n      value: function track(_track) {\n        if (typeof _track === 'undefined') {\n          return this.subtitlesTrack_;\n        }\n\n        this.subtitlesTrack_ = _track; // if we were unpaused but waiting for a sourceUpdater, start\n        // buffering now\n\n        if (this.state === 'INIT' && this.couldBeginLoading_()) {\n          this.init_();\n        }\n\n        return this.subtitlesTrack_;\n      }\n      /**\n       * Remove any data in the source buffer between start and end times\n       * @param {Number} start - the start time of the region to remove from the buffer\n       * @param {Number} end - the end time of the region to remove from the buffer\n       */\n\n    }, {\n      key: 'remove',\n      value: function remove(start, end) {\n        removeCuesFromTrack(start, end, this.subtitlesTrack_);\n      }\n      /**\n       * fill the buffer with segements unless the sourceBuffers are\n       * currently updating\n       *\n       * Note: this function should only ever be called by monitorBuffer_\n       * and never directly\n       *\n       * @private\n       */\n\n    }, {\n      key: 'fillBuffer_',\n      value: function fillBuffer_() {\n        var _this2 = this;\n\n        if (!this.syncPoint_) {\n          this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_());\n        } // see if we need to begin loading immediately\n\n\n        var segmentInfo = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);\n        segmentInfo = this.skipEmptySegments_(segmentInfo);\n\n        if (!segmentInfo) {\n          return;\n        }\n\n        if (this.syncController_.timestampOffsetForTimeline(segmentInfo.timeline) === null) {\n          // We don't have the timestamp offset that we need to sync subtitles.\n          // Rerun on a timestamp offset or user interaction.\n          var checkTimestampOffset = function checkTimestampOffset() {\n            _this2.state = 'READY';\n\n            if (!_this2.paused()) {\n              // if not paused, queue a buffer check as soon as possible\n              _this2.monitorBuffer_();\n            }\n          };\n\n          this.syncController_.one('timestampoffset', checkTimestampOffset);\n          this.state = 'WAITING_ON_TIMELINE';\n          return;\n        }\n\n        this.loadSegment_(segmentInfo);\n      }\n      /**\n       * Prevents the segment loader from requesting segments we know contain no subtitles\n       * by walking forward until we find the next segment that we don't know whether it is\n       * empty or not.\n       *\n       * @param {Object} segmentInfo\n       *        a segment info object that describes the current segment\n       * @return {Object}\n       *         a segment info object that describes the current segment\n       */\n\n    }, {\n      key: 'skipEmptySegments_',\n      value: function skipEmptySegments_(segmentInfo) {\n        while (segmentInfo && segmentInfo.segment.empty) {\n          segmentInfo = this.generateSegmentInfo_(segmentInfo.playlist, segmentInfo.mediaIndex + 1, segmentInfo.startOfSegment + segmentInfo.duration, segmentInfo.isSyncRequest);\n        }\n\n        return segmentInfo;\n      }\n      /**\n       * append a decrypted segement to the SourceBuffer through a SourceUpdater\n       *\n       * @private\n       */\n\n    }, {\n      key: 'handleSegment_',\n      value: function handleSegment_() {\n        var _this3 = this;\n\n        if (!this.pendingSegment_ || !this.subtitlesTrack_) {\n          this.state = 'READY';\n          return;\n        }\n\n        this.state = 'APPENDING';\n        var segmentInfo = this.pendingSegment_;\n        var segment = segmentInfo.segment; // Make sure that vttjs has loaded, otherwise, wait till it finished loading\n\n        if (typeof window$1.WebVTT !== 'function' && this.subtitlesTrack_ && this.subtitlesTrack_.tech_) {\n          var loadHandler = void 0;\n\n          var errorHandler = function errorHandler() {\n            _this3.subtitlesTrack_.tech_.off('vttjsloaded', loadHandler);\n\n            _this3.error({\n              message: 'Error loading vtt.js'\n            });\n\n            _this3.state = 'READY';\n\n            _this3.pause();\n\n            _this3.trigger('error');\n          };\n\n          loadHandler = function loadHandler() {\n            _this3.subtitlesTrack_.tech_.off('vttjserror', errorHandler);\n\n            _this3.handleSegment_();\n          };\n\n          this.state = 'WAITING_ON_VTTJS';\n          this.subtitlesTrack_.tech_.one('vttjsloaded', loadHandler);\n          this.subtitlesTrack_.tech_.one('vttjserror', errorHandler);\n          return;\n        }\n\n        segment.requested = true;\n\n        try {\n          this.parseVTTCues_(segmentInfo);\n        } catch (e) {\n          this.error({\n            message: e.message\n          });\n          this.state = 'READY';\n          this.pause();\n          return this.trigger('error');\n        }\n\n        this.updateTimeMapping_(segmentInfo, this.syncController_.timelines[segmentInfo.timeline], this.playlist_);\n\n        if (segmentInfo.isSyncRequest) {\n          this.trigger('syncinfoupdate');\n          this.pendingSegment_ = null;\n          this.state = 'READY';\n          return;\n        }\n\n        segmentInfo.byteLength = segmentInfo.bytes.byteLength;\n        this.mediaSecondsLoaded += segment.duration;\n\n        if (segmentInfo.cues.length) {\n          // remove any overlapping cues to prevent doubling\n          this.remove(segmentInfo.cues[0].endTime, segmentInfo.cues[segmentInfo.cues.length - 1].endTime);\n        }\n\n        segmentInfo.cues.forEach(function (cue) {\n          _this3.subtitlesTrack_.addCue(cue);\n        });\n        this.handleUpdateEnd_();\n      }\n      /**\n       * Uses the WebVTT parser to parse the segment response\n       *\n       * @param {Object} segmentInfo\n       *        a segment info object that describes the current segment\n       * @private\n       */\n\n    }, {\n      key: 'parseVTTCues_',\n      value: function parseVTTCues_(segmentInfo) {\n        var decoder = void 0;\n        var decodeBytesToString = false;\n\n        if (typeof window$1.TextDecoder === 'function') {\n          decoder = new window$1.TextDecoder('utf8');\n        } else {\n          decoder = window$1.WebVTT.StringDecoder();\n          decodeBytesToString = true;\n        }\n\n        var parser = new window$1.WebVTT.Parser(window$1, window$1.vttjs, decoder);\n        segmentInfo.cues = [];\n        segmentInfo.timestampmap = {\n          MPEGTS: 0,\n          LOCAL: 0\n        };\n        parser.oncue = segmentInfo.cues.push.bind(segmentInfo.cues);\n\n        parser.ontimestampmap = function (map) {\n          return segmentInfo.timestampmap = map;\n        };\n\n        parser.onparsingerror = function (error) {\n          videojs$1.log.warn('Error encountered when parsing cues: ' + error.message);\n        };\n\n        if (segmentInfo.segment.map) {\n          var mapData = segmentInfo.segment.map.bytes;\n\n          if (decodeBytesToString) {\n            mapData = uint8ToUtf8(mapData);\n          }\n\n          parser.parse(mapData);\n        }\n\n        var segmentData = segmentInfo.bytes;\n\n        if (decodeBytesToString) {\n          segmentData = uint8ToUtf8(segmentData);\n        }\n\n        parser.parse(segmentData);\n        parser.flush();\n      }\n      /**\n       * Updates the start and end times of any cues parsed by the WebVTT parser using\n       * the information parsed from the X-TIMESTAMP-MAP header and a TS to media time mapping\n       * from the SyncController\n       *\n       * @param {Object} segmentInfo\n       *        a segment info object that describes the current segment\n       * @param {Object} mappingObj\n       *        object containing a mapping from TS to media time\n       * @param {Object} playlist\n       *        the playlist object containing the segment\n       * @private\n       */\n\n    }, {\n      key: 'updateTimeMapping_',\n      value: function updateTimeMapping_(segmentInfo, mappingObj, playlist) {\n        var segment = segmentInfo.segment;\n\n        if (!mappingObj) {\n          // If the sync controller does not have a mapping of TS to Media Time for the\n          // timeline, then we don't have enough information to update the cue\n          // start/end times\n          return;\n        }\n\n        if (!segmentInfo.cues.length) {\n          // If there are no cues, we also do not have enough information to figure out\n          // segment timing. Mark that the segment contains no cues so we don't re-request\n          // an empty segment.\n          segment.empty = true;\n          return;\n        }\n\n        var timestampmap = segmentInfo.timestampmap;\n        var diff = timestampmap.MPEGTS / 90000 - timestampmap.LOCAL + mappingObj.mapping;\n        segmentInfo.cues.forEach(function (cue) {\n          // First convert cue time to TS time using the timestamp-map provided within the vtt\n          cue.startTime += diff;\n          cue.endTime += diff;\n        });\n\n        if (!playlist.syncInfo) {\n          var firstStart = segmentInfo.cues[0].startTime;\n          var lastStart = segmentInfo.cues[segmentInfo.cues.length - 1].startTime;\n          playlist.syncInfo = {\n            mediaSequence: playlist.mediaSequence + segmentInfo.mediaIndex,\n            time: Math.min(firstStart, lastStart - segment.duration)\n          };\n        }\n      }\n    }]);\n    return VTTSegmentLoader;\n  }(SegmentLoader);\n  /**\n   * @file ad-cue-tags.js\n   */\n\n  /**\n   * Searches for an ad cue that overlaps with the given mediaTime\n   */\n\n\n  var findAdCue = function findAdCue(track, mediaTime) {\n    var cues = track.cues;\n\n    for (var i = 0; i < cues.length; i++) {\n      var cue = cues[i];\n\n      if (mediaTime >= cue.adStartTime && mediaTime <= cue.adEndTime) {\n        return cue;\n      }\n    }\n\n    return null;\n  };\n\n  var updateAdCues = function updateAdCues(media, track) {\n    var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n    if (!media.segments) {\n      return;\n    }\n\n    var mediaTime = offset;\n    var cue = void 0;\n\n    for (var i = 0; i < media.segments.length; i++) {\n      var segment = media.segments[i];\n\n      if (!cue) {\n        // Since the cues will span for at least the segment duration, adding a fudge\n        // factor of half segment duration will prevent duplicate cues from being\n        // created when timing info is not exact (e.g. cue start time initialized\n        // at 10.006677, but next call mediaTime is 10.003332 )\n        cue = findAdCue(track, mediaTime + segment.duration / 2);\n      }\n\n      if (cue) {\n        if ('cueIn' in segment) {\n          // Found a CUE-IN so end the cue\n          cue.endTime = mediaTime;\n          cue.adEndTime = mediaTime;\n          mediaTime += segment.duration;\n          cue = null;\n          continue;\n        }\n\n        if (mediaTime < cue.endTime) {\n          // Already processed this mediaTime for this cue\n          mediaTime += segment.duration;\n          continue;\n        } // otherwise extend cue until a CUE-IN is found\n\n\n        cue.endTime += segment.duration;\n      } else {\n        if ('cueOut' in segment) {\n          cue = new window$1.VTTCue(mediaTime, mediaTime + segment.duration, segment.cueOut);\n          cue.adStartTime = mediaTime; // Assumes tag format to be\n          // #EXT-X-CUE-OUT:30\n\n          cue.adEndTime = mediaTime + parseFloat(segment.cueOut);\n          track.addCue(cue);\n        }\n\n        if ('cueOutCont' in segment) {\n          // Entered into the middle of an ad cue\n          var adOffset = void 0;\n          var adTotal = void 0; // Assumes tag formate to be\n          // #EXT-X-CUE-OUT-CONT:10/30\n\n          var _segment$cueOutCont$s = segment.cueOutCont.split('/').map(parseFloat);\n\n          var _segment$cueOutCont$s2 = slicedToArray(_segment$cueOutCont$s, 2);\n\n          adOffset = _segment$cueOutCont$s2[0];\n          adTotal = _segment$cueOutCont$s2[1];\n          cue = new window$1.VTTCue(mediaTime, mediaTime + segment.duration, '');\n          cue.adStartTime = mediaTime - adOffset;\n          cue.adEndTime = cue.adStartTime + adTotal;\n          track.addCue(cue);\n        }\n      }\n\n      mediaTime += segment.duration;\n    }\n  };\n  /**\n   * @file sync-controller.js\n   */\n\n\n  var tsprobe = tsInspector.inspect;\n  var syncPointStrategies = [// Stategy \"VOD\": Handle the VOD-case where the sync-point is *always*\n  //                the equivalence display-time 0 === segment-index 0\n  {\n    name: 'VOD',\n    run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n      if (duration$$1 !== Infinity) {\n        var syncPoint = {\n          time: 0,\n          segmentIndex: 0\n        };\n        return syncPoint;\n      }\n\n      return null;\n    }\n  }, // Stategy \"ProgramDateTime\": We have a program-date-time tag in this playlist\n  {\n    name: 'ProgramDateTime',\n    run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n      if (!syncController.datetimeToDisplayTime) {\n        return null;\n      }\n\n      var segments = playlist.segments || [];\n      var syncPoint = null;\n      var lastDistance = null;\n      currentTime = currentTime || 0;\n\n      for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n\n        if (segment.dateTimeObject) {\n          var segmentTime = segment.dateTimeObject.getTime() / 1000;\n          var segmentStart = segmentTime + syncController.datetimeToDisplayTime;\n          var distance = Math.abs(currentTime - segmentStart); // Once the distance begins to increase, or if distance is 0, we have passed\n          // currentTime and can stop looking for better candidates\n\n          if (lastDistance !== null && (distance === 0 || lastDistance < distance)) {\n            break;\n          }\n\n          lastDistance = distance;\n          syncPoint = {\n            time: segmentStart,\n            segmentIndex: i\n          };\n        }\n      }\n\n      return syncPoint;\n    }\n  }, // Stategy \"Segment\": We have a known time mapping for a timeline and a\n  //                    segment in the current timeline with timing data\n  {\n    name: 'Segment',\n    run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n      var segments = playlist.segments || [];\n      var syncPoint = null;\n      var lastDistance = null;\n      currentTime = currentTime || 0;\n\n      for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n\n        if (segment.timeline === currentTimeline && typeof segment.start !== 'undefined') {\n          var distance = Math.abs(currentTime - segment.start); // Once the distance begins to increase, we have passed\n          // currentTime and can stop looking for better candidates\n\n          if (lastDistance !== null && lastDistance < distance) {\n            break;\n          }\n\n          if (!syncPoint || lastDistance === null || lastDistance >= distance) {\n            lastDistance = distance;\n            syncPoint = {\n              time: segment.start,\n              segmentIndex: i\n            };\n          }\n        }\n      }\n\n      return syncPoint;\n    }\n  }, // Stategy \"Discontinuity\": We have a discontinuity with a known\n  //                          display-time\n  {\n    name: 'Discontinuity',\n    run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n      var syncPoint = null;\n      currentTime = currentTime || 0;\n\n      if (playlist.discontinuityStarts && playlist.discontinuityStarts.length) {\n        var lastDistance = null;\n\n        for (var i = 0; i < playlist.discontinuityStarts.length; i++) {\n          var segmentIndex = playlist.discontinuityStarts[i];\n          var discontinuity = playlist.discontinuitySequence + i + 1;\n          var discontinuitySync = syncController.discontinuities[discontinuity];\n\n          if (discontinuitySync) {\n            var distance = Math.abs(currentTime - discontinuitySync.time); // Once the distance begins to increase, we have passed\n            // currentTime and can stop looking for better candidates\n\n            if (lastDistance !== null && lastDistance < distance) {\n              break;\n            }\n\n            if (!syncPoint || lastDistance === null || lastDistance >= distance) {\n              lastDistance = distance;\n              syncPoint = {\n                time: discontinuitySync.time,\n                segmentIndex: segmentIndex\n              };\n            }\n          }\n        }\n      }\n\n      return syncPoint;\n    }\n  }, // Stategy \"Playlist\": We have a playlist with a known mapping of\n  //                     segment index to display time\n  {\n    name: 'Playlist',\n    run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n      if (playlist.syncInfo) {\n        var syncPoint = {\n          time: playlist.syncInfo.time,\n          segmentIndex: playlist.syncInfo.mediaSequence - playlist.mediaSequence\n        };\n        return syncPoint;\n      }\n\n      return null;\n    }\n  }];\n\n  var SyncController = function (_videojs$EventTarget) {\n    inherits$1(SyncController, _videojs$EventTarget);\n\n    function SyncController() {\n      classCallCheck$1(this, SyncController); // Segment Loader state variables...\n      // ...for synching across variants\n\n      var _this = possibleConstructorReturn$1(this, (SyncController.__proto__ || Object.getPrototypeOf(SyncController)).call(this));\n\n      _this.inspectCache_ = undefined; // ...for synching across variants\n\n      _this.timelines = [];\n      _this.discontinuities = [];\n      _this.datetimeToDisplayTime = null;\n      _this.logger_ = logger('SyncController');\n      return _this;\n    }\n    /**\n     * Find a sync-point for the playlist specified\n     *\n     * A sync-point is defined as a known mapping from display-time to\n     * a segment-index in the current playlist.\n     *\n     * @param {Playlist} playlist\n     *        The playlist that needs a sync-point\n     * @param {Number} duration\n     *        Duration of the MediaSource (Infinite if playing a live source)\n     * @param {Number} currentTimeline\n     *        The last timeline from which a segment was loaded\n     * @returns {Object}\n     *          A sync-point object\n     */\n\n\n    createClass$1(SyncController, [{\n      key: 'getSyncPoint',\n      value: function getSyncPoint(playlist, duration$$1, currentTimeline, currentTime) {\n        var syncPoints = this.runStrategies_(playlist, duration$$1, currentTimeline, currentTime);\n\n        if (!syncPoints.length) {\n          // Signal that we need to attempt to get a sync-point manually\n          // by fetching a segment in the playlist and constructing\n          // a sync-point from that information\n          return null;\n        } // Now find the sync-point that is closest to the currentTime because\n        // that should result in the most accurate guess about which segment\n        // to fetch\n\n\n        return this.selectSyncPoint_(syncPoints, {\n          key: 'time',\n          value: currentTime\n        });\n      }\n      /**\n       * Calculate the amount of time that has expired off the playlist during playback\n       *\n       * @param {Playlist} playlist\n       *        Playlist object to calculate expired from\n       * @param {Number} duration\n       *        Duration of the MediaSource (Infinity if playling a live source)\n       * @returns {Number|null}\n       *          The amount of time that has expired off the playlist during playback. Null\n       *          if no sync-points for the playlist can be found.\n       */\n\n    }, {\n      key: 'getExpiredTime',\n      value: function getExpiredTime(playlist, duration$$1) {\n        if (!playlist || !playlist.segments) {\n          return null;\n        }\n\n        var syncPoints = this.runStrategies_(playlist, duration$$1, playlist.discontinuitySequence, 0); // Without sync-points, there is not enough information to determine the expired time\n\n        if (!syncPoints.length) {\n          return null;\n        }\n\n        var syncPoint = this.selectSyncPoint_(syncPoints, {\n          key: 'segmentIndex',\n          value: 0\n        }); // If the sync-point is beyond the start of the playlist, we want to subtract the\n        // duration from index 0 to syncPoint.segmentIndex instead of adding.\n\n        if (syncPoint.segmentIndex > 0) {\n          syncPoint.time *= -1;\n        }\n\n        return Math.abs(syncPoint.time + sumDurations(playlist, syncPoint.segmentIndex, 0));\n      }\n      /**\n       * Runs each sync-point strategy and returns a list of sync-points returned by the\n       * strategies\n       *\n       * @private\n       * @param {Playlist} playlist\n       *        The playlist that needs a sync-point\n       * @param {Number} duration\n       *        Duration of the MediaSource (Infinity if playing a live source)\n       * @param {Number} currentTimeline\n       *        The last timeline from which a segment was loaded\n       * @returns {Array}\n       *          A list of sync-point objects\n       */\n\n    }, {\n      key: 'runStrategies_',\n      value: function runStrategies_(playlist, duration$$1, currentTimeline, currentTime) {\n        var syncPoints = []; // Try to find a sync-point in by utilizing various strategies...\n\n        for (var i = 0; i < syncPointStrategies.length; i++) {\n          var strategy = syncPointStrategies[i];\n          var syncPoint = strategy.run(this, playlist, duration$$1, currentTimeline, currentTime);\n\n          if (syncPoint) {\n            syncPoint.strategy = strategy.name;\n            syncPoints.push({\n              strategy: strategy.name,\n              syncPoint: syncPoint\n            });\n          }\n        }\n\n        return syncPoints;\n      }\n      /**\n       * Selects the sync-point nearest the specified target\n       *\n       * @private\n       * @param {Array} syncPoints\n       *        List of sync-points to select from\n       * @param {Object} target\n       *        Object specifying the property and value we are targeting\n       * @param {String} target.key\n       *        Specifies the property to target. Must be either 'time' or 'segmentIndex'\n       * @param {Number} target.value\n       *        The value to target for the specified key.\n       * @returns {Object}\n       *          The sync-point nearest the target\n       */\n\n    }, {\n      key: 'selectSyncPoint_',\n      value: function selectSyncPoint_(syncPoints, target) {\n        var bestSyncPoint = syncPoints[0].syncPoint;\n        var bestDistance = Math.abs(syncPoints[0].syncPoint[target.key] - target.value);\n        var bestStrategy = syncPoints[0].strategy;\n\n        for (var i = 1; i < syncPoints.length; i++) {\n          var newDistance = Math.abs(syncPoints[i].syncPoint[target.key] - target.value);\n\n          if (newDistance < bestDistance) {\n            bestDistance = newDistance;\n            bestSyncPoint = syncPoints[i].syncPoint;\n            bestStrategy = syncPoints[i].strategy;\n          }\n        }\n\n        this.logger_('syncPoint for [' + target.key + ': ' + target.value + '] chosen with strategy' + (' [' + bestStrategy + ']: [time:' + bestSyncPoint.time + ',') + (' segmentIndex:' + bestSyncPoint.segmentIndex + ']'));\n        return bestSyncPoint;\n      }\n      /**\n       * Save any meta-data present on the segments when segments leave\n       * the live window to the playlist to allow for synchronization at the\n       * playlist level later.\n       *\n       * @param {Playlist} oldPlaylist - The previous active playlist\n       * @param {Playlist} newPlaylist - The updated and most current playlist\n       */\n\n    }, {\n      key: 'saveExpiredSegmentInfo',\n      value: function saveExpiredSegmentInfo(oldPlaylist, newPlaylist) {\n        var mediaSequenceDiff = newPlaylist.mediaSequence - oldPlaylist.mediaSequence; // When a segment expires from the playlist and it has a start time\n        // save that information as a possible sync-point reference in future\n\n        for (var i = mediaSequenceDiff - 1; i >= 0; i--) {\n          var lastRemovedSegment = oldPlaylist.segments[i];\n\n          if (lastRemovedSegment && typeof lastRemovedSegment.start !== 'undefined') {\n            newPlaylist.syncInfo = {\n              mediaSequence: oldPlaylist.mediaSequence + i,\n              time: lastRemovedSegment.start\n            };\n            this.logger_('playlist refresh sync: [time:' + newPlaylist.syncInfo.time + ',' + (' mediaSequence: ' + newPlaylist.syncInfo.mediaSequence + ']'));\n            this.trigger('syncinfoupdate');\n            break;\n          }\n        }\n      }\n      /**\n       * Save the mapping from playlist's ProgramDateTime to display. This should\n       * only ever happen once at the start of playback.\n       *\n       * @param {Playlist} playlist - The currently active playlist\n       */\n\n    }, {\n      key: 'setDateTimeMapping',\n      value: function setDateTimeMapping(playlist) {\n        if (!this.datetimeToDisplayTime && playlist.segments && playlist.segments.length && playlist.segments[0].dateTimeObject) {\n          var playlistTimestamp = playlist.segments[0].dateTimeObject.getTime() / 1000;\n          this.datetimeToDisplayTime = -playlistTimestamp;\n        }\n      }\n      /**\n       * Reset the state of the inspection cache when we do a rendition\n       * switch\n       */\n\n    }, {\n      key: 'reset',\n      value: function reset() {\n        this.inspectCache_ = undefined;\n      }\n      /**\n       * Probe or inspect a fmp4 or an mpeg2-ts segment to determine the start\n       * and end of the segment in it's internal \"media time\". Used to generate\n       * mappings from that internal \"media time\" to the display time that is\n       * shown on the player.\n       *\n       * @param {SegmentInfo} segmentInfo - The current active request information\n       */\n\n    }, {\n      key: 'probeSegmentInfo',\n      value: function probeSegmentInfo(segmentInfo) {\n        var segment = segmentInfo.segment;\n        var playlist = segmentInfo.playlist;\n        var timingInfo = void 0;\n\n        if (segment.map) {\n          timingInfo = this.probeMp4Segment_(segmentInfo);\n        } else {\n          timingInfo = this.probeTsSegment_(segmentInfo);\n        }\n\n        if (timingInfo) {\n          if (this.calculateSegmentTimeMapping_(segmentInfo, timingInfo)) {\n            this.saveDiscontinuitySyncInfo_(segmentInfo); // If the playlist does not have sync information yet, record that information\n            // now with segment timing information\n\n            if (!playlist.syncInfo) {\n              playlist.syncInfo = {\n                mediaSequence: playlist.mediaSequence + segmentInfo.mediaIndex,\n                time: segment.start\n              };\n            }\n          }\n        }\n\n        return timingInfo;\n      }\n      /**\n       * Probe an fmp4 or an mpeg2-ts segment to determine the start of the segment\n       * in it's internal \"media time\".\n       *\n       * @private\n       * @param {SegmentInfo} segmentInfo - The current active request information\n       * @return {object} The start and end time of the current segment in \"media time\"\n       */\n\n    }, {\n      key: 'probeMp4Segment_',\n      value: function probeMp4Segment_(segmentInfo) {\n        var segment = segmentInfo.segment;\n        var timescales = probe.timescale(segment.map.bytes);\n        var startTime = probe.startTime(timescales, segmentInfo.bytes);\n\n        if (segmentInfo.timestampOffset !== null) {\n          segmentInfo.timestampOffset -= startTime;\n        }\n\n        return {\n          start: startTime,\n          end: startTime + segment.duration\n        };\n      }\n      /**\n       * Probe an mpeg2-ts segment to determine the start and end of the segment\n       * in it's internal \"media time\".\n       *\n       * @private\n       * @param {SegmentInfo} segmentInfo - The current active request information\n       * @return {object} The start and end time of the current segment in \"media time\"\n       */\n\n    }, {\n      key: 'probeTsSegment_',\n      value: function probeTsSegment_(segmentInfo) {\n        var timeInfo = tsprobe(segmentInfo.bytes, this.inspectCache_);\n        var segmentStartTime = void 0;\n        var segmentEndTime = void 0;\n        var segmentTimestampInfo = void 0;\n\n        if (!timeInfo) {\n          return null;\n        }\n\n        if (timeInfo.video && timeInfo.video.length === 2) {\n          this.inspectCache_ = timeInfo.video[1].dts;\n          segmentStartTime = timeInfo.video[0].dtsTime;\n          segmentEndTime = timeInfo.video[1].dtsTime;\n          segmentTimestampInfo = timeInfo.video;\n        } else if (timeInfo.audio && timeInfo.audio.length === 2) {\n          this.inspectCache_ = timeInfo.audio[1].dts;\n          segmentStartTime = timeInfo.audio[0].dtsTime;\n          segmentEndTime = timeInfo.audio[1].dtsTime;\n          segmentTimestampInfo = timeInfo.audio;\n        }\n\n        var probedInfo = {\n          segmentTimestampInfo: segmentTimestampInfo,\n          start: segmentStartTime,\n          end: segmentEndTime,\n          containsVideo: timeInfo.video && timeInfo.video.length === 2,\n          containsAudio: timeInfo.audio && timeInfo.audio.length === 2\n        };\n        return probedInfo;\n      }\n    }, {\n      key: 'timestampOffsetForTimeline',\n      value: function timestampOffsetForTimeline(timeline) {\n        if (typeof this.timelines[timeline] === 'undefined') {\n          return null;\n        }\n\n        return this.timelines[timeline].time;\n      }\n    }, {\n      key: 'mappingForTimeline',\n      value: function mappingForTimeline(timeline) {\n        if (typeof this.timelines[timeline] === 'undefined') {\n          return null;\n        }\n\n        return this.timelines[timeline].mapping;\n      }\n      /**\n       * Use the \"media time\" for a segment to generate a mapping to \"display time\" and\n       * save that display time to the segment.\n       *\n       * @private\n       * @param {SegmentInfo} segmentInfo\n       *        The current active request information\n       * @param {object} timingInfo\n       *        The start and end time of the current segment in \"media time\"\n       * @returns {Boolean}\n       *          Returns false if segment time mapping could not be calculated\n       */\n\n    }, {\n      key: 'calculateSegmentTimeMapping_',\n      value: function calculateSegmentTimeMapping_(segmentInfo, timingInfo) {\n        var segment = segmentInfo.segment;\n        var mappingObj = this.timelines[segmentInfo.timeline];\n\n        if (segmentInfo.timestampOffset !== null) {\n          mappingObj = {\n            time: segmentInfo.startOfSegment,\n            mapping: segmentInfo.startOfSegment - timingInfo.start\n          };\n          this.timelines[segmentInfo.timeline] = mappingObj;\n          this.trigger('timestampoffset');\n          this.logger_('time mapping for timeline ' + segmentInfo.timeline + ': ' + ('[time: ' + mappingObj.time + '] [mapping: ' + mappingObj.mapping + ']'));\n          segment.start = segmentInfo.startOfSegment;\n          segment.end = timingInfo.end + mappingObj.mapping;\n        } else if (mappingObj) {\n          segment.start = timingInfo.start + mappingObj.mapping;\n          segment.end = timingInfo.end + mappingObj.mapping;\n        } else {\n          return false;\n        }\n\n        return true;\n      }\n      /**\n       * Each time we have discontinuity in the playlist, attempt to calculate the location\n       * in display of the start of the discontinuity and save that. We also save an accuracy\n       * value so that we save values with the most accuracy (closest to 0.)\n       *\n       * @private\n       * @param {SegmentInfo} segmentInfo - The current active request information\n       */\n\n    }, {\n      key: 'saveDiscontinuitySyncInfo_',\n      value: function saveDiscontinuitySyncInfo_(segmentInfo) {\n        var playlist = segmentInfo.playlist;\n        var segment = segmentInfo.segment; // If the current segment is a discontinuity then we know exactly where\n        // the start of the range and it's accuracy is 0 (greater accuracy values\n        // mean more approximation)\n\n        if (segment.discontinuity) {\n          this.discontinuities[segment.timeline] = {\n            time: segment.start,\n            accuracy: 0\n          };\n        } else if (playlist.discontinuityStarts && playlist.discontinuityStarts.length) {\n          // Search for future discontinuities that we can provide better timing\n          // information for and save that information for sync purposes\n          for (var i = 0; i < playlist.discontinuityStarts.length; i++) {\n            var segmentIndex = playlist.discontinuityStarts[i];\n            var discontinuity = playlist.discontinuitySequence + i + 1;\n            var mediaIndexDiff = segmentIndex - segmentInfo.mediaIndex;\n            var accuracy = Math.abs(mediaIndexDiff);\n\n            if (!this.discontinuities[discontinuity] || this.discontinuities[discontinuity].accuracy > accuracy) {\n              var time = void 0;\n\n              if (mediaIndexDiff < 0) {\n                time = segment.start - sumDurations(playlist, segmentInfo.mediaIndex, segmentIndex);\n              } else {\n                time = segment.end + sumDurations(playlist, segmentInfo.mediaIndex + 1, segmentIndex);\n              }\n\n              this.discontinuities[discontinuity] = {\n                time: time,\n                accuracy: accuracy\n              };\n            }\n          }\n        }\n      }\n    }]);\n    return SyncController;\n  }(videojs$1.EventTarget);\n\n  var Decrypter$1 = new shimWorker(\"./decrypter-worker.worker.js\", function (window, document$$1) {\n    var self = this;\n\n    var decrypterWorker = function () {\n      /*\n       * pkcs7.pad\n       * https://github.com/brightcove/pkcs7\n       *\n       * Copyright (c) 2014 Brightcove\n       * Licensed under the apache2 license.\n       */\n\n      /**\n       * Returns the subarray of a Uint8Array without PKCS#7 padding.\n       * @param padded {Uint8Array} unencrypted bytes that have been padded\n       * @return {Uint8Array} the unpadded bytes\n       * @see http://tools.ietf.org/html/rfc5652\n       */\n      function unpad(padded) {\n        return padded.subarray(0, padded.byteLength - padded[padded.byteLength - 1]);\n      }\n\n      var classCallCheck = function classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      };\n\n      var createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var inherits = function inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      };\n\n      var possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      };\n      /**\n       * @file aes.js\n       *\n       * This file contains an adaptation of the AES decryption algorithm\n       * from the Standford Javascript Cryptography Library. That work is\n       * covered by the following copyright and permissions notice:\n       *\n       * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.\n       * All rights reserved.\n       *\n       * Redistribution and use in source and binary forms, with or without\n       * modification, are permitted provided that the following conditions are\n       * met:\n       *\n       * 1. Redistributions of source code must retain the above copyright\n       *    notice, this list of conditions and the following disclaimer.\n       *\n       * 2. Redistributions in binary form must reproduce the above\n       *    copyright notice, this list of conditions and the following\n       *    disclaimer in the documentation and/or other materials provided\n       *    with the distribution.\n       *\n       * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR\n       * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n       * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n       * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE\n       * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n       * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n       * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\n       * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n       * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n       * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN\n       * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n       *\n       * The views and conclusions contained in the software and documentation\n       * are those of the authors and should not be interpreted as representing\n       * official policies, either expressed or implied, of the authors.\n       */\n\n      /**\n       * Expand the S-box tables.\n       *\n       * @private\n       */\n\n\n      var precompute = function precompute() {\n        var tables = [[[], [], [], [], []], [[], [], [], [], []]];\n        var encTable = tables[0];\n        var decTable = tables[1];\n        var sbox = encTable[4];\n        var sboxInv = decTable[4];\n        var i = void 0;\n        var x = void 0;\n        var xInv = void 0;\n        var d = [];\n        var th = [];\n        var x2 = void 0;\n        var x4 = void 0;\n        var x8 = void 0;\n        var s = void 0;\n        var tEnc = void 0;\n        var tDec = void 0; // Compute double and third tables\n\n        for (i = 0; i < 256; i++) {\n          th[(d[i] = i << 1 ^ (i >> 7) * 283) ^ i] = i;\n        }\n\n        for (x = xInv = 0; !sbox[x]; x ^= x2 || 1, xInv = th[xInv] || 1) {\n          // Compute sbox\n          s = xInv ^ xInv << 1 ^ xInv << 2 ^ xInv << 3 ^ xInv << 4;\n          s = s >> 8 ^ s & 255 ^ 99;\n          sbox[x] = s;\n          sboxInv[s] = x; // Compute MixColumns\n\n          x8 = d[x4 = d[x2 = d[x]]];\n          tDec = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;\n          tEnc = d[s] * 0x101 ^ s * 0x1010100;\n\n          for (i = 0; i < 4; i++) {\n            encTable[i][x] = tEnc = tEnc << 24 ^ tEnc >>> 8;\n            decTable[i][s] = tDec = tDec << 24 ^ tDec >>> 8;\n          }\n        } // Compactify. Considerable speedup on Firefox.\n\n\n        for (i = 0; i < 5; i++) {\n          encTable[i] = encTable[i].slice(0);\n          decTable[i] = decTable[i].slice(0);\n        }\n\n        return tables;\n      };\n\n      var aesTables = null;\n      /**\n       * Schedule out an AES key for both encryption and decryption. This\n       * is a low-level class. Use a cipher mode to do bulk encryption.\n       *\n       * @class AES\n       * @param key {Array} The key as an array of 4, 6 or 8 words.\n       */\n\n      var AES = function () {\n        function AES(key) {\n          classCallCheck(this, AES);\n          /**\n           * The expanded S-box and inverse S-box tables. These will be computed\n           * on the client so that we don't have to send them down the wire.\n           *\n           * There are two tables, _tables[0] is for encryption and\n           * _tables[1] is for decryption.\n           *\n           * The first 4 sub-tables are the expanded S-box with MixColumns. The\n           * last (_tables[01][4]) is the S-box itself.\n           *\n           * @private\n           */\n          // if we have yet to precompute the S-box tables\n          // do so now\n\n          if (!aesTables) {\n            aesTables = precompute();\n          } // then make a copy of that object for use\n\n\n          this._tables = [[aesTables[0][0].slice(), aesTables[0][1].slice(), aesTables[0][2].slice(), aesTables[0][3].slice(), aesTables[0][4].slice()], [aesTables[1][0].slice(), aesTables[1][1].slice(), aesTables[1][2].slice(), aesTables[1][3].slice(), aesTables[1][4].slice()]];\n          var i = void 0;\n          var j = void 0;\n          var tmp = void 0;\n          var encKey = void 0;\n          var decKey = void 0;\n          var sbox = this._tables[0][4];\n          var decTable = this._tables[1];\n          var keyLen = key.length;\n          var rcon = 1;\n\n          if (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\n            throw new Error('Invalid aes key size');\n          }\n\n          encKey = key.slice(0);\n          decKey = [];\n          this._key = [encKey, decKey]; // schedule encryption keys\n\n          for (i = keyLen; i < 4 * keyLen + 28; i++) {\n            tmp = encKey[i - 1]; // apply sbox\n\n            if (i % keyLen === 0 || keyLen === 8 && i % keyLen === 4) {\n              tmp = sbox[tmp >>> 24] << 24 ^ sbox[tmp >> 16 & 255] << 16 ^ sbox[tmp >> 8 & 255] << 8 ^ sbox[tmp & 255]; // shift rows and add rcon\n\n              if (i % keyLen === 0) {\n                tmp = tmp << 8 ^ tmp >>> 24 ^ rcon << 24;\n                rcon = rcon << 1 ^ (rcon >> 7) * 283;\n              }\n            }\n\n            encKey[i] = encKey[i - keyLen] ^ tmp;\n          } // schedule decryption keys\n\n\n          for (j = 0; i; j++, i--) {\n            tmp = encKey[j & 3 ? i : i - 4];\n\n            if (i <= 4 || j < 4) {\n              decKey[j] = tmp;\n            } else {\n              decKey[j] = decTable[0][sbox[tmp >>> 24]] ^ decTable[1][sbox[tmp >> 16 & 255]] ^ decTable[2][sbox[tmp >> 8 & 255]] ^ decTable[3][sbox[tmp & 255]];\n            }\n          }\n        }\n        /**\n         * Decrypt 16 bytes, specified as four 32-bit words.\n         *\n         * @param {Number} encrypted0 the first word to decrypt\n         * @param {Number} encrypted1 the second word to decrypt\n         * @param {Number} encrypted2 the third word to decrypt\n         * @param {Number} encrypted3 the fourth word to decrypt\n         * @param {Int32Array} out the array to write the decrypted words\n         * into\n         * @param {Number} offset the offset into the output array to start\n         * writing results\n         * @return {Array} The plaintext.\n         */\n\n\n        AES.prototype.decrypt = function decrypt$$1(encrypted0, encrypted1, encrypted2, encrypted3, out, offset) {\n          var key = this._key[1]; // state variables a,b,c,d are loaded with pre-whitened data\n\n          var a = encrypted0 ^ key[0];\n          var b = encrypted3 ^ key[1];\n          var c = encrypted2 ^ key[2];\n          var d = encrypted1 ^ key[3];\n          var a2 = void 0;\n          var b2 = void 0;\n          var c2 = void 0; // key.length === 2 ?\n\n          var nInnerRounds = key.length / 4 - 2;\n          var i = void 0;\n          var kIndex = 4;\n          var table = this._tables[1]; // load up the tables\n\n          var table0 = table[0];\n          var table1 = table[1];\n          var table2 = table[2];\n          var table3 = table[3];\n          var sbox = table[4]; // Inner rounds. Cribbed from OpenSSL.\n\n          for (i = 0; i < nInnerRounds; i++) {\n            a2 = table0[a >>> 24] ^ table1[b >> 16 & 255] ^ table2[c >> 8 & 255] ^ table3[d & 255] ^ key[kIndex];\n            b2 = table0[b >>> 24] ^ table1[c >> 16 & 255] ^ table2[d >> 8 & 255] ^ table3[a & 255] ^ key[kIndex + 1];\n            c2 = table0[c >>> 24] ^ table1[d >> 16 & 255] ^ table2[a >> 8 & 255] ^ table3[b & 255] ^ key[kIndex + 2];\n            d = table0[d >>> 24] ^ table1[a >> 16 & 255] ^ table2[b >> 8 & 255] ^ table3[c & 255] ^ key[kIndex + 3];\n            kIndex += 4;\n            a = a2;\n            b = b2;\n            c = c2;\n          } // Last round.\n\n\n          for (i = 0; i < 4; i++) {\n            out[(3 & -i) + offset] = sbox[a >>> 24] << 24 ^ sbox[b >> 16 & 255] << 16 ^ sbox[c >> 8 & 255] << 8 ^ sbox[d & 255] ^ key[kIndex++];\n            a2 = a;\n            a = b;\n            b = c;\n            c = d;\n            d = a2;\n          }\n        };\n\n        return AES;\n      }();\n      /**\n       * @file stream.js\n       */\n\n      /**\n       * A lightweight readable stream implemention that handles event dispatching.\n       *\n       * @class Stream\n       */\n\n\n      var Stream = function () {\n        function Stream() {\n          classCallCheck(this, Stream);\n          this.listeners = {};\n        }\n        /**\n         * Add a listener for a specified event type.\n         *\n         * @param {String} type the event name\n         * @param {Function} listener the callback to be invoked when an event of\n         * the specified type occurs\n         */\n\n\n        Stream.prototype.on = function on(type, listener) {\n          if (!this.listeners[type]) {\n            this.listeners[type] = [];\n          }\n\n          this.listeners[type].push(listener);\n        };\n        /**\n         * Remove a listener for a specified event type.\n         *\n         * @param {String} type the event name\n         * @param {Function} listener  a function previously registered for this\n         * type of event through `on`\n         * @return {Boolean} if we could turn it off or not\n         */\n\n\n        Stream.prototype.off = function off(type, listener) {\n          if (!this.listeners[type]) {\n            return false;\n          }\n\n          var index = this.listeners[type].indexOf(listener);\n          this.listeners[type].splice(index, 1);\n          return index > -1;\n        };\n        /**\n         * Trigger an event of the specified type on this stream. Any additional\n         * arguments to this function are passed as parameters to event listeners.\n         *\n         * @param {String} type the event name\n         */\n\n\n        Stream.prototype.trigger = function trigger(type) {\n          var callbacks = this.listeners[type];\n\n          if (!callbacks) {\n            return;\n          } // Slicing the arguments on every invocation of this method\n          // can add a significant amount of overhead. Avoid the\n          // intermediate object creation for the common case of a\n          // single callback argument\n\n\n          if (arguments.length === 2) {\n            var length = callbacks.length;\n\n            for (var i = 0; i < length; ++i) {\n              callbacks[i].call(this, arguments[1]);\n            }\n          } else {\n            var args = Array.prototype.slice.call(arguments, 1);\n            var _length = callbacks.length;\n\n            for (var _i = 0; _i < _length; ++_i) {\n              callbacks[_i].apply(this, args);\n            }\n          }\n        };\n        /**\n         * Destroys the stream and cleans up.\n         */\n\n\n        Stream.prototype.dispose = function dispose() {\n          this.listeners = {};\n        };\n        /**\n         * Forwards all `data` events on this stream to the destination stream. The\n         * destination stream should provide a method `push` to receive the data\n         * events as they arrive.\n         *\n         * @param {Stream} destination the stream that will receive all `data` events\n         * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n         */\n\n\n        Stream.prototype.pipe = function pipe(destination) {\n          this.on('data', function (data) {\n            destination.push(data);\n          });\n        };\n\n        return Stream;\n      }();\n      /**\n       * @file async-stream.js\n       */\n\n      /**\n       * A wrapper around the Stream class to use setTiemout\n       * and run stream \"jobs\" Asynchronously\n       *\n       * @class AsyncStream\n       * @extends Stream\n       */\n\n\n      var AsyncStream$$1 = function (_Stream) {\n        inherits(AsyncStream$$1, _Stream);\n\n        function AsyncStream$$1() {\n          classCallCheck(this, AsyncStream$$1);\n\n          var _this = possibleConstructorReturn(this, _Stream.call(this, Stream));\n\n          _this.jobs = [];\n          _this.delay = 1;\n          _this.timeout_ = null;\n          return _this;\n        }\n        /**\n         * process an async job\n         *\n         * @private\n         */\n\n\n        AsyncStream$$1.prototype.processJob_ = function processJob_() {\n          this.jobs.shift()();\n\n          if (this.jobs.length) {\n            this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n          } else {\n            this.timeout_ = null;\n          }\n        };\n        /**\n         * push a job into the stream\n         *\n         * @param {Function} job the job to push into the stream\n         */\n\n\n        AsyncStream$$1.prototype.push = function push(job) {\n          this.jobs.push(job);\n\n          if (!this.timeout_) {\n            this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n          }\n        };\n\n        return AsyncStream$$1;\n      }(Stream);\n      /**\n       * @file decrypter.js\n       *\n       * An asynchronous implementation of AES-128 CBC decryption with\n       * PKCS#7 padding.\n       */\n\n      /**\n       * Convert network-order (big-endian) bytes into their little-endian\n       * representation.\n       */\n\n\n      var ntoh = function ntoh(word) {\n        return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;\n      };\n      /**\n       * Decrypt bytes using AES-128 with CBC and PKCS#7 padding.\n       *\n       * @param {Uint8Array} encrypted the encrypted bytes\n       * @param {Uint32Array} key the bytes of the decryption key\n       * @param {Uint32Array} initVector the initialization vector (IV) to\n       * use for the first round of CBC.\n       * @return {Uint8Array} the decrypted bytes\n       *\n       * @see http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\n       * @see http://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_Block_Chaining_.28CBC.29\n       * @see https://tools.ietf.org/html/rfc2315\n       */\n\n\n      var decrypt$$1 = function decrypt$$1(encrypted, key, initVector) {\n        // word-level access to the encrypted bytes\n        var encrypted32 = new Int32Array(encrypted.buffer, encrypted.byteOffset, encrypted.byteLength >> 2);\n        var decipher = new AES(Array.prototype.slice.call(key)); // byte and word-level access for the decrypted output\n\n        var decrypted = new Uint8Array(encrypted.byteLength);\n        var decrypted32 = new Int32Array(decrypted.buffer); // temporary variables for working with the IV, encrypted, and\n        // decrypted data\n\n        var init0 = void 0;\n        var init1 = void 0;\n        var init2 = void 0;\n        var init3 = void 0;\n        var encrypted0 = void 0;\n        var encrypted1 = void 0;\n        var encrypted2 = void 0;\n        var encrypted3 = void 0; // iteration variable\n\n        var wordIx = void 0; // pull out the words of the IV to ensure we don't modify the\n        // passed-in reference and easier access\n\n        init0 = initVector[0];\n        init1 = initVector[1];\n        init2 = initVector[2];\n        init3 = initVector[3]; // decrypt four word sequences, applying cipher-block chaining (CBC)\n        // to each decrypted block\n\n        for (wordIx = 0; wordIx < encrypted32.length; wordIx += 4) {\n          // convert big-endian (network order) words into little-endian\n          // (javascript order)\n          encrypted0 = ntoh(encrypted32[wordIx]);\n          encrypted1 = ntoh(encrypted32[wordIx + 1]);\n          encrypted2 = ntoh(encrypted32[wordIx + 2]);\n          encrypted3 = ntoh(encrypted32[wordIx + 3]); // decrypt the block\n\n          decipher.decrypt(encrypted0, encrypted1, encrypted2, encrypted3, decrypted32, wordIx); // XOR with the IV, and restore network byte-order to obtain the\n          // plaintext\n\n          decrypted32[wordIx] = ntoh(decrypted32[wordIx] ^ init0);\n          decrypted32[wordIx + 1] = ntoh(decrypted32[wordIx + 1] ^ init1);\n          decrypted32[wordIx + 2] = ntoh(decrypted32[wordIx + 2] ^ init2);\n          decrypted32[wordIx + 3] = ntoh(decrypted32[wordIx + 3] ^ init3); // setup the IV for the next round\n\n          init0 = encrypted0;\n          init1 = encrypted1;\n          init2 = encrypted2;\n          init3 = encrypted3;\n        }\n\n        return decrypted;\n      };\n      /**\n       * The `Decrypter` class that manages decryption of AES\n       * data through `AsyncStream` objects and the `decrypt`\n       * function\n       *\n       * @param {Uint8Array} encrypted the encrypted bytes\n       * @param {Uint32Array} key the bytes of the decryption key\n       * @param {Uint32Array} initVector the initialization vector (IV) to\n       * @param {Function} done the function to run when done\n       * @class Decrypter\n       */\n\n\n      var Decrypter$$1 = function () {\n        function Decrypter$$1(encrypted, key, initVector, done) {\n          classCallCheck(this, Decrypter$$1);\n          var step = Decrypter$$1.STEP;\n          var encrypted32 = new Int32Array(encrypted.buffer);\n          var decrypted = new Uint8Array(encrypted.byteLength);\n          var i = 0;\n          this.asyncStream_ = new AsyncStream$$1(); // split up the encryption job and do the individual chunks asynchronously\n\n          this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n\n          for (i = step; i < encrypted32.length; i += step) {\n            initVector = new Uint32Array([ntoh(encrypted32[i - 4]), ntoh(encrypted32[i - 3]), ntoh(encrypted32[i - 2]), ntoh(encrypted32[i - 1])]);\n            this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n          } // invoke the done() callback when everything is finished\n\n\n          this.asyncStream_.push(function () {\n            // remove pkcs#7 padding from the decrypted bytes\n            done(null, unpad(decrypted));\n          });\n        }\n        /**\n         * a getter for step the maximum number of bytes to process at one time\n         *\n         * @return {Number} the value of step 32000\n         */\n\n        /**\n         * @private\n         */\n\n\n        Decrypter$$1.prototype.decryptChunk_ = function decryptChunk_(encrypted, key, initVector, decrypted) {\n          return function () {\n            var bytes = decrypt$$1(encrypted, key, initVector);\n            decrypted.set(bytes, encrypted.byteOffset);\n          };\n        };\n\n        createClass(Decrypter$$1, null, [{\n          key: 'STEP',\n          get: function get$$1() {\n            // 4 * 8000;\n            return 32000;\n          }\n        }]);\n        return Decrypter$$1;\n      }();\n      /**\n       * @file bin-utils.js\n       */\n\n      /**\n       * Creates an object for sending to a web worker modifying properties that are TypedArrays\n       * into a new object with seperated properties for the buffer, byteOffset, and byteLength.\n       *\n       * @param {Object} message\n       *        Object of properties and values to send to the web worker\n       * @return {Object}\n       *         Modified message with TypedArray values expanded\n       * @function createTransferableMessage\n       */\n\n\n      var createTransferableMessage = function createTransferableMessage(message) {\n        var transferable = {};\n        Object.keys(message).forEach(function (key) {\n          var value = message[key];\n\n          if (ArrayBuffer.isView(value)) {\n            transferable[key] = {\n              bytes: value.buffer,\n              byteOffset: value.byteOffset,\n              byteLength: value.byteLength\n            };\n          } else {\n            transferable[key] = value;\n          }\n        });\n        return transferable;\n      };\n      /**\n       * Our web worker interface so that things can talk to aes-decrypter\n       * that will be running in a web worker. the scope is passed to this by\n       * webworkify.\n       *\n       * @param {Object} self\n       *        the scope for the web worker\n       */\n\n\n      var DecrypterWorker = function DecrypterWorker(self) {\n        self.onmessage = function (event) {\n          var data = event.data;\n          var encrypted = new Uint8Array(data.encrypted.bytes, data.encrypted.byteOffset, data.encrypted.byteLength);\n          var key = new Uint32Array(data.key.bytes, data.key.byteOffset, data.key.byteLength / 4);\n          var iv = new Uint32Array(data.iv.bytes, data.iv.byteOffset, data.iv.byteLength / 4);\n          /* eslint-disable no-new, handle-callback-err */\n\n          new Decrypter$$1(encrypted, key, iv, function (err, bytes) {\n            self.postMessage(createTransferableMessage({\n              source: data.source,\n              decrypted: bytes\n            }), [bytes.buffer]);\n          });\n          /* eslint-enable */\n        };\n      };\n\n      var decrypterWorker = new DecrypterWorker(self);\n      return decrypterWorker;\n    }();\n  });\n  /**\n   * Convert the properties of an HLS track into an audioTrackKind.\n   *\n   * @private\n   */\n\n  var audioTrackKind_ = function audioTrackKind_(properties) {\n    var kind = properties[\"default\"] ? 'main' : 'alternative';\n\n    if (properties.characteristics && properties.characteristics.indexOf('public.accessibility.describes-video') >= 0) {\n      kind = 'main-desc';\n    }\n\n    return kind;\n  };\n  /**\n   * Pause provided segment loader and playlist loader if active\n   *\n   * @param {SegmentLoader} segmentLoader\n   *        SegmentLoader to pause\n   * @param {Object} mediaType\n   *        Active media type\n   * @function stopLoaders\n   */\n\n\n  var stopLoaders = function stopLoaders(segmentLoader, mediaType) {\n    segmentLoader.abort();\n    segmentLoader.pause();\n\n    if (mediaType && mediaType.activePlaylistLoader) {\n      mediaType.activePlaylistLoader.pause();\n      mediaType.activePlaylistLoader = null;\n    }\n  };\n  /**\n   * Start loading provided segment loader and playlist loader\n   *\n   * @param {PlaylistLoader} playlistLoader\n   *        PlaylistLoader to start loading\n   * @param {Object} mediaType\n   *        Active media type\n   * @function startLoaders\n   */\n\n\n  var startLoaders = function startLoaders(playlistLoader, mediaType) {\n    // Segment loader will be started after `loadedmetadata` or `loadedplaylist` from the\n    // playlist loader\n    mediaType.activePlaylistLoader = playlistLoader;\n    playlistLoader.load();\n  };\n  /**\n   * Returns a function to be called when the media group changes. It performs a\n   * non-destructive (preserve the buffer) resync of the SegmentLoader. This is because a\n   * change of group is merely a rendition switch of the same content at another encoding,\n   * rather than a change of content, such as switching audio from English to Spanish.\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @return {Function}\n   *         Handler for a non-destructive resync of SegmentLoader when the active media\n   *         group changes.\n   * @function onGroupChanged\n   */\n\n\n  var onGroupChanged = function onGroupChanged(type, settings) {\n    return function () {\n      var _settings$segmentLoad = settings.segmentLoaders,\n          segmentLoader = _settings$segmentLoad[type],\n          mainSegmentLoader = _settings$segmentLoad.main,\n          mediaType = settings.mediaTypes[type];\n      var activeTrack = mediaType.activeTrack();\n      var activeGroup = mediaType.activeGroup(activeTrack);\n      var previousActiveLoader = mediaType.activePlaylistLoader;\n      stopLoaders(segmentLoader, mediaType);\n\n      if (!activeGroup) {\n        // there is no group active\n        return;\n      }\n\n      if (!activeGroup.playlistLoader) {\n        if (previousActiveLoader) {\n          // The previous group had a playlist loader but the new active group does not\n          // this means we are switching from demuxed to muxed audio. In this case we want to\n          // do a destructive reset of the main segment loader and not restart the audio\n          // loaders.\n          mainSegmentLoader.resetEverything();\n        }\n\n        return;\n      } // Non-destructive resync\n\n\n      segmentLoader.resyncLoader();\n      startLoaders(activeGroup.playlistLoader, mediaType);\n    };\n  };\n  /**\n   * Returns a function to be called when the media track changes. It performs a\n   * destructive reset of the SegmentLoader to ensure we start loading as close to\n   * currentTime as possible.\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @return {Function}\n   *         Handler for a destructive reset of SegmentLoader when the active media\n   *         track changes.\n   * @function onTrackChanged\n   */\n\n\n  var onTrackChanged = function onTrackChanged(type, settings) {\n    return function () {\n      var _settings$segmentLoad2 = settings.segmentLoaders,\n          segmentLoader = _settings$segmentLoad2[type],\n          mainSegmentLoader = _settings$segmentLoad2.main,\n          mediaType = settings.mediaTypes[type];\n      var activeTrack = mediaType.activeTrack();\n      var activeGroup = mediaType.activeGroup(activeTrack);\n      var previousActiveLoader = mediaType.activePlaylistLoader;\n      stopLoaders(segmentLoader, mediaType);\n\n      if (!activeGroup) {\n        // there is no group active so we do not want to restart loaders\n        return;\n      }\n\n      if (!activeGroup.playlistLoader) {\n        // when switching from demuxed audio/video to muxed audio/video (noted by no playlist\n        // loader for the audio group), we want to do a destructive reset of the main segment\n        // loader and not restart the audio loaders\n        mainSegmentLoader.resetEverything();\n        return;\n      }\n\n      if (previousActiveLoader === activeGroup.playlistLoader) {\n        // Nothing has actually changed. This can happen because track change events can fire\n        // multiple times for a \"single\" change. One for enabling the new active track, and\n        // one for disabling the track that was active\n        startLoaders(activeGroup.playlistLoader, mediaType);\n        return;\n      }\n\n      if (segmentLoader.track) {\n        // For WebVTT, set the new text track in the segmentloader\n        segmentLoader.track(activeTrack);\n      } // destructive reset\n\n\n      segmentLoader.resetEverything();\n      startLoaders(activeGroup.playlistLoader, mediaType);\n    };\n  };\n\n  var onError = {\n    /**\n     * Returns a function to be called when a SegmentLoader or PlaylistLoader encounters\n     * an error.\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @return {Function}\n     *         Error handler. Logs warning (or error if the playlist is blacklisted) to\n     *         console and switches back to default audio track.\n     * @function onError.AUDIO\n     */\n    AUDIO: function AUDIO(type, settings) {\n      return function () {\n        var segmentLoader = settings.segmentLoaders[type],\n            mediaType = settings.mediaTypes[type],\n            blacklistCurrentPlaylist = settings.blacklistCurrentPlaylist;\n        stopLoaders(segmentLoader, mediaType); // switch back to default audio track\n\n        var activeTrack = mediaType.activeTrack();\n        var activeGroup = mediaType.activeGroup();\n        var id = (activeGroup.filter(function (group) {\n          return group[\"default\"];\n        })[0] || activeGroup[0]).id;\n        var defaultTrack = mediaType.tracks[id];\n\n        if (activeTrack === defaultTrack) {\n          // Default track encountered an error. All we can do now is blacklist the current\n          // rendition and hope another will switch audio groups\n          blacklistCurrentPlaylist({\n            message: 'Problem encountered loading the default audio track.'\n          });\n          return;\n        }\n\n        videojs$1.log.warn('Problem encountered loading the alternate audio track.' + 'Switching back to default.');\n\n        for (var trackId in mediaType.tracks) {\n          mediaType.tracks[trackId].enabled = mediaType.tracks[trackId] === defaultTrack;\n        }\n\n        mediaType.onTrackChanged();\n      };\n    },\n\n    /**\n     * Returns a function to be called when a SegmentLoader or PlaylistLoader encounters\n     * an error.\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @return {Function}\n     *         Error handler. Logs warning to console and disables the active subtitle track\n     * @function onError.SUBTITLES\n     */\n    SUBTITLES: function SUBTITLES(type, settings) {\n      return function () {\n        var segmentLoader = settings.segmentLoaders[type],\n            mediaType = settings.mediaTypes[type];\n        videojs$1.log.warn('Problem encountered loading the subtitle track.' + 'Disabling subtitle track.');\n        stopLoaders(segmentLoader, mediaType);\n        var track = mediaType.activeTrack();\n\n        if (track) {\n          track.mode = 'disabled';\n        }\n\n        mediaType.onTrackChanged();\n      };\n    }\n  };\n  var setupListeners = {\n    /**\n     * Setup event listeners for audio playlist loader\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {PlaylistLoader|null} playlistLoader\n     *        PlaylistLoader to register listeners on\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @function setupListeners.AUDIO\n     */\n    AUDIO: function AUDIO(type, playlistLoader, settings) {\n      if (!playlistLoader) {\n        // no playlist loader means audio will be muxed with the video\n        return;\n      }\n\n      var tech = settings.tech,\n          requestOptions = settings.requestOptions,\n          segmentLoader = settings.segmentLoaders[type];\n      playlistLoader.on('loadedmetadata', function () {\n        var media = playlistLoader.media();\n        segmentLoader.playlist(media, requestOptions); // if the video is already playing, or if this isn't a live video and preload\n        // permits, start downloading segments\n\n        if (!tech.paused() || media.endList && tech.preload() !== 'none') {\n          segmentLoader.load();\n        }\n      });\n      playlistLoader.on('loadedplaylist', function () {\n        segmentLoader.playlist(playlistLoader.media(), requestOptions); // If the player isn't paused, ensure that the segment loader is running\n\n        if (!tech.paused()) {\n          segmentLoader.load();\n        }\n      });\n      playlistLoader.on('error', onError[type](type, settings));\n    },\n\n    /**\n     * Setup event listeners for subtitle playlist loader\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {PlaylistLoader|null} playlistLoader\n     *        PlaylistLoader to register listeners on\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @function setupListeners.SUBTITLES\n     */\n    SUBTITLES: function SUBTITLES(type, playlistLoader, settings) {\n      var tech = settings.tech,\n          requestOptions = settings.requestOptions,\n          segmentLoader = settings.segmentLoaders[type],\n          mediaType = settings.mediaTypes[type];\n      playlistLoader.on('loadedmetadata', function () {\n        var media = playlistLoader.media();\n        segmentLoader.playlist(media, requestOptions);\n        segmentLoader.track(mediaType.activeTrack()); // if the video is already playing, or if this isn't a live video and preload\n        // permits, start downloading segments\n\n        if (!tech.paused() || media.endList && tech.preload() !== 'none') {\n          segmentLoader.load();\n        }\n      });\n      playlistLoader.on('loadedplaylist', function () {\n        segmentLoader.playlist(playlistLoader.media(), requestOptions); // If the player isn't paused, ensure that the segment loader is running\n\n        if (!tech.paused()) {\n          segmentLoader.load();\n        }\n      });\n      playlistLoader.on('error', onError[type](type, settings));\n    }\n  };\n  var initialize = {\n    /**\n     * Setup PlaylistLoaders and AudioTracks for the audio groups\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @function initialize.AUDIO\n     */\n    'AUDIO': function AUDIO(type, settings) {\n      var hls = settings.hls,\n          sourceType = settings.sourceType,\n          segmentLoader = settings.segmentLoaders[type],\n          requestOptions = settings.requestOptions,\n          mediaGroups = settings.master.mediaGroups,\n          _settings$mediaTypes$ = settings.mediaTypes[type],\n          groups = _settings$mediaTypes$.groups,\n          tracks = _settings$mediaTypes$.tracks,\n          masterPlaylistLoader = settings.masterPlaylistLoader; // force a default if we have none\n\n      if (!mediaGroups[type] || Object.keys(mediaGroups[type]).length === 0) {\n        mediaGroups[type] = {\n          main: {\n            \"default\": {\n              \"default\": true\n            }\n          }\n        };\n      }\n\n      for (var groupId in mediaGroups[type]) {\n        if (!groups[groupId]) {\n          groups[groupId] = [];\n        } // List of playlists that have an AUDIO attribute value matching the current\n        // group ID\n\n\n        for (var variantLabel in mediaGroups[type][groupId]) {\n          var properties = mediaGroups[type][groupId][variantLabel];\n          var playlistLoader = void 0;\n\n          if (properties.resolvedUri) {\n            playlistLoader = new PlaylistLoader(properties.resolvedUri, hls, requestOptions);\n          } else if (properties.playlists && sourceType === 'dash') {\n            playlistLoader = new DashPlaylistLoader(properties.playlists[0], hls, requestOptions, masterPlaylistLoader);\n          } else {\n            // no resolvedUri means the audio is muxed with the video when using this\n            // audio track\n            playlistLoader = null;\n          }\n\n          properties = videojs$1.mergeOptions({\n            id: variantLabel,\n            playlistLoader: playlistLoader\n          }, properties);\n          setupListeners[type](type, properties.playlistLoader, settings);\n          groups[groupId].push(properties);\n\n          if (typeof tracks[variantLabel] === 'undefined') {\n            var track = new videojs$1.AudioTrack({\n              id: variantLabel,\n              kind: audioTrackKind_(properties),\n              enabled: false,\n              language: properties.language,\n              \"default\": properties[\"default\"],\n              label: variantLabel\n            });\n            tracks[variantLabel] = track;\n          }\n        }\n      } // setup single error event handler for the segment loader\n\n\n      segmentLoader.on('error', onError[type](type, settings));\n    },\n\n    /**\n     * Setup PlaylistLoaders and TextTracks for the subtitle groups\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @function initialize.SUBTITLES\n     */\n    'SUBTITLES': function SUBTITLES(type, settings) {\n      var tech = settings.tech,\n          hls = settings.hls,\n          sourceType = settings.sourceType,\n          segmentLoader = settings.segmentLoaders[type],\n          requestOptions = settings.requestOptions,\n          mediaGroups = settings.master.mediaGroups,\n          _settings$mediaTypes$2 = settings.mediaTypes[type],\n          groups = _settings$mediaTypes$2.groups,\n          tracks = _settings$mediaTypes$2.tracks,\n          masterPlaylistLoader = settings.masterPlaylistLoader;\n\n      for (var groupId in mediaGroups[type]) {\n        if (!groups[groupId]) {\n          groups[groupId] = [];\n        }\n\n        for (var variantLabel in mediaGroups[type][groupId]) {\n          if (mediaGroups[type][groupId][variantLabel].forced) {\n            // Subtitle playlists with the forced attribute are not selectable in Safari.\n            // According to Apple's HLS Authoring Specification:\n            //   If content has forced subtitles and regular subtitles in a given language,\n            //   the regular subtitles track in that language MUST contain both the forced\n            //   subtitles and the regular subtitles for that language.\n            // Because of this requirement and that Safari does not add forced subtitles,\n            // forced subtitles are skipped here to maintain consistent experience across\n            // all platforms\n            continue;\n          }\n\n          var properties = mediaGroups[type][groupId][variantLabel];\n          var playlistLoader = void 0;\n\n          if (sourceType === 'hls') {\n            playlistLoader = new PlaylistLoader(properties.resolvedUri, hls, requestOptions);\n          } else if (sourceType === 'dash') {\n            playlistLoader = new DashPlaylistLoader(properties.playlists[0], hls, requestOptions, masterPlaylistLoader);\n          }\n\n          properties = videojs$1.mergeOptions({\n            id: variantLabel,\n            playlistLoader: playlistLoader\n          }, properties);\n          setupListeners[type](type, properties.playlistLoader, settings);\n          groups[groupId].push(properties);\n\n          if (typeof tracks[variantLabel] === 'undefined') {\n            var track = tech.addRemoteTextTrack({\n              id: variantLabel,\n              kind: 'subtitles',\n              \"default\": properties[\"default\"] && properties.autoselect,\n              language: properties.language,\n              label: variantLabel\n            }, false).track;\n            tracks[variantLabel] = track;\n          }\n        }\n      } // setup single error event handler for the segment loader\n\n\n      segmentLoader.on('error', onError[type](type, settings));\n    },\n\n    /**\n     * Setup TextTracks for the closed-caption groups\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @function initialize['CLOSED-CAPTIONS']\n     */\n    'CLOSED-CAPTIONS': function CLOSEDCAPTIONS(type, settings) {\n      var tech = settings.tech,\n          mediaGroups = settings.master.mediaGroups,\n          _settings$mediaTypes$3 = settings.mediaTypes[type],\n          groups = _settings$mediaTypes$3.groups,\n          tracks = _settings$mediaTypes$3.tracks;\n\n      for (var groupId in mediaGroups[type]) {\n        if (!groups[groupId]) {\n          groups[groupId] = [];\n        }\n\n        for (var variantLabel in mediaGroups[type][groupId]) {\n          var properties = mediaGroups[type][groupId][variantLabel]; // We only support CEA608 captions for now, so ignore anything that\n          // doesn't use a CCx INSTREAM-ID\n\n          if (!properties.instreamId.match(/CC\\d/)) {\n            continue;\n          } // No PlaylistLoader is required for Closed-Captions because the captions are\n          // embedded within the video stream\n\n\n          groups[groupId].push(videojs$1.mergeOptions({\n            id: variantLabel\n          }, properties));\n\n          if (typeof tracks[variantLabel] === 'undefined') {\n            var track = tech.addRemoteTextTrack({\n              id: properties.instreamId,\n              kind: 'captions',\n              \"default\": properties[\"default\"] && properties.autoselect,\n              language: properties.language,\n              label: variantLabel\n            }, false).track;\n            tracks[variantLabel] = track;\n          }\n        }\n      }\n    }\n  };\n  /**\n   * Returns a function used to get the active group of the provided type\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @return {Function}\n   *         Function that returns the active media group for the provided type. Takes an\n   *         optional parameter {TextTrack} track. If no track is provided, a list of all\n   *         variants in the group, otherwise the variant corresponding to the provided\n   *         track is returned.\n   * @function activeGroup\n   */\n\n  var activeGroup = function activeGroup(type, settings) {\n    return function (track) {\n      var masterPlaylistLoader = settings.masterPlaylistLoader,\n          groups = settings.mediaTypes[type].groups;\n      var media = masterPlaylistLoader.media();\n\n      if (!media) {\n        return null;\n      }\n\n      var variants = null;\n\n      if (media.attributes[type]) {\n        variants = groups[media.attributes[type]];\n      }\n\n      variants = variants || groups.main;\n\n      if (typeof track === 'undefined') {\n        return variants;\n      }\n\n      if (track === null) {\n        // An active track was specified so a corresponding group is expected. track === null\n        // means no track is currently active so there is no corresponding group\n        return null;\n      }\n\n      return variants.filter(function (props) {\n        return props.id === track.id;\n      })[0] || null;\n    };\n  };\n\n  var activeTrack = {\n    /**\n     * Returns a function used to get the active track of type provided\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @return {Function}\n     *         Function that returns the active media track for the provided type. Returns\n     *         null if no track is active\n     * @function activeTrack.AUDIO\n     */\n    AUDIO: function AUDIO(type, settings) {\n      return function () {\n        var tracks = settings.mediaTypes[type].tracks;\n\n        for (var id in tracks) {\n          if (tracks[id].enabled) {\n            return tracks[id];\n          }\n        }\n\n        return null;\n      };\n    },\n\n    /**\n     * Returns a function used to get the active track of type provided\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @return {Function}\n     *         Function that returns the active media track for the provided type. Returns\n     *         null if no track is active\n     * @function activeTrack.SUBTITLES\n     */\n    SUBTITLES: function SUBTITLES(type, settings) {\n      return function () {\n        var tracks = settings.mediaTypes[type].tracks;\n\n        for (var id in tracks) {\n          if (tracks[id].mode === 'showing') {\n            return tracks[id];\n          }\n        }\n\n        return null;\n      };\n    }\n  };\n  /**\n   * Setup PlaylistLoaders and Tracks for media groups (Audio, Subtitles,\n   * Closed-Captions) specified in the master manifest.\n   *\n   * @param {Object} settings\n   *        Object containing required information for setting up the media groups\n   * @param {SegmentLoader} settings.segmentLoaders.AUDIO\n   *        Audio segment loader\n   * @param {SegmentLoader} settings.segmentLoaders.SUBTITLES\n   *        Subtitle segment loader\n   * @param {SegmentLoader} settings.segmentLoaders.main\n   *        Main segment loader\n   * @param {Tech} settings.tech\n   *        The tech of the player\n   * @param {Object} settings.requestOptions\n   *        XHR request options used by the segment loaders\n   * @param {PlaylistLoader} settings.masterPlaylistLoader\n   *        PlaylistLoader for the master source\n   * @param {HlsHandler} settings.hls\n   *        HLS SourceHandler\n   * @param {Object} settings.master\n   *        The parsed master manifest\n   * @param {Object} settings.mediaTypes\n   *        Object to store the loaders, tracks, and utility methods for each media type\n   * @param {Function} settings.blacklistCurrentPlaylist\n   *        Blacklists the current rendition and forces a rendition switch.\n   * @function setupMediaGroups\n   */\n\n  var setupMediaGroups = function setupMediaGroups(settings) {\n    ['AUDIO', 'SUBTITLES', 'CLOSED-CAPTIONS'].forEach(function (type) {\n      initialize[type](type, settings);\n    });\n    var mediaTypes = settings.mediaTypes,\n        masterPlaylistLoader = settings.masterPlaylistLoader,\n        tech = settings.tech,\n        hls = settings.hls; // setup active group and track getters and change event handlers\n\n    ['AUDIO', 'SUBTITLES'].forEach(function (type) {\n      mediaTypes[type].activeGroup = activeGroup(type, settings);\n      mediaTypes[type].activeTrack = activeTrack[type](type, settings);\n      mediaTypes[type].onGroupChanged = onGroupChanged(type, settings);\n      mediaTypes[type].onTrackChanged = onTrackChanged(type, settings);\n    }); // DO NOT enable the default subtitle or caption track.\n    // DO enable the default audio track\n\n    var audioGroup = mediaTypes.AUDIO.activeGroup();\n    var groupId = (audioGroup.filter(function (group) {\n      return group[\"default\"];\n    })[0] || audioGroup[0]).id;\n    mediaTypes.AUDIO.tracks[groupId].enabled = true;\n    mediaTypes.AUDIO.onTrackChanged();\n    masterPlaylistLoader.on('mediachange', function () {\n      ['AUDIO', 'SUBTITLES'].forEach(function (type) {\n        return mediaTypes[type].onGroupChanged();\n      });\n    }); // custom audio track change event handler for usage event\n\n    var onAudioTrackChanged = function onAudioTrackChanged() {\n      mediaTypes.AUDIO.onTrackChanged();\n      tech.trigger({\n        type: 'usage',\n        name: 'hls-audio-change'\n      });\n    };\n\n    tech.audioTracks().addEventListener('change', onAudioTrackChanged);\n    tech.remoteTextTracks().addEventListener('change', mediaTypes.SUBTITLES.onTrackChanged);\n    hls.on('dispose', function () {\n      tech.audioTracks().removeEventListener('change', onAudioTrackChanged);\n      tech.remoteTextTracks().removeEventListener('change', mediaTypes.SUBTITLES.onTrackChanged);\n    }); // clear existing audio tracks and add the ones we just created\n\n    tech.clearTracks('audio');\n\n    for (var id in mediaTypes.AUDIO.tracks) {\n      tech.audioTracks().addTrack(mediaTypes.AUDIO.tracks[id]);\n    }\n  };\n  /**\n   * Creates skeleton object used to store the loaders, tracks, and utility methods for each\n   * media type\n   *\n   * @return {Object}\n   *         Object to store the loaders, tracks, and utility methods for each media type\n   * @function createMediaTypes\n   */\n\n\n  var createMediaTypes = function createMediaTypes() {\n    var mediaTypes = {};\n    ['AUDIO', 'SUBTITLES', 'CLOSED-CAPTIONS'].forEach(function (type) {\n      mediaTypes[type] = {\n        groups: {},\n        tracks: {},\n        activePlaylistLoader: null,\n        activeGroup: noop$1,\n        activeTrack: noop$1,\n        onGroupChanged: noop$1,\n        onTrackChanged: noop$1\n      };\n    });\n    return mediaTypes;\n  };\n  /**\n   * @file master-playlist-controller.js\n   */\n\n\n  var ABORT_EARLY_BLACKLIST_SECONDS = 60 * 2;\n  var Hls = void 0; // SegmentLoader stats that need to have each loader's\n  // values summed to calculate the final value\n\n  var loaderStats = ['mediaRequests', 'mediaRequestsAborted', 'mediaRequestsTimedout', 'mediaRequestsErrored', 'mediaTransferDuration', 'mediaBytesTransferred'];\n\n  var sumLoaderStat = function sumLoaderStat(stat) {\n    return this.audioSegmentLoader_[stat] + this.mainSegmentLoader_[stat];\n  };\n  /**\n   * the master playlist controller controller all interactons\n   * between playlists and segmentloaders. At this time this mainly\n   * involves a master playlist and a series of audio playlists\n   * if they are available\n   *\n   * @class MasterPlaylistController\n   * @extends videojs.EventTarget\n   */\n\n\n  var MasterPlaylistController = function (_videojs$EventTarget) {\n    inherits$1(MasterPlaylistController, _videojs$EventTarget);\n\n    function MasterPlaylistController(options) {\n      classCallCheck$1(this, MasterPlaylistController);\n\n      var _this = possibleConstructorReturn$1(this, (MasterPlaylistController.__proto__ || Object.getPrototypeOf(MasterPlaylistController)).call(this));\n\n      var url = options.url,\n          handleManifestRedirects = options.handleManifestRedirects,\n          withCredentials = options.withCredentials,\n          tech = options.tech,\n          bandwidth = options.bandwidth,\n          externHls = options.externHls,\n          useCueTags = options.useCueTags,\n          blacklistDuration = options.blacklistDuration,\n          enableLowInitialPlaylist = options.enableLowInitialPlaylist,\n          sourceType = options.sourceType,\n          seekTo = options.seekTo,\n          cacheEncryptionKeys = options.cacheEncryptionKeys;\n\n      if (!url) {\n        throw new Error('A non-empty playlist URL is required');\n      }\n\n      Hls = externHls;\n      _this.withCredentials = withCredentials;\n      _this.tech_ = tech;\n      _this.hls_ = tech.hls;\n      _this.seekTo_ = seekTo;\n      _this.sourceType_ = sourceType;\n      _this.useCueTags_ = useCueTags;\n      _this.blacklistDuration = blacklistDuration;\n      _this.enableLowInitialPlaylist = enableLowInitialPlaylist;\n\n      if (_this.useCueTags_) {\n        _this.cueTagsTrack_ = _this.tech_.addTextTrack('metadata', 'ad-cues');\n        _this.cueTagsTrack_.inBandMetadataTrackDispatchType = '';\n      }\n\n      _this.requestOptions_ = {\n        withCredentials: withCredentials,\n        handleManifestRedirects: handleManifestRedirects,\n        timeout: null\n      };\n      _this.mediaTypes_ = createMediaTypes();\n      _this.mediaSource = new videojs$1.MediaSource(); // load the media source into the player\n\n      _this.mediaSource.addEventListener('sourceopen', _this.handleSourceOpen_.bind(_this));\n\n      _this.seekable_ = videojs$1.createTimeRanges();\n\n      _this.hasPlayed_ = function () {\n        return false;\n      };\n\n      _this.syncController_ = new SyncController(options);\n      _this.segmentMetadataTrack_ = tech.addRemoteTextTrack({\n        kind: 'metadata',\n        label: 'segment-metadata'\n      }, false).track;\n      _this.decrypter_ = new Decrypter$1();\n      _this.inbandTextTracks_ = {};\n      var segmentLoaderSettings = {\n        hls: _this.hls_,\n        mediaSource: _this.mediaSource,\n        currentTime: _this.tech_.currentTime.bind(_this.tech_),\n        seekable: function seekable$$1() {\n          return _this.seekable();\n        },\n        seeking: function seeking() {\n          return _this.tech_.seeking();\n        },\n        duration: function duration$$1() {\n          return _this.mediaSource.duration;\n        },\n        hasPlayed: function hasPlayed() {\n          return _this.hasPlayed_();\n        },\n        goalBufferLength: function goalBufferLength() {\n          return _this.goalBufferLength();\n        },\n        bandwidth: bandwidth,\n        syncController: _this.syncController_,\n        decrypter: _this.decrypter_,\n        sourceType: _this.sourceType_,\n        inbandTextTracks: _this.inbandTextTracks_,\n        cacheEncryptionKeys: cacheEncryptionKeys\n      };\n      _this.masterPlaylistLoader_ = _this.sourceType_ === 'dash' ? new DashPlaylistLoader(url, _this.hls_, _this.requestOptions_) : new PlaylistLoader(url, _this.hls_, _this.requestOptions_);\n\n      _this.setupMasterPlaylistLoaderListeners_(); // setup segment loaders\n      // combined audio/video or just video when alternate audio track is selected\n\n\n      _this.mainSegmentLoader_ = new SegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings, {\n        segmentMetadataTrack: _this.segmentMetadataTrack_,\n        loaderType: 'main'\n      }), options); // alternate audio track\n\n      _this.audioSegmentLoader_ = new SegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings, {\n        loaderType: 'audio'\n      }), options);\n      _this.subtitleSegmentLoader_ = new VTTSegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings, {\n        loaderType: 'vtt'\n      }), options);\n\n      _this.setupSegmentLoaderListeners_(); // Create SegmentLoader stat-getters\n\n\n      loaderStats.forEach(function (stat) {\n        _this[stat + '_'] = sumLoaderStat.bind(_this, stat);\n      });\n      _this.logger_ = logger('MPC');\n\n      _this.masterPlaylistLoader_.load();\n\n      return _this;\n    }\n    /**\n     * Register event handlers on the master playlist loader. A helper\n     * function for construction time.\n     *\n     * @private\n     */\n\n\n    createClass$1(MasterPlaylistController, [{\n      key: 'setupMasterPlaylistLoaderListeners_',\n      value: function setupMasterPlaylistLoaderListeners_() {\n        var _this2 = this;\n\n        this.masterPlaylistLoader_.on('loadedmetadata', function () {\n          var media = _this2.masterPlaylistLoader_.media();\n\n          var requestTimeout = media.targetDuration * 1.5 * 1000; // If we don't have any more available playlists, we don't want to\n          // timeout the request.\n\n          if (isLowestEnabledRendition(_this2.masterPlaylistLoader_.master, _this2.masterPlaylistLoader_.media())) {\n            _this2.requestOptions_.timeout = 0;\n          } else {\n            _this2.requestOptions_.timeout = requestTimeout;\n          } // if this isn't a live video and preload permits, start\n          // downloading segments\n\n\n          if (media.endList && _this2.tech_.preload() !== 'none') {\n            _this2.mainSegmentLoader_.playlist(media, _this2.requestOptions_);\n\n            _this2.mainSegmentLoader_.load();\n          }\n\n          setupMediaGroups({\n            sourceType: _this2.sourceType_,\n            segmentLoaders: {\n              AUDIO: _this2.audioSegmentLoader_,\n              SUBTITLES: _this2.subtitleSegmentLoader_,\n              main: _this2.mainSegmentLoader_\n            },\n            tech: _this2.tech_,\n            requestOptions: _this2.requestOptions_,\n            masterPlaylistLoader: _this2.masterPlaylistLoader_,\n            hls: _this2.hls_,\n            master: _this2.master(),\n            mediaTypes: _this2.mediaTypes_,\n            blacklistCurrentPlaylist: _this2.blacklistCurrentPlaylist.bind(_this2)\n          });\n\n          _this2.triggerPresenceUsage_(_this2.master(), media);\n\n          try {\n            _this2.setupSourceBuffers_();\n          } catch (e) {\n            videojs$1.log.warn('Failed to create SourceBuffers', e);\n            return _this2.mediaSource.endOfStream('decode');\n          }\n\n          _this2.setupFirstPlay();\n\n          if (!_this2.mediaTypes_.AUDIO.activePlaylistLoader || _this2.mediaTypes_.AUDIO.activePlaylistLoader.media()) {\n            _this2.trigger('selectedinitialmedia');\n          } else {\n            // We must wait for the active audio playlist loader to\n            // finish setting up before triggering this event so the\n            // representations API and EME setup is correct\n            _this2.mediaTypes_.AUDIO.activePlaylistLoader.one('loadedmetadata', function () {\n              _this2.trigger('selectedinitialmedia');\n            });\n          }\n        });\n        this.masterPlaylistLoader_.on('loadedplaylist', function () {\n          var updatedPlaylist = _this2.masterPlaylistLoader_.media();\n\n          if (!updatedPlaylist) {\n            // blacklist any variants that are not supported by the browser before selecting\n            // an initial media as the playlist selectors do not consider browser support\n            _this2.excludeUnsupportedVariants_();\n\n            var selectedMedia = void 0;\n\n            if (_this2.enableLowInitialPlaylist) {\n              selectedMedia = _this2.selectInitialPlaylist();\n            }\n\n            if (!selectedMedia) {\n              selectedMedia = _this2.selectPlaylist();\n            }\n\n            _this2.initialMedia_ = selectedMedia;\n\n            _this2.masterPlaylistLoader_.media(_this2.initialMedia_);\n\n            return;\n          }\n\n          if (_this2.useCueTags_) {\n            _this2.updateAdCues_(updatedPlaylist);\n          } // TODO: Create a new event on the PlaylistLoader that signals\n          // that the segments have changed in some way and use that to\n          // update the SegmentLoader instead of doing it twice here and\n          // on `mediachange`\n\n\n          _this2.mainSegmentLoader_.playlist(updatedPlaylist, _this2.requestOptions_);\n\n          _this2.updateDuration(); // If the player isn't paused, ensure that the segment loader is running,\n          // as it is possible that it was temporarily stopped while waiting for\n          // a playlist (e.g., in case the playlist errored and we re-requested it).\n\n\n          if (!_this2.tech_.paused()) {\n            _this2.mainSegmentLoader_.load();\n\n            if (_this2.audioSegmentLoader_) {\n              _this2.audioSegmentLoader_.load();\n            }\n          }\n\n          if (!updatedPlaylist.endList) {\n            var addSeekableRange = function addSeekableRange() {\n              var seekable$$1 = _this2.seekable();\n\n              if (seekable$$1.length !== 0) {\n                _this2.mediaSource.addSeekableRange_(seekable$$1.start(0), seekable$$1.end(0));\n              }\n            };\n\n            if (_this2.duration() !== Infinity) {\n              var onDurationchange = function onDurationchange() {\n                if (_this2.duration() === Infinity) {\n                  addSeekableRange();\n                } else {\n                  _this2.tech_.one('durationchange', onDurationchange);\n                }\n              };\n\n              _this2.tech_.one('durationchange', onDurationchange);\n            } else {\n              addSeekableRange();\n            }\n          }\n        });\n        this.masterPlaylistLoader_.on('error', function () {\n          _this2.blacklistCurrentPlaylist(_this2.masterPlaylistLoader_.error);\n        });\n        this.masterPlaylistLoader_.on('mediachanging', function () {\n          _this2.mainSegmentLoader_.abort();\n\n          _this2.mainSegmentLoader_.pause();\n        });\n        this.masterPlaylistLoader_.on('mediachange', function () {\n          var media = _this2.masterPlaylistLoader_.media();\n\n          var requestTimeout = media.targetDuration * 1.5 * 1000; // If we don't have any more available playlists, we don't want to\n          // timeout the request.\n\n          if (isLowestEnabledRendition(_this2.masterPlaylistLoader_.master, _this2.masterPlaylistLoader_.media())) {\n            _this2.requestOptions_.timeout = 0;\n          } else {\n            _this2.requestOptions_.timeout = requestTimeout;\n          } // TODO: Create a new event on the PlaylistLoader that signals\n          // that the segments have changed in some way and use that to\n          // update the SegmentLoader instead of doing it twice here and\n          // on `loadedplaylist`\n\n\n          _this2.mainSegmentLoader_.playlist(media, _this2.requestOptions_);\n\n          _this2.mainSegmentLoader_.load();\n\n          _this2.tech_.trigger({\n            type: 'mediachange',\n            bubbles: true\n          });\n        });\n        this.masterPlaylistLoader_.on('playlistunchanged', function () {\n          var updatedPlaylist = _this2.masterPlaylistLoader_.media();\n\n          var playlistOutdated = _this2.stuckAtPlaylistEnd_(updatedPlaylist);\n\n          if (playlistOutdated) {\n            // Playlist has stopped updating and we're stuck at its end. Try to\n            // blacklist it and switch to another playlist in the hope that that\n            // one is updating (and give the player a chance to re-adjust to the\n            // safe live point).\n            _this2.blacklistCurrentPlaylist({\n              message: 'Playlist no longer updating.'\n            }); // useful for monitoring QoS\n\n\n            _this2.tech_.trigger('playliststuck');\n          }\n        });\n        this.masterPlaylistLoader_.on('renditiondisabled', function () {\n          _this2.tech_.trigger({\n            type: 'usage',\n            name: 'hls-rendition-disabled'\n          });\n        });\n        this.masterPlaylistLoader_.on('renditionenabled', function () {\n          _this2.tech_.trigger({\n            type: 'usage',\n            name: 'hls-rendition-enabled'\n          });\n        });\n      }\n      /**\n       * A helper function for triggerring presence usage events once per source\n       *\n       * @private\n       */\n\n    }, {\n      key: 'triggerPresenceUsage_',\n      value: function triggerPresenceUsage_(master, media) {\n        var mediaGroups = master.mediaGroups || {};\n        var defaultDemuxed = true;\n        var audioGroupKeys = Object.keys(mediaGroups.AUDIO);\n\n        for (var mediaGroup in mediaGroups.AUDIO) {\n          for (var label in mediaGroups.AUDIO[mediaGroup]) {\n            var properties = mediaGroups.AUDIO[mediaGroup][label];\n\n            if (!properties.uri) {\n              defaultDemuxed = false;\n            }\n          }\n        }\n\n        if (defaultDemuxed) {\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-demuxed'\n          });\n        }\n\n        if (Object.keys(mediaGroups.SUBTITLES).length) {\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-webvtt'\n          });\n        }\n\n        if (Hls.Playlist.isAes(media)) {\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-aes'\n          });\n        }\n\n        if (Hls.Playlist.isFmp4(media)) {\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-fmp4'\n          });\n        }\n\n        if (audioGroupKeys.length && Object.keys(mediaGroups.AUDIO[audioGroupKeys[0]]).length > 1) {\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-alternate-audio'\n          });\n        }\n\n        if (this.useCueTags_) {\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-playlist-cue-tags'\n          });\n        }\n      }\n      /**\n       * Register event handlers on the segment loaders. A helper function\n       * for construction time.\n       *\n       * @private\n       */\n\n    }, {\n      key: 'setupSegmentLoaderListeners_',\n      value: function setupSegmentLoaderListeners_() {\n        var _this3 = this;\n\n        this.mainSegmentLoader_.on('bandwidthupdate', function () {\n          var nextPlaylist = _this3.selectPlaylist();\n\n          var currentPlaylist = _this3.masterPlaylistLoader_.media();\n\n          var buffered = _this3.tech_.buffered();\n\n          var forwardBuffer = buffered.length ? buffered.end(buffered.length - 1) - _this3.tech_.currentTime() : 0;\n\n          var bufferLowWaterLine = _this3.bufferLowWaterLine(); // If the playlist is live, then we want to not take low water line into account.\n          // This is because in LIVE, the player plays 3 segments from the end of the\n          // playlist, and if `BUFFER_LOW_WATER_LINE` is greater than the duration availble\n          // in those segments, a viewer will never experience a rendition upswitch.\n\n\n          if (!currentPlaylist.endList || // For the same reason as LIVE, we ignore the low water line when the VOD\n          // duration is below the max potential low water line\n          _this3.duration() < Config.MAX_BUFFER_LOW_WATER_LINE || // we want to switch down to lower resolutions quickly to continue playback, but\n          nextPlaylist.attributes.BANDWIDTH < currentPlaylist.attributes.BANDWIDTH || // ensure we have some buffer before we switch up to prevent us running out of\n          // buffer while loading a higher rendition.\n          forwardBuffer >= bufferLowWaterLine) {\n            _this3.masterPlaylistLoader_.media(nextPlaylist);\n          }\n\n          _this3.tech_.trigger('bandwidthupdate');\n        });\n        this.mainSegmentLoader_.on('progress', function () {\n          _this3.trigger('progress');\n        });\n        this.mainSegmentLoader_.on('error', function () {\n          _this3.blacklistCurrentPlaylist(_this3.mainSegmentLoader_.error());\n        });\n        this.mainSegmentLoader_.on('syncinfoupdate', function () {\n          _this3.onSyncInfoUpdate_();\n        });\n        this.mainSegmentLoader_.on('timestampoffset', function () {\n          _this3.tech_.trigger({\n            type: 'usage',\n            name: 'hls-timestamp-offset'\n          });\n        });\n        this.audioSegmentLoader_.on('syncinfoupdate', function () {\n          _this3.onSyncInfoUpdate_();\n        });\n        this.mainSegmentLoader_.on('ended', function () {\n          _this3.onEndOfStream();\n        });\n        this.mainSegmentLoader_.on('earlyabort', function () {\n          _this3.blacklistCurrentPlaylist({\n            message: 'Aborted early because there isn\\'t enough bandwidth to complete the ' + 'request without rebuffering.'\n          }, ABORT_EARLY_BLACKLIST_SECONDS);\n        });\n        this.mainSegmentLoader_.on('reseteverything', function () {\n          // If playing an MTS stream, a videojs.MediaSource is listening for\n          // hls-reset to reset caption parsing state in the transmuxer\n          _this3.tech_.trigger('hls-reset');\n        });\n        this.mainSegmentLoader_.on('segmenttimemapping', function (event) {\n          // If playing an MTS stream in html, a videojs.MediaSource is listening for\n          // hls-segment-time-mapping update its internal mapping of stream to display time\n          _this3.tech_.trigger({\n            type: 'hls-segment-time-mapping',\n            mapping: event.mapping\n          });\n        });\n        this.audioSegmentLoader_.on('ended', function () {\n          _this3.onEndOfStream();\n        });\n      }\n    }, {\n      key: 'mediaSecondsLoaded_',\n      value: function mediaSecondsLoaded_() {\n        return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded + this.mainSegmentLoader_.mediaSecondsLoaded);\n      }\n      /**\n       * Call load on our SegmentLoaders\n       */\n\n    }, {\n      key: 'load',\n      value: function load() {\n        this.mainSegmentLoader_.load();\n\n        if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n          this.audioSegmentLoader_.load();\n        }\n\n        if (this.mediaTypes_.SUBTITLES.activePlaylistLoader) {\n          this.subtitleSegmentLoader_.load();\n        }\n      }\n      /**\n       * Re-tune playback quality level for the current player\n       * conditions without performing destructive actions, like\n       * removing already buffered content\n       *\n       * @private\n       */\n\n    }, {\n      key: 'smoothQualityChange_',\n      value: function smoothQualityChange_() {\n        var media = this.selectPlaylist();\n\n        if (media !== this.masterPlaylistLoader_.media()) {\n          this.masterPlaylistLoader_.media(media);\n          this.mainSegmentLoader_.resetLoader(); // don't need to reset audio as it is reset when media changes\n        }\n      }\n      /**\n       * Re-tune playback quality level for the current player\n       * conditions. This method will perform destructive actions like removing\n       * already buffered content in order to readjust the currently active\n       * playlist quickly. This is good for manual quality changes\n       *\n       * @private\n       */\n\n    }, {\n      key: 'fastQualityChange_',\n      value: function fastQualityChange_() {\n        var _this4 = this;\n\n        var media = this.selectPlaylist();\n\n        if (media === this.masterPlaylistLoader_.media()) {\n          return;\n        }\n\n        this.masterPlaylistLoader_.media(media); // Delete all buffered data to allow an immediate quality switch, then seek to give\n        // the browser a kick to remove any cached frames from the previous rendtion (.04 seconds\n        // ahead is roughly the minimum that will accomplish this across a variety of content\n        // in IE and Edge, but seeking in place is sufficient on all other browsers)\n        // Edge/IE bug: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14600375/\n        // Chrome bug: https://bugs.chromium.org/p/chromium/issues/detail?id=651904\n\n        this.mainSegmentLoader_.resetEverything(function () {\n          // Since this is not a typical seek, we avoid the seekTo method which can cause segments\n          // from the previously enabled rendition to load before the new playlist has finished loading\n          if (videojs$1.browser.IE_VERSION || videojs$1.browser.IS_EDGE) {\n            _this4.tech_.setCurrentTime(_this4.tech_.currentTime() + 0.04);\n          } else {\n            _this4.tech_.setCurrentTime(_this4.tech_.currentTime());\n          }\n        }); // don't need to reset audio as it is reset when media changes\n      }\n      /**\n       * Begin playback.\n       */\n\n    }, {\n      key: 'play',\n      value: function play() {\n        if (this.setupFirstPlay()) {\n          return;\n        }\n\n        if (this.tech_.ended()) {\n          this.seekTo_(0);\n        }\n\n        if (this.hasPlayed_()) {\n          this.load();\n        }\n\n        var seekable$$1 = this.tech_.seekable(); // if the viewer has paused and we fell out of the live window,\n        // seek forward to the live point\n\n        if (this.tech_.duration() === Infinity) {\n          if (this.tech_.currentTime() < seekable$$1.start(0)) {\n            return this.seekTo_(seekable$$1.end(seekable$$1.length - 1));\n          }\n        }\n      }\n      /**\n       * Seek to the latest media position if this is a live video and the\n       * player and video are loaded and initialized.\n       */\n\n    }, {\n      key: 'setupFirstPlay',\n      value: function setupFirstPlay() {\n        var _this5 = this;\n\n        var media = this.masterPlaylistLoader_.media(); // Check that everything is ready to begin buffering for the first call to play\n        //  If 1) there is no active media\n        //     2) the player is paused\n        //     3) the first play has already been setup\n        // then exit early\n\n        if (!media || this.tech_.paused() || this.hasPlayed_()) {\n          return false;\n        } // when the video is a live stream\n\n\n        if (!media.endList) {\n          var seekable$$1 = this.seekable();\n\n          if (!seekable$$1.length) {\n            // without a seekable range, the player cannot seek to begin buffering at the live\n            // point\n            return false;\n          }\n\n          if (videojs$1.browser.IE_VERSION && this.tech_.readyState() === 0) {\n            // IE11 throws an InvalidStateError if you try to set currentTime while the\n            // readyState is 0, so it must be delayed until the tech fires loadedmetadata.\n            this.tech_.one('loadedmetadata', function () {\n              _this5.trigger('firstplay');\n\n              _this5.seekTo_(seekable$$1.end(0));\n\n              _this5.hasPlayed_ = function () {\n                return true;\n              };\n            });\n            return false;\n          } // trigger firstplay to inform the source handler to ignore the next seek event\n\n\n          this.trigger('firstplay'); // seek to the live point\n\n          this.seekTo_(seekable$$1.end(0));\n        }\n\n        this.hasPlayed_ = function () {\n          return true;\n        }; // we can begin loading now that everything is ready\n\n\n        this.load();\n        return true;\n      }\n      /**\n       * handle the sourceopen event on the MediaSource\n       *\n       * @private\n       */\n\n    }, {\n      key: 'handleSourceOpen_',\n      value: function handleSourceOpen_() {\n        // Only attempt to create the source buffer if none already exist.\n        // handleSourceOpen is also called when we are \"re-opening\" a source buffer\n        // after `endOfStream` has been called (in response to a seek for instance)\n        try {\n          this.setupSourceBuffers_();\n        } catch (e) {\n          videojs$1.log.warn('Failed to create Source Buffers', e);\n          return this.mediaSource.endOfStream('decode');\n        } // if autoplay is enabled, begin playback. This is duplicative of\n        // code in video.js but is required because play() must be invoked\n        // *after* the media source has opened.\n\n\n        if (this.tech_.autoplay()) {\n          var playPromise = this.tech_.play(); // Catch/silence error when a pause interrupts a play request\n          // on browsers which return a promise\n\n          if (typeof playPromise !== 'undefined' && typeof playPromise.then === 'function') {\n            playPromise.then(null, function (e) {});\n          }\n        }\n\n        this.trigger('sourceopen');\n      }\n      /**\n       * Calls endOfStream on the media source when all active stream types have called\n       * endOfStream\n       *\n       * @param {string} streamType\n       *        Stream type of the segment loader that called endOfStream\n       * @private\n       */\n\n    }, {\n      key: 'onEndOfStream',\n      value: function onEndOfStream() {\n        var isEndOfStream = this.mainSegmentLoader_.ended_;\n\n        if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n          // if the audio playlist loader exists, then alternate audio is active\n          if (!this.mainSegmentLoader_.startingMedia_ || this.mainSegmentLoader_.startingMedia_.containsVideo) {\n            // if we do not know if the main segment loader contains video yet or if we\n            // definitively know the main segment loader contains video, then we need to wait\n            // for both main and audio segment loaders to call endOfStream\n            isEndOfStream = isEndOfStream && this.audioSegmentLoader_.ended_;\n          } else {\n            // otherwise just rely on the audio loader\n            isEndOfStream = this.audioSegmentLoader_.ended_;\n          }\n        }\n\n        if (!isEndOfStream) {\n          return;\n        }\n\n        this.logger_('calling mediaSource.endOfStream()'); // on chrome calling endOfStream can sometimes cause an exception,\n        // even when the media source is in a valid state.\n\n        try {\n          this.mediaSource.endOfStream();\n        } catch (e) {\n          videojs$1.log.warn('Failed to call media source endOfStream', e);\n        }\n      }\n      /**\n       * Check if a playlist has stopped being updated\n       * @param {Object} playlist the media playlist object\n       * @return {boolean} whether the playlist has stopped being updated or not\n       */\n\n    }, {\n      key: 'stuckAtPlaylistEnd_',\n      value: function stuckAtPlaylistEnd_(playlist) {\n        var seekable$$1 = this.seekable();\n\n        if (!seekable$$1.length) {\n          // playlist doesn't have enough information to determine whether we are stuck\n          return false;\n        }\n\n        var expired = this.syncController_.getExpiredTime(playlist, this.mediaSource.duration);\n\n        if (expired === null) {\n          return false;\n        } // does not use the safe live end to calculate playlist end, since we\n        // don't want to say we are stuck while there is still content\n\n\n        var absolutePlaylistEnd = Hls.Playlist.playlistEnd(playlist, expired);\n        var currentTime = this.tech_.currentTime();\n        var buffered = this.tech_.buffered();\n\n        if (!buffered.length) {\n          // return true if the playhead reached the absolute end of the playlist\n          return absolutePlaylistEnd - currentTime <= SAFE_TIME_DELTA;\n        }\n\n        var bufferedEnd = buffered.end(buffered.length - 1); // return true if there is too little buffer left and buffer has reached absolute\n        // end of playlist\n\n        return bufferedEnd - currentTime <= SAFE_TIME_DELTA && absolutePlaylistEnd - bufferedEnd <= SAFE_TIME_DELTA;\n      }\n      /**\n       * Blacklists a playlist when an error occurs for a set amount of time\n       * making it unavailable for selection by the rendition selection algorithm\n       * and then forces a new playlist (rendition) selection.\n       *\n       * @param {Object=} error an optional error that may include the playlist\n       * to blacklist\n       * @param {Number=} blacklistDuration an optional number of seconds to blacklist the\n       * playlist\n       */\n\n    }, {\n      key: 'blacklistCurrentPlaylist',\n      value: function blacklistCurrentPlaylist() {\n        var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var blacklistDuration = arguments[1];\n        var currentPlaylist = void 0;\n        var nextPlaylist = void 0; // If the `error` was generated by the playlist loader, it will contain\n        // the playlist we were trying to load (but failed) and that should be\n        // blacklisted instead of the currently selected playlist which is likely\n        // out-of-date in this scenario\n\n        currentPlaylist = error.playlist || this.masterPlaylistLoader_.media();\n        blacklistDuration = blacklistDuration || error.blacklistDuration || this.blacklistDuration; // If there is no current playlist, then an error occurred while we were\n        // trying to load the master OR while we were disposing of the tech\n\n        if (!currentPlaylist) {\n          this.error = error;\n\n          try {\n            return this.mediaSource.endOfStream('network');\n          } catch (e) {\n            return this.trigger('error');\n          }\n        }\n\n        var isFinalRendition = this.masterPlaylistLoader_.master.playlists.filter(isEnabled).length === 1;\n        var playlists = this.masterPlaylistLoader_.master.playlists;\n\n        if (playlists.length === 1) {\n          // Never blacklisting this playlist because it's the only playlist\n          videojs$1.log.warn('Problem encountered with the current ' + 'HLS playlist. Trying again since it is the only playlist.');\n          this.tech_.trigger('retryplaylist');\n          return this.masterPlaylistLoader_.load(isFinalRendition);\n        }\n\n        if (isFinalRendition) {\n          // Since we're on the final non-blacklisted playlist, and we're about to blacklist\n          // it, instead of erring the player or retrying this playlist, clear out the current\n          // blacklist. This allows other playlists to be attempted in case any have been\n          // fixed.\n          videojs$1.log.warn('Removing all playlists from the blacklist because the last ' + 'rendition is about to be blacklisted.');\n          playlists.forEach(function (playlist) {\n            if (playlist.excludeUntil !== Infinity) {\n              delete playlist.excludeUntil;\n            }\n          }); // Technically we are retrying a playlist, in that we are simply retrying a previous\n          // playlist. This is needed for users relying on the retryplaylist event to catch a\n          // case where the player might be stuck and looping through \"dead\" playlists.\n\n          this.tech_.trigger('retryplaylist');\n        } // Blacklist this playlist\n\n\n        currentPlaylist.excludeUntil = Date.now() + blacklistDuration * 1000;\n        this.tech_.trigger('blacklistplaylist');\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-rendition-blacklisted'\n        }); // Select a new playlist\n\n        nextPlaylist = this.selectPlaylist();\n        videojs$1.log.warn('Problem encountered with the current HLS playlist.' + (error.message ? ' ' + error.message : '') + ' Switching to another playlist.');\n        return this.masterPlaylistLoader_.media(nextPlaylist, isFinalRendition);\n      }\n      /**\n       * Pause all segment loaders\n       */\n\n    }, {\n      key: 'pauseLoading',\n      value: function pauseLoading() {\n        this.mainSegmentLoader_.pause();\n\n        if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n          this.audioSegmentLoader_.pause();\n        }\n\n        if (this.mediaTypes_.SUBTITLES.activePlaylistLoader) {\n          this.subtitleSegmentLoader_.pause();\n        }\n      }\n      /**\n       * set the current time on all segment loaders\n       *\n       * @param {TimeRange} currentTime the current time to set\n       * @return {TimeRange} the current time\n       */\n\n    }, {\n      key: 'setCurrentTime',\n      value: function setCurrentTime(currentTime) {\n        var buffered = findRange(this.tech_.buffered(), currentTime);\n\n        if (!(this.masterPlaylistLoader_ && this.masterPlaylistLoader_.media())) {\n          // return immediately if the metadata is not ready yet\n          return 0;\n        } // it's clearly an edge-case but don't thrown an error if asked to\n        // seek within an empty playlist\n\n\n        if (!this.masterPlaylistLoader_.media().segments) {\n          return 0;\n        } // In flash playback, the segment loaders should be reset on every seek, even\n        // in buffer seeks. If the seek location is already buffered, continue buffering as\n        // usual\n        // TODO: redo this comment\n\n\n        if (buffered && buffered.length) {\n          return currentTime;\n        } // cancel outstanding requests so we begin buffering at the new\n        // location\n\n\n        this.mainSegmentLoader_.resetEverything();\n        this.mainSegmentLoader_.abort();\n\n        if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n          this.audioSegmentLoader_.resetEverything();\n          this.audioSegmentLoader_.abort();\n        }\n\n        if (this.mediaTypes_.SUBTITLES.activePlaylistLoader) {\n          this.subtitleSegmentLoader_.resetEverything();\n          this.subtitleSegmentLoader_.abort();\n        } // start segment loader loading in case they are paused\n\n\n        this.load();\n      }\n      /**\n       * get the current duration\n       *\n       * @return {TimeRange} the duration\n       */\n\n    }, {\n      key: 'duration',\n      value: function duration$$1() {\n        if (!this.masterPlaylistLoader_) {\n          return 0;\n        }\n\n        if (this.mediaSource) {\n          return this.mediaSource.duration;\n        }\n\n        return Hls.Playlist.duration(this.masterPlaylistLoader_.media());\n      }\n      /**\n       * check the seekable range\n       *\n       * @return {TimeRange} the seekable range\n       */\n\n    }, {\n      key: 'seekable',\n      value: function seekable$$1() {\n        return this.seekable_;\n      }\n    }, {\n      key: 'onSyncInfoUpdate_',\n      value: function onSyncInfoUpdate_() {\n        var mainSeekable = void 0;\n        var audioSeekable = void 0;\n\n        if (!this.masterPlaylistLoader_) {\n          return;\n        }\n\n        var media = this.masterPlaylistLoader_.media();\n\n        if (!media) {\n          return;\n        }\n\n        var expired = this.syncController_.getExpiredTime(media, this.mediaSource.duration);\n\n        if (expired === null) {\n          // not enough information to update seekable\n          return;\n        }\n\n        mainSeekable = Hls.Playlist.seekable(media, expired);\n\n        if (mainSeekable.length === 0) {\n          return;\n        }\n\n        if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n          media = this.mediaTypes_.AUDIO.activePlaylistLoader.media();\n          expired = this.syncController_.getExpiredTime(media, this.mediaSource.duration);\n\n          if (expired === null) {\n            return;\n          }\n\n          audioSeekable = Hls.Playlist.seekable(media, expired);\n\n          if (audioSeekable.length === 0) {\n            return;\n          }\n        }\n\n        var oldEnd = void 0;\n        var oldStart = void 0;\n\n        if (this.seekable_ && this.seekable_.length) {\n          oldEnd = this.seekable_.end(0);\n          oldStart = this.seekable_.start(0);\n        }\n\n        if (!audioSeekable) {\n          // seekable has been calculated based on buffering video data so it\n          // can be returned directly\n          this.seekable_ = mainSeekable;\n        } else if (audioSeekable.start(0) > mainSeekable.end(0) || mainSeekable.start(0) > audioSeekable.end(0)) {\n          // seekables are pretty far off, rely on main\n          this.seekable_ = mainSeekable;\n        } else {\n          this.seekable_ = videojs$1.createTimeRanges([[audioSeekable.start(0) > mainSeekable.start(0) ? audioSeekable.start(0) : mainSeekable.start(0), audioSeekable.end(0) < mainSeekable.end(0) ? audioSeekable.end(0) : mainSeekable.end(0)]]);\n        } // seekable is the same as last time\n\n\n        if (this.seekable_ && this.seekable_.length) {\n          if (this.seekable_.end(0) === oldEnd && this.seekable_.start(0) === oldStart) {\n            return;\n          }\n        }\n\n        this.logger_('seekable updated [' + printableRange(this.seekable_) + ']');\n        this.tech_.trigger('seekablechanged');\n      }\n      /**\n       * Update the player duration\n       */\n\n    }, {\n      key: 'updateDuration',\n      value: function updateDuration() {\n        var _this6 = this;\n\n        var oldDuration = this.mediaSource.duration;\n        var newDuration = Hls.Playlist.duration(this.masterPlaylistLoader_.media());\n        var buffered = this.tech_.buffered();\n\n        var setDuration = function setDuration() {\n          // on firefox setting the duration may sometimes cause an exception\n          // even if the media source is open and source buffers are not\n          // updating, something about the media source being in an invalid state.\n          _this6.logger_('Setting duration from ' + _this6.mediaSource.duration + ' => ' + newDuration);\n\n          try {\n            _this6.mediaSource.duration = newDuration;\n          } catch (e) {\n            videojs$1.log.warn('Failed to set media source duration', e);\n          }\n\n          _this6.tech_.trigger('durationchange');\n\n          _this6.mediaSource.removeEventListener('sourceopen', setDuration);\n        };\n\n        if (buffered.length > 0) {\n          newDuration = Math.max(newDuration, buffered.end(buffered.length - 1));\n        } // if the duration has changed, invalidate the cached value\n\n\n        if (oldDuration !== newDuration) {\n          // update the duration\n          if (this.mediaSource.readyState !== 'open') {\n            this.mediaSource.addEventListener('sourceopen', setDuration);\n          } else {\n            setDuration();\n          }\n        }\n      }\n      /**\n       * dispose of the MasterPlaylistController and everything\n       * that it controls\n       */\n\n    }, {\n      key: 'dispose',\n      value: function dispose() {\n        var _this7 = this;\n\n        this.decrypter_.terminate();\n        this.masterPlaylistLoader_.dispose();\n        this.mainSegmentLoader_.dispose();\n        ['AUDIO', 'SUBTITLES'].forEach(function (type) {\n          var groups = _this7.mediaTypes_[type].groups;\n\n          for (var id in groups) {\n            groups[id].forEach(function (group) {\n              if (group.playlistLoader) {\n                group.playlistLoader.dispose();\n              }\n            });\n          }\n        });\n        this.audioSegmentLoader_.dispose();\n        this.subtitleSegmentLoader_.dispose();\n      }\n      /**\n       * return the master playlist object if we have one\n       *\n       * @return {Object} the master playlist object that we parsed\n       */\n\n    }, {\n      key: 'master',\n      value: function master() {\n        return this.masterPlaylistLoader_.master;\n      }\n      /**\n       * return the currently selected playlist\n       *\n       * @return {Object} the currently selected playlist object that we parsed\n       */\n\n    }, {\n      key: 'media',\n      value: function media() {\n        // playlist loader will not return media if it has not been fully loaded\n        return this.masterPlaylistLoader_.media() || this.initialMedia_;\n      }\n      /**\n       * setup our internal source buffers on our segment Loaders\n       *\n       * @private\n       */\n\n    }, {\n      key: 'setupSourceBuffers_',\n      value: function setupSourceBuffers_() {\n        var media = this.masterPlaylistLoader_.media();\n        var mimeTypes = void 0; // wait until a media playlist is available and the Media Source is\n        // attached\n\n        if (!media || this.mediaSource.readyState !== 'open') {\n          return;\n        }\n\n        mimeTypes = mimeTypesForPlaylist(this.masterPlaylistLoader_.master, media);\n\n        if (mimeTypes.length < 1) {\n          this.error = 'No compatible SourceBuffer configuration for the variant stream:' + media.resolvedUri;\n          return this.mediaSource.endOfStream('decode');\n        }\n\n        this.configureLoaderMimeTypes_(mimeTypes); // exclude any incompatible variant streams from future playlist\n        // selection\n\n        this.excludeIncompatibleVariants_(media);\n      }\n    }, {\n      key: 'configureLoaderMimeTypes_',\n      value: function configureLoaderMimeTypes_(mimeTypes) {\n        // If the content is demuxed, we can't start appending segments to a source buffer\n        // until both source buffers are set up, or else the browser may not let us add the\n        // second source buffer (it will assume we are playing either audio only or video\n        // only).\n        var sourceBufferEmitter = // If there is more than one mime type\n        mimeTypes.length > 1 && // and the first mime type does not have muxed video and audio\n        mimeTypes[0].indexOf(',') === -1 && // and the two mime types are different (they can be the same in the case of audio\n        // only with alternate audio)\n        mimeTypes[0] !== mimeTypes[1] ? // then we want to wait on the second source buffer\n        new videojs$1.EventTarget() : // otherwise there is no need to wait as the content is either audio only,\n        // video only, or muxed content.\n        null;\n        this.mainSegmentLoader_.mimeType(mimeTypes[0], sourceBufferEmitter);\n\n        if (mimeTypes[1]) {\n          this.audioSegmentLoader_.mimeType(mimeTypes[1], sourceBufferEmitter);\n        }\n      }\n      /**\n       * Blacklists playlists with codecs that are unsupported by the browser.\n       */\n\n    }, {\n      key: 'excludeUnsupportedVariants_',\n      value: function excludeUnsupportedVariants_() {\n        this.master().playlists.forEach(function (variant) {\n          if (variant.attributes.CODECS && window$1.MediaSource && window$1.MediaSource.isTypeSupported && !window$1.MediaSource.isTypeSupported('video/mp4; codecs=\"' + mapLegacyAvcCodecs(variant.attributes.CODECS) + '\"')) {\n            variant.excludeUntil = Infinity;\n          }\n        });\n      }\n      /**\n       * Blacklist playlists that are known to be codec or\n       * stream-incompatible with the SourceBuffer configuration. For\n       * instance, Media Source Extensions would cause the video element to\n       * stall waiting for video data if you switched from a variant with\n       * video and audio to an audio-only one.\n       *\n       * @param {Object} media a media playlist compatible with the current\n       * set of SourceBuffers. Variants in the current master playlist that\n       * do not appear to have compatible codec or stream configurations\n       * will be excluded from the default playlist selection algorithm\n       * indefinitely.\n       * @private\n       */\n\n    }, {\n      key: 'excludeIncompatibleVariants_',\n      value: function excludeIncompatibleVariants_(media) {\n        var codecCount = 2;\n        var videoCodec = null;\n        var codecs = void 0;\n\n        if (media.attributes.CODECS) {\n          codecs = parseCodecs(media.attributes.CODECS);\n          videoCodec = codecs.videoCodec;\n          codecCount = codecs.codecCount;\n        }\n\n        this.master().playlists.forEach(function (variant) {\n          var variantCodecs = {\n            codecCount: 2,\n            videoCodec: null\n          };\n\n          if (variant.attributes.CODECS) {\n            variantCodecs = parseCodecs(variant.attributes.CODECS);\n          } // if the streams differ in the presence or absence of audio or\n          // video, they are incompatible\n\n\n          if (variantCodecs.codecCount !== codecCount) {\n            variant.excludeUntil = Infinity;\n          } // if h.264 is specified on the current playlist, some flavor of\n          // it must be specified on all compatible variants\n\n\n          if (variantCodecs.videoCodec !== videoCodec) {\n            variant.excludeUntil = Infinity;\n          }\n        });\n      }\n    }, {\n      key: 'updateAdCues_',\n      value: function updateAdCues_(media) {\n        var offset = 0;\n        var seekable$$1 = this.seekable();\n\n        if (seekable$$1.length) {\n          offset = seekable$$1.start(0);\n        }\n\n        updateAdCues(media, this.cueTagsTrack_, offset);\n      }\n      /**\n       * Calculates the desired forward buffer length based on current time\n       *\n       * @return {Number} Desired forward buffer length in seconds\n       */\n\n    }, {\n      key: 'goalBufferLength',\n      value: function goalBufferLength() {\n        var currentTime = this.tech_.currentTime();\n        var initial = Config.GOAL_BUFFER_LENGTH;\n        var rate = Config.GOAL_BUFFER_LENGTH_RATE;\n        var max = Math.max(initial, Config.MAX_GOAL_BUFFER_LENGTH);\n        return Math.min(initial + currentTime * rate, max);\n      }\n      /**\n       * Calculates the desired buffer low water line based on current time\n       *\n       * @return {Number} Desired buffer low water line in seconds\n       */\n\n    }, {\n      key: 'bufferLowWaterLine',\n      value: function bufferLowWaterLine() {\n        var currentTime = this.tech_.currentTime();\n        var initial = Config.BUFFER_LOW_WATER_LINE;\n        var rate = Config.BUFFER_LOW_WATER_LINE_RATE;\n        var max = Math.max(initial, Config.MAX_BUFFER_LOW_WATER_LINE);\n        return Math.min(initial + currentTime * rate, max);\n      }\n    }]);\n    return MasterPlaylistController;\n  }(videojs$1.EventTarget);\n  /**\n   * Returns a function that acts as the Enable/disable playlist function.\n   *\n   * @param {PlaylistLoader} loader - The master playlist loader\n   * @param {String} playlistUri - uri of the playlist\n   * @param {Function} changePlaylistFn - A function to be called after a\n   * playlist's enabled-state has been changed. Will NOT be called if a\n   * playlist's enabled-state is unchanged\n   * @param {Boolean=} enable - Value to set the playlist enabled-state to\n   * or if undefined returns the current enabled-state for the playlist\n   * @return {Function} Function for setting/getting enabled\n   */\n\n\n  var enableFunction = function enableFunction(loader, playlistUri, changePlaylistFn) {\n    return function (enable) {\n      var playlist = loader.master.playlists[playlistUri];\n      var incompatible = isIncompatible(playlist);\n      var currentlyEnabled = isEnabled(playlist);\n\n      if (typeof enable === 'undefined') {\n        return currentlyEnabled;\n      }\n\n      if (enable) {\n        delete playlist.disabled;\n      } else {\n        playlist.disabled = true;\n      }\n\n      if (enable !== currentlyEnabled && !incompatible) {\n        // Ensure the outside world knows about our changes\n        changePlaylistFn();\n\n        if (enable) {\n          loader.trigger('renditionenabled');\n        } else {\n          loader.trigger('renditiondisabled');\n        }\n      }\n\n      return enable;\n    };\n  };\n  /**\n   * The representation object encapsulates the publicly visible information\n   * in a media playlist along with a setter/getter-type function (enabled)\n   * for changing the enabled-state of a particular playlist entry\n   *\n   * @class Representation\n   */\n\n\n  var Representation = function Representation(hlsHandler, playlist, id) {\n    classCallCheck$1(this, Representation);\n    var mpc = hlsHandler.masterPlaylistController_,\n        smoothQualityChange = hlsHandler.options_.smoothQualityChange; // Get a reference to a bound version of the quality change function\n\n    var changeType = smoothQualityChange ? 'smooth' : 'fast';\n    var qualityChangeFunction = mpc[changeType + 'QualityChange_'].bind(mpc); // some playlist attributes are optional\n\n    if (playlist.attributes.RESOLUTION) {\n      var resolution = playlist.attributes.RESOLUTION;\n      this.width = resolution.width;\n      this.height = resolution.height;\n    }\n\n    this.bandwidth = playlist.attributes.BANDWIDTH; // The id is simply the ordinality of the media playlist\n    // within the master playlist\n\n    this.id = id; // Partially-apply the enableFunction to create a playlist-\n    // specific variant\n\n    this.enabled = enableFunction(hlsHandler.playlists, playlist.uri, qualityChangeFunction);\n  };\n  /**\n   * A mixin function that adds the `representations` api to an instance\n   * of the HlsHandler class\n   * @param {HlsHandler} hlsHandler - An instance of HlsHandler to add the\n   * representation API into\n   */\n\n\n  var renditionSelectionMixin = function renditionSelectionMixin(hlsHandler) {\n    var playlists = hlsHandler.playlists; // Add a single API-specific function to the HlsHandler instance\n\n    hlsHandler.representations = function () {\n      return playlists.master.playlists.filter(function (media) {\n        return !isIncompatible(media);\n      }).map(function (e, i) {\n        return new Representation(hlsHandler, e, e.uri);\n      });\n    };\n  };\n  /**\n   * @file playback-watcher.js\n   *\n   * Playback starts, and now my watch begins. It shall not end until my death. I shall\n   * take no wait, hold no uncleared timeouts, father no bad seeks. I shall wear no crowns\n   * and win no glory. I shall live and die at my post. I am the corrector of the underflow.\n   * I am the watcher of gaps. I am the shield that guards the realms of seekable. I pledge\n   * my life and honor to the Playback Watch, for this Player and all the Players to come.\n   */\n  // Set of events that reset the playback-watcher time check logic and clear the timeout\n\n\n  var timerCancelEvents = ['seeking', 'seeked', 'pause', 'playing', 'error'];\n  /**\n   * @class PlaybackWatcher\n   */\n\n  var PlaybackWatcher = function () {\n    /**\n     * Represents an PlaybackWatcher object.\n     * @constructor\n     * @param {object} options an object that includes the tech and settings\n     */\n    function PlaybackWatcher(options) {\n      var _this = this;\n\n      classCallCheck$1(this, PlaybackWatcher);\n      this.tech_ = options.tech;\n      this.seekable = options.seekable;\n      this.seekTo = options.seekTo;\n      this.allowSeeksWithinUnsafeLiveWindow = options.allowSeeksWithinUnsafeLiveWindow;\n      this.media = options.media;\n      this.consecutiveUpdates = 0;\n      this.lastRecordedTime = null;\n      this.timer_ = null;\n      this.checkCurrentTimeTimeout_ = null;\n      this.logger_ = logger('PlaybackWatcher');\n      this.logger_('initialize');\n\n      var canPlayHandler = function canPlayHandler() {\n        return _this.monitorCurrentTime_();\n      };\n\n      var waitingHandler = function waitingHandler() {\n        return _this.techWaiting_();\n      };\n\n      var cancelTimerHandler = function cancelTimerHandler() {\n        return _this.cancelTimer_();\n      };\n\n      var fixesBadSeeksHandler = function fixesBadSeeksHandler() {\n        return _this.fixesBadSeeks_();\n      };\n\n      this.tech_.on('seekablechanged', fixesBadSeeksHandler);\n      this.tech_.on('waiting', waitingHandler);\n      this.tech_.on(timerCancelEvents, cancelTimerHandler);\n      this.tech_.on('canplay', canPlayHandler); // Define the dispose function to clean up our events\n\n      this.dispose = function () {\n        _this.logger_('dispose');\n\n        _this.tech_.off('seekablechanged', fixesBadSeeksHandler);\n\n        _this.tech_.off('waiting', waitingHandler);\n\n        _this.tech_.off(timerCancelEvents, cancelTimerHandler);\n\n        _this.tech_.off('canplay', canPlayHandler);\n\n        if (_this.checkCurrentTimeTimeout_) {\n          window$1.clearTimeout(_this.checkCurrentTimeTimeout_);\n        }\n\n        _this.cancelTimer_();\n      };\n    }\n    /**\n     * Periodically check current time to see if playback stopped\n     *\n     * @private\n     */\n\n\n    createClass$1(PlaybackWatcher, [{\n      key: 'monitorCurrentTime_',\n      value: function monitorCurrentTime_() {\n        this.checkCurrentTime_();\n\n        if (this.checkCurrentTimeTimeout_) {\n          window$1.clearTimeout(this.checkCurrentTimeTimeout_);\n        } // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n\n\n        this.checkCurrentTimeTimeout_ = window$1.setTimeout(this.monitorCurrentTime_.bind(this), 250);\n      }\n      /**\n       * The purpose of this function is to emulate the \"waiting\" event on\n       * browsers that do not emit it when they are waiting for more\n       * data to continue playback\n       *\n       * @private\n       */\n\n    }, {\n      key: 'checkCurrentTime_',\n      value: function checkCurrentTime_() {\n        if (this.tech_.seeking() && this.fixesBadSeeks_()) {\n          this.consecutiveUpdates = 0;\n          this.lastRecordedTime = this.tech_.currentTime();\n          return;\n        }\n\n        if (this.tech_.paused() || this.tech_.seeking()) {\n          return;\n        }\n\n        var currentTime = this.tech_.currentTime();\n        var buffered = this.tech_.buffered();\n\n        if (this.lastRecordedTime === currentTime && (!buffered.length || currentTime + SAFE_TIME_DELTA >= buffered.end(buffered.length - 1))) {\n          // If current time is at the end of the final buffered region, then any playback\n          // stall is most likely caused by buffering in a low bandwidth environment. The tech\n          // should fire a `waiting` event in this scenario, but due to browser and tech\n          // inconsistencies. Calling `techWaiting_` here allows us to simulate\n          // responding to a native `waiting` event when the tech fails to emit one.\n          return this.techWaiting_();\n        }\n\n        if (this.consecutiveUpdates >= 5 && currentTime === this.lastRecordedTime) {\n          this.consecutiveUpdates++;\n          this.waiting_();\n        } else if (currentTime === this.lastRecordedTime) {\n          this.consecutiveUpdates++;\n        } else {\n          this.consecutiveUpdates = 0;\n          this.lastRecordedTime = currentTime;\n        }\n      }\n      /**\n       * Cancels any pending timers and resets the 'timeupdate' mechanism\n       * designed to detect that we are stalled\n       *\n       * @private\n       */\n\n    }, {\n      key: 'cancelTimer_',\n      value: function cancelTimer_() {\n        this.consecutiveUpdates = 0;\n\n        if (this.timer_) {\n          this.logger_('cancelTimer_');\n          clearTimeout(this.timer_);\n        }\n\n        this.timer_ = null;\n      }\n      /**\n       * Fixes situations where there's a bad seek\n       *\n       * @return {Boolean} whether an action was taken to fix the seek\n       * @private\n       */\n\n    }, {\n      key: 'fixesBadSeeks_',\n      value: function fixesBadSeeks_() {\n        var seeking = this.tech_.seeking();\n\n        if (!seeking) {\n          return false;\n        }\n\n        var seekable = this.seekable();\n        var currentTime = this.tech_.currentTime();\n        var isAfterSeekableRange = this.afterSeekableWindow_(seekable, currentTime, this.media(), this.allowSeeksWithinUnsafeLiveWindow);\n        var seekTo = void 0;\n\n        if (isAfterSeekableRange) {\n          var seekableEnd = seekable.end(seekable.length - 1); // sync to live point (if VOD, our seekable was updated and we're simply adjusting)\n\n          seekTo = seekableEnd;\n        }\n\n        if (this.beforeSeekableWindow_(seekable, currentTime)) {\n          var seekableStart = seekable.start(0); // sync to the beginning of the live window\n          // provide a buffer of .1 seconds to handle rounding/imprecise numbers\n\n          seekTo = seekableStart + SAFE_TIME_DELTA;\n        }\n\n        if (typeof seekTo !== 'undefined') {\n          this.logger_('Trying to seek outside of seekable at time ' + currentTime + ' with ' + ('seekable range ' + printableRange(seekable) + '. Seeking to ') + (seekTo + '.'));\n          this.seekTo(seekTo);\n          return true;\n        }\n\n        return false;\n      }\n      /**\n       * Handler for situations when we determine the player is waiting.\n       *\n       * @private\n       */\n\n    }, {\n      key: 'waiting_',\n      value: function waiting_() {\n        if (this.techWaiting_()) {\n          return;\n        } // All tech waiting checks failed. Use last resort correction\n\n\n        var currentTime = this.tech_.currentTime();\n        var buffered = this.tech_.buffered();\n        var currentRange = findRange(buffered, currentTime); // Sometimes the player can stall for unknown reasons within a contiguous buffered\n        // region with no indication that anything is amiss (seen in Firefox). Seeking to\n        // currentTime is usually enough to kickstart the player. This checks that the player\n        // is currently within a buffered region before attempting a corrective seek.\n        // Chrome does not appear to continue `timeupdate` events after a `waiting` event\n        // until there is ~ 3 seconds of forward buffer available. PlaybackWatcher should also\n        // make sure there is ~3 seconds of forward buffer before taking any corrective action\n        // to avoid triggering an `unknownwaiting` event when the network is slow.\n\n        if (currentRange.length && currentTime + 3 <= currentRange.end(0)) {\n          this.cancelTimer_();\n          this.seekTo(currentTime);\n          this.logger_('Stopped at ' + currentTime + ' while inside a buffered region ' + ('[' + currentRange.start(0) + ' -> ' + currentRange.end(0) + ']. Attempting to resume ') + 'playback by seeking to the current time.'); // unknown waiting corrections may be useful for monitoring QoS\n\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-unknown-waiting'\n          });\n          return;\n        }\n      }\n      /**\n       * Handler for situations when the tech fires a `waiting` event\n       *\n       * @return {Boolean}\n       *         True if an action (or none) was needed to correct the waiting. False if no\n       *         checks passed\n       * @private\n       */\n\n    }, {\n      key: 'techWaiting_',\n      value: function techWaiting_() {\n        var seekable = this.seekable();\n        var currentTime = this.tech_.currentTime();\n\n        if (this.tech_.seeking() && this.fixesBadSeeks_()) {\n          // Tech is seeking or bad seek fixed, no action needed\n          return true;\n        }\n\n        if (this.tech_.seeking() || this.timer_ !== null) {\n          // Tech is seeking or already waiting on another action, no action needed\n          return true;\n        }\n\n        if (this.beforeSeekableWindow_(seekable, currentTime)) {\n          var livePoint = seekable.end(seekable.length - 1);\n          this.logger_('Fell out of live window at time ' + currentTime + '. Seeking to ' + ('live point (seekable end) ' + livePoint));\n          this.cancelTimer_();\n          this.seekTo(livePoint); // live window resyncs may be useful for monitoring QoS\n\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-live-resync'\n          });\n          return true;\n        }\n\n        var buffered = this.tech_.buffered();\n        var nextRange = findNextRange(buffered, currentTime);\n\n        if (this.videoUnderflow_(nextRange, buffered, currentTime)) {\n          // Even though the video underflowed and was stuck in a gap, the audio overplayed\n          // the gap, leading currentTime into a buffered range. Seeking to currentTime\n          // allows the video to catch up to the audio position without losing any audio\n          // (only suffering ~3 seconds of frozen video and a pause in audio playback).\n          this.cancelTimer_();\n          this.seekTo(currentTime); // video underflow may be useful for monitoring QoS\n\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-video-underflow'\n          });\n          return true;\n        } // check for gap\n\n\n        if (nextRange.length > 0) {\n          var difference = nextRange.start(0) - currentTime;\n          this.logger_('Stopped at ' + currentTime + ', setting timer for ' + difference + ', seeking ' + ('to ' + nextRange.start(0)));\n          this.timer_ = setTimeout(this.skipTheGap_.bind(this), difference * 1000, currentTime);\n          return true;\n        } // All checks failed. Returning false to indicate failure to correct waiting\n\n\n        return false;\n      }\n    }, {\n      key: 'afterSeekableWindow_',\n      value: function afterSeekableWindow_(seekable, currentTime, playlist) {\n        var allowSeeksWithinUnsafeLiveWindow = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n        if (!seekable.length) {\n          // we can't make a solid case if there's no seekable, default to false\n          return false;\n        }\n\n        var allowedEnd = seekable.end(seekable.length - 1) + SAFE_TIME_DELTA;\n        var isLive = !playlist.endList;\n\n        if (isLive && allowSeeksWithinUnsafeLiveWindow) {\n          allowedEnd = seekable.end(seekable.length - 1) + playlist.targetDuration * 3;\n        }\n\n        if (currentTime > allowedEnd) {\n          return true;\n        }\n\n        return false;\n      }\n    }, {\n      key: 'beforeSeekableWindow_',\n      value: function beforeSeekableWindow_(seekable, currentTime) {\n        if (seekable.length && // can't fall before 0 and 0 seekable start identifies VOD stream\n        seekable.start(0) > 0 && currentTime < seekable.start(0) - SAFE_TIME_DELTA) {\n          return true;\n        }\n\n        return false;\n      }\n    }, {\n      key: 'videoUnderflow_',\n      value: function videoUnderflow_(nextRange, buffered, currentTime) {\n        if (nextRange.length === 0) {\n          // Even if there is no available next range, there is still a possibility we are\n          // stuck in a gap due to video underflow.\n          var gap = this.gapFromVideoUnderflow_(buffered, currentTime);\n\n          if (gap) {\n            this.logger_('Encountered a gap in video from ' + gap.start + ' to ' + gap.end + '. ' + ('Seeking to current time ' + currentTime));\n            return true;\n          }\n        }\n\n        return false;\n      }\n      /**\n       * Timer callback. If playback still has not proceeded, then we seek\n       * to the start of the next buffered region.\n       *\n       * @private\n       */\n\n    }, {\n      key: 'skipTheGap_',\n      value: function skipTheGap_(scheduledCurrentTime) {\n        var buffered = this.tech_.buffered();\n        var currentTime = this.tech_.currentTime();\n        var nextRange = findNextRange(buffered, currentTime);\n        this.cancelTimer_();\n\n        if (nextRange.length === 0 || currentTime !== scheduledCurrentTime) {\n          return;\n        }\n\n        this.logger_('skipTheGap_:', 'currentTime:', currentTime, 'scheduled currentTime:', scheduledCurrentTime, 'nextRange start:', nextRange.start(0)); // only seek if we still have not played\n\n        this.seekTo(nextRange.start(0) + TIME_FUDGE_FACTOR);\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-gap-skip'\n        });\n      }\n    }, {\n      key: 'gapFromVideoUnderflow_',\n      value: function gapFromVideoUnderflow_(buffered, currentTime) {\n        // At least in Chrome, if there is a gap in the video buffer, the audio will continue\n        // playing for ~3 seconds after the video gap starts. This is done to account for\n        // video buffer underflow/underrun (note that this is not done when there is audio\n        // buffer underflow/underrun -- in that case the video will stop as soon as it\n        // encounters the gap, as audio stalls are more noticeable/jarring to a user than\n        // video stalls). The player's time will reflect the playthrough of audio, so the\n        // time will appear as if we are in a buffered region, even if we are stuck in a\n        // \"gap.\"\n        //\n        // Example:\n        // video buffer:   0 => 10.1, 10.2 => 20\n        // audio buffer:   0 => 20\n        // overall buffer: 0 => 10.1, 10.2 => 20\n        // current time: 13\n        //\n        // Chrome's video froze at 10 seconds, where the video buffer encountered the gap,\n        // however, the audio continued playing until it reached ~3 seconds past the gap\n        // (13 seconds), at which point it stops as well. Since current time is past the\n        // gap, findNextRange will return no ranges.\n        //\n        // To check for this issue, we see if there is a gap that starts somewhere within\n        // a 3 second range (3 seconds +/- 1 second) back from our current time.\n        var gaps = findGaps(buffered);\n\n        for (var i = 0; i < gaps.length; i++) {\n          var start = gaps.start(i);\n          var end = gaps.end(i); // gap is starts no more than 4 seconds back\n\n          if (currentTime - start < 4 && currentTime - start > 2) {\n            return {\n              start: start,\n              end: end\n            };\n          }\n        }\n\n        return null;\n      }\n    }]);\n    return PlaybackWatcher;\n  }();\n\n  var defaultOptions = {\n    errorInterval: 30,\n    getSource: function getSource(next) {\n      var tech = this.tech({\n        IWillNotUseThisInPlugins: true\n      });\n      var sourceObj = tech.currentSource_;\n      return next(sourceObj);\n    }\n  };\n  /**\n   * Main entry point for the plugin\n   *\n   * @param {Player} player a reference to a videojs Player instance\n   * @param {Object} [options] an object with plugin options\n   * @private\n   */\n\n  var initPlugin = function initPlugin(player, options) {\n    var lastCalled = 0;\n    var seekTo = 0;\n    var localOptions = videojs$1.mergeOptions(defaultOptions, options);\n    player.ready(function () {\n      player.trigger({\n        type: 'usage',\n        name: 'hls-error-reload-initialized'\n      });\n    });\n    /**\n     * Player modifications to perform that must wait until `loadedmetadata`\n     * has been triggered\n     *\n     * @private\n     */\n\n    var loadedMetadataHandler = function loadedMetadataHandler() {\n      if (seekTo) {\n        player.currentTime(seekTo);\n      }\n    };\n    /**\n     * Set the source on the player element, play, and seek if necessary\n     *\n     * @param {Object} sourceObj An object specifying the source url and mime-type to play\n     * @private\n     */\n\n\n    var setSource = function setSource(sourceObj) {\n      if (sourceObj === null || sourceObj === undefined) {\n        return;\n      }\n\n      seekTo = player.duration() !== Infinity && player.currentTime() || 0;\n      player.one('loadedmetadata', loadedMetadataHandler);\n      player.src(sourceObj);\n      player.trigger({\n        type: 'usage',\n        name: 'hls-error-reload'\n      });\n      player.play();\n    };\n    /**\n     * Attempt to get a source from either the built-in getSource function\n     * or a custom function provided via the options\n     *\n     * @private\n     */\n\n\n    var errorHandler = function errorHandler() {\n      // Do not attempt to reload the source if a source-reload occurred before\n      // 'errorInterval' time has elapsed since the last source-reload\n      if (Date.now() - lastCalled < localOptions.errorInterval * 1000) {\n        player.trigger({\n          type: 'usage',\n          name: 'hls-error-reload-canceled'\n        });\n        return;\n      }\n\n      if (!localOptions.getSource || typeof localOptions.getSource !== 'function') {\n        videojs$1.log.error('ERROR: reloadSourceOnError - The option getSource must be a function!');\n        return;\n      }\n\n      lastCalled = Date.now();\n      return localOptions.getSource.call(player, setSource);\n    };\n    /**\n     * Unbind any event handlers that were bound by the plugin\n     *\n     * @private\n     */\n\n\n    var cleanupEvents = function cleanupEvents() {\n      player.off('loadedmetadata', loadedMetadataHandler);\n      player.off('error', errorHandler);\n      player.off('dispose', cleanupEvents);\n    };\n    /**\n     * Cleanup before re-initializing the plugin\n     *\n     * @param {Object} [newOptions] an object with plugin options\n     * @private\n     */\n\n\n    var reinitPlugin = function reinitPlugin(newOptions) {\n      cleanupEvents();\n      initPlugin(player, newOptions);\n    };\n\n    player.on('error', errorHandler);\n    player.on('dispose', cleanupEvents); // Overwrite the plugin function so that we can correctly cleanup before\n    // initializing the plugin\n\n    player.reloadSourceOnError = reinitPlugin;\n  };\n  /**\n   * Reload the source when an error is detected as long as there\n   * wasn't an error previously within the last 30 seconds\n   *\n   * @param {Object} [options] an object with plugin options\n   */\n\n\n  var reloadSourceOnError = function reloadSourceOnError(options) {\n    initPlugin(this, options);\n  };\n\n  var version$1 = \"1.10.6\"; // since VHS handles HLS and DASH (and in the future, more types), use * to capture all\n\n  videojs$1.use('*', function (player) {\n    return {\n      setSource: function setSource(srcObj, next) {\n        // pass null as the first argument to indicate that the source is not rejected\n        next(null, srcObj);\n      },\n      // VHS needs to know when seeks happen. For external seeks (generated at the player\n      // level), this middleware will capture the action. For internal seeks (generated at\n      // the tech level), we use a wrapped function so that we can handle it on our own\n      // (specified elsewhere).\n      setCurrentTime: function setCurrentTime(time) {\n        if (player.vhs && player.currentSource().src === player.vhs.source_.src) {\n          player.vhs.setCurrentTime(time);\n        }\n\n        return time;\n      },\n      // Sync VHS after play requests.\n      // This specifically handles replay where the order of actions is\n      // play, video element will seek to 0 (skipping the setCurrentTime middleware)\n      // then triggers a play event.\n      play: function play() {\n        if (player.vhs && player.currentSource().src === player.vhs.source_.src) {\n          player.vhs.setCurrentTime(player.tech_.currentTime());\n        }\n      }\n    };\n  });\n  /**\n   * @file videojs-http-streaming.js\n   *\n   * The main file for the HLS project.\n   * License: https://github.com/videojs/videojs-http-streaming/blob/master/LICENSE\n   */\n\n  var Hls$1 = {\n    PlaylistLoader: PlaylistLoader,\n    Playlist: Playlist,\n    Decrypter: Decrypter,\n    AsyncStream: AsyncStream,\n    decrypt: decrypt,\n    utils: utils$1,\n    STANDARD_PLAYLIST_SELECTOR: lastBandwidthSelector,\n    INITIAL_PLAYLIST_SELECTOR: lowestBitrateCompatibleVariantSelector,\n    comparePlaylistBandwidth: comparePlaylistBandwidth,\n    comparePlaylistResolution: comparePlaylistResolution,\n    xhr: xhrFactory()\n  }; // Define getter/setters for config properites\n\n  ['GOAL_BUFFER_LENGTH', 'MAX_GOAL_BUFFER_LENGTH', 'GOAL_BUFFER_LENGTH_RATE', 'BUFFER_LOW_WATER_LINE', 'MAX_BUFFER_LOW_WATER_LINE', 'BUFFER_LOW_WATER_LINE_RATE', 'BANDWIDTH_VARIANCE'].forEach(function (prop) {\n    Object.defineProperty(Hls$1, prop, {\n      get: function get$$1() {\n        videojs$1.log.warn('using Hls.' + prop + ' is UNSAFE be sure you know what you are doing');\n        return Config[prop];\n      },\n      set: function set$$1(value) {\n        videojs$1.log.warn('using Hls.' + prop + ' is UNSAFE be sure you know what you are doing');\n\n        if (typeof value !== 'number' || value < 0) {\n          videojs$1.log.warn('value of Hls.' + prop + ' must be greater than or equal to 0');\n          return;\n        }\n\n        Config[prop] = value;\n      }\n    });\n  });\n  var LOCAL_STORAGE_KEY$1 = 'videojs-vhs';\n\n  var simpleTypeFromSourceType = function simpleTypeFromSourceType(type) {\n    var mpegurlRE = /^(audio|video|application)\\/(x-|vnd\\.apple\\.)?mpegurl/i;\n\n    if (mpegurlRE.test(type)) {\n      return 'hls';\n    }\n\n    var dashRE = /^application\\/dash\\+xml/i;\n\n    if (dashRE.test(type)) {\n      return 'dash';\n    }\n\n    return null;\n  };\n  /**\n   * Updates the selectedIndex of the QualityLevelList when a mediachange happens in hls.\n   *\n   * @param {QualityLevelList} qualityLevels The QualityLevelList to update.\n   * @param {PlaylistLoader} playlistLoader PlaylistLoader containing the new media info.\n   * @function handleHlsMediaChange\n   */\n\n\n  var handleHlsMediaChange = function handleHlsMediaChange(qualityLevels, playlistLoader) {\n    var newPlaylist = playlistLoader.media();\n    var selectedIndex = -1;\n\n    for (var i = 0; i < qualityLevels.length; i++) {\n      if (qualityLevels[i].id === newPlaylist.uri) {\n        selectedIndex = i;\n        break;\n      }\n    }\n\n    qualityLevels.selectedIndex_ = selectedIndex;\n    qualityLevels.trigger({\n      selectedIndex: selectedIndex,\n      type: 'change'\n    });\n  };\n  /**\n   * Adds quality levels to list once playlist metadata is available\n   *\n   * @param {QualityLevelList} qualityLevels The QualityLevelList to attach events to.\n   * @param {Object} hls Hls object to listen to for media events.\n   * @function handleHlsLoadedMetadata\n   */\n\n\n  var handleHlsLoadedMetadata = function handleHlsLoadedMetadata(qualityLevels, hls) {\n    hls.representations().forEach(function (rep) {\n      qualityLevels.addQualityLevel(rep);\n    });\n    handleHlsMediaChange(qualityLevels, hls.playlists);\n  }; // HLS is a source handler, not a tech. Make sure attempts to use it\n  // as one do not cause exceptions.\n\n\n  Hls$1.canPlaySource = function () {\n    return videojs$1.log.warn('HLS is no longer a tech. Please remove it from ' + 'your player\\'s techOrder.');\n  };\n\n  var emeKeySystems = function emeKeySystems(keySystemOptions, videoPlaylist, audioPlaylist) {\n    if (!keySystemOptions) {\n      return keySystemOptions;\n    } // upsert the content types based on the selected playlist\n\n\n    var keySystemContentTypes = {};\n\n    for (var keySystem in keySystemOptions) {\n      keySystemContentTypes[keySystem] = {\n        audioContentType: 'audio/mp4; codecs=\"' + audioPlaylist.attributes.CODECS + '\"',\n        videoContentType: 'video/mp4; codecs=\"' + videoPlaylist.attributes.CODECS + '\"'\n      };\n\n      if (videoPlaylist.contentProtection && videoPlaylist.contentProtection[keySystem] && videoPlaylist.contentProtection[keySystem].pssh) {\n        keySystemContentTypes[keySystem].pssh = videoPlaylist.contentProtection[keySystem].pssh;\n      } // videojs-contrib-eme accepts the option of specifying: 'com.some.cdm': 'url'\n      // so we need to prevent overwriting the URL entirely\n\n\n      if (typeof keySystemOptions[keySystem] === 'string') {\n        keySystemContentTypes[keySystem].url = keySystemOptions[keySystem];\n      }\n    }\n\n    return videojs$1.mergeOptions(keySystemOptions, keySystemContentTypes);\n  };\n\n  var setupEmeOptions = function setupEmeOptions(hlsHandler) {\n    if (hlsHandler.options_.sourceType !== 'dash') {\n      return;\n    }\n\n    var player = videojs$1.players[hlsHandler.tech_.options_.playerId];\n\n    if (player.eme) {\n      var sourceOptions = emeKeySystems(hlsHandler.source_.keySystems, hlsHandler.playlists.media(), hlsHandler.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());\n\n      if (sourceOptions) {\n        player.currentSource().keySystems = sourceOptions; // works around https://bugs.chromium.org/p/chromium/issues/detail?id=895449\n\n        if (player.eme.initializeMediaKeys) {\n          player.eme.initializeMediaKeys();\n        }\n      }\n    }\n  };\n\n  var getVhsLocalStorage = function getVhsLocalStorage() {\n    if (!window.localStorage) {\n      return null;\n    }\n\n    var storedObject = window.localStorage.getItem(LOCAL_STORAGE_KEY$1);\n\n    if (!storedObject) {\n      return null;\n    }\n\n    try {\n      return JSON.parse(storedObject);\n    } catch (e) {\n      // someone may have tampered with the value\n      return null;\n    }\n  };\n\n  var updateVhsLocalStorage = function updateVhsLocalStorage(options) {\n    if (!window.localStorage) {\n      return false;\n    }\n\n    var objectToStore = getVhsLocalStorage();\n    objectToStore = objectToStore ? videojs$1.mergeOptions(objectToStore, options) : options;\n\n    try {\n      window.localStorage.setItem(LOCAL_STORAGE_KEY$1, JSON.stringify(objectToStore));\n    } catch (e) {\n      // Throws if storage is full (e.g., always on iOS 5+ Safari private mode, where\n      // storage is set to 0).\n      // https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem#Exceptions\n      // No need to perform any operation.\n      return false;\n    }\n\n    return objectToStore;\n  };\n  /**\n   * Whether the browser has built-in HLS support.\n   */\n\n\n  Hls$1.supportsNativeHls = function () {\n    var video = document.createElement('video'); // native HLS is definitely not supported if HTML5 video isn't\n\n    if (!videojs$1.getTech('Html5').isSupported()) {\n      return false;\n    } // HLS manifests can go by many mime-types\n\n\n    var canPlay = [// Apple santioned\n    'application/vnd.apple.mpegurl', // Apple sanctioned for backwards compatibility\n    'audio/mpegurl', // Very common\n    'audio/x-mpegurl', // Very common\n    'application/x-mpegurl', // Included for completeness\n    'video/x-mpegurl', 'video/mpegurl', 'application/mpegurl'];\n    return canPlay.some(function (canItPlay) {\n      return /maybe|probably/i.test(video.canPlayType(canItPlay));\n    });\n  }();\n\n  Hls$1.supportsNativeDash = function () {\n    if (!videojs$1.getTech('Html5').isSupported()) {\n      return false;\n    }\n\n    return /maybe|probably/i.test(document.createElement('video').canPlayType('application/dash+xml'));\n  }();\n\n  Hls$1.supportsTypeNatively = function (type) {\n    if (type === 'hls') {\n      return Hls$1.supportsNativeHls;\n    }\n\n    if (type === 'dash') {\n      return Hls$1.supportsNativeDash;\n    }\n\n    return false;\n  };\n  /**\n   * HLS is a source handler, not a tech. Make sure attempts to use it\n   * as one do not cause exceptions.\n   */\n\n\n  Hls$1.isSupported = function () {\n    return videojs$1.log.warn('HLS is no longer a tech. Please remove it from ' + 'your player\\'s techOrder.');\n  };\n\n  var Component$1 = videojs$1.getComponent('Component');\n  /**\n   * The Hls Handler object, where we orchestrate all of the parts\n   * of HLS to interact with video.js\n   *\n   * @class HlsHandler\n   * @extends videojs.Component\n   * @param {Object} source the soruce object\n   * @param {Tech} tech the parent tech object\n   * @param {Object} options optional and required options\n   */\n\n  var HlsHandler = function (_Component) {\n    inherits$1(HlsHandler, _Component);\n\n    function HlsHandler(source, tech, options) {\n      classCallCheck$1(this, HlsHandler); // tech.player() is deprecated but setup a reference to HLS for\n      // backwards-compatibility\n\n      var _this = possibleConstructorReturn$1(this, (HlsHandler.__proto__ || Object.getPrototypeOf(HlsHandler)).call(this, tech, options.hls));\n\n      if (tech.options_ && tech.options_.playerId) {\n        var _player = videojs$1(tech.options_.playerId);\n\n        if (!_player.hasOwnProperty('hls')) {\n          Object.defineProperty(_player, 'hls', {\n            get: function get$$1() {\n              videojs$1.log.warn('player.hls is deprecated. Use player.tech().hls instead.');\n              tech.trigger({\n                type: 'usage',\n                name: 'hls-player-access'\n              });\n              return _this;\n            },\n            configurable: true\n          });\n        } // Set up a reference to the HlsHandler from player.vhs. This allows users to start\n        // migrating from player.tech_.hls... to player.vhs... for API access. Although this\n        // isn't the most appropriate form of reference for video.js (since all APIs should\n        // be provided through core video.js), it is a common pattern for plugins, and vhs\n        // will act accordingly.\n\n\n        _player.vhs = _this; // deprecated, for backwards compatibility\n\n        _player.dash = _this;\n        _this.player_ = _player;\n      }\n\n      _this.tech_ = tech;\n      _this.source_ = source;\n      _this.stats = {};\n\n      _this.setOptions_();\n\n      if (_this.options_.overrideNative && tech.overrideNativeAudioTracks && tech.overrideNativeVideoTracks) {\n        tech.overrideNativeAudioTracks(true);\n        tech.overrideNativeVideoTracks(true);\n      } else if (_this.options_.overrideNative && (tech.featuresNativeVideoTracks || tech.featuresNativeAudioTracks)) {\n        // overriding native HLS only works if audio tracks have been emulated\n        // error early if we're misconfigured\n        throw new Error('Overriding native HLS requires emulated tracks. ' + 'See https://git.io/vMpjB');\n      } // listen for fullscreenchange events for this player so that we\n      // can adjust our quality selection quickly\n\n\n      _this.on(document, ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange'], function (event) {\n        var fullscreenElement = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n\n        if (fullscreenElement && fullscreenElement.contains(_this.tech_.el())) {\n          _this.masterPlaylistController_.smoothQualityChange_();\n        }\n      }); // Handle seeking when looping - middleware doesn't handle this seek event from the tech\n\n\n      _this.on(_this.tech_, 'seeking', function () {\n        if (this.tech_.currentTime() === 0 && this.tech_.player_.loop()) {\n          this.setCurrentTime(0);\n        }\n      });\n\n      _this.on(_this.tech_, 'error', function () {\n        if (this.masterPlaylistController_) {\n          this.masterPlaylistController_.pauseLoading();\n        }\n      });\n\n      _this.on(_this.tech_, 'play', _this.play);\n\n      return _this;\n    }\n\n    createClass$1(HlsHandler, [{\n      key: 'setOptions_',\n      value: function setOptions_() {\n        var _this2 = this; // defaults\n\n\n        this.options_.withCredentials = this.options_.withCredentials || false;\n        this.options_.handleManifestRedirects = this.options_.handleManifestRedirects || false;\n        this.options_.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions === false ? false : true;\n        this.options_.smoothQualityChange = this.options_.smoothQualityChange || false;\n        this.options_.useBandwidthFromLocalStorage = typeof this.source_.useBandwidthFromLocalStorage !== 'undefined' ? this.source_.useBandwidthFromLocalStorage : this.options_.useBandwidthFromLocalStorage || false;\n        this.options_.customTagParsers = this.options_.customTagParsers || [];\n        this.options_.customTagMappers = this.options_.customTagMappers || [];\n        this.options_.cacheEncryptionKeys = this.options_.cacheEncryptionKeys || false;\n\n        if (typeof this.options_.blacklistDuration !== 'number') {\n          this.options_.blacklistDuration = 5 * 60;\n        }\n\n        if (typeof this.options_.bandwidth !== 'number') {\n          if (this.options_.useBandwidthFromLocalStorage) {\n            var storedObject = getVhsLocalStorage();\n\n            if (storedObject && storedObject.bandwidth) {\n              this.options_.bandwidth = storedObject.bandwidth;\n              this.tech_.trigger({\n                type: 'usage',\n                name: 'hls-bandwidth-from-local-storage'\n              });\n            }\n\n            if (storedObject && storedObject.throughput) {\n              this.options_.throughput = storedObject.throughput;\n              this.tech_.trigger({\n                type: 'usage',\n                name: 'hls-throughput-from-local-storage'\n              });\n            }\n          }\n        } // if bandwidth was not set by options or pulled from local storage, start playlist\n        // selection at a reasonable bandwidth\n\n\n        if (typeof this.options_.bandwidth !== 'number') {\n          this.options_.bandwidth = Config.INITIAL_BANDWIDTH;\n        } // If the bandwidth number is unchanged from the initial setting\n        // then this takes precedence over the enableLowInitialPlaylist option\n\n\n        this.options_.enableLowInitialPlaylist = this.options_.enableLowInitialPlaylist && this.options_.bandwidth === Config.INITIAL_BANDWIDTH; // grab options passed to player.src\n\n        ['withCredentials', 'limitRenditionByPlayerDimensions', 'bandwidth', 'smoothQualityChange', 'customTagParsers', 'customTagMappers', 'handleManifestRedirects', 'cacheEncryptionKeys'].forEach(function (option) {\n          if (typeof _this2.source_[option] !== 'undefined') {\n            _this2.options_[option] = _this2.source_[option];\n          }\n        });\n        this.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions;\n      }\n      /**\n       * called when player.src gets called, handle a new source\n       *\n       * @param {Object} src the source object to handle\n       */\n\n    }, {\n      key: 'src',\n      value: function src(_src, type) {\n        var _this3 = this; // do nothing if the src is falsey\n\n\n        if (!_src) {\n          return;\n        }\n\n        this.setOptions_(); // add master playlist controller options\n\n        this.options_.url = this.source_.src;\n        this.options_.tech = this.tech_;\n        this.options_.externHls = Hls$1;\n        this.options_.sourceType = simpleTypeFromSourceType(type); // Whenever we seek internally, we should update both the tech and call our own\n        // setCurrentTime function. This is needed because \"seeking\" events aren't always\n        // reliable. External seeks (via the player object) are handled via middleware.\n\n        this.options_.seekTo = function (time) {\n          _this3.tech_.setCurrentTime(time);\n\n          _this3.setCurrentTime(time);\n        };\n\n        this.masterPlaylistController_ = new MasterPlaylistController(this.options_);\n        this.playbackWatcher_ = new PlaybackWatcher(videojs$1.mergeOptions(this.options_, {\n          seekable: function seekable$$1() {\n            return _this3.seekable();\n          },\n          media: function media() {\n            return _this3.masterPlaylistController_.media();\n          }\n        }));\n        this.masterPlaylistController_.on('error', function () {\n          var player = videojs$1.players[_this3.tech_.options_.playerId];\n          player.error(_this3.masterPlaylistController_.error);\n        }); // `this` in selectPlaylist should be the HlsHandler for backwards\n        // compatibility with < v2\n\n        this.masterPlaylistController_.selectPlaylist = this.selectPlaylist ? this.selectPlaylist.bind(this) : Hls$1.STANDARD_PLAYLIST_SELECTOR.bind(this);\n        this.masterPlaylistController_.selectInitialPlaylist = Hls$1.INITIAL_PLAYLIST_SELECTOR.bind(this); // re-expose some internal objects for backwards compatibility with < v2\n\n        this.playlists = this.masterPlaylistController_.masterPlaylistLoader_;\n        this.mediaSource = this.masterPlaylistController_.mediaSource; // Proxy assignment of some properties to the master playlist\n        // controller. Using a custom property for backwards compatibility\n        // with < v2\n\n        Object.defineProperties(this, {\n          selectPlaylist: {\n            get: function get$$1() {\n              return this.masterPlaylistController_.selectPlaylist;\n            },\n            set: function set$$1(selectPlaylist) {\n              this.masterPlaylistController_.selectPlaylist = selectPlaylist.bind(this);\n            }\n          },\n          throughput: {\n            get: function get$$1() {\n              return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate;\n            },\n            set: function set$$1(throughput) {\n              this.masterPlaylistController_.mainSegmentLoader_.throughput.rate = throughput; // By setting `count` to 1 the throughput value becomes the starting value\n              // for the cumulative average\n\n              this.masterPlaylistController_.mainSegmentLoader_.throughput.count = 1;\n            }\n          },\n          bandwidth: {\n            get: function get$$1() {\n              return this.masterPlaylistController_.mainSegmentLoader_.bandwidth;\n            },\n            set: function set$$1(bandwidth) {\n              this.masterPlaylistController_.mainSegmentLoader_.bandwidth = bandwidth; // setting the bandwidth manually resets the throughput counter\n              // `count` is set to zero that current value of `rate` isn't included\n              // in the cumulative average\n\n              this.masterPlaylistController_.mainSegmentLoader_.throughput = {\n                rate: 0,\n                count: 0\n              };\n            }\n          },\n\n          /**\n           * `systemBandwidth` is a combination of two serial processes bit-rates. The first\n           * is the network bitrate provided by `bandwidth` and the second is the bitrate of\n           * the entire process after that - decryption, transmuxing, and appending - provided\n           * by `throughput`.\n           *\n           * Since the two process are serial, the overall system bandwidth is given by:\n           *   sysBandwidth = 1 / (1 / bandwidth + 1 / throughput)\n           */\n          systemBandwidth: {\n            get: function get$$1() {\n              var invBandwidth = 1 / (this.bandwidth || 1);\n              var invThroughput = void 0;\n\n              if (this.throughput > 0) {\n                invThroughput = 1 / this.throughput;\n              } else {\n                invThroughput = 0;\n              }\n\n              var systemBitrate = Math.floor(1 / (invBandwidth + invThroughput));\n              return systemBitrate;\n            },\n            set: function set$$1() {\n              videojs$1.log.error('The \"systemBandwidth\" property is read-only');\n            }\n          }\n        });\n\n        if (this.options_.bandwidth) {\n          this.bandwidth = this.options_.bandwidth;\n        }\n\n        if (this.options_.throughput) {\n          this.throughput = this.options_.throughput;\n        }\n\n        Object.defineProperties(this.stats, {\n          bandwidth: {\n            get: function get$$1() {\n              return _this3.bandwidth || 0;\n            },\n            enumerable: true\n          },\n          mediaRequests: {\n            get: function get$$1() {\n              return _this3.masterPlaylistController_.mediaRequests_() || 0;\n            },\n            enumerable: true\n          },\n          mediaRequestsAborted: {\n            get: function get$$1() {\n              return _this3.masterPlaylistController_.mediaRequestsAborted_() || 0;\n            },\n            enumerable: true\n          },\n          mediaRequestsTimedout: {\n            get: function get$$1() {\n              return _this3.masterPlaylistController_.mediaRequestsTimedout_() || 0;\n            },\n            enumerable: true\n          },\n          mediaRequestsErrored: {\n            get: function get$$1() {\n              return _this3.masterPlaylistController_.mediaRequestsErrored_() || 0;\n            },\n            enumerable: true\n          },\n          mediaTransferDuration: {\n            get: function get$$1() {\n              return _this3.masterPlaylistController_.mediaTransferDuration_() || 0;\n            },\n            enumerable: true\n          },\n          mediaBytesTransferred: {\n            get: function get$$1() {\n              return _this3.masterPlaylistController_.mediaBytesTransferred_() || 0;\n            },\n            enumerable: true\n          },\n          mediaSecondsLoaded: {\n            get: function get$$1() {\n              return _this3.masterPlaylistController_.mediaSecondsLoaded_() || 0;\n            },\n            enumerable: true\n          },\n          buffered: {\n            get: function get$$1() {\n              return timeRangesToArray(_this3.tech_.buffered());\n            },\n            enumerable: true\n          },\n          currentTime: {\n            get: function get$$1() {\n              return _this3.tech_.currentTime();\n            },\n            enumerable: true\n          },\n          currentSource: {\n            get: function get$$1() {\n              return _this3.tech_.currentSource_;\n            },\n            enumerable: true\n          },\n          currentTech: {\n            get: function get$$1() {\n              return _this3.tech_.name_;\n            },\n            enumerable: true\n          },\n          duration: {\n            get: function get$$1() {\n              return _this3.tech_.duration();\n            },\n            enumerable: true\n          },\n          master: {\n            get: function get$$1() {\n              return _this3.playlists.master;\n            },\n            enumerable: true\n          },\n          playerDimensions: {\n            get: function get$$1() {\n              return _this3.tech_.currentDimensions();\n            },\n            enumerable: true\n          },\n          seekable: {\n            get: function get$$1() {\n              return timeRangesToArray(_this3.tech_.seekable());\n            },\n            enumerable: true\n          },\n          timestamp: {\n            get: function get$$1() {\n              return Date.now();\n            },\n            enumerable: true\n          },\n          videoPlaybackQuality: {\n            get: function get$$1() {\n              return _this3.tech_.getVideoPlaybackQuality();\n            },\n            enumerable: true\n          }\n        });\n        this.tech_.one('canplay', this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_));\n        this.tech_.on('bandwidthupdate', function () {\n          if (_this3.options_.useBandwidthFromLocalStorage) {\n            updateVhsLocalStorage({\n              bandwidth: _this3.bandwidth,\n              throughput: Math.round(_this3.throughput)\n            });\n          }\n        });\n        this.masterPlaylistController_.on('selectedinitialmedia', function () {\n          // Add the manual rendition mix-in to HlsHandler\n          renditionSelectionMixin(_this3);\n          setupEmeOptions(_this3);\n        }); // the bandwidth of the primary segment loader is our best\n        // estimate of overall bandwidth\n\n        this.on(this.masterPlaylistController_, 'progress', function () {\n          this.tech_.trigger('progress');\n        });\n        this.tech_.ready(function () {\n          return _this3.setupQualityLevels_();\n        }); // do nothing if the tech has been disposed already\n        // this can occur if someone sets the src in player.ready(), for instance\n\n        if (!this.tech_.el()) {\n          return;\n        }\n\n        this.tech_.src(videojs$1.URL.createObjectURL(this.masterPlaylistController_.mediaSource));\n      }\n      /**\n       * Initializes the quality levels and sets listeners to update them.\n       *\n       * @method setupQualityLevels_\n       * @private\n       */\n\n    }, {\n      key: 'setupQualityLevels_',\n      value: function setupQualityLevels_() {\n        var _this4 = this;\n\n        var player = videojs$1.players[this.tech_.options_.playerId];\n\n        if (player && player.qualityLevels) {\n          this.qualityLevels_ = player.qualityLevels();\n          this.masterPlaylistController_.on('selectedinitialmedia', function () {\n            handleHlsLoadedMetadata(_this4.qualityLevels_, _this4);\n          });\n          this.playlists.on('mediachange', function () {\n            handleHlsMediaChange(_this4.qualityLevels_, _this4.playlists);\n          });\n        }\n      }\n      /**\n       * Begin playing the video.\n       */\n\n    }, {\n      key: 'play',\n      value: function play() {\n        this.masterPlaylistController_.play();\n      }\n      /**\n       * a wrapper around the function in MasterPlaylistController\n       */\n\n    }, {\n      key: 'setCurrentTime',\n      value: function setCurrentTime(currentTime) {\n        this.masterPlaylistController_.setCurrentTime(currentTime);\n      }\n      /**\n       * a wrapper around the function in MasterPlaylistController\n       */\n\n    }, {\n      key: 'duration',\n      value: function duration$$1() {\n        return this.masterPlaylistController_.duration();\n      }\n      /**\n       * a wrapper around the function in MasterPlaylistController\n       */\n\n    }, {\n      key: 'seekable',\n      value: function seekable$$1() {\n        return this.masterPlaylistController_.seekable();\n      }\n      /**\n       * Abort all outstanding work and cleanup.\n       */\n\n    }, {\n      key: 'dispose',\n      value: function dispose() {\n        if (this.playbackWatcher_) {\n          this.playbackWatcher_.dispose();\n        }\n\n        if (this.masterPlaylistController_) {\n          this.masterPlaylistController_.dispose();\n        }\n\n        if (this.qualityLevels_) {\n          this.qualityLevels_.dispose();\n        }\n\n        if (this.player_) {\n          delete this.player_.vhs;\n          delete this.player_.dash;\n          delete this.player_.hls;\n        }\n\n        if (this.tech_ && this.tech_.hls) {\n          delete this.tech_.hls;\n        }\n\n        get$1(HlsHandler.prototype.__proto__ || Object.getPrototypeOf(HlsHandler.prototype), 'dispose', this).call(this);\n      }\n    }, {\n      key: 'convertToProgramTime',\n      value: function convertToProgramTime(time, callback) {\n        return getProgramTime({\n          playlist: this.masterPlaylistController_.media(),\n          time: time,\n          callback: callback\n        });\n      } // the player must be playing before calling this\n\n    }, {\n      key: 'seekToProgramTime',\n      value: function seekToProgramTime$$1(programTime, callback) {\n        var pauseAfterSeek = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        var retryCount = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 2;\n        return seekToProgramTime({\n          programTime: programTime,\n          playlist: this.masterPlaylistController_.media(),\n          retryCount: retryCount,\n          pauseAfterSeek: pauseAfterSeek,\n          seekTo: this.options_.seekTo,\n          tech: this.options_.tech,\n          callback: callback\n        });\n      }\n    }]);\n    return HlsHandler;\n  }(Component$1);\n  /**\n   * The Source Handler object, which informs video.js what additional\n   * MIME types are supported and sets up playback. It is registered\n   * automatically to the appropriate tech based on the capabilities of\n   * the browser it is running in. It is not necessary to use or modify\n   * this object in normal usage.\n   */\n\n\n  var HlsSourceHandler = {\n    name: 'videojs-http-streaming',\n    VERSION: version$1,\n    canHandleSource: function canHandleSource(srcObj) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var localOptions = videojs$1.mergeOptions(videojs$1.options, options);\n      return HlsSourceHandler.canPlayType(srcObj.type, localOptions);\n    },\n    handleSource: function handleSource(source, tech) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var localOptions = videojs$1.mergeOptions(videojs$1.options, options);\n      tech.hls = new HlsHandler(source, tech, localOptions);\n      tech.hls.xhr = xhrFactory();\n      tech.hls.src(source.src, source.type);\n      return tech.hls;\n    },\n    canPlayType: function canPlayType(type) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _videojs$mergeOptions = videojs$1.mergeOptions(videojs$1.options, options),\n          overrideNative = _videojs$mergeOptions.hls.overrideNative;\n\n      var supportedType = simpleTypeFromSourceType(type);\n      var canUseMsePlayback = supportedType && (!Hls$1.supportsTypeNatively(supportedType) || overrideNative);\n      return canUseMsePlayback ? 'maybe' : '';\n    }\n  };\n\n  if (typeof videojs$1.MediaSource === 'undefined' || typeof videojs$1.URL === 'undefined') {\n    videojs$1.MediaSource = MediaSource;\n    videojs$1.URL = URL$1;\n  } // register source handlers with the appropriate techs\n\n\n  if (MediaSource.supportsNativeMediaSources()) {\n    videojs$1.getTech('Html5').registerSourceHandler(HlsSourceHandler, 0);\n  }\n\n  videojs$1.HlsHandler = HlsHandler;\n  videojs$1.HlsSourceHandler = HlsSourceHandler;\n  videojs$1.Hls = Hls$1;\n\n  if (!videojs$1.use) {\n    videojs$1.registerComponent('Hls', Hls$1);\n  }\n\n  videojs$1.options.hls = videojs$1.options.hls || {};\n\n  if (videojs$1.registerPlugin) {\n    videojs$1.registerPlugin('reloadSourceOnError', reloadSourceOnError);\n  } else {\n    videojs$1.plugin('reloadSourceOnError', reloadSourceOnError);\n  }\n\n  return videojs$1;\n\n}));\n"],"file":"video-lazy.min.js"}