define(["jquery","core/ajax","core/notification"],function(a,b,c){var d=new Date,e=Math.floor(d.setHours(0,0,0,0)/1e3),f=e+3600,g=e+93600,h=e+1209600,i=e+4838400,j=e+63072e3,k=[{id:1,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 1",contexturl:"https://www.google.com",courseid:1,coursename:"Course 1",coursesummary:"This is a brief summary of course 1",courseStartDate:"Oct 1, 2016",courseEndDate:"Oct 6, 2016",itemcount:1,orderTime:f,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:2,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 2",contexturl:"https://www.google.com",courseid:1,coursename:"Course 1",coursesummary:"This is a brief summary of course 1",courseStartDate:"Oct 1, 2016",courseEndDate:"Oct 6, 2016",itemcount:1,orderTime:f,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:3,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 3",contexturl:"https://www.google.com",courseid:1,coursename:"Course 1",coursesummary:"This is a brief summary of course 1",courseStartDate:"Oct 1, 2016",courseEndDate:"Oct 6, 2016",itemcount:1,orderTime:f,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:4,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 4",contexturl:"https://www.google.com",courseid:2,coursename:"Course 2",coursesummary:"This is a brief summary of course 2",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:f,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:5,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 5",contexturl:"https://www.google.com",courseid:2,coursename:"Course 2",coursesummary:"This is a brief summary of course 2",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:f,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:6,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 6",contexturl:"https://www.google.com",courseid:2,coursename:"Course 2",coursesummary:"This is a brief summary of course 2",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:f,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:7,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 7",contexturl:"https://www.google.com",courseid:3,coursename:"Course 3",coursesummary:"This is a brief summary of course 3",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:g,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:8,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 8",contexturl:"https://www.google.com",courseid:3,coursename:"Course 3",coursesummary:"This is a brief summary of course 3",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:g,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:9,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 9",contexturl:"https://www.google.com",courseid:2,coursename:"Course 2",coursesummary:"This is a brief summary of course 2",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:g,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:10,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 10",contexturl:"https://www.google.com",courseid:1,coursename:"Course 1",coursesummary:"This is a brief summary of course 1",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:g,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:11,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 11",contexturl:"https://www.google.com",courseid:2,coursename:"Course 2",coursesummary:"This is a brief summary of course 2",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:g,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:12,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 12",contexturl:"https://www.google.com",courseid:2,coursename:"Course 2",coursesummary:"This is a brief summary of course 2",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:g,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:13,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 13",contexturl:"https://www.google.com",courseid:1,coursename:"Course 1",coursesummary:"This is a brief summary of course 1",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:g,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:14,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 14",contexturl:"https://www.google.com",courseid:3,coursename:"Course 3",coursesummary:"This is a brief summary of course 3",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:g,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:15,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 15",contexturl:"https://www.google.com",courseid:1,coursename:"Course 1",coursesummary:"This is a brief summary of course 1",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:g,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:16,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 16",contexturl:"https://www.google.com",courseid:1,coursename:"Course 1",coursesummary:"This is a brief summary of course 1",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:g,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:17,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 17",contexturl:"https://www.google.com",courseid:1,coursename:"Course 1",coursesummary:"This is a brief summary of course 1",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:18,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 18",contexturl:"https://www.google.com",courseid:2,coursename:"Course 2",coursesummary:"This is a brief summary of course 2",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:19,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 19",contexturl:"https://www.google.com",courseid:2,coursename:"Course 2",coursesummary:"This is a brief summary of course 2",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:20,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 20",contexturl:"https://www.google.com",courseid:2,coursename:"Course 2",coursesummary:"This is a brief summary of course 2",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:21,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 21",contexturl:"https://www.google.com",courseid:2,coursename:"Course 2",coursesummary:"This is a brief summary of course 2",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:22,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 22",contexturl:"https://www.google.com",courseid:3,coursename:"Course 3",coursesummary:"This is a brief summary of course 3",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:23,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 23",contexturl:"https://www.google.com",courseid:3,coursename:"Course 3",coursesummary:"This is a brief summary of course 3",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:24,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 24",contexturl:"https://www.google.com",courseid:3,coursename:"Course 3",coursesummary:"This is a brief summary of course 3",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:25,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 25",contexturl:"https://www.google.com",courseid:3,coursename:"Course 3",coursesummary:"This is a brief summary of course 3",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:26,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 26",contexturl:"https://www.google.com",courseid:3,coursename:"Course 3",coursesummary:"This is a brief summary of course 3",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:27,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 27",contexturl:"https://www.google.com",courseid:1,coursename:"Course 1",coursesummary:"This is a brief summary of course 1",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:28,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 28",contexturl:"https://www.google.com",courseid:1,coursename:"Course 1",coursesummary:"This is a brief summary of course 1",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:29,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 29",contexturl:"https://www.google.com",courseid:1,coursename:"Course 1",coursesummary:"This is a brief summary of course 1",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:30,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 30",contexturl:"https://www.google.com",courseid:1,coursename:"Course 1",coursesummary:"This is a brief summary of course 1",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:31,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 31",contexturl:"https://www.google.com",courseid:3,coursename:"Course 3",coursesummary:"This is a brief summary of course 3",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:32,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 32",contexturl:"https://www.google.com",courseid:3,coursename:"Course 3",coursesummary:"This is a brief summary of course 3",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:h,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:33,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 33",contexturl:"https://www.google.com",courseid:2,coursename:"Course 2",coursesummary:"This is a brief summary of course 2",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:i,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:34,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 34",contexturl:"https://www.google.com",courseid:2,coursename:"Course 2",coursesummary:"This is a brief summary of course 2",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:i,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:35,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 35",contexturl:"https://www.google.com",courseid:2,coursename:"Course 2",coursesummary:"This is a brief summary of course 2",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:i,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:36,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 36",contexturl:"https://www.google.com",courseid:1,coursename:"Course 1",coursesummary:"This is a brief summary of course 1",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:j,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:37,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 37",contexturl:"https://www.google.com",courseid:2,coursename:"Course 2",coursesummary:"This is a brief summary of course 2",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:j,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}},{id:38,actionname:"Submit assignment",actionurl:"https://www.google.com",enddate:"Nov 4th, 10am",contextname:"Assignment due 38",contexturl:"https://www.google.com",courseid:3,coursename:"Course 3",coursesummary:"This is a brief summary of course 3",courseStartDate:"Oct 7, 2016",courseEndDate:"Oct 14, 2016",itemcount:1,orderTime:j,icon:{key:"icon",component:"mod_assign",alttext:"Assignment icon"}}],l=20,m=function(b,c,d,e){var f=a.Deferred();return setTimeout(function(){f.resolve(n(b,c,d,e))},1e3),f.promise()},n=function(b,c,d,e){var f={},g={};return a.each(k,function(a,b){f[b.courseid]||(f[b.courseid]={courseid:b.courseid,coursename:b.coursename,coursesummary:b.coursesummary,courseStartDate:b.courseStartDate,courseEndDate:b.courseEndDate,calendarEvents:[]}),f[b.courseid].calendarEvents.push(b)}),"undefined"!=typeof f[b]&&(g=f[b].calendarEvents.slice(e,e+d)),{events:g}},o=function(a,d,e){d="undefined"==typeof d?l:d;var f={timesortfrom:a,limitnum:d};"undefined"!=typeof e&&(f.aftereventid=e);var g={methodname:"core_calendar_get_action_events_by_timesort",args:f},h=b.call([g])[0];return h.fail(c.exception),h};return{queryFromTime:o,queryFromTimeByCourse:m}});