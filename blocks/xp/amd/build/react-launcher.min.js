define(["exports","jquery","core/pending","core/log","core/notification"],(function(_exports,_jquery,_pending,_log,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * React app launcher.
   *
   * @copyright  2024 Frédéric Massart
   * @author     Frédéric Massart <fred@branchup.tech>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */async function loadModule(mod){const loader=_jquery.default.Deferred(),pending=new _pending.default("block_xp/react-launcher:launch");return require([mod],(function(mod){var dependencies=[],optionalDependencies=[],dependenciesLoadedCallback=function(){};mod.dependencies&&(dependencies=mod.dependencies.list,dependenciesLoadedCallback=mod.dependencies.loader,optionalDependencies=mod.dependencies.optional||[]),require([].concat(dependencies),(function(){const deps=[...arguments];dependenciesLoadedCallback(deps),loader.resolve(mod)}),(function(err){err.requireModules.filter((m=>optionalDependencies.includes(m))).forEach((module=>{_log.default.warn("block_xp launcher: Mocking optional module ".concat(module," as it was not found.")),require.undef(module);define(module,(function(){return null}))})),require(err.requireModules,(function(){}))}))})),loader.then((mod=>(pending.resolve(),mod))).catch(_notification.default.exception)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.launch=function(mod,rootId,propsId){const props=JSON.parse(document.getElementById(propsId).textContent);!async function(mod,rootId){let props=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{startApp:startApp}=await loadModule(mod);startApp(document.getElementById(rootId),props)}(mod,rootId,props)},_jquery=_interopRequireDefault(_jquery),_pending=_interopRequireDefault(_pending),_log=_interopRequireDefault(_log),_notification=_interopRequireDefault(_notification)}));

//# sourceMappingURL=react-launcher.min.js.map