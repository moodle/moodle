define(["exports","core/modal","core/modal_events","block_xp/compat","block_xp/course-resource-selector","jquery"],(function(_exports,_modal,_modal_events,_compat,_courseResourceSelector,_jquery){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Course selector.
   *
   * @copyright  2024 Frédéric Massart
   * @author     Frédéric Massart <fred@branchup.tech>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.openCourseSelector=void 0,_modal=_interopRequireDefault(_modal),_modal_events=_interopRequireDefault(_modal_events),_courseResourceSelector=_interopRequireDefault(_courseResourceSelector),_jquery=_interopRequireDefault(_jquery);_exports.openCourseSelector=async onSelected=>{const{html:html}=await(0,_compat.asyncRender)("block_xp/modal-course-selector",{}),modal=new _modal.default(html);modal.setRemoveOnClose(!0);const rootJq=modal.getRoot(),root=rootJq[0];rootJq.on(_modal_events.default.shown,(()=>{const container=root.querySelector(".search-result-contents"),termField=root.querySelector(".search-term-course");new _courseResourceSelector.default((0,_jquery.default)(container),(0,_jquery.default)(termField)).onResourceSelected((function(e,resource){onSelected(resource.course),modal.hide()}))})),modal.show()}}));

//# sourceMappingURL=course-selector.min.js.map