<html>
<head>
<title>Documentação do Moodle: Perguntas Frequentes (FAQ)</title>
<link rel="stylesheet" href="docstyles.css" type="TEXT/CSS">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body bgcolor="#FFFFFF">
<h1>Perguntas Frequentes (FAQ)</h1>
<p class="normaltext">Esta página responde algumas das perguntas colocadas
com maior frequência por quem instala o Moodle. Se já seguiu todos os passos
sugerido no <a href="./?file=install.html">guia de instalação</a> mas ainda
tem problemas, então provavelmente este é o lugar certo para si.</p>

<p class="normaltext">Se não encontrar a resposta que procura aqui, tente nos
foruns da disciplina <a href="http://moodle.org/mod/forum/index.php?id=5" target="_top">Using Moodle</a> em moodle.org (no mesmo sítio temos também
<a href="http://moodle.org/mod/forum/index.php?id=24">foruns em português</a>). 
Comece por fazer uma pesquisa nos foruns, usando algumas palavras chaves,
pois o seu problema pode já ter sido discutido. Se não encontrar nada, tente
enviar a sua pergunta para o fórum que achar apropriado - normalmente haverá
alguém disposto a ajudá-lo.</p>

<p class="normaltext">Se já tentou várias soluções sem êxito e o seu servidor
estiver protegido por uma firewall, poderá ser preciso uma reconfiguração da
sua firewall para garantir que não está a bloquear uma função básica ou
alguma parte da comunicação. Moodle raramente tem problemas com as firewalls
mas por vezes uma má configuração de uma firewall pode reduzir as
funcionalidades do Moodle.</p>

<p class="normaltext">Use esta lista para ir directamente à resposta
correspondente mais abaixo:</p>

<p class="questionlink"><a href="#filenotfound">Sempre que tento aceder a um ficheiro que enviei, obtenho o erro &quot;File not Found&quot;</a></p>

<p class="questionlink"><a href="#php">PHP - está instalado e que versão tenho?</a></p>

<p class="questionlink"><a href="#blankpages">Porque estão todas as minhas páginas em branco?</a></p>

<p class="questionlink"><a href="#errorgetstring">As minhas páginas apresentam erros graves tais como: "call to undefined function: get_string()" (chamada para função não definida: get_string())</a></p>

<p class="questionlink"><a href="#headerssent">Porque é que estou sempre a receber mensagens sobre &quot;headers already sent&quot; (cabeçalhos já enviados)?</a></p>

<p class="questionlink"><a href="#failedopen">Aparece-me sempre este erro: "Failed opening required '/web/moodle/lib/setup.php'" (Ocorreu uma falha ao abrir o ficheiro '/web/moodle/lib/setup.php')</a></p>

<p class="questionlink"><a href="#quotes">Any text I add with an apostrophe (') or a quote (&quot;) causes errors or comes up with a slash added</a></p>

<p class="questionlink"><a href="#sessiontmp">I keep getting error messages about session_start</a></p>

<p class="questionlink"><a href="#fixdirroot">When I go to the admin page, I get told to make dirroot blank!</a></p>

<p class="questionlink"><a href="#loginsetting">I login but the login link doesn't change. I am logged in and can navigate freely.</a></p>

<p class="questionlink"><a href="#resource1">When trying to add a resource I receive error messages.</a></p>

<p class="questionlink"><a href="#noadmin">During the initial setting-up process, I never get asked to create an admin account!</a></p>

<p class="questionlink"><a href="#nologin">I can't log in at all- I just stay stuck on the login screen.</a></p>

<p class="questionlink"><a href="#backup">How do I backup my Moodle site?</a></p>

<p class="questionlink"><a href="#locale">Why doesn't my Moodle site display the time & date correctly?</a></p>

<p class="questionlink"><a href="#cron">Email copies are not being sent 

  from my forums</a></p>

<p class="questionlink">&nbsp;</p>

<h3><a name="filenotfound"></a>Sempre que tento aceder a um ficheiro que enviei obtenho o erro &quot;File not Found&quot;</h3>

<p class="answer">Por exemplo: Not Found: The requested URL /moodle/file.php/2/myfile.jpg was not found on this server. </p>
<p class="answer">O seu servidor web tem que ser configurado para permitir que a parte do URL que segue o nome de um script seja passada directamente para esse script. Esta configuração está normalmente activada no Apache 1, mas desactivada por omissão no Apache 2. Para activar, acrescente esta linha ao seu ficheiro httpd.config, ou ao ficheiro .htaccess na sua directoria local (ver a <a href="./?file=install.html#webserver">Instalação do Moodle</a> para mais informação): </p>
<p class="answercode"><b>AcceptPathInfo</b> on</p>
<p class="answer">Note que isto APENAS funcionará para as versões do Apache 2.x. </p>
<p class="answer">Se não estiver a usar o Apache 2, mas ainda encontrar este problema (pouco provável), então pode fazer com que o Moodle use um método alternativo. As desvantagens incluem uma ligeira perda de performance para os seus utilizadores e a impossibilidade de usar ligações relativas em documentos HTML.</p>
<p class="answer">Para usar este método alternativo: Faça login como Admin, dirija-se à página "Configurar Variáveis" e muda a opção de configuração para "<b>slasharguments</b>". 
 Agora já deve ser capaz de aceder aos ficheiros enviados.</p>
<p class="answer">&nbsp;</p>


  <h3><a name="php"></a>PHP - está instalado e que versão tenho?</h3>

  <p class="answer">Crie um novo ficheiro no seu sítio web chamado info.php, com  o conteúdo que se segue, e invoque-o a partir do seu navegador:</p>
  <p class="answercode">&lt;?PHP phpinfo() ?&gt;</p>
  <p class="answer">Se nada acontecer, então é porque não tem o PHP instalado. Procure nos documentos de instalação mais informação sobre onde pode obter o PHP e como instalá-lo.</p>
  <p class="answer">&nbsp;</p>


  <h3><a name="blankpages"></a>Porque estão todas as minhas páginas em branco? </h3> 

<p class="answer">Verifique a variável dirroot em config.php. Deve usar caminhos completos e absolutos, por exemplo:</p>
<p class="answercode"> $CFG->dirroot = "d:\inetpub\sites\www.yoursite.com\web\moodle";</p>
<p>&nbsp; </p>
<p class="answer">Para a plataforma Redhat Linux, veja em: <a href="http://moodle.org/doc/?file=installamp.html">Redhat Linux</a></p>
<p>&nbsp; </p>


<h3><a name="errorgetstring"></a>As minhas páginas apresentam erros graves tais como: "call to undefined function: get_string()" (chamada para função não definida: get_string())</h3>

<p class="answer">Se vir erros como:</p>
<p class="answercode">Parse error: parse error, unexpected T_VARIABLE in c:\program files\easyphp\www\moodle\config.php on line 94 <br>
  Fatal error: Call to undefined function: get_string() in c:\program files\easyphp\www\moodle\mod\resource\lib.php on line 11</p>
<p class="answer">então é provável que se tenha esquecido de um ponto e vírgula ou de fechar uma aspa numa das linhas do ficheiro config.php (antes da linha 94).</p>
<p class="answer">Outra explicação possível é ter usado um editor de texto como o Word para alterar o ficheiro config.php, e o tenha gravado em formato HTML em vez do formato de texto simples.</p>
<p>&nbsp;</p>


<h3><a name="headerssent"></a>Porque é que estou sempre a receber mensagens sobre &quot;headers already sent&quot; (cabeçalhos já enviados)?</h3>
<p class="answer">Se vir erros como este:</p>
<p class="answercode">Warning: Cannot add header information - headers already 
  sent by (output started at /webs/moodle/config.php:87)   /webs/moodle/lib/moodlelib.php on line 1322 </p>
<p class="answercode"> Warning: Cannot add header information - headers already 
  sent by (output started at /webs/moodle/config.php:87) in /webs/moodle/lib/moodlelib.php on line 1323 </p>
<p class="answercode"> Warning: Cannot add header information - headers already 
  sent by (output started at /webs/moodle/config.php:87) in /webs/moodle/login/index.php on line 54 </p>
<p class="answer">Significa que tem espaços ou linhas em branco antes do ?> final no ficheiro config.php. Por vezes alguns editores de texto acrescentam espaços - por exemplo o Notepad em Windows - por isso talvez tenha que usar outro editor para remover completamente as linhas ou espaços em branco. </p>
<p class="answer">&nbsp;</p>

<h3><a name="failedopen"></a>Aparece-me sempre este erro: "Failed opening required '/web/moodle/lib/setup.php'" (Ocorreu uma falha ao abrir o ficheiro '/web/moodle/lib/setup.php')</h3>
<p class="answer">No seu ficheiro config.php, o valor usado para a variável
dirroot deverá ser o <strong>caminho completo a partir do
directório raíz no seu disco</strong>.</p>
<p class="answer">Por vezes as pessoas usam apenas o caminho a partir do
seu directório de trabalho o relativo ao directório raíz do servidor Web.</p>
<p class="answer">&nbsp;</p>

<h3><a name="quotes" id="quotes"></a>Any text I add with an apostrophe 
  (') or a quote (&quot;) causes errors or comes up with a slash added</h3>

<p class="answer">Problems caused by apostrophes are caused by incorrect &quot;magic 



  quotes&quot; settings. Moodle requires the following settings (which are usually 
  the default):</p>
<p class="answercode">magic_quotes_gpc = On<br>
  magic_quotes_runtime = Off</p>



<p class="answer">See the section on <a href="./?file=install.html#webserver">webserver 

  configuration</a> in the Installation docs for more details.</p>

<p class="answer">&nbsp;</p>















<h3><a name="sessiontmp"></a>I keep getting error messages about session_start</h3>



<p class="answer">If you see errors like this:</p>



<p class="answercode">Warning: session_start() [function.session-start]: open(/tmp\\\\\\\\sess_d40f380d37d431fc1516e9a895ad9ce0, O_RDWR) failed: No such file or directory (2) in G:\\\\\\\\web\\\\\\\\moodle\\\\\\\\lib\\\\\\\\setup.php on line 123</p>



<p class="answercode">Warning: session_start() [function.session-start]: open(/tmp\\\\\\\\sess_d40f380d37d431fc1516e9a895ad9ce0, O_RDWR) failed: No such file or directory (2) in G:\\\\\\\\web\\\\\\\\moodle\\\\\\\\lib\\\\\\\\setup.php on line 123</p>



<p class="answercode">Warning: session_start() [function.session-start]: Cannot send session cache limiter - headers already sent (output started at G:\\\\\\\\web\\\\\\\\moodle\\\\\\\\lib\\\\\\\\setup.php:1) in G:\\\\\\\\web\\\\\\\\moodle\\\\\\\\lib\\\\\\\\setup.php on line 123</p>







<p class="answer">... these are all related to the fact that PHP is failing to save 



  "session" files on your hard disk (in a directory called /tmp).  Usually the 



  reason is that you don't HAVE a directory called /tmp on your computer.  This 



  is usually the case with Windows installations.







<p class="answer">The solution is to fix the PHP setting for this path to point to a real directory.  You can do this in your php.ini file:</p>



<p class="answercode">session.save_path = C:\\\\\\\\temp</p>



<p class="answer">or otherwise in a .htaccess file in your main moodle directory:</p>



<p class="answercode">php_value session.save_path "/home/moodle/sessions"</p>

<p class="answercode">&nbsp;</p>







<h3><a name="fixdirroot"></a>When I go to the admin page, I get told to make dirroot blank!</h3>



<p class="answer">If you see errors like this in Moodle 1.0.9:</p>







<table class=generalbox cellspacing=0 cellpadding=5 align=center border=0>



<tbody>



<tr>



<td bgcolor=#ffbbbb>Please fix your settings in config.php: 



<p>You have: 



<p>$CFG-&gt;dirroot = "/home/users/fred/public_html/moodle"; 



<p>but it should be: 



<p>$CFG-&gt;dirroot = "";</p></td></tr></tbody></table>







<p class="answer">then you have encountered a small bug that occurs on some servers. The problem is with the error-checking mechanism, not with your actual path.  To fix it, find this line (line 66) in the file admin/index.php: </p>



<p class="answercode">if ($dirroot != $CFG->dirroot) {</p>



<p class="answer">and change it to this:</p>



<p class="answercode">if (!empty($dirroot) and $dirroot != $CFG->dirroot) {</p>

<p class="answercode">&nbsp;</p>





<h3><a name="loginsetting"></a>I login but don't appear to be. I am logged in and can navigate freely.</h3>



<p class="answer">Make sure the URL in your $CFG->wwwroot setting is exactly the 

  same as the one you are actually using to access the site.</p>

<p class="answer">&nbsp;</p>



<h3><a name="resource1"></a>When trying to add a resource I receive error messages.</h3>



<p class="answer">Assuming you are using Apache, then it's quite likely that your 

  setting in config.php for $CFG->wwwroot is different from the actual URL you 

  are using to access the site. Also try turning off "<b>secureforms</b>" in the 

  admin settings.</p>

<p class="answer">&nbsp;</p>







<h3><a name="noadmin"></a>During the initial setting-up process, I never get asked to create an admin account!</h3>



<p class="answer">This is a known bug in versions of Moodle up to 1.0.9, now fixed in the main code and version 1.1.</p>



<p class="answer">It doesn't affect all people, it only occurs when the person installing Moodle has a

  cookie in their browser from another program on the same site, called "user", "admin", or "teacher".</p>



<p class="answer">Quick fixes include deleting those cookies from your browser before installing, using a different browser, or editing the file moodle/admin/user.php to insert these lines near the top:</p>



<p class="answercode">unset($user);<br />unset($admin);<br />unset($teacher);</p>



<p class="answer">After performing any of these fixes it might be a good idea 

  to drop all the tables in your database and re-install again from scratch.</p>

<p class="answer">&nbsp;</p>







<h3><a name="nologin"></a>I can't log in - I just stay stuck on the login screen.</h3>



<p class="answer">The most common cause for this is that your own computer (not your Moodle server) 

                  has a firewall that is stripping referrer information from the browser.  Here are 
                  
                  some instructions for fixing <a href="http://service1.symantec.com/SUPPORT/nip.nsf/46f26a2d6dafb0a788256bc7005c3fa3/b9b47ad7eddd343b88256c6b006a85a8?OpenDocument&src=bar_sch_nam">Norton firewall products</a>.</p>



<p class="answer">The server admin can also fix this for everyone by editing the Moodle configuration 

                  page and changing the variable "<b>secureforms</b>" to "No".</p>



<p class="answer">Another possible cause of this problem is that sessions are 

  not configured properly on the server. You can test this by calling the script 

  http://yourserver/moodle/lib/session-test.php.</p>

<p class="answer">&nbsp;</p>







<h3><a name="backup"></a>How do I backup my whole Moodle site?</h3>



<p class="answer">There are two main things you need to make a copy of: the database and the uploaded files.  The Moodle scripts themselves are less important, since you can always download a fresh copy if you have to.</p>



<p class="answer">There are many ways to do such backups.  Here is an outline of a little script you can run on Unix to backup the database (it works well to have such a script run daily via a cron task</p>

<p class="answercode">cd /my/backup/directory</p>

<p class="answercode">mv moodle-database.sql.gz moodle-database-old.sql.gz</p>

<p class="answercode">mysqldump -h example.com -u myusername --password=mypassword -C -Q -e -a mydatabasename > moodle-database.sql</p>

<p class="answercode">gzip moodle-database.sql</p>

<p class="answer">For the files, you can use rsync regularly to copy only the changed files to another host:</p>

<p class="answercode">rsync -auvtz --delete -e ssh mysshusername@example.com:/my/server/directory 

  /my/backup/directory/</p>

<p class="answercode">&nbsp;</p>





<h3><a name="locale"></a>Why doesn't my Moodle site display the time & date correctly?</h3>



<p class="answer">Each language requires a specific language code (called a <strong>locale</strong> 

  code) to allow dates to be displayed correctly. The language packs contain default 

  standard codes, but sometimes these don't work on Windows servers. </p>

<p class="answer">You can find the correct locale codes for Windows on these two 

  pages: <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vclib/html/_crt_language_strings.asp" target="_blank">Language 

  codes</a> and <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vclib/html/_crt_country_strings.asp" target="_blank">Country/region 

  codes</a>.(eg &quot;esp_esp&quot; for spanish)</p>

<p class="answer">These new locale codes can be entered on the Admin -&gt; Configure 

  -&gt; Variables page, where they override the ones in the currently chosen language 

  pack.</p>

<p class="answer">&nbsp;</p>

<h3><a name="cron"></a>Email copies are not being sent 

  from my forums </h3>

<p class="answer">You <strong>must</strong> set up cron properly if you want Moodle 

  to send out automatic email from forums, journals, assignments etc. This same 

  process also performs a number of clean-up tasks such as deleting old unconfirmed 


  users, unenrolling old students and so on.</p>

<p class="answer">Basically, you need to set up a process to regularly call the 

  script http://yoursite/admin/cron.php. Please see <a href="./?file=install.html#cron">the 

  section on cron in the Installation documentation</a>.</p>

<p class="answer">Tip: Try the default setting in Moodle variables page. Leave the smtphost blank.

This will be acceptable for the majority of users.
<p class="answer">&nbsp;
<p class="answer">&nbsp;


<hr>



<p align="center" class="normaltext"><a href='ma&#105&#108t&#111:ma%72%74in@%6d%6fo%64%6c%65.o%72g' title='mar&#116&#105n@&#109oo&#100&#108&#101&#46&#111&#114g'>Suggest 



  a new FAQ</a> (include the answer!)</p>



<hr>



<p align="right"><strong><em>Thanks to John Eyre for helping to maintain this 



  FAQ.</em></strong></p>



<p align="CENTER"><font size="1"><a href="." target="_top">Moodle Documentation</a></font></p>



<p align="CENTER"><font size="1">Version: $Id: faq.html,v 1.6 2003/03/30 13:54:28 



  moodler Exp $</font></p>

</body>
</html>