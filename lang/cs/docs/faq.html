<html>
<head>
<title>Dokumentace Moodlu: Èasto kladené dotazy (FAQ/ÈKD)</title>
<link rel="stylesheet" href="docstyles.css" type="text/css">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
</head>

<body bgcolor="#ffffff">
<h1>Èasto kladené dotazy (FAQ/ÈKD)</h1>

<p class="normaltext">Na této stránce najdete odpovìdi na nìkteré nejèastìji 
kladené dotazy týkající se instalace Moodlu. Pokud jste se dr¾eli  
<a href="./?file=install.html">pokynù pro instalaci</a>, a pøesto jste se 
dostali do problémù, pak je tato stránka urèena právì vám...</p>

<p class="normaltext">Jestli¾e zde odpovìï na svou otázku nenajdete, vyzkou¹ejte 
kurz <a href="http://moodle.org/mod/forum/index.php?id=5" target="_top">Using 
Moodle</a> na moodle.org. Zaènìte prohledáním diskusních fór, proto¾e je mo¾né, 
¾e stejný problém, jako je ten vá¹, ji¾ nìkdo øe¹il. Pokud nenajdete nic, co by 
vám pomohlo, mù¾ete svou otázku poslat do pøíslu¹ného fóra &ndash; obvykle vám 
nìkdo pomù¾e.</p>

<p class="normaltext">Jestli¾e jste bezvýslednì vyzkou¹eli více rùzných øe¹ení, 
a vá¹ server je umístìn za firewallem, je vhodné pozmìnit nastavení firewallu a 
vyzkou¹et, zda neblokuje nìkterou z vy¾adovaných funkcí nebo nezbytnou 
komunikaci. Firewally zpùsobují v kombinaci s Moodlem problémy jen velmi zøídka, 
v dùsledku nevhodné konfigurace jsou v¹ak v nìkterých pøípadech zodpovìdné za 
sní¾enou funkènost Moodlu.</p>

<p class="normaltext">Kliknutím na otázku z tohoto seznamu se dostanete pøímo 
k pøíslu¹né odpovìdi:</p>

<p class="questionlink"><a href="#filenotfound">Kdykoliv se pokusím 
pøistoupit k souboru, který jsem do Moodlu vlo¾il, objeví se 
chybové hlá¹ení: File not Found.</a></p>

<p class="questionlink"><a href="#php">Mám nainstalováno PHP? Jakou verzi?</a></p>

<p class="questionlink"><a href="#blankpages">Proè jsou mé stránky prázdné?</a></p>

<p class="questionlink"><a href="#errorgetstring">Na mých stránkách se zobrazují 
hlá¹ení o záva¾ných chybách, jako napø.: Call to undefined function: get_string().</a></p>

<p class="questionlink"><a href="#headerssent">Neustále se mi zobrazuje 
chybové hlá¹ení: Headers already sent.</a></p>

<p class="questionlink"><a href="#failedopen">Neustále se mi zobrazuje chybové 
hlá¹ení: Failed opening required '/web/moodle/lib/setup.php'.</a></p>

<p class="questionlink"><a href="#quotes">Jakýkoliv vlo¾ený text obsahující 
apostrof (') nebo uvozovky (&quot;) buï zpùsobí chybu, nebo se k tìmto znakùm 
pøidá lomítko.</a></p>

<p class="questionlink"><a href="#sessiontmp">Zobrazují se mi chybová hlá¹ení 
ohlednì session_start.</a></p>

<p class="questionlink"><a href="#fixdirroot">Pøi ka¾dém vstupu na správcovskou 
stránku jsem vyzván, abych do promìnné dirroot vlo¾il prázdný øetìzec.</a></p>

<p class="questionlink"><a href="#loginsetting">Pøihlásím se, ale odkaz 
'Pøihlásit se' se nezmìní; pøitom jsem pøihlá¹en a mohu se volnì pohybovat 
po systému.</a></p>

<p class="questionlink"><a href="#resource1">Kdy¾ se pokusím pøidat studijní 
materiál, obdr¾ím chybové hlá¹ení.</a></p>

<p class="questionlink"><a href="#noadmin">Bìhem úvodního nastavování nejsem 
vyzván k vytvoøení správcovského úètu.</a></p>

<p class="questionlink"><a href="#nologin">Nemohu se vùbec pøihlásit - zùstanu 
na pøihla¹ovací obrazovce a systém mì nepustí dál.</a></p>

<p class="questionlink"><a href="#backup">Jak mohu zálohovat celou instalaci 
Moodlu?</a></p>

<p class="questionlink"><a href="#locale">Proè se v Moodlu nezobrazuje správnì 
èas a datum?</a></p>

<p class="questionlink"><a href="#cron">Z fóra mi nejsou zasílany e-mailové 
kopie pøíspìvkù.</a></p>

<p class="questionlink">&nbsp;</p>







<h3><a name="filenotfound"></a>Kdykoliv se pokusím pøistoupit k souboru, který 
jsem do Moodlu vlo¾il, objeví se chybové hlá¹ení: File not Found.</h3>

<p class="answer">Napøíklad: Not Found: The requested URL 
/moodle/file.php/2/myfile.jpg was not found on this server.</p>

<p class="answer">Webový server musí být nakonfigurován tak, aby èást URL za 
názvem skriptu bylo mo¾no pøímo pøedat skriptu. Na serverech Apache 1.x jde  
obvykle o standardní nastavení, na serverech Apache 2.x je tato mo¾nost 
standardnì zakázána. Funkci zapnete tím, ¾e do souboru httpd.conf nebo .htaccess 
ve va¹em lokálním adresáøi pøidáte tento øádek (více v 
<a href="./?file=install.html#webserver">návodu k instalaci</a>):</p>

<p class="answercode"><b>AcceptPathInfo</b> on</p>

<p class="answer">Upozornìní: tato mo¾nost platí POUZE pro servery Apache 
verze 2.x. </p>

<p class="answer">Pokud nepou¾íváte Apache verze 2 a pøesto máte tento 
problém (i kdy¾ je to velice nepravdìpodobné), mù¾ete pou¾ít ní¾e popsané 
náhradní øe¹ení. Jeho nevýhodou bude mírné sní¾ení výkonu pro u¾ivatele a také 
a ztráta mo¾nosti pou¾ívat v HTML materiálech relativní odkazy.</p>

<p class="answer">Nastavení náhradního øe¹ení: pøihlaste se jako správce, 
pøejdìte na stránku Nastavení, v ní na odkaz Promìnné a zmìòte nastavení 
"<b>slasharguments</b>". 

Nyní byste mìli mít mo¾nost pøistupovat k vlo¾eným souborùm.</p>

<p class="answer">&nbsp;</p>

<h3><a name="php"></a>Mám nainstalováno PHP? Jakou verzi?</h3>

<p class="answer">Vytvoøte kdekoliv na serveru nový soubor info.php, který bude 
obsahovat následující text, a poté zadejte jeho URL do prohlí¾eèe:</p>

<p class="answercode">&lt;?PHP phpinfo() ?&gt;</p>

<p class="answer">Jestli¾e se nic nestane, PHP nainstalováno nemáte. Informace 
o tom, odkud ho mù¾ete stáhnout, najdete v návodu k instalaci Moodlu.</p>

<p class="answer">&nbsp;</p>

<h3><a name="blankpages"></a>Proè jsou mé stránky prázdné? </h3> 

<p class="answer">Zkontrolujte promìnnou dirroot v souboru config.php. Musíte 
pou¾ít úplnou absolutní cestu, jako napø.:</p>

<p class="answercode">$CFG->dirroot = "d:\inetpub\sites\www.yoursite.com\web\moodle";</p>

<p>&nbsp; </p>

<p class="answer">Pro platformu Redhat Linux viz 
<a href="http://moodle.org/doc/?file=installamp.html">Redhat Linux</a></p>

<p>&nbsp; </p>

<h3><a name="errorgetstring"></a>Na mých stránkách se zobrazují hlá¹ení o 
záva¾ných chybách, jako napø.: Call to undefined function: get_string().</h3>

<p class="answer">Jestli¾e se vám objevují chybová hlá¹ení jako napøíklad</p>

<p class="answercode">Parse error: parse error, unexpected T_VARIABLE in c:\program 
 files\easyphp\www\moodle\config.php on line 94 <br />

Fatal error: Call to undefined function: get_string() in c:\program files\easyphp\www\moodle\mod\resource\lib.php 
 on line 11</p>

<p class="answer">...je pravdìpodobné, ¾e jste vynechali støedník nebo koncové 
uvozovky na nìkterém øádku v souboru config.php (pøed øádkem 94).</p>

<p class="answer">Jiným dùvodem mù¾e být, ¾e jste soubor config.php editovali 
v programu, jako je napøíklad Word, a pak jste jej ulo¾ili jako webovou stránku 
ve formátu HTML místo jako prostý text.</p>

<p>&nbsp;</p>

<h3><a name="headerssent"></a>Neustále se mi zobrazuje chybové hlá¹ení: Headers 
already sent.</h3>

<p class="answer">Jestli¾e se vám objevují chybová hlá¹ení jako napø.</p>

<p class="answercode">Warning: Cannot add header information - headers already 
 sent by (output started at /webs/moodle/config.php:87) in /webs/moodle/lib/moodlelib.php 
 on line 1322 </p>

<p class="answercode"> Warning: Cannot add header information - headers already 
  sent by (output started at /webs/moodle/config.php:87) in /webs/moodle/lib/moodlelib.php 
  on line 1323 </p>

<p class="answercode"> Warning: Cannot add header information - headers already 
  sent by (output started at /webs/moodle/config.php:87) in /webs/moodle/login/index.php 
  on line 54 </p>

<p class="answer">...máte prázdné øádky nebo mezery za koncovým øetìzcem ?&gt; 
v souboru config.php. Zpùsobují to nìkteré editory (jako napø. Poznámkový blok 
ve Windows). Zkuste proto jiný editor a v nìm tyto prázdné øádky nebo mezery 
odstraòte.</p>

<p class="answer">&nbsp;</p>

<h3><a name="failedopen"></a>Neustále se mi zobrazuje chybové hlá¹ení: Failed 
opening required '/web/moodle/lib/setup.php'.</h3>

<p class="answer">V souboru config.php musí promìnná dirroot obsahovat 
<strong>úplnou cestu z koøenového adresáøe pevného disku va¹eho serveru</strong>.</p>

<p class="answer">Nìkdy u¾ivatelé pou¾ívají pouze cestu ze svého domovského 
adresáøe nebo relativní cestu z výchozího adresáøe webového serveru.</p>

<p class="answer">&nbsp;</p>

<h3><a name="quotes" id="quotes"></a>akýkoliv vlo¾ený text obsahující 
apostrof (') nebo uvozovky (&quot;) buï zpùsobí chybu, nebo se k tìmto znakùm 
pøidá lomítko.</h3>

<p class="answer">Problémy s apostrofy jsou zpùsobeny nesprávným nastavením 
&quot;magic quotes&quot;. Moodle po¾aduje následující nastavení (které je 
obvykle výchozí):</p>

<p class="answercode">magic_quotes_gpc = On<br />
magic_quotes_runtime = Off</p>

<p class="answer">Více najdete v sekci o 
<a href="./?file=install.html#webserver">konfiguraci webového serveru</a> 
v návodu k instalaci Moodlu.</p>

<p class="answer">&nbsp;</p>

<h3><a name="sessiontmp"></a>Zobrazují se mi chybová hlá¹ení ohlednì session_start.</h3>

<p class="answer">Jestli¾e se vám objevují chybová hlá¹ení jako napø.</p>

<p class="answercode">Warning: session_start() [function.session-start]: open(/tmp\sess_d40f380d37d431fc1516e9a895ad9ce0, O_RDWR) failed: No such file or directory (2) in G:\web\moodle\lib\setup.php on line 123</p>
<p class="answercode">Warning: session_start() [function.session-start]: open(/tmp\sess_d40f380d37d431fc1516e9a895ad9ce0, O_RDWR) failed: No such file or directory (2) in G:\web\moodle\lib\setup.php on line 123</p>
<p class="answercode">Warning: session_start() [function.session-start]: Cannot send session cache limiter - headers already sent (output started at G:\web\moodle\lib\setup.php:1) in G:\web\moodle\lib\setup.php on line 123</p>

<p class="answer">... je to tím, ¾e PHP nemù¾e ulo¾it na server (do adresáøe /tmp)
soubory relace (session). Obvykle je to zpùsobeno tím, ¾e na serveru takový 
adresáø nemáte. Obvykle to nastává u serverù s Windows.</p>

<p class="answer">Øe¹ením je upravit nastavení PHP tak, aby odkazovalo na 
existující adresáø. V souboru php.ini nastavte</p>

<p class="answercode">session.save_path = C:\temp</p>

<p class="answer">... anebo v souboru .htaccess</p>

<p class="answercode">php_value session.save_path "/home/moodle/sessions"</p>

<p class="answercode">&nbsp;</p>

<h3><a name="fixdirroot"></a>Pøi ka¾dém vstupu na správcovskou 
stránku jsem vyzván, abych do promìnné dirroot vlo¾il prázdný øetìzec.</h3>

<p class="answer">Jestli¾e se vám v Moodlu 1.0.9 objevují hlá¹ení</p>

<table class=generalbox cellspacing=0 cellpadding=5 align=center border=0>
<tbody>
<tr>
<td bgcolor=#ffbbbb>Please fix your settings in config.php: 
<p>You have: 
<p>$CFG-&gt;dirroot = "/home/users/fred/public_html/moodle"; 
<p>but it should be: 
<p>$CFG-&gt;dirroot = "";</p></td></tr></tbody></table>

<p class="answer">...pak jste narazili na drobnou chybu, která se projevuje 
jen na nìkterých serverech. Jedná se o problém algoritmu pro vyhledávání 
chyb, nikoliv zadané cesty. K jeho odstranìní vyhledejte 
øádek 66 v souboru admin/index.php</p>

<p class="answercode">if ($dirroot != $CFG->dirroot) {</p>

<p class="answer">a zmìòte ho na</p>

<p class="answercode">if (!empty($dirroot) and $dirroot != $CFG->dirroot) {</p>

<p class="answercode">&nbsp;</p>

<h3><a name="loginsetting"></a>Pøihlásím se, ale nevypadá to tak. Jsem pøihlá¹en 
a mohu se volnì pohybovat po systému.</h3>

<p class="answer">Zkontrolujte, zda URL v nastavení $CFG->wwwroot je naprosto 
shodné s tím, které pou¾íváte k pøístupu na stránky.</p>

<p class="answer">&nbsp;</p>

<h3><a name="resource1"></a>Kdy¾ se pokusím pøidat studijní 
materiál, obdr¾ím chybové hlá¹ení.</h3>

<p class="answer">Pou¾íváte-li server Apache, je velmi pravdìpodobné, ¾e 
nastavení $CFG->wwwroot v souboru config.php je jiné ne¾ URL, které pou¾íváte 
k pøístupu na stránky. Mù¾ete také zkusit vypnout "<b>secureforms</b>" v 
správcovském nastavení.</p>

<p class="answer">&nbsp;</p>

<h3><a name="noadmin"></a>Bìhem úvodního nastavování nejsem 
vyzván k vytvoøení správcovského úètu.</h3>

<p class="answer">Toto je známá chyba Moodlu a¾ do verze 1.0.9. V hlavním kódu 
v CVS a ve verzi 1.1 je ji¾ odstranìna.</p>

<p class="answer">Netýká se v¹ech u¾ivatelù. Objevuje se pouze v pøípadì, ¾e 
máte pøi instalaci Moodlu ve svém prohlí¾eèi cookie s názvem &quot;user&quot; 
&quot;admin&quot; nebo &quot;teacher&quot;, které pocházejí z jiného programu 
instalovaného na tém¾e serveru.</p>

<p class="answer">Rychlá oprava spoèívá ve vymazání cookies z prohlí¾eèe je¹tì 
pøed zaèátkem instalace, pou¾ití jiného prohlí¾eèe, nebo v úpravì souboru 
moodle/admin/user.php v tìchto úvodních øádcích:</p>

<p class="answercode">unset($user);<br />unset($admin);<br />unset($teacher);</p>

<p class="answer">Po provedení nìkteré z vý¹e uvedených zmìn by stálo za úvahu
vymazat v¹echny tabulky z databáze a nainstalovat v¹e znovu.</p>

<p class="answer">&nbsp;</p>

<h3><a name="nologin"></a>Nemohu se vùbec pøihlásit - zùstanu 
na pøihla¹ovací obrazovce a systém mì nepustí dál.</h3>

<p class="answer">Nejèastìj¹í pøíèinou této chyby je, ¾e vá¹ vlastní poèítaè 
(ne server Moodlu) má firewall, který odstraòuje nìkteré informace týkající se 
prohlí¾eèe. Zde je nìkolik návodù, jak upravit 
<a href="http://service1.symantec.com/SUPPORT/nip.nsf/46f26a2d6dafb0a788256bc7005c3fa3/b9b47ad7eddd343b88256c6b006a85a8?OpenDocument&amp;src=bar_sch_nam">firewally firmy Norton</a>.</p>

<p class="answer">Správce serveru mù¾e také vyøe¹it tento problém za v¹echny 
u¾ivatele tím, ¾e upraví konfiguraèní stránku Moodlu a zmìní nastavení promìnné 
&quot;<b>secureforms</b>&quot; na &quot;No&quot;.</p>

<p class="answer">Jinou mo¾nou pøíèinou tohoto problému mù¾e být to, ¾e na va¹em 
serveru nejsou správnì nastaveny relace (sessons). Mù¾ete to vyzkou¹et tak, ¾e 
spustíte skript na http://yourserver/moodle/lib/session-test.php.</p>

<p class="answer">&nbsp;</p>

<h3><a name="backup"></a>Jak mohu zálohovat celou instalaci Moodlu?</h3>

<p class="answer">Potøebujete vytvoøit dvì zálohy: zálohu databáze a zálohu 
vlo¾ených souborù. Skripty Moodlu jsou ménì dùle¾ité; bude-li potøeba, mù¾ete 
si je znovu nahrát.</p>

<p class="answer">Zálohování lze provést mnoha zpùsoby. Zde je náèrtek krátkého 
skriptu, který mù¾ete pro zálohování databáze spustit v Unixu (je vhodné 
spou¹tìt takový skript ka¾dý den prostøednictvím cronu).</p>

<p class="answercode">cd /my/backup/directory</p>
<p class="answercode">mv moodle-database.sql.gz moodle-database-old.sql.gz</p>
<p class="answercode">mysqldump -h example.com -u myusername --password=mypassword -C -Q -e -a mydatabasename > moodle-database.sql</p>
<p class="answercode">gzip moodle-database.sql</p>

<p class="answer">Pro vlo¾ené soubory mù¾ete pravidelnì pou¾ít rsync, který 
zkopíruje na jiný stroj pouze soubory, u kterých do¹lo ke zmìnì:</p>

<p class="answercode">rsync -auvtz --delete -e ssh mysshusername@example.com:/my/server/directory 
  /my/backup/directory/</p>
<p class="answercode">&nbsp;</p>

<h3><a name="locale"></a>Proè se v Moodlu nezobrazuje správnì èas a datum?</h3>

<p class="answer">Pro ka¾dý jazyk je tøeba nastavit pøíslu¹ný kód jazyka 
(takzvané <strong>locale</strong>), který zaji¹»uje správné zobrazování èasu a 
data. Jazykové balíèky obsahují standardní kód daného jazyka, na serverech 
s Windows v¹ak nìkdy nefungují.</p>

<p class="answer">Správný kód jazyka pro Windows najdete na tìchto dvou 
stránkách: <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vclib/html/_crt_language_strings.asp" target="_blank">Language 
 codes</a> a 
 <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vclib/html/_crt_country_strings.asp" target="_blank">Country/region 
 codes </a>(napø. &quot;esp_esp&quot; pro ¹panìl¹tinu).</p>

<p class="answer">Nový kód jazyka lze vlo¾it na správcovské stránce Nastavení 
 -&gt; Promìnné; zde vlo¾ený kód má pøednost pøed kódem uvedeným v aktuálním 
 jazykovém balíèku.</p>

<p class="answer">&nbsp;</p>

<h3><a name="cron"></a>Z fóra mi nejsou zasílany e-mailové 
kopie pøíspìvkù.</h3>

<p class="answer">Chcete-li, aby Moodle automaticky zasílal e-maily 
z modulù Fórum, Poznámky, Úkol aj., pak <strong>musíte správnì nastavit 
cron</strong>. Skript spou¹tìný cronem provádí mno¾ství operací, jako je vyèi¹tìní 
systému od starých nepotvrzených u¾ivatelských úètù, odstraòování studentù se 
zru¹eným úètem z kurzù a podobnì.</p>

<p class="answer">V podstatì potøebujete vytvoøit proces, který bude pravidelnì 
spou¹tìt skript http://yoursite/admin/cron.php. Podrobnosti najdete v sekci 
týkající se cronu v <a href="./?file=install.html#cron">návodu k instalaci</a>.</p>

<p class="answer">Tip: Vyzkou¹ejte standardní nastavení nabízené na stránce 
Nastavení -&gt; Promìnné. Promìnnou smtphost nechte prázdnou. Toto nastaqvení by 
mìlo uspokojivì fungovat u vìt¹iny u¾ivatelù.
<p class="answer">&nbsp;
<p class="answer">&nbsp;
<hr />

<p align="center" class="normaltext"><a href="mailto:martin@moodle.org" 
title="mailto:martin@moodle.org">Za¹lete nám dal¹í FAQ/ÈKD</a> (vèetnì 
odpovìdi!)</p>

<hr />

<p align="middle"><strong><em>Díky Johnu Eyreovi za pomoc pøi správì této 
stránky.</em></strong></p>

<p align="CENTER"><font size="1"><a href="." target="_top">Dokumentace 
Moodlu</a></font></p>

</body>
</html>