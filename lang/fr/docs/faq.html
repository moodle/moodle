<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Documentation Moodle : Foire Aux Questions (FAQ)</title>
<link rel="stylesheet" href="docstyles.css" type="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>

<body>

<h1>Foire Aux Questions (FAQ)</h1>

<p class="normaltext">Cette page propose les réponses à quelques-unes des questions les plus fréquemment posées par les personnes qui installent Moodle. Si vous avez suivi les <a href="./?file=install.html">instructions d'installation</a> mais que vous avez encore un problème, cette page est vraisemblablement le meilleur endroit où trouver de l'aide.</p>

<p class="normaltext">Si vous ne trouvez pas votre réponse ici, essayez le cours <a href="http://moodle.org/mod/forum/index.php?id=5" target="_top">Using Moodle</a> sur le site moodle.org. Commencez par chercher avec quelques mots clefs dans les forums, pour voir si votre problème a déjà été discuté. Si vous ne trouvez rien, essayez de poser votre question dans le forum approprié. En principe, il y aura quelqu'un qui saura vous aider.</p>

<p class="normaltext">Si vous avez assayé sans succès plusieurs solutions et que vous vous trouvez derrière un pare-feu (firewall), il peut être judicieux de reconfigurer votre pare-feu pour être sûr qu'il ne bloque pas une fonction requise ou une communication nécessaire. Les pare-feu ne causent que très rarement des problèmes avec Moodle, mais lorsqu'ils sont mal configurés, ils sont parfois responsables de fonctionnalités réduites.</p>

<p class="normaltext">Utilisez la liste ci-dessous pour aller directement à la réponse correspondante.</p>

<p class="questionlink"><a href="#filenotfound">Quand je veux accéder à un fichier ou faire afficher un fichier que j'ai déposé (téléchargé), une erreur «&nbsp;File not found&nbsp;» survient.</a></p>

<p class="questionlink"><a href="#php">Est-ce que PHP est installé et si oui quelle version ?</a></p>

<p class="questionlink"><a href="#blankpages">Pourquoi toutes mes pages sont vides ?</a></p>

<p class="questionlink"><a href="#errorgetstring">Mes pages affichent des erreurs comme : «&nbsp;call to undefined function: get_string()&nbsp;».</a></p>

<p class="questionlink"><a href="#headerssent">Pourquoi obtiens-je toujours des messages mentionnant «&nbsp;headers already sent&nbsp;» ?</a></p>

<p class="questionlink"><a href="#failedopen">J'obtiens toujours cette erreur : «&nbsp;Failed opening required '/web/moodle/lib/setup.php'&nbsp;».</a></p>

<p class="questionlink"><a href="#quotes">Les textes que j'ajoute et qui contiennent une apostrophe (') ou des guillemets droits (") causent des erreurs ou alors sont transcrits avec une barre oblique.</a></p>

<p class="questionlink"><a href="#sessiontmp">J'obtiens continuellement des erreurs avec «&nbsp;session_start&nbsp;».</a></p>

<p class="questionlink"><a href="#fixdirroot">Quand je veux afficher la page d'administration, on me dit de modifier «&nbsp;$CFG->dirroot&nbsp;»&nbsp;!</a></p>

<p class="questionlink"><a href="#loginsetting">Je me connecte, mais le lien pour se connecter ne change pas, alors que suis effectivement dans Moodle et peux naviguer librement dans le site.</a></p>

<p class="questionlink"><a href="#resource1">Quand j'essaie d'ajouter une ressource, je reçois des messages d'erreur.</a></p>

<p class="questionlink"><a href="#noadmin">Pendant le processus de mise en place initial de Moodle, je n'ai pas eu besoin de créer un compte administrateur&nbsp;!</a></p>

<p class="questionlink"><a href="#nologin">Je ne peux pas me connecter à mon site Moodle&nbsp;: je reste coincé sur la page de connexion.</a></p>

<p class="questionlink"><a href="#backup">Comment faire une copie de sauvegarde de mon site Moodle&nbsp;?</a></p>

<p class="questionlink"><a href="#locale">Pourquoi mon site Moodle n'affiche pas correctement l'heure et la date&nbsp;?</a></p>

<p class="questionlink"><a href="#cron">Aucune copie des messages des forums n'est envoyée par courriel.</a></p>

<p class="questionlink">&nbsp;</p>

<h3><a name="filenotfound"></a>Quand je veux accéder à un fichier ou faire afficher un fichier que j'ai déposé (téléchargé), une erreur «&nbsp;File not found&nbsp;» survient.</h3>

<p class="answer">Par exemple&nbsp;: Not Found: The requested URL /moodle/file.php/2/myfile.jpg was not found on this server.</p>

<p class="answer">Votre serveur web doit être configuré de manière que la partie de l'URL après le nom du script soit passée directement au script. Ce réglage est en général activé par défaut sur Apache 1, mais désactivé sur Apache 2. Pour l'activer, ajoutez cette ligne à votre fichier httpd.conf, ou à un fichier .htaccess dans votre dossier moodle (voir pour plus de détails le <a href="./?file=install.html#webserver">Guide d'installation</a>)&nbsp;:</p>

<p class="answercode"><strong>AcceptPathInfo</strong> on</p>

<p class="answer">Il est à noter que cela ne fonctionnera QUE pour Apache version 2.x.</p>

<p class="answer">Si vous avez ce problème et n'utilisez pas Apache 2 (c'est très improbable), vous pouvez indiquer à Moodle d'utiliser une autre méthode. Les inconvénients sont une legère perte de performance pour vos utilisateurs et qu'il sera impossible d'utiliser des liens relatifs dans vos ressources HTML.</p>

<p class="answer">Pour utiliser cette alternative, connectez-vous comme administrateur, allez sur la page «&nbsp;Paramètres techniques&nbsp;» et modifiez le réglage pour «&nbsp;<strong>slasharguments</strong>&nbsp;». Le problème devrait alors être réglé.</p>

<p class="answer">&nbsp;</p>

<h3><a name="php"></a>Est-ce que PHP est installé et si oui quelle version ?</h3>

<p class="answer">Créez dans votre site web un nouveau fichier appelé info.php, contenant le texte suivant uniquement, et appelez-le depuis votre navigateur&nbsp;:</p>

<p class="answercode"><?PHP phpinfo() ?></p>

<p class="answer">Si rien ne se passe (page blanche), PHP n'est pas installé. Voyez le <a href="./?file=installamp.html">Guide d'installation</a> pour des informations sur son installation.</p>

<p class="answer">&nbsp;</p>

<h3><a name="blankpages"></a>Pourquoi toutes mes pages sont vides ?</h3>

<p class="answer">Vérifiez que la variable dirroot de votre fichier config.php soit réglée correctement. Vous devez utiliser un chemin absolu et complet, par exemple&nbsp;:</p>

<p class="answercode"> $CFG->dirroot = "d:\inetpub\sites\www.yoursite.com\web\moodle";</p>

<p class="answer">Pour le système d'exploitations Redhat Linux, veuillez consulter&nbsp;: <a href="http://moodle.org/doc/?file=installamp.html">Redhat Linux</a></p>

<p>&nbsp; </p>

<h3><a name="errorgetstring"></a>Mes pages affichent des erreurs comme : «&nbsp;call to undefined function: get_string()&nbsp;».</h3>

<p class="answer">Si vous voyez des messages comme ceux-ci&nbsp;:</p>

<p class="answercode">Parse error: parse error, unexpected T_VARIABLE in c:\program files\easyphp\www\moodle\config.php on line 94 <br /> Fatal error: Call to undefined function: get_string() in c:\program files\easyphp\www\moodle\mod\resource\lib.php on line 11</p>

<p class="answer">il est probable que vous avez oublié un point-virgule ou un guillemet à la fin d'une ligne de votre fichier config.php (avant la ligne 94 dans cet exemple).</p>

<p class="answer">Une autre raison possible est la suivante&nbsp;: vous avez modifié config.php dans un programme de traitement de texte comme Word, et l'avez enregistré en format HTML au lieu du format texte.</p>

<p>&nbsp;</p>

<h3><a name="headerssent"></a>Pourquoi obtiens-je toujours des messages mentionnant «&nbsp;headers already sent&nbsp;» ?</h3>

<p class="answer">Si vous voyez des messages comme celui-ci&nbsp;:</p>

<p class="answercode">Warning: Cannot add header information - headers already sent by (output started at /webs/moodle/config.php:87) in /webs/moodle/lib/moodlelib.php on line 1322 </p>

<p class="answercode">Warning: Cannot add header information - headers already sent by (output started at /webs/moodle/config.php:87) in /webs/moodle/lib/moodlelib.php on line 1323 </p>

<p class="answercode">Warning: Cannot add header information - headers already sent by (output started at /webs/moodle/config.php:87) in /webs/moodle/login/index.php on line 54 </p>

<p class="answer">Vous avez vraisemblablement des lignes ou des espaces vides après la balise ?> finale de votre fichier config.php. Certains éditeurs de texte (comme Notepad sous Windows) ajoutent de tels caractères. Essayez de supprimer totalement ces caractères avec un autre programme.</p>

<p class="answer">&nbsp;</p>

<h3><a name="failedopen"></a>J'obtiens toujours cette erreur : «&nbsp;Failed opening required '/web/moodle/lib/setup.php'&nbsp;».</h3>

<p class="answer">Dans votre fichier config.php, le réglage de la variable dirroot doit être le <strong>chemin complet du dossier du serveur web, depuis le sommet de la hiérarchie (la racine) du disque dur</strong>.</p>

<p class="answer">Parfois, certains utilisent le chemin de leur dossier personnel, ou encore le chemin relatif du dossier du serveur web.</p>

<p class="answer">&nbsp;</p>

<h3><a name="quotes" id="quotes"></a>Les textes que j'ajoute et qui contiennent une apostrophe (') ou des guillemets droits (") causent des erreurs ou alors sont transcrits avec une barre oblique.</h3>

<p class="answer">Les problèmes causés par des apostrophes sont dus à un réglage incorrect des «&nbsp;magic quotes&nbsp;». Moodle nécessite les réglages suivants (qui sont habituellement corrects par défaut)&nbsp;:</p>

<p class="answercode">magic_quotes_gpc = On<br /> magic_quotes_runtime = Off</p>

<p class="answer">Pour plus de détails, référez-vous à la section du guide d'installation sur la <a href="./?file=install.html#webserver">configuration du serveur web</a>.</p>

<p class="answer">&nbsp;</p>

<h3><a name="sessiontmp"></a>J'obtiens continuellement des erreurs avec «&nbsp;session_start&nbsp;».</h3>

<p class="answer">Si vous voyez des messages comme ceux-ci&nbsp;:</p>

<p class="answercode">Warning: session_start() [function.session-start]: open(/tmp\sess_d40f380d37d431fc1516e9a895ad9ce0, O_RDWR) failed: No such file or directory (2) in G:\web\moodle\lib\setup.php on line 123</p>

<p class="answercode">Warning: session_start() [function.session-start]: open(/tmp\sess_d40f380d37d431fc1516e9a895ad9ce0, O_RDWR) failed: No such file or directory (2) in G:\web\moodle\lib\setup.php on line 123</p>

<p class="answercode">Warning: session_start() [function.session-start]: Cannot send session cache limiter - headers already sent (output started at G:\web\moodle\lib\setup.php:1) in G:\web\moodle\lib\setup.php on line 123</p>


<p class="answer">Ces messages indiquent que PHP n'arrive pas à enregistrer des fichiers de «&nbsp;session&nbsp;» sur votre disque dur (dans un dossier appelé /tmp). Cela signifie habituellement que ce dossier /tmp N'EXISTE PAS sur votre serveur. C'est en général le cas sous Windows.</p>


<p class="answer">Pour corriger ce problème, il faut modifier ce réglage de PHP en le faisant pointer vers un dossier existant. Il suffit pour cela d'ajouter au fichier php.ini la ligne&nbsp;:</p>

<p class="answercode">session.save_path = C:\temp</p>

<p class="answer">ou alors de taper dans un fichier .htaccess de votre dossier moodle la ligne&nbsp;:</p>

<p class="answercode">php_value session.save_path "/home/moodle/sessions"</p>

<p class="answercode">&nbsp;</p>


<h3><a name="fixdirroot"></a>Quand je veux afficher la page d'administration, on me dit de modifier «&nbsp;$CFG->dirroot&nbsp;»&nbsp;!</h3>

<p class="answer">Si vous voyez des messages comme ceux-ci dans Moodle 1.0.9&nbsp;:</p>

<table class="generalbox" cellspacing="0" cellpadding="5" align="center" border="0">
<tbody><tr><td bgcolor="#ffbbbb">Please fix your settings in config.php: 
<p>You have:</p>
<p>$CFG->dirroot = "/home/users/fred/public_html/moodle"; </p>
<p>but it should be: </p>
<p>$CFG->dirroot = "";</p>
</td></tr></tbody>
</table>

<p class="answer">c'est que vous êtes victime d'un petit bogue survenant sur certains serveurs. Le problème est dû au mécanisme de vérification des erreurs, et non au chemin du fichier lui-même. Pour corriger ce problème, localisez cette ligne (la ligne 66) du fichier admin/index.php&nbsp;:</p>

<p class="answercode">if ($dirroot != $CFG->dirroot) {</p>

<p class="answer">et remplacez-la par celle-ci&nbsp;:</p>

<p class="answercode">if (!empty($dirroot) and $dirroot != $CFG->dirroot) {</p>

<p class="answercode">&nbsp;</p>

<h3><a name="loginsetting"></a>Je me connecte, mais le lien pour se connecter ne change pas, alors que suis effectivement dans Moodle et peux naviguer librement dans le site.</h3>

<p class="answer">Vérifiez que l'URL spécifié dans le réglage CFG->wwwroot est exactement identique à celui que vous utilisez pour accéder au site.</p>

<p class="answer">&nbsp;</p>

<h3><a name="resource1"></a>Quand j'essaie d'ajouter une ressource, je reçois des messages d'erreur.</h3>

<p class="answer">En admettant que vous utilisez Apache, il est probable que votre réglage de $CFG->wwwroot dans le fichier config.php est différent de l'URL que vous utilisez pour accéder au site. Essayez aussi de désactiver le réglage «&nbsp;<strong>secureforms</strong>&nbsp;» dans la configuration des paramètres du site.</p>

<p class="answer">&nbsp;</p>

<h3><a name="noadmin"></a>Pendant le processus de mise en place initial de Moodle, je n'ai pas eu besoin de créer un compte administrateur&nbsp;!</h3>

<p class="answer">Ceci est un bogue connu de Moodle jusqu'à la version 1.0.9. Le bogue est corrigé dans la version 1.1.</p>

<p class="answer">Ce bogue n'atteint pas tous le monde. Il ne survient que si la personne qui installe Moodle a dans son navigateur un cookie d'un autre site, dont le nom est «&nbsp;user&nbsp;», «&nbsp;admin&nbsp;» ou «&nbsp;teacher&nbsp;».</p>

<p class="answer">Pour corriger rapidement ce problème, il suffit de supprimer ces cookies de votre navigateur avant de procéder à l'installation (peut-être avec un autre navigateur), ou de modifier le fichier moodle/admin/user.php en y insérant ces lignes (au début du fichier)&nbsp;:</p>

<p class="answercode">unset($user);<br />unset($admin);<br />unset($teacher);</p>

<p class="answer">Une fois ces corrections effectuées, il serait de judicieux d'effacer toutes les tables de votre base de données et de réinstaller Moodle depuis le début.</p>

<p class="answer">&nbsp;</p>

<h3><a name="nologin"></a>Je ne peux pas me connecter à mon site Moodle&nbsp;: je reste coincé sur la page de connexion.</h3>

<p class="answer">La cause principale de ce problème est que votre ordinateur (et non le serveur sur lequel est installé Moodle) a une programme pare-feu (firewall) actif, qui filtre des informations (referrer) de votre navigateur. Voici quelques instructions (en anglais) pour corriger cela avec <a href="http://service1.symantec.com/SUPPORT/nip.nsf/46f26a2d6dafb0a788256bc7005c3fa3/b9b47ad7eddd343b88256c6b006a85a8?OpenDocument&amp;src=bar_sch_nam">Norton firewall</a>.</p>

<p class="answer">L'administrateur du serveur Moodle peut aussi corriger cela en réglant sur la page de configuration des paramètres le réglage «&nbsp;<strong>secureforms</strong>&nbsp;» sur «&nbsp;Non&nbsp;».</p>

<p class="answer">Une autre cause possible de ce problème est une mauvaise configuration des sessions sur le serveur. Vous pouvez tester cela en appelant le script http://yourserver/moodle/lib/session-test.php dans votre navigateur.</p>

<p class="answer">&nbsp;</p>

<h3><a name="backup"></a>Comment faire une copie de sauvegarde (backup) de mon site Moodle&nbsp;?</h3>

<p class="answer">Il y a deux choses à copier pour faire une copie de sauvegarde de votre site&nbsp;: la base de données et les fichiers déposés. Les fichiers de Moodle sont moins importants, puisque vous pouvez toujours en télécharger une copie au besoin.</p>

<p class="answer">Les copies peuvent se faire de multiples façons. Voici une procédure détaillée que vous pouvez utiliser sous Unix pour copier la base de données. Mettre en place un script qui ferait cela automatiquement chaque jour à l'aide de cron est une bonne idée.</p>

<p class="answercode">cd /my/backup/directory</p>

<p class="answercode">mv moodle-database.sql.gz moodle-database-old.sql.gz</p>

<p class="answercode">mysqldump -h example.com -u myusername --password=mypassword -C -Q -e -a mydatabasename > moodle-database.sql</p>

<p class="answercode">gzip moodle-database.sql</p>

<p class="answer">Pour les fichiers déposés, vous pouvez utiliser rsync, afin de copier sur un autre ordinateur uniquement les fichiers ayant été modifiés&nbsp;:</p>

<p class="answercode">rsync -auvtz --delete -e ssh mysshusername@example.com:/my/server/directory /my/backup/directory/</p>

<p class="answercode">&nbsp;</p>

<h3><a name="locale"></a>Pourquoi mon site Moodle n'affiche pas correctement l'heure et la date&nbsp;?</h3>

<p class="answer">Chaque langue nécessite un code de langue spécifique (appelé un <strong>locale</strong>) qui permet d'afficher les heures et dates dans le format adéquat. Les fichiers de langue contiennent un certain nombres de codes standard, mais ceux-ci ne fonctionnent pas toujours sur les serveurs Windows.</p>

<p class="answer">Vous trouverez le fichier locale correct pour Windows sur ces deux pages&nbsp;: <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vclib/html/_crt_language_strings.asp" target="_blank">Language codes</a> et <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vclib/html/_crt_country_strings.asp" target="_blank">Country/region codes</a>.</p>

<p class="answer">Ces nouveaux fichiers locale peuvent être entrés sur la page de configuration des paramètres de Moodle. Ils remplaceront ceux qui sont fournis dans les fichiers de la langue choisie.</p>

<p class="answer">&nbsp;</p>

<h3><a name="cron"></a>Aucune copie des messages des forums n'est envoyée par courriel.</h3>

<p class="answer">Vous <strong>devez</strong> mettre en place un cron, si vous désirez que Moodle envoie automatiquement des copies des messages des forums, journaux, devoirs, etc. Ce même processus effectue en outre certaines tâches de nettoyage, comme supprimer les utilisateurs non confirmés, désinscrire les anciens étudiants des cours, etc.</p>

<p class="answer">Le principe est de mettre en place un processus qui appelle régulièrement le fichier http://yoursite/admin/cron.php. Référez-vous à la <a href="./?file=install.html#cron">section sur le cron du Guide d'installation</a>.</p>

<p class="answer">Un conseil&nbsp;: commencez avec les réglages par défaut des paramètres de configuration de Moodle. Laissez vide l'hôte SMTP (smtphost). Un tel réglage fonctionne pour la majorité des utilisateurs.</p>

<p class="answer">&nbsp;</p>

<p class="answer">&nbsp;</p>

<hr />

<p align="center" class="normaltext"><a href="mailto:ma%72%74in@%6d%6fo%64%6c%65.o%72g" title="mar&#116&#105n@&#109oo&#100&#108&#101&#46&#111&#114g">Proposer une nouvelle question</a> (merci d'inclure la réponse&nbsp;!)</p>

<hr />

<p align="right"><strong><em>Merci à John Eyre pour l'aide dans la maintenance de cette FAQ.</em></strong></p>

<p align="center"><font size="1"><a href="." target="_top">Documentation Moodle</a></font></p>

<p align="center"><font size="1">Version: $Id$</font></p>

</body>
</html>
