{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}

{{!
    @template format_remuiformat/list_one_section


    Example context (json):
    {
        "editing: "1/0",
        "defaultview: "1/0",
        "expanded: "1/0",
        "collapsed: "1/0",
        "user_id: "1",
        "courseid: "1",
        "generalsection": [
         {
            "generalsectiontitle" => "General",
            "activities": [
                {
                    "index": "1",
                    "id": "Section Title",
                    "completion": "Single Page URL",
                    "viewurl": "Hidden message",
                    "title" => Chat 1,
                    "modulename" => chat,
                    "summary" => ,
                    "completed" => 0,
                }
            ]
         }
        ],
        "generalsectionsummary": "General section summary",
        "sections": [
            {
                "index": "1",
                "title": "Section Title",
                "singlepageurl": "Single Page URL",
                "hiddenmessage": "Hidden message",
                "summary": "Summary",
                "hidden": "1/0",
                "activityinfostring": "2 Files, 2 Quizzes"
                "sectionactivities" [
                    {
                    }
                ]
            }
        ]
    }
}}

{{#hiddensection}}
    {{{ hiddensection }}}
{{/hiddensection}}
{{^hiddensection}}
<div id="list-container" class="remui-format-list one-section-format ">
    {{#headerdata}}
    {{>format_remuiformat/optional_secheader}}
    {{/headerdata}}
    <ul class="sections one-section-format-details-page-wrapper">
        <li id="section-{{section}}" class="section" aria-labelledby="section-{{section}} .content .summary .title">
            <div class="course-section-summary-wrapper d-flex flex-column">
                <div class="course-section-header d-flex position-relative dropready draggable" data-for="section_title"
                    data-id="7" data-number="1" draggable="true" id="yui_3_17_2_1_1643968975008_225">
                    <div class="d-flex header-progresbar-wrapper">
                        <h2 class="section-title m-0 sectionheading d-inline">
                            {{! sno is shown on section page but now it's hidden because of subsection makes it confusing }}
                            {{#comment}}
                                <span class="sno {{^hidden}}{{/hidden}} {{#hidden}}text-muted{{/hidden}}">
                                    {{ section }}.
                                </span>
                            {{/comment}}
                            <span class="title m-0 {{#hidden}}text-muted{{/hidden}}">{{{ title }}}</span>
                            <div data-region="sectionbadges" class="sectionbadges d-inline {{^editing}}ml-2{{/editing}}">
                                {{!> core_courseformat/local/content/section/badges }}
                                {{>format_remuiformat/edwbadges}}
                            </div>
                        </h2>
                        {{#progressinfo}}
                        <div class="d-flex">
                            <div class="progress-bar-warpper">
                                <div class="progress progress-xs bg-grey-300 m-b-1">
                                    <div class="progress-bar bg-green-600"
                                        style="width:{{#progressinfo}}{{ percentage }}{{/progressinfo}}{{^progressinfo}}0{{/progressinfo}}%;"
                                        role="progressbar">
                                    </div>
                                </div>
                                <div class="text-right progress-text">
                                    {{#progressinfo}}
                                    {{! progress }}
                                    {{/progressinfo}}
                                    <span>{{#progressinfo}}{{ percentage
                                        }}{{/progressinfo}}{{^progressinfo}}0{{/progressinfo}}%</span>
                                </div>
                            </div>
                        </div>
                        {{/progressinfo}}
                    </div>
                    <div class="d-flex justify-content-between align-items-start flex-gap-16">
                        <!-- next/prev sections -->
                        <div class="d-flex no-wrap flex-gap-8">
                            <div class=" p-0 wdm-card-section m-0 text-nowrap align-items-center">
                                {{#leftnav}}
                                    <div class="card-section-leftnav">
                                        {{{ leftnav }}}
                                    </div>
                                {{/leftnav}}
                                {{#rightnav}}
                                    <div class="card-section-rightnav">
                                        {{{ rightnav }}}
                                    </div>
                                {{/rightnav}}
                            </div>
                            {{#editing}}
                            <div class="right side mt-0">
                                {{{ optionmenu }}}
                            </div>
                            {{/editing}}
                        </div>
                    </div>
                </div>
                {{{ summary}}}
            </div>
            <div class="content">
                {{! <div class="summary">
                </div> }}
                <div class="activities-list">
                    {{{ activities }}}
                </div>
            </div>
            {{{ addnewactivity }}}
        </li>
        {{#sections}}
        <li id="section-{{index}}" class="section hide">
            <div class="content">
                <div class="sectionname">
                    <h2>
                        {{name}}
                    </h2>
                </div>
                <div class="summary">

                </div>
            </div>
        </li>
        {{/sections}}
    </ul>
</div>
<!-- next/prev sections -->
<div class="col-md-12 p-0 wdm-card-section m-t-2">
    <div class="card-section-leftnav">
        {{{ leftnav }}}
    </div>
    <div class="card-section-rightnav">
        {{{ rightnav }}}
    </div>
{{/hiddensection}}
