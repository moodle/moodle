define("mod_board/jquery.editable.amd",["exports","jquery"],(function(_exports,_jquery){var obj;
/*
  * jQuery plugin that makes elements editable
  *
  * @author Victor Jonsson (http://victorjonsson.se/)
  * @website https://github.com/victorjonsson/jquery-editable/
  * @license GPLv2 http://www.gnu.org/licenses/gpl-2.0.html
  * @version 1.3.6.dev
  * @donations http://victorjonsson.se/donations/
  */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};var _default=function($,window){void 0===$&&($=_jquery.default);var clickedElement,$win=$(window),$textArea=!1,$currentlyEdited=!1,EVENT_ATTR="data-edit-event",EMPTY_ATTR="data-is-empty",SUPPORTS_TOUCH="ontouchend"in window,TINYMCE_INSTALLED="tinyMCE"in window&&"function"==typeof window.tinyMCE.init,oldjQueryIs=$.fn.is,lastTap=0,tapper=function(){var now=(new Date).getTime();now-lastTap<250&&$(this).trigger("dbltap"),lastTap=now},keyHandler=function(e){if(13==e.keyCode&&e.data.closeOnEnter)$currentlyEdited.editable("close");else if(27==e.keyCode)$textArea.val($currentlyEdited.attr("orig-text")),$currentlyEdited.editable("close");else if(e.data.toggleFontSize&&e.metaKey&&(38==e.keyCode||40==e.keyCode)){var fontSize=parseInt($textArea.css("font-size"),10);return fontSize+=40==e.keyCode?-1:1,$textArea.css("font-size",fontSize+"px"),!1}},adjustTextAreaHeight=function(){$textArea[0].scrollHeight!==parseInt($textArea.attr("data-scroll"),10)&&($textArea.css("height",$textArea[0].scrollHeight+"px"),$textArea.attr("data-scroll",$textArea[0].scrollHeight))},resetElement=function($el,newText,emptyMessage){$el.removeAttr("data-is-editing"),0==newText.length&&emptyMessage?($el.html(emptyMessage),$el.attr(EMPTY_ATTR,"empty")):($el.html(newText),$el.removeAttr(EMPTY_ATTR)),$textArea.remove()},elementEditor=function($el,opts){if(!$el.is(":editing")){$currentlyEdited=$el,$el.attr("data-is-editing","1"),$el.is(":empty")&&($el.removeAttr(EMPTY_ATTR),$el.html(""));var defaultText=$.trim($el.html()),defaultFontSize=$el.css("font-size"),elementHeight=$el.height(),textareaStyle="width: 96%; padding:0; margin:0; border:0; background:none;font-family: "+$el.css("font-family")+"; font-size: "+$el.css("font-size")+";font-weight: "+$el.css("font-weight")+";";if($el.attr("orig-text",defaultText),opts.lineBreaks&&(defaultText=defaultText.replace(/<br( |)(|\/)>/g,"\n")),$textArea=$("<textarea></textarea>"),$el.text(""),textareaStyle+="position: static",!1!==opts.tinyMCE){var id="editable-area-"+(new Date).getTime();$textArea.val(defaultText).appendTo($el).attr("id",id),"object"!=typeof opts.tinyMCE&&(opts.tinyMCE={}),opts.tinyMCE.mode="exact",opts.tinyMCE.elements=id,opts.tinyMCE.width=$el.innerWidth(),opts.tinyMCE.height=$el.height()+200,opts.tinyMCE.theme_advanced_resize_vertical=!0,opts.tinyMCE.setup=function(ed){ed.onInit.add((function(editor){var editorWindow=editor.getWin(),hasPressedKey=!1,editorBlur=function(){var newText=$(editor.getDoc()).find("body").html();$(newText).get(0).nodeName==$el.get(0).nodeName&&(newText=$(newText).html()),resetElement($el,newText,opts.emptyMessage),editor.remove(),$textArea=!1,$win.unbind("click",editorBlur),$currentlyEdited=!1,"function"==typeof opts.callback&&opts.callback({content:!(newText==defaultText||!hasPressedKey)&&newText,fontSize:!1,$el:$el})};setTimeout((function(){$win.bind("click",editorBlur)}),500),($textArea=$("<textarea></textarea>")).bind("blur",editorBlur),editorWindow.onkeydown=function(){hasPressedKey=!0},editorWindow.focus()}))},window.tinyMCE.init(opts.tinyMCE)}else(opts.toggleFontSize||opts.closeOnEnter)&&$win.bind("keydown",opts,keyHandler),$win.bind("keyup",adjustTextAreaHeight),$textArea.html(defaultText).blur((function(){$currentlyEdited=!1;var newText=$.trim($textArea.val()),newFontSize=$textArea.css("font-size");newText=$("<div />").text(newText).html(),opts.lineBreaks&&(newText=newText.replace(new RegExp("\\n","g"),"<br />")),resetElement($el,newText,opts.emptyMessage),newFontSize!=defaultFontSize&&$el.css("font-size",newFontSize),$win.unbind("keydown",keyHandler),$win.unbind("keyup",adjustTextAreaHeight),"function"==typeof opts.callback&&opts.callback({content:newText!=defaultText&&newText,fontSize:newFontSize!=defaultFontSize&&newFontSize,$el:$el})})).attr("style",textareaStyle).appendTo($el).css({margin:0,padding:0,height:elementHeight+"px",overflow:"hidden"}).css(opts.editorStyle).focus().get(0).select(),adjustTextAreaHeight();$el.trigger("edit",[$textArea])}},editEvent=function(event){return!1===$currentlyEdited||$currentlyEdited.children("textarea").is(clickedElement)||$currentlyEdited.editable("close"),elementEditor($(this),event.data),!1};$.fn.editable=function(opts){if("string"==typeof opts){if(this.is(":editable"))switch(opts){case"open":this.is(":editing")||this.trigger(this.attr(EVENT_ATTR));break;case"close":this.is(":editing")&&$textArea.trigger("blur");break;case"destroy":this.is(":editing")&&$textArea.trigger("blur"),this.unbind(this.attr(EVENT_ATTR)),this.removeAttr(EVENT_ATTR)}}else this.is(":editable")&&this.editable("destroy"),!1===(opts=$.extend({event:"dblclick",touch:!0,lineBreaks:!0,toggleFontSize:!0,closeOnEnter:!1,emptyMessage:!1,tinyMCE:!1,editorStyle:{}},opts)).tinyMCE||TINYMCE_INSTALLED||(opts.tinyMCE=!1),SUPPORTS_TOUCH&&opts.touch?(opts.event="dbltap",this.unbind("touchend",tapper),this.bind("touchend",tapper)):opts.event+=".textEditor",this.bind(opts.event,opts,editEvent),this.attr(EVENT_ATTR,opts.event),0==this.html().length&&opts.emptyMessage?(this.html(opts.emptyMessage),this.attr(EMPTY_ATTR,"empty")):this.removeAttr(EMPTY_ATTR);return this},$.fn.is=function(statement){if("string"==typeof statement&&0===statement.indexOf(":")){if(":editable"==statement)return void 0!==this.attr(EVENT_ATTR);if(":editing"==statement)return void 0!==this.attr("data-is-editing");if(":empty"==statement)return void 0!==this.attr(EMPTY_ATTR)}return oldjQueryIs.apply(this,arguments)},$(document).mousedown((function(e){clickedElement=$(e.target)}))}(window.jQuery,window);return _exports.default=_default,_exports.default}));

//# sourceMappingURL=jquery.editable.amd.min.js.map