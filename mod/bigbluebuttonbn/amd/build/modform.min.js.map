{"version":3,"file":"modform.min.js","sources":["../src/modform.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * JS for the mod_form page on mod_bigbluebuttonbn plugin.\n *\n * @module      mod_bigbluebuttonbn/mod_form\n * @copyright   2021 Blindside Networks Inc\n * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport {get_string as getString} from 'core/str';\nimport Notification from 'core/notification';\nimport Templates from \"core/templates\";\n\n/**\n * Get all selectors in one place.\n *\n */\nconst ELEMENT_SELECTOR = {\n    instanceTypeSelection: () => document.querySelector('select#id_type'),\n    instanceTypeProfiles: () => document.querySelector('[data-profile-types]'),\n    participantData: () => document.querySelector('[data-participant-data]'),\n    participantList: () => document.getElementsByName('participants')[0],\n    participantTable: () => document.getElementById('participant_list_table'),\n    participantSelectionType: () => document.getElementsByName('bigbluebuttonbn_participant_selection_type')[0],\n    participantSelection: () => document.getElementsByName('bigbluebuttonbn_participant_selection')[0],\n    participantAddButton: () => document.getElementsByName('bigbluebuttonbn_participant_selection_add')[0],\n};\n/**\n * Initialise the moodle form code.\n *\n * This will help hide or show items depending on the selection of the instance type.\n *\n * @method init\n * @param {object} info\n */\nexport const init = (info) => {\n    const selectedType = ELEMENT_SELECTOR.instanceTypeSelection();\n    const instanceTypeProfiles = JSON.parse(ELEMENT_SELECTOR.instanceTypeProfiles().dataset.profileTypes);\n\n    let profileType = info.instanceTypeDefault;\n    if (selectedType !== null && selectedType.selectedIndex !== -1) {\n        profileType = selectedType.options[selectedType.selectedIndex].value;\n    }\n\n    const isFeatureEnabled = (profileType, feature) => {\n        const features = instanceTypeProfiles[profileType].features;\n        return (features.indexOf(feature) !== -1);\n    };\n    applyInstanceTypeProfile(profileType, isFeatureEnabled);\n\n    // Change form visible fields depending on the selection.\n    selectedType.addEventListener('change', (e) => {\n        applyInstanceTypeProfile(e.target.value, isFeatureEnabled);\n    });\n\n    ELEMENT_SELECTOR.participantSelectionType().addEventListener('change', (e) => {\n        const currentTypeSelect = e.target;\n        updateSelectionFromType(currentTypeSelect);\n    });\n\n    ELEMENT_SELECTOR.participantAddButton().addEventListener('click', (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        participantAddFromCurrentSelection();\n    });\n\n    participantListInit();\n};\n\n/**\n * Show or hide form element depending on the selected profile\n *\n * @param {string} profileType\n * @param {function} isFeatureEnabled\n */\nconst applyInstanceTypeProfile = (profileType, isFeatureEnabled) => {\n    let showAll = isFeatureEnabled(profileType, 'all');\n    const showFieldset = (id, show) => {\n        // Show room settings validation.\n        const node = document.querySelector('#' + id);\n        if (!node) {\n            return;\n        }\n        if (show) {\n            node.style.display = 'block';\n            return;\n        }\n        node.style.display = 'none';\n    };\n    const showInput = (id, show) => {\n        // Show room settings validation.\n        const node = document.querySelector('#' + id);\n        if (!node) {\n            return;\n        }\n        var ancestor = node.closest('div').closest('div');\n        if (show) {\n            ancestor.style.display = 'block';\n            return;\n        }\n        ancestor.style.display = 'none';\n    };\n    const showFormGroup = (id, show) => {\n        // Show room settings validation.\n        const node = document.querySelector('#fgroup_id_' + id);\n        if (!node) {\n            return;\n        }\n        if (show) {\n            node.classList.remove('hidden');\n            return;\n        }\n        node.classList.add('hidden');\n    };\n    // Show room settings validation.\n    showFieldset('id_room', showAll ||\n        isFeatureEnabled(profileType, 'showroom'));\n    showInput('id_record', showAll ||\n        isFeatureEnabled(profileType, 'showroom'));\n    // Show recordings settings validation.\n    showFieldset('id_recordings', showAll ||\n        isFeatureEnabled(profileType, 'showrecordings'));\n    // Show recordings imported settings validation.\n    showInput('id_recordings_imported', showAll ||\n        isFeatureEnabled(profileType, 'showrecordings'));\n    // Show lock settings validation.\n    showFieldset('id_lock', showAll ||\n        isFeatureEnabled(profileType, 'lock'));\n    // Preuploadpresentation feature validation.\n    showFieldset('id_preuploadpresentation', showAll ||\n        isFeatureEnabled(profileType, 'preuploadpresentation'));\n    // Participants feature validation.\n    showFieldset('id_permissions', showAll ||\n        isFeatureEnabled(profileType, 'permissions'));\n    // Schedule feature validation.\n    showFieldset('id_schedule', showAll ||\n        isFeatureEnabled(profileType, 'schedule'));\n    // Common module settings validation.\n    showFieldset('id_modstandardelshdr', showAll ||\n        isFeatureEnabled(profileType, 'modstandardelshdr'));\n    // Restrict access validation.\n    showFieldset('id_availabilityconditionsheader', showAll ||\n        isFeatureEnabled(profileType, 'availabilityconditionsheader'));\n    // Tags validation.\n    showFieldset('id_tagshdr', showAll || isFeatureEnabled(profileType, 'tagshdr'));\n    // Competencies validation.\n    showFieldset('id_competenciessection', showAll ||\n        isFeatureEnabled(profileType, 'competenciessection'));\n    // Completion validation.\n    showFormGroup('completionattendancegroup', showAll ||\n        isFeatureEnabled(profileType, 'completionattendance'));\n    // Completion validation.\n    showFormGroup('completionengagementgroup', showAll ||\n        isFeatureEnabled(profileType, 'completionengagement'));\n};\n\n/**\n * Init the participant list\n */\nconst participantListInit = () => {\n    const participantData = JSON.parse(ELEMENT_SELECTOR.participantData().dataset.participantData);\n    const participantList = getParticipantList();\n    participantList.forEach(participant => {\n        const selectionTypeValue = participant.selectiontype;\n        const selectionValue = participant.selectionid;\n        const selectionRole = participant.role;\n        if (participant.selectiontype === 'all' ||\n            typeof participantData[participant.selectiontype].children[participant.selectionid] !== 'undefined') {\n            // Add it to the form, but don't add the delete button if it is the first item.\n            participantAddToForm(selectionTypeValue, selectionValue, selectionRole, true).then();\n        }\n    });\n};\n\n/**\n * Add rows to the participant list depending on the current selection.\n *\n * @param {string} selectionTypeValue\n * @param {string} selectionValue\n * @param {string} selectedRole\n * @param {boolean} canRemove\n * @returns {Promise<void>}\n */\nconst participantAddToForm = async(selectionTypeValue, selectionValue, selectedRole, canRemove) => {\n    const participantData = JSON.parse(ELEMENT_SELECTOR.participantData().dataset.participantData);\n    const sviewer = await getString('mod_form_field_participant_bbb_role_viewer', 'mod_bigbluebuttonbn');\n    const smoderator = await getString('mod_form_field_participant_bbb_role_moderator', 'mod_bigbluebuttonbn');\n    let roles = {\n        viewer: {'id': 'viewer', label: sviewer},\n        moderator: {'id': 'moderator', label: smoderator}\n    };\n    roles[selectedRole].isselected = true;\n    try {\n        const listTable = document.querySelector('#participant_list_table tbody');\n        const templateContext = {\n            'selectiontypevalue': selectionTypeValue,\n            'selectionvalue': selectionValue,\n            'participanttype': participantData[selectionTypeValue].name,\n            'participantvalue':\n                (selectionTypeValue !== 'all') ?\n                    participantData[selectionTypeValue].children[selectionValue].name : null,\n            'roles': Object.values(roles),\n            'canRemove': canRemove\n        };\n        const {html, js} = await Templates.renderForPromise('mod_bigbluebuttonbn/participant_form_add', templateContext);\n        const newNode = Templates.appendNodeContents(listTable, html, js)[0];\n        newNode.querySelector('.participant-select').addEventListener('change', () => {\n            participantListRoleUpdate(selectionTypeValue, selectionValue);\n        });\n        // Now add the callbacks: participantListRoleUpdate() and participantRemove().\n        const removeNode = newNode.querySelector('.remove-button');\n        if (removeNode) {\n            removeNode\n                .addEventListener('click', () => {\n                    participantRemove(selectionTypeValue, selectionValue);\n                });\n        }\n\n    } catch (e) {\n        Notification.exception(e);\n    }\n};\n/*\n\n */\n\n/**\n * Update the related form element with the list value.\n *\n * @param {object} list\n */\nconst participantListUpdate = (list) => {\n    const participantList = ELEMENT_SELECTOR.participantList();\n    participantList.value = JSON.stringify(list);\n};\n\n/**\n *\n * @returns {any}\n */\nconst getParticipantList = () => {\n    const participantListValue = ELEMENT_SELECTOR.participantList().value;\n    if (participantListValue) {\n        return JSON.parse(participantListValue);\n    }\n    return [];\n};\n\n/**\n * Remove participant both in the table/form and in the form element.\n *\n * @param {string} selectionTypeValue\n * @param {string} selectionValue\n */\nconst participantRemove = (selectionTypeValue, selectionValue) => {\n    const pList = getParticipantList();\n    const id = 'participant_list_tr_' + selectionTypeValue + '-' + selectionValue;\n    const participantListTable = ELEMENT_SELECTOR.participantTable();\n    const selectionid = (selectionValue === '' ? null : selectionValue);\n    for (let i = 0; i < pList.length; i++) {\n        if (pList[i].selectiontype === selectionTypeValue &&\n            pList[i].selectionid === selectionid) {\n            pList.splice(i, 1);\n        }\n    }\n    // Remove from the form.\n    for (let i = 0; i < participantListTable.rows.length; i++) {\n        if (participantListTable.rows[i].id === id) {\n            participantListTable.deleteRow(i);\n        }\n    }\n    // Update value in the form.\n    participantListUpdate(pList);\n};\n\n/**\n * Role update\n *\n * @param {string} type\n * @param {string} id\n */\nconst participantListRoleUpdate = (type, id) => {\n    // Update in memory.\n    const participantListRoleSelection = document.querySelector(`#participant_list_tr_${type}-${id} .participant-select`);\n    const pList = getParticipantList();\n\n    for (var i = 0; i < pList.length; i++) {\n        if (pList[i].selectiontype === type && pList[i].selectionid === id) {\n            pList[i].role = participantListRoleSelection.value;\n        }\n    }\n    // Update in the form.\n    participantListUpdate(pList);\n};\n\n/**\n * Add participant from the currently selected options\n */\nconst participantAddFromCurrentSelection = () => {\n    let selectionType = ELEMENT_SELECTOR.participantSelectionType();\n    let selection = ELEMENT_SELECTOR.participantSelection();\n    const pList = getParticipantList();\n    // Lookup to see if it has been added already.\n    for (var i = 0; i < pList.length; i++) {\n        if (pList[i].selectiontype === selectionType.value &&\n            pList[i].selectionid === selection.value) {\n            return;\n        }\n    }\n    pList.push({\n        \"selectiontype\": selectionType.value,\n        \"selectionid\": selection.value,\n        \"role\": \"viewer\"\n    });\n    // Add it to the form.\n    participantAddToForm(selectionType.value, selection.value, 'viewer', true).then();\n    // Update in the form.\n    participantListUpdate(pList);\n};\n\n/**\n * Update selectable options when changing types\n *\n * @param {HTMLNode} currentTypeSelect\n */\nconst updateSelectionFromType = (currentTypeSelect) => {\n    const createNewOption = (selectItem, label, value) => {\n        const option = document.createElement('option');\n        option.text = label;\n        option.value = value;\n\n        selectItem.add(option);\n    };\n\n    const participantData = JSON.parse(ELEMENT_SELECTOR.participantData().dataset.participantData);\n    // Clear all selection items.\n    const participantSelect = ELEMENT_SELECTOR.participantSelection();\n    while (participantSelect.firstChild) {\n        participantSelect.removeChild(participantSelect.firstChild);\n    }\n    // Add options depending on the selection.\n    if (currentTypeSelect.selectedIndex !== -1) {\n        const options = Object.values(participantData[currentTypeSelect.value].children);\n        options.forEach(option => {\n            createNewOption(participantSelect, option.name, option.id);\n        });\n\n        if (currentTypeSelect.value === 'all') {\n            createNewOption(participantSelect, '---------------', 'all');\n            participantSelect.disabled = true;\n        } else {\n            participantSelect.disabled = false;\n        }\n    }\n};\n"],"names":["_interopRequireDefault","obj","__esModule","default","_notification","_templates","ELEMENT_SELECTOR","instanceTypeSelection","document","querySelector","instanceTypeProfiles","participantData","participantList","getElementsByName","participantTable","getElementById","participantSelectionType","participantSelection","participantAddButton","_exports","init","info","selectedType","JSON","parse","dataset","profileTypes","profileType","instanceTypeDefault","selectedIndex","options","value","isFeatureEnabled","feature","features","indexOf","applyInstanceTypeProfile","addEventListener","e","target","currentTypeSelect","updateSelectionFromType","stopPropagation","preventDefault","participantAddFromCurrentSelection","participantListInit","showAll","showFieldset","id","show","node","style","display","showInput","ancestor","closest","showFormGroup","classList","remove","add","getParticipantList","forEach","participant","selectionTypeValue","selectiontype","selectionValue","selectionid","selectionRole","role","children","participantAddToForm","then","async","selectedRole","canRemove","roles","viewer","label","getString","moderator","isselected","listTable","templateContext","selectiontypevalue","selectionvalue","participanttype","name","participantvalue","Object","values","html","js","Templates","renderForPromise","newNode","appendNodeContents","participantListRoleUpdate","removeNode","participantRemove","Notification","exception","participantListUpdate","list","stringify","participantListValue","pList","participantListTable","i","length","splice","rows","deleteRow","type","participantListRoleSelection","concat","selectionType","selection","push","createNewOption","selectItem","option","createElement","text","participantSelect","firstChild","removeChild","disabled"],"mappings":"mJAyBuC,SAAAA,uBAAAC,KAAAA,OAAAA,KAAAA,IAAAC,WAAAD,IAAAE,CAAAA,QAAAF,IAAA;;;;;;;kFADvCG,cAAAJ,uBAAAI,eACAC,WAAAL,uBAAAK,YAMA,MAAMC,uCACqBC,IAAMC,SAASC,cAAc,kBADlDH,sCAEoBI,IAAMF,SAASC,cAAc,wBAFjDH,iCAGeK,IAAMH,SAASC,cAAc,2BAH5CH,iCAIeM,IAAMJ,SAASK,kBAAkB,gBAAgB,GAJhEP,kCAKgBQ,IAAMN,SAASO,eAAe,0BAL9CT,0CAMwBU,IAAMR,SAASK,kBAAkB,8CAA8C,GANvGP,sCAOoBW,IAAMT,SAASK,kBAAkB,yCAAyC,GAP9FP,sCAQoBY,IAAMV,SAASK,kBAAkB,6CAA6C,GA0CtGM,SAAAC,KAhCmBC,OACjB,MAAMC,aAAehB,yCACfI,qBAAuBa,KAAKC,MAAMlB,wCAAwCmB,QAAQC,cAExF,IAAIC,YAAcN,KAAKO,oBACF,OAAjBN,eAAyD,IAAhCA,aAAaO,gBACtCF,YAAcL,aAAaQ,QAAQR,aAAaO,eAAeE,OAGnE,MAAMC,iBAAmBA,CAACL,YAAaM,WAEI,IADtBvB,qBAAqBiB,aAAaO,SAClCC,QAAQF,SAE7BG,yBAAyBT,YAAaK,kBAGtCV,aAAae,iBAAiB,UAAWC,IACrCF,yBAAyBE,EAAEC,OAAOR,MAAOC,iBAAiB,IAG9D1B,4CAA4C+B,iBAAiB,UAAWC,IACpE,MAAME,kBAAoBF,EAAEC,OAC5BE,wBAAwBD,kBAAkB,IAG9ClC,wCAAwC+B,iBAAiB,SAAUC,IAC/DA,EAAEI,kBACFJ,EAAEK,iBACFC,oCAAoC,IAGxCC,qBAAqB,EASzB,MAAMT,yBAA2BA,CAACT,YAAaK,oBAC3C,IAAIc,QAAUd,iBAAiBL,YAAa,OAC5C,MAAMoB,aAAeA,CAACC,GAAIC,QAEtB,MAAMC,KAAO1C,SAASC,cAAc,IAAMuC,IACrCE,OAIDA,KAAKC,MAAMC,QADXH,KACqB,QAGJ,OAAM,EAEzBI,UAAYA,CAACL,GAAIC,QAEnB,MAAMC,KAAO1C,SAASC,cAAc,IAAMuC,IAC1C,GAAKE,KAAL,CAGA,IAAII,SAAWJ,KAAKK,QAAQ,OAAOA,QAAQ,OAEvCD,SAASH,MAAMC,QADfH,KACyB,QAGJ,MANzB,CAM+B,EAE7BO,cAAgBA,CAACR,GAAIC,QAEvB,MAAMC,KAAO1C,SAASC,cAAc,cAAgBuC,IAC/CE,OAGDD,KACAC,KAAKO,UAAUC,OAAO,UAG1BR,KAAKO,UAAUE,IAAI,UAAS,EAGhCZ,aAAa,UAAWD,SACpBd,iBAAiBL,YAAa,aAClC0B,UAAU,YAAaP,SACnBd,iBAAiBL,YAAa,aAElCoB,aAAa,gBAAiBD,SAC1Bd,iBAAiBL,YAAa,mBAElC0B,UAAU,yBAA0BP,SAChCd,iBAAiBL,YAAa,mBAElCoB,aAAa,UAAWD,SACpBd,iBAAiBL,YAAa,SAElCoB,aAAa,2BAA4BD,SACrCd,iBAAiBL,YAAa,0BAElCoB,aAAa,iBAAkBD,SAC3Bd,iBAAiBL,YAAa,gBAElCoB,aAAa,cAAeD,SACxBd,iBAAiBL,YAAa,aAElCoB,aAAa,uBAAwBD,SACjCd,iBAAiBL,YAAa,sBAElCoB,aAAa,kCAAmCD,SAC5Cd,iBAAiBL,YAAa,iCAElCoB,aAAa,aAAcD,SAAWd,iBAAiBL,YAAa,YAEpEoB,aAAa,yBAA0BD,SACnCd,iBAAiBL,YAAa,wBAElC6B,cAAc,4BAA6BV,SACvCd,iBAAiBL,YAAa,yBAElC6B,cAAc,4BAA6BV,SACvCd,iBAAiBL,YAAa,wBAAwB,EAMxDkB,oBAAsBA,KACxB,MAAMlC,gBAAkBY,KAAKC,MAAMlB,mCAAmCmB,QAAQd,iBACtDiD,qBACRC,SAAQC,cACpB,MAAMC,mBAAqBD,YAAYE,cACjCC,eAAiBH,YAAYI,YAC7BC,cAAgBL,YAAYM,KACA,QAA9BN,YAAYE,oBAC4E,IAAjFrD,gBAAgBmD,YAAYE,eAAeK,SAASP,YAAYI,cAEvEI,qBAAqBP,mBAAoBE,eAAgBE,eAAe,GAAMI,MAClF,GACF,EAYAD,qBAAuBE,MAAMT,mBAAoBE,eAAgBQ,aAAcC,aACjF,MAAM/D,gBAAkBY,KAAKC,MAAMlB,mCAAmCmB,QAAQd,iBAG9E,IAAIgE,MAAQ,CACRC,OAAQ,CAAC5B,GAAM,SAAU6B,YAHP,EAAAC,iBAAU,6CAA8C,wBAI1EC,UAAW,CAAC/B,GAAM,YAAa6B,YAHV,EAAAC,iBAAU,gDAAiD,yBAKpFH,MAAMF,cAAcO,YAAa,EACjC,IACI,MAAMC,UAAYzE,SAASC,cAAc,iCACnCyE,gBAAkB,CACpBC,mBAAsBpB,mBACtBqB,eAAkBnB,eAClBoB,gBAAmB1E,gBAAgBoD,oBAAoBuB,KACvDC,iBAC4B,QAAvBxB,mBACGpD,gBAAgBoD,oBAAoBM,SAASJ,gBAAgBqB,KAAO,KAC5EX,MAASa,OAAOC,OAAOd,OACvBD,UAAaA,YAEXgB,KAACA,KAAIC,GAAEA,UAAYC,WAASzF,QAAC0F,iBAAiB,2CAA4CX,iBAC1FY,QAAUF,WAASzF,QAAC4F,mBAAmBd,UAAWS,KAAMC,IAAI,GAClEG,QAAQrF,cAAc,uBAAuB4B,iBAAiB,UAAU,KACpE2D,0BAA0BjC,mBAAoBE,eAAe,IAGjE,MAAMgC,WAAaH,QAAQrF,cAAc,kBACrCwF,YACAA,WACK5D,iBAAiB,SAAS,KACvB6D,kBAAkBnC,mBAAoBE,eAAe,GAIpE,CAAC,MAAO3B,GACL6D,cAAAA,QAAaC,UAAU9D,EAC3B,GAWE+D,sBAAyBC,OACHhG,mCACRyB,MAAQR,KAAKgF,UAAUD,KAAK,EAO1C1C,mBAAqBA,KACvB,MAAM4C,qBAAuBlG,mCAAmCyB,MAChE,OAAIyE,qBACOjF,KAAKC,MAAMgF,sBAEf,EAAE,EASPN,kBAAoBA,CAACnC,mBAAoBE,kBAC3C,MAAMwC,MAAQ7C,qBACRZ,GAAK,uBAAyBe,mBAAqB,IAAME,eACzDyC,qBAAuBpG,oCACvB4D,YAAkC,KAAnBD,eAAwB,KAAOA,eACpD,IAAK,IAAI0C,EAAI,EAAGA,EAAIF,MAAMG,OAAQD,IAC1BF,MAAME,GAAG3C,gBAAkBD,oBAC3B0C,MAAME,GAAGzC,cAAgBA,aACzBuC,MAAMI,OAAOF,EAAG,GAIxB,IAAK,IAAIA,EAAI,EAAGA,EAAID,qBAAqBI,KAAKF,OAAQD,IAC9CD,qBAAqBI,KAAKH,GAAG3D,KAAOA,IACpC0D,qBAAqBK,UAAUJ,GAIvCN,sBAAsBI,MAAM,EAS1BT,0BAA4BA,CAACgB,KAAMhE,MAErC,MAAMiE,6BAA+BzG,SAASC,cAAa,wBAAAyG,OAAyBF,KAAI,KAAAE,OAAIlE,GAAyB,yBAC/GyD,MAAQ7C,qBAEd,IAAK,IAAI+C,EAAI,EAAGA,EAAIF,MAAMG,OAAQD,IAC1BF,MAAME,GAAG3C,gBAAkBgD,MAAQP,MAAME,GAAGzC,cAAgBlB,KAC5DyD,MAAME,GAAGvC,KAAO6C,6BAA6BlF,OAIrDsE,sBAAsBI,MAAM,EAM1B7D,mCAAqCA,KACvC,IAAIuE,cAAgB7G,4CAChB8G,UAAY9G,wCAChB,MAAMmG,MAAQ7C,qBAEd,IAAK,IAAI+C,EAAI,EAAGA,EAAIF,MAAMG,OAAQD,IAC9B,GAAIF,MAAME,GAAG3C,gBAAkBmD,cAAcpF,OACzC0E,MAAME,GAAGzC,cAAgBkD,UAAUrF,MACnC,OAGR0E,MAAMY,KAAK,CACPrD,cAAiBmD,cAAcpF,MAC/BmC,YAAekD,UAAUrF,MACzBqC,KAAQ,WAGZE,qBAAqB6C,cAAcpF,MAAOqF,UAAUrF,MAAO,UAAU,GAAMwC,OAE3E8B,sBAAsBI,MAAM,EAQ1BhE,wBAA2BD,oBAC7B,MAAM8E,gBAAkBA,CAACC,WAAY1C,MAAO9C,SACxC,MAAMyF,OAAShH,SAASiH,cAAc,UACtCD,OAAOE,KAAO7C,MACd2C,OAAOzF,MAAQA,MAEfwF,WAAW5D,IAAI6D,OAAO,EAGpB7G,gBAAkBY,KAAKC,MAAMlB,mCAAmCmB,QAAQd,iBAExEgH,kBAAoBrH,wCAC1B,KAAOqH,kBAAkBC,YACrBD,kBAAkBE,YAAYF,kBAAkBC,YAGpD,IAAyC,IAArCpF,kBAAkBX,cAAsB,CACxB2D,OAAOC,OAAO9E,gBAAgB6B,kBAAkBT,OAAOsC,UAC/DR,SAAQ2D,SACZF,gBAAgBK,kBAAmBH,OAAOlC,KAAMkC,OAAOxE,GAAG,IAG9B,QAA5BR,kBAAkBT,OAClBuF,gBAAgBK,kBAAmB,kBAAmB,OACtDA,kBAAkBG,UAAW,GAE7BH,kBAAkBG,UAAW,CAErC,EACF"}