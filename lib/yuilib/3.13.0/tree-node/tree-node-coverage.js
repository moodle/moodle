/*
YUI 3.13.0 (build 508226d)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/tree-node/tree-node.js']) {
   __coverage__['build/tree-node/tree-node.js'] = {"path":"build/tree-node/tree-node.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":21},"end":{"line":1,"column":40}}},"2":{"name":"TreeNode","line":43,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":32}}},"3":{"name":"(anonymous_3)","line":193,"loc":{"start":{"line":193,"column":12},"end":{"line":193,"column":37}}},"4":{"name":"(anonymous_4)","line":207,"loc":{"start":{"line":207,"column":11},"end":{"line":207,"column":23}}},"5":{"name":"(anonymous_5)","line":240,"loc":{"start":{"line":240,"column":11},"end":{"line":240,"column":30}}},"6":{"name":"(anonymous_6)","line":270,"loc":{"start":{"line":270,"column":10},"end":{"line":270,"column":48}}},"7":{"name":"(anonymous_7)","line":281,"loc":{"start":{"line":281,"column":17},"end":{"line":281,"column":29}}},"8":{"name":"(anonymous_8)","line":293,"loc":{"start":{"line":293,"column":11},"end":{"line":293,"column":23}}},"9":{"name":"(anonymous_9)","line":306,"loc":{"start":{"line":306,"column":13},"end":{"line":306,"column":29}}},"10":{"name":"(anonymous_10)","line":344,"loc":{"start":{"line":344,"column":12},"end":{"line":344,"column":37}}},"11":{"name":"(anonymous_11)","line":356,"loc":{"start":{"line":356,"column":14},"end":{"line":356,"column":26}}},"12":{"name":"(anonymous_12)","line":371,"loc":{"start":{"line":371,"column":12},"end":{"line":371,"column":24}}},"13":{"name":"(anonymous_13)","line":383,"loc":{"start":{"line":383,"column":10},"end":{"line":383,"column":22}}},"14":{"name":"(anonymous_14)","line":405,"loc":{"start":{"line":405,"column":13},"end":{"line":405,"column":38}}},"15":{"name":"(anonymous_15)","line":417,"loc":{"start":{"line":417,"column":14},"end":{"line":417,"column":26}}},"16":{"name":"(anonymous_16)","line":439,"loc":{"start":{"line":439,"column":12},"end":{"line":439,"column":31}}},"17":{"name":"(anonymous_17)","line":451,"loc":{"start":{"line":451,"column":10},"end":{"line":451,"column":22}}},"18":{"name":"(anonymous_18)","line":469,"loc":{"start":{"line":469,"column":12},"end":{"line":469,"column":24}}},"19":{"name":"(anonymous_19)","line":533,"loc":{"start":{"line":533,"column":14},"end":{"line":533,"column":52}}},"20":{"name":"(anonymous_20)","line":538,"loc":{"start":{"line":538,"column":14},"end":{"line":538,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":555,"column":13}},"2":{"start":{"line":43,"column":0},"end":{"line":68,"column":1}},"3":{"start":{"line":44,"column":4},"end":{"line":44,"column":28}},"4":{"start":{"line":46,"column":4},"end":{"line":46,"column":73}},"5":{"start":{"line":47,"column":4},"end":{"line":47,"column":21}},"6":{"start":{"line":49,"column":4},"end":{"line":49,"column":42}},"7":{"start":{"line":50,"column":4},"end":{"line":50,"column":38}},"8":{"start":{"line":51,"column":4},"end":{"line":51,"column":39}},"9":{"start":{"line":53,"column":4},"end":{"line":57,"column":5}},"10":{"start":{"line":54,"column":8},"end":{"line":54,"column":54}},"11":{"start":{"line":55,"column":11},"end":{"line":57,"column":5}},"12":{"start":{"line":56,"column":8},"end":{"line":56,"column":36}},"13":{"start":{"line":61,"column":4},"end":{"line":61,"column":24}},"14":{"start":{"line":65,"column":4},"end":{"line":67,"column":5}},"15":{"start":{"line":66,"column":8},"end":{"line":66,"column":39}},"16":{"start":{"line":70,"column":0},"end":{"line":550,"column":2}},"17":{"start":{"line":194,"column":8},"end":{"line":194,"column":57}},"18":{"start":{"line":208,"column":8},"end":{"line":210,"column":9}},"19":{"start":{"line":209,"column":12},"end":{"line":209,"column":21}},"20":{"start":{"line":212,"column":8},"end":{"line":213,"column":33}},"21":{"start":{"line":215,"column":8},"end":{"line":218,"column":9}},"22":{"start":{"line":216,"column":12},"end":{"line":216,"column":23}},"23":{"start":{"line":217,"column":12},"end":{"line":217,"column":35}},"24":{"start":{"line":220,"column":8},"end":{"line":220,"column":21}},"25":{"start":{"line":241,"column":8},"end":{"line":241,"column":50}},"26":{"start":{"line":271,"column":8},"end":{"line":271,"column":68}},"27":{"start":{"line":282,"column":8},"end":{"line":282,"column":38}},"28":{"start":{"line":294,"column":8},"end":{"line":294,"column":60}},"29":{"start":{"line":307,"column":8},"end":{"line":307,"column":18}},"30":{"start":{"line":309,"column":8},"end":{"line":311,"column":9}},"31":{"start":{"line":310,"column":12},"end":{"line":310,"column":28}},"32":{"start":{"line":313,"column":8},"end":{"line":313,"column":40}},"33":{"start":{"line":315,"column":8},"end":{"line":315,"column":57}},"34":{"start":{"line":345,"column":8},"end":{"line":345,"column":57}},"35":{"start":{"line":357,"column":8},"end":{"line":359,"column":9}},"36":{"start":{"line":358,"column":12},"end":{"line":358,"column":24}},"37":{"start":{"line":361,"column":8},"end":{"line":361,"column":57}},"38":{"start":{"line":372,"column":8},"end":{"line":372,"column":60}},"39":{"start":{"line":384,"column":8},"end":{"line":386,"column":9}},"40":{"start":{"line":385,"column":12},"end":{"line":385,"column":58}},"41":{"start":{"line":406,"column":8},"end":{"line":406,"column":58}},"42":{"start":{"line":418,"column":8},"end":{"line":420,"column":9}},"43":{"start":{"line":419,"column":12},"end":{"line":419,"column":58}},"44":{"start":{"line":440,"column":8},"end":{"line":440,"column":51}},"45":{"start":{"line":452,"column":8},"end":{"line":454,"column":27}},"46":{"start":{"line":456,"column":8},"end":{"line":458,"column":9}},"47":{"start":{"line":457,"column":12},"end":{"line":457,"column":40}},"48":{"start":{"line":460,"column":8},"end":{"line":460,"column":21}},"49":{"start":{"line":470,"column":8},"end":{"line":472,"column":24}},"50":{"start":{"line":475,"column":8},"end":{"line":477,"column":9}},"51":{"start":{"line":476,"column":12},"end":{"line":476,"column":24}},"52":{"start":{"line":480,"column":8},"end":{"line":486,"column":9}},"53":{"start":{"line":481,"column":12},"end":{"line":481,"column":40}},"54":{"start":{"line":483,"column":12},"end":{"line":485,"column":13}},"55":{"start":{"line":484,"column":16},"end":{"line":484,"column":37}},"56":{"start":{"line":489,"column":8},"end":{"line":495,"column":9}},"57":{"start":{"line":490,"column":12},"end":{"line":490,"column":30}},"58":{"start":{"line":492,"column":12},"end":{"line":494,"column":13}},"59":{"start":{"line":493,"column":16},"end":{"line":493,"column":61}},"60":{"start":{"line":497,"column":8},"end":{"line":497,"column":19}},"61":{"start":{"line":534,"column":8},"end":{"line":534,"column":72}},"62":{"start":{"line":539,"column":8},"end":{"line":541,"column":19}},"63":{"start":{"line":543,"column":8},"end":{"line":545,"column":9}},"64":{"start":{"line":544,"column":12},"end":{"line":544,"column":41}},"65":{"start":{"line":547,"column":8},"end":{"line":547,"column":38}},"66":{"start":{"line":548,"column":8},"end":{"line":548,"column":35}},"67":{"start":{"line":552,"column":0},"end":{"line":552,"column":36}}},"branchMap":{"1":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":4},"end":{"line":44,"column":10}},{"start":{"line":44,"column":15},"end":{"line":44,"column":26}}]},"2":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":29},"end":{"line":46,"column":38}},{"start":{"line":46,"column":42},"end":{"line":46,"column":49}},{"start":{"line":46,"column":53},"end":{"line":46,"column":72}}]},"3":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":20},"end":{"line":49,"column":35}},{"start":{"line":49,"column":39},"end":{"line":49,"column":41}}]},"4":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":20},"end":{"line":50,"column":31}},{"start":{"line":50,"column":35},"end":{"line":50,"column":37}}]},"5":{"line":51,"type":"binary-expr","locations":[{"start":{"line":51,"column":20},"end":{"line":51,"column":32}},{"start":{"line":51,"column":36},"end":{"line":51,"column":38}}]},"6":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":4},"end":{"line":53,"column":4}},{"start":{"line":53,"column":4},"end":{"line":53,"column":4}}]},"7":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":11},"end":{"line":55,"column":11}},{"start":{"line":55,"column":11},"end":{"line":55,"column":11}}]},"8":{"line":208,"type":"if","locations":[{"start":{"line":208,"column":8},"end":{"line":208,"column":8}},{"start":{"line":208,"column":8},"end":{"line":208,"column":8}}]},"9":{"line":294,"type":"cond-expr","locations":[{"start":{"line":294,"column":29},"end":{"line":294,"column":54}},{"start":{"line":294,"column":57},"end":{"line":294,"column":59}}]},"10":{"line":309,"type":"if","locations":[{"start":{"line":309,"column":8},"end":{"line":309,"column":8}},{"start":{"line":309,"column":8},"end":{"line":309,"column":8}}]},"11":{"line":315,"type":"cond-expr","locations":[{"start":{"line":315,"column":46},"end":{"line":315,"column":48}},{"start":{"line":315,"column":51},"end":{"line":315,"column":56}}]},"12":{"line":357,"type":"if","locations":[{"start":{"line":357,"column":8},"end":{"line":357,"column":8}},{"start":{"line":357,"column":8},"end":{"line":357,"column":8}}]},"13":{"line":357,"type":"binary-expr","locations":[{"start":{"line":357,"column":12},"end":{"line":357,"column":21}},{"start":{"line":357,"column":25},"end":{"line":357,"column":52}}]},"14":{"line":361,"type":"binary-expr","locations":[{"start":{"line":361,"column":18},"end":{"line":361,"column":29}},{"start":{"line":361,"column":33},"end":{"line":361,"column":55}}]},"15":{"line":372,"type":"binary-expr","locations":[{"start":{"line":372,"column":18},"end":{"line":372,"column":27}},{"start":{"line":372,"column":31},"end":{"line":372,"column":58}}]},"16":{"line":384,"type":"if","locations":[{"start":{"line":384,"column":8},"end":{"line":384,"column":8}},{"start":{"line":384,"column":8},"end":{"line":384,"column":8}}]},"17":{"line":418,"type":"if","locations":[{"start":{"line":418,"column":8},"end":{"line":418,"column":8}},{"start":{"line":418,"column":8},"end":{"line":418,"column":8}}]},"18":{"line":475,"type":"if","locations":[{"start":{"line":475,"column":8},"end":{"line":475,"column":8}},{"start":{"line":475,"column":8},"end":{"line":475,"column":8}}]},"19":{"line":483,"type":"if","locations":[{"start":{"line":483,"column":12},"end":{"line":483,"column":12}},{"start":{"line":483,"column":12},"end":{"line":483,"column":12}}]},"20":{"line":489,"type":"if","locations":[{"start":{"line":489,"column":8},"end":{"line":489,"column":8}},{"start":{"line":489,"column":8},"end":{"line":489,"column":8}}]}},"code":["(function () { YUI.add('tree-node', function (Y, NAME) {","","/*jshint expr:true, onevar:false */","","/**","Provides the `Tree.Node` class, which represents a tree node contained in a","`Tree` data structure.","","@module tree","@submodule tree-node","**/","","/**","Represents a tree node in a `Tree` data structure.","","@class Tree.Node","@param {Tree} tree `Tree` instance with which this node should be associated.","@param {Object} [config] Configuration hash for this node.","","    @param {Boolean} [config.canHaveChildren=false] Whether or not this node can","        contain child nodes. Will be automatically set to `true` if not","        specified and `config.children` contains one or more children.","","    @param {Tree.Node[]} [config.children] Array of `Tree.Node` instances","        for child nodes of this node.","","    @param {Object} [config.data] Implementation-specific data related to this","        node. You may add arbitrary properties to this hash for your own use.","","    @param {String} [config.id] Unique id for this node. This id must be unique","        among all tree nodes on the entire page, and will also be used as this","        node's DOM id when it's rendered by a TreeView. A unique id will be","        automatically generated unless you specify a custom value.","","    @param {Object} [config.state] State hash for this node. You may add","        arbitrary state properties to this hash for your own use. See the","        docs for `Tree.Node`'s `state` property for details on state values used","        internally by `Tree.Node`.","","@constructor","**/","","function TreeNode(tree, config) {","    config || (config = {});","","    this.id   = this._yuid = config.id || this.id || Y.guid('treeNode-');","    this.tree = tree;","","    this.children = config.children || [];","    this.data     = config.data || {};","    this.state    = config.state || {};","","    if (config.canHaveChildren) {","        this.canHaveChildren = config.canHaveChildren;","    } else if (this.children.length) {","        this.canHaveChildren = true;","    }","","    // Mix in arbitrary properties on the config object, but don't overwrite any","    // existing properties of this node.","    Y.mix(this, config);","","    // If this node has children, loop through them and ensure their parent","    // references are all set to this node.","    for (var i = 0, len = this.children.length; i < len; i++) {","        this.children[i].parent = this;","    }","}","","TreeNode.prototype = {","    // -- Public Properties ----------------------------------------------------","","    /**","    Whether or not this node can contain child nodes.","","    This value is falsy by default unless child nodes are added at instantiation","    time, in which case it will be automatically set to `true`. You can also","    manually set it to `true` to indicate that a node can have children even","    though it might not currently have any children.","","    Note that regardless of the value of this property, appending, prepending,","    or inserting a node into this node will cause `canHaveChildren` to be set to","    true automatically.","","    @property {Boolean} canHaveChildren","    **/","","    /**","    Child nodes contained within this node.","","    @property {Tree.Node[]} children","    @default []","    @readOnly","    **/","","    /**","    Arbitrary serializable data related to this node.","","    Use this property to store any data that should accompany this node when it","    is serialized to JSON.","","    @property {Object} data","    @default {}","    **/","","    /**","    Unique id for this node.","","    @property {String} id","    @readOnly","    **/","","    /**","    Parent node of this node, or `undefined` if this is an unattached node or","    the root node.","","    @property {Tree.Node} parent","    @readOnly","    **/","","    /**","    Current state of this node.","","    Use this property to store state-specific info -- such as whether this node","    is \"open\", \"selected\", or any other arbitrary state -- that should accompany","    this node when it is serialized to JSON.","","    @property {Object} state","    **/","","    /**","    The Tree instance with which this node is associated.","","    @property {Tree} tree","    @readOnly","    **/","","    // -- Protected Properties -------------------------------------------------","","    /**","    Mapping of child node ids to indices.","","    @property {Object} _indexMap","    @protected","    **/","","    /**","    Flag indicating whether the `_indexMap` is stale and needs to be rebuilt.","","    @property {Boolean} _isIndexStale","    @default true","    @protected","    **/","    _isIndexStale: true,","","    /**","    Simple way to type-check that this is an instance of Tree.Node.","","    @property {Boolean} _isYUITreeNode","    @default true","    @protected","    **/","    _isYUITreeNode: true,","","    /**","    Array of property names on this node that should be serialized to JSON when","    `toJSON()` is called.","","    Note that the `children` property is a special case that is managed","    separately.","","    @property {String[]} _serializable","    @protected","    **/","    _serializable: ['canHaveChildren', 'data', 'id', 'state'],","","    // -- Public Methods -------------------------------------------------------","","    /**","    Appends the given tree node or array of nodes to the end of this node's","    children.","","    @method append","    @param {Object|Object[]|Tree.Node|Tree.Node[]} node Child node, node config","        object, array of child nodes, or array of node config objects to append","        to the given parent. Node config objects will automatically be converted","        into node instances.","    @param {Object} [options] Options.","        @param {Boolean} [options.silent=false] If `true`, the `add` event will","            be suppressed.","    @return {Tree.Node|Tree.Node[]} Node or array of nodes that were appended.","    **/","    append: function (node, options) {","        return this.tree.appendNode(this, node, options);","    },","","    /**","    Returns this node's depth.","","    The root node of a tree always has a depth of 0. A child of the root has a","    depth of 1, a child of that child will have a depth of 2, and so on.","","    @method depth","    @return {Number} This node's depth.","    @since 3.11.0","    **/","    depth: function () {","        if (this.isRoot()) {","            return 0;","        }","","        var depth  = 0,","            parent = this.parent;","","        while (parent) {","            depth += 1;","            parent = parent.parent;","        }","","        return depth;","    },","","    /**","    Removes all children from this node. The removed children will still be","    reusable unless the `destroy` option is truthy.","","    @method empty","    @param {Object} [options] Options.","        @param {Boolean} [options.destroy=false] If `true`, the children will","            also be destroyed, which makes them available for garbage collection","            and means they can't be reused.","        @param {Boolean} [options.silent=false] If `true`, `remove` events will","            be suppressed.","        @param {String} [options.src] Source of the change, to be passed along","            to the event facade of the resulting event. This can be used to","            distinguish between changes triggered by a user and changes","            triggered programmatically, for example.","    @return {Tree.Node[]} Array of removed child nodes.","    **/","    empty: function (options) {","        return this.tree.emptyNode(this, options);","    },","","    /**","    Performs a depth-first traversal of this node, passing it and each of its","    descendants to the specified _callback_, and returning the first node for","    which the callback returns a truthy value.","","    Traversal will stop as soon as a truthy value is returned from the callback.","","    See `Tree#traverseNode()` for more details on how depth-first traversal","    works.","","    @method find","    @param {Object} [options] Options.","        @param {Number} [options.depth] Depth limit. If specified, descendants","            will only be traversed to this depth before backtracking and moving","            on.","    @param {Function} callback Callback function to call with the traversed","        node and each of its descendants. If this function returns a truthy","        value, traversal will be stopped and the current node will be returned.","","        @param {Tree.Node} callback.node Node being traversed.","","    @param {Object} [thisObj] `this` object to use when executing _callback_.","    @return {Tree.Node|null} Returns the first node for which the _callback_","        returns a truthy value, or `null` if the callback never returns a truthy","        value.","    **/","    find: function (options, callback, thisObj) {","        return this.tree.findNode(this, options, callback, thisObj);","    },","","    /**","    Returns `true` if this node has one or more child nodes.","","    @method hasChildren","    @return {Boolean} `true` if this node has one or more child nodes, `false`","        otherwise.","    **/","    hasChildren: function () {","        return !!this.children.length;","    },","","    /**","    Returns the numerical index of this node within its parent node, or `-1` if","    this node doesn't have a parent node.","","    @method index","    @return {Number} Index of this node within its parent node, or `-1` if this","        node doesn't have a parent node.","    **/","    index: function () {","        return this.parent ? this.parent.indexOf(this) : -1;","    },","","    /**","    Returns the numerical index of the given child node, or `-1` if the node is","    not a child of this node.","","    @method indexOf","    @param {Tree.Node} node Child node.","    @return {Number} Index of the child, or `-1` if the node is not a child of","        this node.","    **/","    indexOf: function (node) {","        var index;","","        if (this._isIndexStale) {","            this._reindex();","        }","","        index = this._indexMap[node.id];","","        return typeof index === 'undefined' ? -1 : index;","    },","","    /**","    Inserts a node or array of nodes at the specified index under this node, or","    appends them to this node if no index is specified.","","    If a node being inserted is from another tree, it and all its children will","    be removed from that tree and moved to this one.","","    @method insert","    @param {Object|Object[]|Tree.Node|Tree.Node[]} node Child node, node config","        object, array of child nodes, or array of node config objects to insert","        under the given parent. Node config objects will automatically be","        converted into node instances.","","    @param {Object} [options] Options.","        @param {Number} [options.index] Index at which to insert the child node.","            If not specified, the node will be appended as the last child of the","            parent.","        @param {Boolean} [options.silent=false] If `true`, the `add` event will","            be suppressed.","        @param {String} [options.src='insert'] Source of the change, to be","            passed along to the event facade of the resulting event. This can be","            used to distinguish between changes triggered by a user and changes","            triggered programmatically, for example.","","    @return {Tree.Node[]} Node or array of nodes that were inserted.","    **/","    insert: function (node, options) {","        return this.tree.insertNode(this, node, options);","    },","","    /**","    Returns `true` if this node has been inserted into a tree, `false` if it is","    merely associated with a tree and has not yet been inserted.","","    @method isInTree","    @return {Boolean} `true` if this node has been inserted into a tree, `false`","        otherwise.","    **/","    isInTree: function () {","        if (this.tree && this.tree.rootNode === this) {","            return true;","        }","","        return !!(this.parent && this.parent.isInTree());","    },","","    /**","    Returns `true` if this node is the root of the tree.","","    @method isRoot","    @return {Boolean} `true` if this node is the root of the tree, `false`","        otherwise.","    **/","    isRoot: function () {","        return !!(this.tree && this.tree.rootNode === this);","    },","","    /**","    Returns this node's next sibling, or `undefined` if this node is the last","    child.","","    @method next","    @return {Tree.Node} This node's next sibling, or `undefined` if this node is","        the last child.","    **/","    next: function () {","        if (this.parent) {","            return this.parent.children[this.index() + 1];","        }","    },","","    /**","    Prepends a node or array of nodes at the beginning of this node's children.","","    If a node being prepended is from another tree, it and all its children will","    be removed from that tree and moved to this one.","","    @method prepend","    @param {Object|Object[]|Tree.Node|Tree.Node[]} node Child node, node config","        object, array of child nodes, or array of node config objects to prepend","        to this node. Node config objects will automatically be converted into","        node instances.","    @param {Object} [options] Options.","        @param {Boolean} [options.silent=false] If `true`, the `add` event will","            be suppressed.","    @return {Tree.Node|Tree.Node[]} Node or array of nodes that were prepended.","    **/","    prepend: function (node, options) {","        return this.tree.prependNode(this, node, options);","    },","","    /**","    Returns this node's previous sibling, or `undefined` if this node is the","    first child","","    @method previous","    @return {Tree.Node} This node's previous sibling, or `undefined` if this","        node is the first child.","    **/","    previous: function () {","        if (this.parent) {","            return this.parent.children[this.index() - 1];","        }","    },","","    /**","    Removes this node from its parent node.","","    @method remove","    @param {Object} [options] Options.","        @param {Boolean} [options.destroy=false] If `true`, this node and all","            its children will also be destroyed, which makes them available for","            garbage collection and means they can't be reused.","        @param {Boolean} [options.silent=false] If `true`, the `remove` event","            will be suppressed.","        @param {String} [options.src] Source of the change, to be passed along","            to the event facade of the resulting event. This can be used to","            distinguish between changes triggered by a user and changes","            triggered programmatically, for example.","    @chainable","    **/","    remove: function (options) {","        return this.tree.removeNode(this, options);","    },","","    /**","    Returns the total number of nodes contained within this node, including all","    descendants of this node's children.","","    @method size","    @return {Number} Total number of nodes contained within this node, including","        all descendants.","    **/","    size: function () {","        var children = this.children,","            len      = children.length,","            total    = len;","","        for (var i = 0; i < len; i++) {","            total += children[i].size();","        }","","        return total;","    },","","    /**","    Serializes this node to an object suitable for use in JSON.","","    @method toJSON","    @return {Object} Serialized node object.","    **/","    toJSON: function () {","        var obj   = {},","            state = this.state,","            i, key, len;","","        // Do nothing if this node is marked as destroyed.","        if (state.destroyed) {","            return null;","        }","","        // Serialize properties explicitly marked as serializable.","        for (i = 0, len = this._serializable.length; i < len; i++) {","            key = this._serializable[i];","","            if (key in this) {","                obj[key] = this[key];","            }","        }","","        // Serialize child nodes.","        if (this.canHaveChildren) {","            obj.children = [];","","            for (i = 0, len = this.children.length; i < len; i++) {","                obj.children.push(this.children[i].toJSON());","            }","        }","","        return obj;","    },","","    /**","    Performs a depth-first traversal of this node, passing it and each of its","    descendants to the specified _callback_.","","    If the callback function returns `Tree.STOP_TRAVERSAL`, traversal will be","    stopped immediately. Otherwise, it will continue until the deepest","    descendant of _node_ has been traversed, or until each branch has been","    traversed to the optional maximum depth limit.","","    Since traversal is depth-first, that means nodes are traversed like this:","","                1","              / | \\","             2  8  9","            / \\     \\","           3   7    10","         / | \\      / \\","        4  5  6    11 12","","    @method traverse","    @param {Object} [options] Options.","        @param {Number} [options.depth] Depth limit. If specified, descendants","            will only be traversed to this depth before backtracking and moving","            on.","    @param {Function} callback Callback function to call with the traversed","        node and each of its descendants.","","        @param {Tree.Node} callback.node Node being traversed.","","    @param {Object} [thisObj] `this` object to use when executing _callback_.","    @return {Mixed} Returns `Tree.STOP_TRAVERSAL` if traversal was stopped;","        otherwise returns `undefined`.","    **/","    traverse: function (options, callback, thisObj) {","        return this.tree.traverseNode(this, options, callback, thisObj);","    },","","    // -- Protected Methods ----------------------------------------------------","    _reindex: function () {","        var children = this.children,","            indexMap = {},","            i, len;","","        for (i = 0, len = children.length; i < len; i++) {","            indexMap[children[i].id] = i;","        }","","        this._indexMap     = indexMap;","        this._isIndexStale = false;","    }","};","","Y.namespace('Tree').Node = TreeNode;","","","}, '3.13.0');","","}());"]};
}
var __cov_siF1pVVJ9wJWmbvFnyg_eg = __coverage__['build/tree-node/tree-node.js'];
__cov_siF1pVVJ9wJWmbvFnyg_eg.s['1']++;YUI.add('tree-node',function(Y,NAME){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['1']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['2']++;function TreeNode(tree,config){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['2']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['3']++;(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['1'][0]++,config)||(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['1'][1]++,config={});__cov_siF1pVVJ9wJWmbvFnyg_eg.s['4']++;this.id=this._yuid=(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['2'][0]++,config.id)||(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['2'][1]++,this.id)||(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['2'][2]++,Y.guid('treeNode-'));__cov_siF1pVVJ9wJWmbvFnyg_eg.s['5']++;this.tree=tree;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['6']++;this.children=(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['3'][0]++,config.children)||(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['3'][1]++,[]);__cov_siF1pVVJ9wJWmbvFnyg_eg.s['7']++;this.data=(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['4'][0]++,config.data)||(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['4'][1]++,{});__cov_siF1pVVJ9wJWmbvFnyg_eg.s['8']++;this.state=(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['5'][0]++,config.state)||(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['5'][1]++,{});__cov_siF1pVVJ9wJWmbvFnyg_eg.s['9']++;if(config.canHaveChildren){__cov_siF1pVVJ9wJWmbvFnyg_eg.b['6'][0]++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['10']++;this.canHaveChildren=config.canHaveChildren;}else{__cov_siF1pVVJ9wJWmbvFnyg_eg.b['6'][1]++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['11']++;if(this.children.length){__cov_siF1pVVJ9wJWmbvFnyg_eg.b['7'][0]++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['12']++;this.canHaveChildren=true;}else{__cov_siF1pVVJ9wJWmbvFnyg_eg.b['7'][1]++;}}__cov_siF1pVVJ9wJWmbvFnyg_eg.s['13']++;Y.mix(this,config);__cov_siF1pVVJ9wJWmbvFnyg_eg.s['14']++;for(var i=0,len=this.children.length;i<len;i++){__cov_siF1pVVJ9wJWmbvFnyg_eg.s['15']++;this.children[i].parent=this;}}__cov_siF1pVVJ9wJWmbvFnyg_eg.s['16']++;TreeNode.prototype={_isIndexStale:true,_isYUITreeNode:true,_serializable:['canHaveChildren','data','id','state'],append:function(node,options){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['3']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['17']++;return this.tree.appendNode(this,node,options);},depth:function(){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['4']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['18']++;if(this.isRoot()){__cov_siF1pVVJ9wJWmbvFnyg_eg.b['8'][0]++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['19']++;return 0;}else{__cov_siF1pVVJ9wJWmbvFnyg_eg.b['8'][1]++;}__cov_siF1pVVJ9wJWmbvFnyg_eg.s['20']++;var depth=0,parent=this.parent;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['21']++;while(parent){__cov_siF1pVVJ9wJWmbvFnyg_eg.s['22']++;depth+=1;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['23']++;parent=parent.parent;}__cov_siF1pVVJ9wJWmbvFnyg_eg.s['24']++;return depth;},empty:function(options){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['5']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['25']++;return this.tree.emptyNode(this,options);},find:function(options,callback,thisObj){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['6']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['26']++;return this.tree.findNode(this,options,callback,thisObj);},hasChildren:function(){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['7']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['27']++;return!!this.children.length;},index:function(){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['8']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['28']++;return this.parent?(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['9'][0]++,this.parent.indexOf(this)):(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['9'][1]++,-1);},indexOf:function(node){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['9']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['29']++;var index;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['30']++;if(this._isIndexStale){__cov_siF1pVVJ9wJWmbvFnyg_eg.b['10'][0]++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['31']++;this._reindex();}else{__cov_siF1pVVJ9wJWmbvFnyg_eg.b['10'][1]++;}__cov_siF1pVVJ9wJWmbvFnyg_eg.s['32']++;index=this._indexMap[node.id];__cov_siF1pVVJ9wJWmbvFnyg_eg.s['33']++;return typeof index==='undefined'?(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['11'][0]++,-1):(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['11'][1]++,index);},insert:function(node,options){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['10']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['34']++;return this.tree.insertNode(this,node,options);},isInTree:function(){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['11']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['35']++;if((__cov_siF1pVVJ9wJWmbvFnyg_eg.b['13'][0]++,this.tree)&&(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['13'][1]++,this.tree.rootNode===this)){__cov_siF1pVVJ9wJWmbvFnyg_eg.b['12'][0]++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['36']++;return true;}else{__cov_siF1pVVJ9wJWmbvFnyg_eg.b['12'][1]++;}__cov_siF1pVVJ9wJWmbvFnyg_eg.s['37']++;return!!((__cov_siF1pVVJ9wJWmbvFnyg_eg.b['14'][0]++,this.parent)&&(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['14'][1]++,this.parent.isInTree()));},isRoot:function(){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['12']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['38']++;return!!((__cov_siF1pVVJ9wJWmbvFnyg_eg.b['15'][0]++,this.tree)&&(__cov_siF1pVVJ9wJWmbvFnyg_eg.b['15'][1]++,this.tree.rootNode===this));},next:function(){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['13']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['39']++;if(this.parent){__cov_siF1pVVJ9wJWmbvFnyg_eg.b['16'][0]++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['40']++;return this.parent.children[this.index()+1];}else{__cov_siF1pVVJ9wJWmbvFnyg_eg.b['16'][1]++;}},prepend:function(node,options){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['14']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['41']++;return this.tree.prependNode(this,node,options);},previous:function(){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['15']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['42']++;if(this.parent){__cov_siF1pVVJ9wJWmbvFnyg_eg.b['17'][0]++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['43']++;return this.parent.children[this.index()-1];}else{__cov_siF1pVVJ9wJWmbvFnyg_eg.b['17'][1]++;}},remove:function(options){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['16']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['44']++;return this.tree.removeNode(this,options);},size:function(){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['17']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['45']++;var children=this.children,len=children.length,total=len;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['46']++;for(var i=0;i<len;i++){__cov_siF1pVVJ9wJWmbvFnyg_eg.s['47']++;total+=children[i].size();}__cov_siF1pVVJ9wJWmbvFnyg_eg.s['48']++;return total;},toJSON:function(){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['18']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['49']++;var obj={},state=this.state,i,key,len;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['50']++;if(state.destroyed){__cov_siF1pVVJ9wJWmbvFnyg_eg.b['18'][0]++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['51']++;return null;}else{__cov_siF1pVVJ9wJWmbvFnyg_eg.b['18'][1]++;}__cov_siF1pVVJ9wJWmbvFnyg_eg.s['52']++;for(i=0,len=this._serializable.length;i<len;i++){__cov_siF1pVVJ9wJWmbvFnyg_eg.s['53']++;key=this._serializable[i];__cov_siF1pVVJ9wJWmbvFnyg_eg.s['54']++;if(key in this){__cov_siF1pVVJ9wJWmbvFnyg_eg.b['19'][0]++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['55']++;obj[key]=this[key];}else{__cov_siF1pVVJ9wJWmbvFnyg_eg.b['19'][1]++;}}__cov_siF1pVVJ9wJWmbvFnyg_eg.s['56']++;if(this.canHaveChildren){__cov_siF1pVVJ9wJWmbvFnyg_eg.b['20'][0]++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['57']++;obj.children=[];__cov_siF1pVVJ9wJWmbvFnyg_eg.s['58']++;for(i=0,len=this.children.length;i<len;i++){__cov_siF1pVVJ9wJWmbvFnyg_eg.s['59']++;obj.children.push(this.children[i].toJSON());}}else{__cov_siF1pVVJ9wJWmbvFnyg_eg.b['20'][1]++;}__cov_siF1pVVJ9wJWmbvFnyg_eg.s['60']++;return obj;},traverse:function(options,callback,thisObj){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['19']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['61']++;return this.tree.traverseNode(this,options,callback,thisObj);},_reindex:function(){__cov_siF1pVVJ9wJWmbvFnyg_eg.f['20']++;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['62']++;var children=this.children,indexMap={},i,len;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['63']++;for(i=0,len=children.length;i<len;i++){__cov_siF1pVVJ9wJWmbvFnyg_eg.s['64']++;indexMap[children[i].id]=i;}__cov_siF1pVVJ9wJWmbvFnyg_eg.s['65']++;this._indexMap=indexMap;__cov_siF1pVVJ9wJWmbvFnyg_eg.s['66']++;this._isIndexStale=false;}};__cov_siF1pVVJ9wJWmbvFnyg_eg.s['67']++;Y.namespace('Tree').Node=TreeNode;},'3.13.0');
