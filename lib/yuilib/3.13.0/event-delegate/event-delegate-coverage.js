/*
YUI 3.13.0 (build 508226d)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/event-delegate/event-delegate.js']) {
   __coverage__['build/event-delegate/event-delegate.js'] = {"path":"build/event-delegate/event-delegate.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":26},"end":{"line":1,"column":45}}},"2":{"name":"delegate","line":54,"loc":{"start":{"line":54,"column":0},"end":{"line":54,"column":40}}},"3":{"name":"(anonymous_3)","line":107,"loc":{"start":{"line":107,"column":39},"end":{"line":107,"column":51}}},"4":{"name":"(anonymous_4)","line":147,"loc":{"start":{"line":147,"column":21},"end":{"line":147,"column":50}}},"5":{"name":"(anonymous_5)","line":203,"loc":{"start":{"line":203,"column":34},"end":{"line":203,"column":54}}},"6":{"name":"(anonymous_6)","line":204,"loc":{"start":{"line":204,"column":11},"end":{"line":204,"column":32}}},"7":{"name":"(anonymous_7)","line":243,"loc":{"start":{"line":243,"column":24},"end":{"line":243,"column":52}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":347,"column":42}},"2":{"start":{"line":10,"column":0},"end":{"line":16,"column":41}},"3":{"start":{"line":54,"column":0},"end":{"line":128,"column":1}},"4":{"start":{"line":55,"column":4},"end":{"line":57,"column":77}},"5":{"start":{"line":61,"column":4},"end":{"line":84,"column":5}},"6":{"start":{"line":62,"column":8},"end":{"line":62,"column":21}},"7":{"start":{"line":64,"column":8},"end":{"line":81,"column":9}},"8":{"start":{"line":65,"column":12},"end":{"line":68,"column":13}},"9":{"start":{"line":66,"column":16},"end":{"line":66,"column":34}},"10":{"start":{"line":67,"column":16},"end":{"line":67,"column":56}},"11":{"start":{"line":72,"column":12},"end":{"line":72,"column":31}},"12":{"start":{"line":74,"column":12},"end":{"line":80,"column":13}},"13":{"start":{"line":75,"column":16},"end":{"line":79,"column":17}},"14":{"start":{"line":76,"column":20},"end":{"line":76,"column":32}},"15":{"start":{"line":77,"column":20},"end":{"line":77,"column":38}},"16":{"start":{"line":78,"column":20},"end":{"line":78,"column":60}},"17":{"start":{"line":83,"column":8},"end":{"line":83,"column":42}},"18":{"start":{"line":86,"column":4},"end":{"line":86,"column":32}},"19":{"start":{"line":88,"column":4},"end":{"line":91,"column":5}},"20":{"start":{"line":89,"column":8},"end":{"line":89,"column":32}},"21":{"start":{"line":90,"column":8},"end":{"line":90,"column":42}},"22":{"start":{"line":93,"column":4},"end":{"line":93,"column":36}},"23":{"start":{"line":95,"column":4},"end":{"line":97,"column":5}},"24":{"start":{"line":96,"column":8},"end":{"line":96,"column":56}},"25":{"start":{"line":99,"column":4},"end":{"line":119,"column":5}},"26":{"start":{"line":100,"column":8},"end":{"line":102,"column":9}},"27":{"start":{"line":101,"column":12},"end":{"line":101,"column":19}},"28":{"start":{"line":104,"column":8},"end":{"line":104,"column":71}},"29":{"start":{"line":106,"column":8},"end":{"line":110,"column":9}},"30":{"start":{"line":107,"column":12},"end":{"line":109,"column":19}},"31":{"start":{"line":108,"column":16},"end":{"line":108,"column":63}},"32":{"start":{"line":112,"column":8},"end":{"line":118,"column":9}},"33":{"start":{"line":113,"column":12},"end":{"line":113,"column":41}},"34":{"start":{"line":115,"column":12},"end":{"line":115,"column":62}},"35":{"start":{"line":116,"column":12},"end":{"line":116,"column":40}},"36":{"start":{"line":117,"column":12},"end":{"line":117,"column":52}},"37":{"start":{"line":121,"column":4},"end":{"line":125,"column":5}},"38":{"start":{"line":122,"column":8},"end":{"line":122,"column":76}},"39":{"start":{"line":123,"column":8},"end":{"line":123,"column":65}},"40":{"start":{"line":124,"column":8},"end":{"line":124,"column":32}},"41":{"start":{"line":127,"column":4},"end":{"line":127,"column":18}},"42":{"start":{"line":147,"column":0},"end":{"line":182,"column":2}},"43":{"start":{"line":149,"column":4},"end":{"line":149,"column":24}},"44":{"start":{"line":150,"column":4},"end":{"line":152,"column":5}},"45":{"start":{"line":151,"column":8},"end":{"line":151,"column":41}},"46":{"start":{"line":155,"column":4},"end":{"line":157,"column":23}},"47":{"start":{"line":159,"column":4},"end":{"line":181,"column":5}},"48":{"start":{"line":161,"column":8},"end":{"line":161,"column":47}},"49":{"start":{"line":166,"column":8},"end":{"line":166,"column":63}},"50":{"start":{"line":168,"column":8},"end":{"line":168,"column":35}},"51":{"start":{"line":170,"column":8},"end":{"line":178,"column":9}},"52":{"start":{"line":171,"column":12},"end":{"line":171,"column":54}},"53":{"start":{"line":173,"column":12},"end":{"line":173,"column":71}},"54":{"start":{"line":175,"column":12},"end":{"line":177,"column":13}},"55":{"start":{"line":176,"column":16},"end":{"line":176,"column":22}},"56":{"start":{"line":180,"column":8},"end":{"line":180,"column":19}},"57":{"start":{"line":203,"column":0},"end":{"line":208,"column":3}},"58":{"start":{"line":204,"column":4},"end":{"line":207,"column":6}},"59":{"start":{"line":205,"column":8},"end":{"line":206,"column":75}},"60":{"start":{"line":225,"column":0},"end":{"line":225,"column":61}},"61":{"start":{"line":243,"column":0},"end":{"line":310,"column":2}},"62":{"start":{"line":244,"column":4},"end":{"line":248,"column":28}},"63":{"start":{"line":251,"column":4},"end":{"line":253,"column":5}},"64":{"start":{"line":252,"column":8},"end":{"line":252,"column":35}},"65":{"start":{"line":259,"column":4},"end":{"line":261,"column":5}},"66":{"start":{"line":260,"column":8},"end":{"line":260,"column":21}},"67":{"start":{"line":266,"column":4},"end":{"line":266,"column":25}},"68":{"start":{"line":268,"column":4},"end":{"line":300,"column":5}},"69":{"start":{"line":269,"column":8},"end":{"line":280,"column":9}},"70":{"start":{"line":270,"column":12},"end":{"line":270,"column":49}},"71":{"start":{"line":271,"column":12},"end":{"line":273,"column":13}},"72":{"start":{"line":272,"column":16},"end":{"line":272,"column":35}},"73":{"start":{"line":275,"column":12},"end":{"line":277,"column":13}},"74":{"start":{"line":276,"column":16},"end":{"line":276,"column":22}},"75":{"start":{"line":279,"column":12},"end":{"line":279,"column":39}},"76":{"start":{"line":283,"column":8},"end":{"line":283,"column":32}},"77":{"start":{"line":284,"column":8},"end":{"line":284,"column":57}},"78":{"start":{"line":286,"column":8},"end":{"line":298,"column":9}},"79":{"start":{"line":288,"column":12},"end":{"line":290,"column":13}},"80":{"start":{"line":289,"column":16},"end":{"line":289,"column":35}},"81":{"start":{"line":292,"column":12},"end":{"line":294,"column":13}},"82":{"start":{"line":293,"column":16},"end":{"line":293,"column":22}},"83":{"start":{"line":296,"column":12},"end":{"line":296,"column":39}},"84":{"start":{"line":297,"column":12},"end":{"line":297,"column":36}},"85":{"start":{"line":299,"column":8},"end":{"line":299,"column":20}},"86":{"start":{"line":302,"column":4},"end":{"line":304,"column":5}},"87":{"start":{"line":303,"column":8},"end":{"line":303,"column":25}},"88":{"start":{"line":307,"column":4},"end":{"line":307,"column":17}},"89":{"start":{"line":309,"column":4},"end":{"line":309,"column":17}},"90":{"start":{"line":344,"column":0},"end":{"line":344,"column":41}}},"branchMap":{"1":{"line":56,"type":"cond-expr","locations":[{"start":{"line":56,"column":34},"end":{"line":56,"column":36}},{"start":{"line":56,"column":39},"end":{"line":56,"column":43}}]},"2":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":4},"end":{"line":61,"column":4}},{"start":{"line":61,"column":4},"end":{"line":61,"column":4}}]},"3":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":64,"column":8}},{"start":{"line":64,"column":8},"end":{"line":64,"column":8}}]},"4":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":16},"end":{"line":75,"column":16}},{"start":{"line":75,"column":16},"end":{"line":75,"column":16}}]},"5":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":4}},{"start":{"line":88,"column":4},"end":{"line":88,"column":4}}]},"6":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":95,"column":4}},{"start":{"line":95,"column":4},"end":{"line":95,"column":4}}]},"7":{"line":95,"type":"binary-expr","locations":[{"start":{"line":95,"column":8},"end":{"line":95,"column":23}},{"start":{"line":95,"column":27},"end":{"line":95,"column":41}}]},"8":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":99,"column":4}},{"start":{"line":99,"column":4},"end":{"line":99,"column":4}}]},"9":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":8},"end":{"line":100,"column":8}},{"start":{"line":100,"column":8},"end":{"line":100,"column":8}}]},"10":{"line":100,"type":"binary-expr","locations":[{"start":{"line":100,"column":12},"end":{"line":100,"column":17}},{"start":{"line":100,"column":21},"end":{"line":100,"column":24}},{"start":{"line":100,"column":28},"end":{"line":100,"column":31}},{"start":{"line":100,"column":35},"end":{"line":100,"column":42}}]},"11":{"line":104,"type":"cond-expr","locations":[{"start":{"line":104,"column":30},"end":{"line":104,"column":65}},{"start":{"line":104,"column":68},"end":{"line":104,"column":70}}]},"12":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":8},"end":{"line":106,"column":8}},{"start":{"line":106,"column":8},"end":{"line":106,"column":8}}]},"13":{"line":106,"type":"binary-expr","locations":[{"start":{"line":106,"column":12},"end":{"line":106,"column":22}},{"start":{"line":106,"column":26},"end":{"line":106,"column":38}}]},"14":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":8},"end":{"line":112,"column":8}},{"start":{"line":112,"column":8},"end":{"line":112,"column":8}}]},"15":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":12},"end":{"line":112,"column":19}},{"start":{"line":112,"column":23},"end":{"line":112,"column":32}}]},"16":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":4},"end":{"line":121,"column":4}},{"start":{"line":121,"column":4},"end":{"line":121,"column":4}}]},"17":{"line":121,"type":"binary-expr","locations":[{"start":{"line":121,"column":8},"end":{"line":121,"column":14}},{"start":{"line":121,"column":18},"end":{"line":121,"column":21}}]},"18":{"line":122,"type":"binary-expr","locations":[{"start":{"line":122,"column":21},"end":{"line":122,"column":42}},{"start":{"line":122,"column":48},"end":{"line":122,"column":74}}]},"19":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":21},"end":{"line":123,"column":37}},{"start":{"line":123,"column":42},"end":{"line":123,"column":63}}]},"20":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":4},"end":{"line":150,"column":4}},{"start":{"line":150,"column":4},"end":{"line":150,"column":4}}]},"21":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":4},"end":{"line":159,"column":4}},{"start":{"line":159,"column":4},"end":{"line":159,"column":4}}]},"22":{"line":170,"type":"binary-expr","locations":[{"start":{"line":170,"column":48},"end":{"line":170,"column":55}},{"start":{"line":170,"column":59},"end":{"line":170,"column":69}}]},"23":{"line":173,"type":"binary-expr","locations":[{"start":{"line":173,"column":32},"end":{"line":173,"column":44}},{"start":{"line":173,"column":48},"end":{"line":173,"column":63}}]},"24":{"line":175,"type":"if","locations":[{"start":{"line":175,"column":12},"end":{"line":175,"column":12}},{"start":{"line":175,"column":12},"end":{"line":175,"column":12}}]},"25":{"line":206,"type":"cond-expr","locations":[{"start":{"line":206,"column":45},"end":{"line":206,"column":49}},{"start":{"line":206,"column":52},"end":{"line":206,"column":73}}]},"26":{"line":246,"type":"binary-expr","locations":[{"start":{"line":246,"column":20},"end":{"line":246,"column":28}},{"start":{"line":246,"column":32},"end":{"line":246,"column":44}}]},"27":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":4},"end":{"line":251,"column":4}},{"start":{"line":251,"column":4},"end":{"line":251,"column":4}}]},"28":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":4},"end":{"line":259,"column":4}},{"start":{"line":259,"column":4},"end":{"line":259,"column":4}}]},"29":{"line":259,"type":"binary-expr","locations":[{"start":{"line":259,"column":8},"end":{"line":259,"column":23}},{"start":{"line":259,"column":27},"end":{"line":259,"column":69}}]},"30":{"line":268,"type":"if","locations":[{"start":{"line":268,"column":4},"end":{"line":268,"column":4}},{"start":{"line":268,"column":4},"end":{"line":268,"column":4}}]},"31":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":12},"end":{"line":271,"column":12}},{"start":{"line":271,"column":12},"end":{"line":271,"column":12}}]},"32":{"line":271,"type":"cond-expr","locations":[{"start":{"line":271,"column":60},"end":{"line":271,"column":64}},{"start":{"line":271,"column":66},"end":{"line":271,"column":75}}]},"33":{"line":275,"type":"if","locations":[{"start":{"line":275,"column":12},"end":{"line":275,"column":12}},{"start":{"line":275,"column":12},"end":{"line":275,"column":12}}]},"34":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":12}},{"start":{"line":288,"column":12},"end":{"line":288,"column":12}}]},"35":{"line":292,"type":"if","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":12}},{"start":{"line":292,"column":12},"end":{"line":292,"column":12}}]},"36":{"line":302,"type":"if","locations":[{"start":{"line":302,"column":4},"end":{"line":302,"column":4}},{"start":{"line":302,"column":4},"end":{"line":302,"column":4}}]}},"code":["(function () { YUI.add('event-delegate', function (Y, NAME) {","","/**"," * Adds event delegation support to the library."," *"," * @module event"," * @submodule event-delegate"," */","","var toArray          = Y.Array,","    YLang            = Y.Lang,","    isString         = YLang.isString,","    isObject         = YLang.isObject,","    isArray          = YLang.isArray,","    selectorTest     = Y.Selector.test,","    detachCategories = Y.Env.evt.handles;","","/**"," * <p>Sets up event delegation on a container element.  The delegated event"," * will use a supplied selector or filtering function to test if the event"," * references at least one node that should trigger the subscription"," * callback.</p>"," *"," * <p>Selector string filters will trigger the callback if the event originated"," * from a node that matches it or is contained in a node that matches it."," * Function filters are called for each Node up the parent axis to the"," * subscribing container node, and receive at each level the Node and the event"," * object.  The function should return true (or a truthy value) if that Node"," * should trigger the subscription callback.  Note, it is possible for filters"," * to match multiple Nodes for a single event.  In this case, the delegate"," * callback will be executed for each matching Node.</p>"," *"," * <p>For each matching Node, the callback will be executed with its 'this'"," * object set to the Node matched by the filter (unless a specific context was"," * provided during subscription), and the provided event's"," * <code>currentTarget</code> will also be set to the matching Node.  The"," * containing Node from which the subscription was originally made can be"," * referenced as <code>e.container</code>."," *"," * @method delegate"," * @param type {String} the event type to delegate"," * @param fn {Function} the callback function to execute.  This function"," *              will be provided the event object for the delegated event."," * @param el {String|node} the element that is the delegation container"," * @param filter {string|Function} a selector that must match the target of the"," *              event or a function to test target and its parents for a match"," * @param context optional argument that specifies what 'this' refers to."," * @param args* 0..n additional arguments to pass on to the callback function."," *              These arguments will be added after the event object."," * @return {EventHandle} the detach handle"," * @static"," * @for Event"," */","function delegate(type, fn, el, filter) {","    var args     = toArray(arguments, 0, true),","        query    = isString(el) ? el : null,","        typeBits, synth, container, categories, cat, i, len, handles, handle;","","    // Support Y.delegate({ click: fnA, key: fnB }, el, filter, ...);","    // and Y.delegate(['click', 'key'], fn, el, filter, ...);","    if (isObject(type)) {","        handles = [];","","        if (isArray(type)) {","            for (i = 0, len = type.length; i < len; ++i) {","                args[0] = type[i];","                handles.push(Y.delegate.apply(Y, args));","            }","        } else {","            // Y.delegate({'click', fn}, el, filter) =>","            // Y.delegate('click', fn, el, filter)","            args.unshift(null); // one arg becomes two; need to make space","","            for (i in type) {","                if (type.hasOwnProperty(i)) {","                    args[0] = i;","                    args[1] = type[i];","                    handles.push(Y.delegate.apply(Y, args));","                }","            }","        }","","        return new Y.EventHandle(handles);","    }","","    typeBits = type.split(/\\|/);","","    if (typeBits.length > 1) {","        cat  = typeBits.shift();","        args[0] = type = typeBits.shift();","    }","","    synth = Y.Node.DOM_EVENTS[type];","","    if (isObject(synth) && synth.delegate) {","        handle = synth.delegate.apply(synth, arguments);","    }","","    if (!handle) {","        if (!type || !fn || !el || !filter) {","            return;","        }","","        container = (query) ? Y.Selector.query(query, null, true) : el;","","        if (!container && isString(el)) {","            handle = Y.on('available', function () {","                Y.mix(handle, Y.delegate.apply(Y, args), true);","            }, el);","        }","","        if (!handle && container) {","            args.splice(2, 2, container); // remove the filter","","            handle = Y.Event._attach(args, { facade: false });","            handle.sub.filter  = filter;","            handle.sub._notify = delegate.notifySub;","        }","    }","","    if (handle && cat) {","        categories = detachCategories[cat]  || (detachCategories[cat] = {});","        categories = categories[type] || (categories[type] = []);","        categories.push(handle);","    }","","    return handle;","}","","/**","Overrides the <code>_notify</code> method on the normal DOM subscription to","inject the filtering logic and only proceed in the case of a match.","","This method is hosted as a private property of the `delegate` method","(e.g. `Y.delegate.notifySub`)","","@method notifySub","@param thisObj {Object} default 'this' object for the callback","@param args {Array} arguments passed to the event's <code>fire()</code>","@param ce {CustomEvent} the custom event managing the DOM subscriptions for","             the subscribed event on the subscribing node.","@return {Boolean} false if the event was stopped","@private","@static","@since 3.2.0","**/","delegate.notifySub = function (thisObj, args, ce) {","    // Preserve args for other subscribers","    args = args.slice();","    if (this.args) {","        args.push.apply(args, this.args);","    }","","    // Only notify subs if the event occurred on a targeted element","    var currentTarget = delegate._applyFilter(this.filter, args, ce),","        //container     = e.currentTarget,","        e, i, len, ret;","","    if (currentTarget) {","        // Support multiple matches up the the container subtree","        currentTarget = toArray(currentTarget);","","        // The second arg is the currentTarget, but we'll be reusing this","        // facade, replacing the currentTarget for each use, so it doesn't","        // matter what element we seed it with.","        e = args[0] = new Y.DOMEventFacade(args[0], ce.el, ce);","","        e.container = Y.one(ce.el);","","        for (i = 0, len = currentTarget.length; i < len && !e.stopped; ++i) {","            e.currentTarget = Y.one(currentTarget[i]);","","            ret = this.fn.apply(this.context || e.currentTarget, args);","","            if (ret === false) { // stop further notifications","                break;","            }","        }","","        return ret;","    }","};","","/**","Compiles a selector string into a filter function to identify whether","Nodes along the parent axis of an event's target should trigger event","notification.","","This function is memoized, so previously compiled filter functions are","returned if the same selector string is provided.","","This function may be useful when defining synthetic events for delegate","handling.","","Hosted as a property of the `delegate` method (e.g. `Y.delegate.compileFilter`).","","@method compileFilter","@param selector {String} the selector string to base the filtration on","@return {Function}","@since 3.2.0","@static","**/","delegate.compileFilter = Y.cached(function (selector) {","    return function (target, e) {","        return selectorTest(target._node, selector,","            (e.currentTarget === e.target) ? null : e.currentTarget._node);","    };","});","","/**","Regex to test for disabled elements during filtering. This is only relevant to","IE to normalize behavior with other browsers, which swallow events that occur","to disabled elements. IE fires the event from the parent element instead of the","original target, though it does preserve `event.srcElement` as the disabled","element. IE also supports disabled on `<a>`, but the event still bubbles, so it","acts more like `e.preventDefault()` plus styling. That issue is not handled here","because other browsers fire the event on the `<a>`, so delegate is supported in","both cases.","","@property _disabledRE","@type {RegExp}","@protected","@since 3.8.1","**/","delegate._disabledRE = /^(?:button|input|select|textarea)$/i;","","/**","Walks up the parent axis of an event's target, and tests each element","against a supplied filter function.  If any Nodes, including the container,","satisfy the filter, the delegated callback will be triggered for each.","","Hosted as a protected property of the `delegate` method (e.g.","`Y.delegate._applyFilter`).","","@method _applyFilter","@param filter {Function} boolean function to test for inclusion in event","                 notification","@param args {Array} the arguments that would be passed to subscribers","@param ce   {CustomEvent} the DOM event wrapper","@return {Node|Node[]|undefined} The Node or Nodes that satisfy the filter","@protected","**/","delegate._applyFilter = function (filter, args, ce) {","    var e         = args[0],","        container = ce.el, // facadeless events in IE, have no e.currentTarget","        target    = e.target || e.srcElement,","        match     = [],","        isContainer = false;","","    // Resolve text nodes to their containing element","    if (target.nodeType === 3) {","        target = target.parentNode;","    }","","    // For IE. IE propagates events from the parent element of disabled","    // elements, where other browsers swallow the event entirely. To normalize","    // this in IE, filtering for matching elements should abort if the target","    // is a disabled form control.","    if (target.disabled && delegate._disabledRE.test(target.nodeName)) {","        return match;","    }","","    // passing target as the first arg rather than leaving well enough alone","    // making 'this' in the filter function refer to the target.  This is to","    // support bound filter functions.","    args.unshift(target);","","    if (isString(filter)) {","        while (target) {","            isContainer = (target === container);","            if (selectorTest(target, filter, (isContainer ? null: container))) {","                match.push(target);","            }","","            if (isContainer) {","                break;","            }","","            target = target.parentNode;","        }","    } else {","        // filter functions are implementer code and should receive wrappers","        args[0] = Y.one(target);","        args[1] = new Y.DOMEventFacade(e, container, ce);","","        while (target) {","            // filter(target, e, extra args...) - this === target","            if (filter.apply(args[0], args)) {","                match.push(target);","            }","","            if (target === container) {","                break;","            }","","            target = target.parentNode;","            args[0] = Y.one(target);","        }","        args[1] = e; // restore the raw DOM event","    }","","    if (match.length <= 1) {","        match = match[0]; // single match or undefined","    }","","    // remove the target","    args.shift();","","    return match;","};","","/**"," * Sets up event delegation on a container element.  The delegated event"," * will use a supplied filter to test if the callback should be executed."," * This filter can be either a selector string or a function that returns"," * a Node to use as the currentTarget for the event."," *"," * The event object for the delegated event is supplied to the callback"," * function.  It is modified slightly in order to support all properties"," * that may be needed for event delegation.  'currentTarget' is set to"," * the element that matched the selector string filter or the Node returned"," * from the filter function.  'container' is set to the element that the"," * listener is delegated from (this normally would be the 'currentTarget')."," *"," * Filter functions will be called with the arguments that would be passed to"," * the callback function, including the event object as the first parameter."," * The function should return false (or a falsey value) if the success criteria"," * aren't met, and the Node to use as the event's currentTarget and 'this'"," * object if they are."," *"," * @method delegate"," * @param type {string} the event type to delegate"," * @param fn {function} the callback function to execute.  This function"," * will be provided the event object for the delegated event."," * @param el {string|node} the element that is the delegation container"," * @param filter {string|function} a selector that must match the target of the"," * event or a function that returns a Node or false."," * @param context optional argument that specifies what 'this' refers to."," * @param args* 0..n additional arguments to pass on to the callback function."," * These arguments will be added after the event object."," * @return {EventHandle} the detach handle"," * @for YUI"," */","Y.delegate = Y.Event.delegate = delegate;","","","}, '3.13.0', {\"requires\": [\"node-base\"]});","","}());"]};
}
var __cov_64UbI5ojmYTbDS_FzpAO5g = __coverage__['build/event-delegate/event-delegate.js'];
__cov_64UbI5ojmYTbDS_FzpAO5g.s['1']++;YUI.add('event-delegate',function(Y,NAME){__cov_64UbI5ojmYTbDS_FzpAO5g.f['1']++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['2']++;var toArray=Y.Array,YLang=Y.Lang,isString=YLang.isString,isObject=YLang.isObject,isArray=YLang.isArray,selectorTest=Y.Selector.test,detachCategories=Y.Env.evt.handles;__cov_64UbI5ojmYTbDS_FzpAO5g.s['3']++;function delegate(type,fn,el,filter){__cov_64UbI5ojmYTbDS_FzpAO5g.f['2']++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['4']++;var args=toArray(arguments,0,true),query=isString(el)?(__cov_64UbI5ojmYTbDS_FzpAO5g.b['1'][0]++,el):(__cov_64UbI5ojmYTbDS_FzpAO5g.b['1'][1]++,null),typeBits,synth,container,categories,cat,i,len,handles,handle;__cov_64UbI5ojmYTbDS_FzpAO5g.s['5']++;if(isObject(type)){__cov_64UbI5ojmYTbDS_FzpAO5g.b['2'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['6']++;handles=[];__cov_64UbI5ojmYTbDS_FzpAO5g.s['7']++;if(isArray(type)){__cov_64UbI5ojmYTbDS_FzpAO5g.b['3'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['8']++;for(i=0,len=type.length;i<len;++i){__cov_64UbI5ojmYTbDS_FzpAO5g.s['9']++;args[0]=type[i];__cov_64UbI5ojmYTbDS_FzpAO5g.s['10']++;handles.push(Y.delegate.apply(Y,args));}}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['3'][1]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['11']++;args.unshift(null);__cov_64UbI5ojmYTbDS_FzpAO5g.s['12']++;for(i in type){__cov_64UbI5ojmYTbDS_FzpAO5g.s['13']++;if(type.hasOwnProperty(i)){__cov_64UbI5ojmYTbDS_FzpAO5g.b['4'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['14']++;args[0]=i;__cov_64UbI5ojmYTbDS_FzpAO5g.s['15']++;args[1]=type[i];__cov_64UbI5ojmYTbDS_FzpAO5g.s['16']++;handles.push(Y.delegate.apply(Y,args));}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['4'][1]++;}}}__cov_64UbI5ojmYTbDS_FzpAO5g.s['17']++;return new Y.EventHandle(handles);}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['2'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['18']++;typeBits=type.split(/\|/);__cov_64UbI5ojmYTbDS_FzpAO5g.s['19']++;if(typeBits.length>1){__cov_64UbI5ojmYTbDS_FzpAO5g.b['5'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['20']++;cat=typeBits.shift();__cov_64UbI5ojmYTbDS_FzpAO5g.s['21']++;args[0]=type=typeBits.shift();}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['5'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['22']++;synth=Y.Node.DOM_EVENTS[type];__cov_64UbI5ojmYTbDS_FzpAO5g.s['23']++;if((__cov_64UbI5ojmYTbDS_FzpAO5g.b['7'][0]++,isObject(synth))&&(__cov_64UbI5ojmYTbDS_FzpAO5g.b['7'][1]++,synth.delegate)){__cov_64UbI5ojmYTbDS_FzpAO5g.b['6'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['24']++;handle=synth.delegate.apply(synth,arguments);}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['6'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['25']++;if(!handle){__cov_64UbI5ojmYTbDS_FzpAO5g.b['8'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['26']++;if((__cov_64UbI5ojmYTbDS_FzpAO5g.b['10'][0]++,!type)||(__cov_64UbI5ojmYTbDS_FzpAO5g.b['10'][1]++,!fn)||(__cov_64UbI5ojmYTbDS_FzpAO5g.b['10'][2]++,!el)||(__cov_64UbI5ojmYTbDS_FzpAO5g.b['10'][3]++,!filter)){__cov_64UbI5ojmYTbDS_FzpAO5g.b['9'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['27']++;return;}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['9'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['28']++;container=query?(__cov_64UbI5ojmYTbDS_FzpAO5g.b['11'][0]++,Y.Selector.query(query,null,true)):(__cov_64UbI5ojmYTbDS_FzpAO5g.b['11'][1]++,el);__cov_64UbI5ojmYTbDS_FzpAO5g.s['29']++;if((__cov_64UbI5ojmYTbDS_FzpAO5g.b['13'][0]++,!container)&&(__cov_64UbI5ojmYTbDS_FzpAO5g.b['13'][1]++,isString(el))){__cov_64UbI5ojmYTbDS_FzpAO5g.b['12'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['30']++;handle=Y.on('available',function(){__cov_64UbI5ojmYTbDS_FzpAO5g.f['3']++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['31']++;Y.mix(handle,Y.delegate.apply(Y,args),true);},el);}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['12'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['32']++;if((__cov_64UbI5ojmYTbDS_FzpAO5g.b['15'][0]++,!handle)&&(__cov_64UbI5ojmYTbDS_FzpAO5g.b['15'][1]++,container)){__cov_64UbI5ojmYTbDS_FzpAO5g.b['14'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['33']++;args.splice(2,2,container);__cov_64UbI5ojmYTbDS_FzpAO5g.s['34']++;handle=Y.Event._attach(args,{facade:false});__cov_64UbI5ojmYTbDS_FzpAO5g.s['35']++;handle.sub.filter=filter;__cov_64UbI5ojmYTbDS_FzpAO5g.s['36']++;handle.sub._notify=delegate.notifySub;}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['14'][1]++;}}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['8'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['37']++;if((__cov_64UbI5ojmYTbDS_FzpAO5g.b['17'][0]++,handle)&&(__cov_64UbI5ojmYTbDS_FzpAO5g.b['17'][1]++,cat)){__cov_64UbI5ojmYTbDS_FzpAO5g.b['16'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['38']++;categories=(__cov_64UbI5ojmYTbDS_FzpAO5g.b['18'][0]++,detachCategories[cat])||(__cov_64UbI5ojmYTbDS_FzpAO5g.b['18'][1]++,detachCategories[cat]={});__cov_64UbI5ojmYTbDS_FzpAO5g.s['39']++;categories=(__cov_64UbI5ojmYTbDS_FzpAO5g.b['19'][0]++,categories[type])||(__cov_64UbI5ojmYTbDS_FzpAO5g.b['19'][1]++,categories[type]=[]);__cov_64UbI5ojmYTbDS_FzpAO5g.s['40']++;categories.push(handle);}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['16'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['41']++;return handle;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['42']++;delegate.notifySub=function(thisObj,args,ce){__cov_64UbI5ojmYTbDS_FzpAO5g.f['4']++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['43']++;args=args.slice();__cov_64UbI5ojmYTbDS_FzpAO5g.s['44']++;if(this.args){__cov_64UbI5ojmYTbDS_FzpAO5g.b['20'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['45']++;args.push.apply(args,this.args);}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['20'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['46']++;var currentTarget=delegate._applyFilter(this.filter,args,ce),e,i,len,ret;__cov_64UbI5ojmYTbDS_FzpAO5g.s['47']++;if(currentTarget){__cov_64UbI5ojmYTbDS_FzpAO5g.b['21'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['48']++;currentTarget=toArray(currentTarget);__cov_64UbI5ojmYTbDS_FzpAO5g.s['49']++;e=args[0]=new Y.DOMEventFacade(args[0],ce.el,ce);__cov_64UbI5ojmYTbDS_FzpAO5g.s['50']++;e.container=Y.one(ce.el);__cov_64UbI5ojmYTbDS_FzpAO5g.s['51']++;for(i=0,len=currentTarget.length;(__cov_64UbI5ojmYTbDS_FzpAO5g.b['22'][0]++,i<len)&&(__cov_64UbI5ojmYTbDS_FzpAO5g.b['22'][1]++,!e.stopped);++i){__cov_64UbI5ojmYTbDS_FzpAO5g.s['52']++;e.currentTarget=Y.one(currentTarget[i]);__cov_64UbI5ojmYTbDS_FzpAO5g.s['53']++;ret=this.fn.apply((__cov_64UbI5ojmYTbDS_FzpAO5g.b['23'][0]++,this.context)||(__cov_64UbI5ojmYTbDS_FzpAO5g.b['23'][1]++,e.currentTarget),args);__cov_64UbI5ojmYTbDS_FzpAO5g.s['54']++;if(ret===false){__cov_64UbI5ojmYTbDS_FzpAO5g.b['24'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['55']++;break;}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['24'][1]++;}}__cov_64UbI5ojmYTbDS_FzpAO5g.s['56']++;return ret;}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['21'][1]++;}};__cov_64UbI5ojmYTbDS_FzpAO5g.s['57']++;delegate.compileFilter=Y.cached(function(selector){__cov_64UbI5ojmYTbDS_FzpAO5g.f['5']++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['58']++;return function(target,e){__cov_64UbI5ojmYTbDS_FzpAO5g.f['6']++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['59']++;return selectorTest(target._node,selector,e.currentTarget===e.target?(__cov_64UbI5ojmYTbDS_FzpAO5g.b['25'][0]++,null):(__cov_64UbI5ojmYTbDS_FzpAO5g.b['25'][1]++,e.currentTarget._node));};});__cov_64UbI5ojmYTbDS_FzpAO5g.s['60']++;delegate._disabledRE=/^(?:button|input|select|textarea)$/i;__cov_64UbI5ojmYTbDS_FzpAO5g.s['61']++;delegate._applyFilter=function(filter,args,ce){__cov_64UbI5ojmYTbDS_FzpAO5g.f['7']++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['62']++;var e=args[0],container=ce.el,target=(__cov_64UbI5ojmYTbDS_FzpAO5g.b['26'][0]++,e.target)||(__cov_64UbI5ojmYTbDS_FzpAO5g.b['26'][1]++,e.srcElement),match=[],isContainer=false;__cov_64UbI5ojmYTbDS_FzpAO5g.s['63']++;if(target.nodeType===3){__cov_64UbI5ojmYTbDS_FzpAO5g.b['27'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['64']++;target=target.parentNode;}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['27'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['65']++;if((__cov_64UbI5ojmYTbDS_FzpAO5g.b['29'][0]++,target.disabled)&&(__cov_64UbI5ojmYTbDS_FzpAO5g.b['29'][1]++,delegate._disabledRE.test(target.nodeName))){__cov_64UbI5ojmYTbDS_FzpAO5g.b['28'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['66']++;return match;}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['28'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['67']++;args.unshift(target);__cov_64UbI5ojmYTbDS_FzpAO5g.s['68']++;if(isString(filter)){__cov_64UbI5ojmYTbDS_FzpAO5g.b['30'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['69']++;while(target){__cov_64UbI5ojmYTbDS_FzpAO5g.s['70']++;isContainer=target===container;__cov_64UbI5ojmYTbDS_FzpAO5g.s['71']++;if(selectorTest(target,filter,isContainer?(__cov_64UbI5ojmYTbDS_FzpAO5g.b['32'][0]++,null):(__cov_64UbI5ojmYTbDS_FzpAO5g.b['32'][1]++,container))){__cov_64UbI5ojmYTbDS_FzpAO5g.b['31'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['72']++;match.push(target);}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['31'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['73']++;if(isContainer){__cov_64UbI5ojmYTbDS_FzpAO5g.b['33'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['74']++;break;}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['33'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['75']++;target=target.parentNode;}}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['30'][1]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['76']++;args[0]=Y.one(target);__cov_64UbI5ojmYTbDS_FzpAO5g.s['77']++;args[1]=new Y.DOMEventFacade(e,container,ce);__cov_64UbI5ojmYTbDS_FzpAO5g.s['78']++;while(target){__cov_64UbI5ojmYTbDS_FzpAO5g.s['79']++;if(filter.apply(args[0],args)){__cov_64UbI5ojmYTbDS_FzpAO5g.b['34'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['80']++;match.push(target);}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['34'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['81']++;if(target===container){__cov_64UbI5ojmYTbDS_FzpAO5g.b['35'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['82']++;break;}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['35'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['83']++;target=target.parentNode;__cov_64UbI5ojmYTbDS_FzpAO5g.s['84']++;args[0]=Y.one(target);}__cov_64UbI5ojmYTbDS_FzpAO5g.s['85']++;args[1]=e;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['86']++;if(match.length<=1){__cov_64UbI5ojmYTbDS_FzpAO5g.b['36'][0]++;__cov_64UbI5ojmYTbDS_FzpAO5g.s['87']++;match=match[0];}else{__cov_64UbI5ojmYTbDS_FzpAO5g.b['36'][1]++;}__cov_64UbI5ojmYTbDS_FzpAO5g.s['88']++;args.shift();__cov_64UbI5ojmYTbDS_FzpAO5g.s['89']++;return match;};__cov_64UbI5ojmYTbDS_FzpAO5g.s['90']++;Y.delegate=Y.Event.delegate=delegate;},'3.13.0',{'requires':['node-base']});
