(function(d){var a=/^\s*|\s*$/g,e,c="B".replace(/A(.)|B/,"$1")==="$1";var b={majorVersion:"@@tinymce_major_version@@",minorVersion:"@@tinymce_minor_version@@",releaseDate:"@@tinymce_release_date@@",_init:function(){var u=this,r=document,q=navigator,g=q.userAgent,o,f,m,l,k,s;u.isOpera=d.opera&&opera.buildNumber;u.isWebKit=/WebKit/.test(g);u.isIE=!u.isWebKit&&!u.isOpera&&(/MSIE/gi).test(g)&&(/Explorer/gi).test(q.appName);u.isIE6=u.isIE&&/MSIE [56]/.test(g);u.isGecko=!u.isWebKit&&/Gecko/.test(g);u.isMac=g.indexOf("Mac")!=-1;u.isAir=/adobeair/i.test(g);u.isIDevice=/(iPad|iPhone)/.test(g);if(d.tinyMCEPreInit){u.suffix=tinyMCEPreInit.suffix;u.baseURL=tinyMCEPreInit.base;u.query=tinyMCEPreInit.query;return}u.suffix="";f=r.getElementsByTagName("base");for(o=0;o<f.length;o++){if(s=f[o].href){if(/^https?:\/\/[^\/]+$/.test(s)){s+="/"}l=s?s.match(/.*\//)[0]:""}}function j(i){if(i.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(i.src)){if(/_(src|dev)\.js/g.test(i.src)){u.suffix="_src"}if((k=i.src.indexOf("?"))!=-1){u.query=i.src.substring(k+1)}u.baseURL=i.src.substring(0,i.src.lastIndexOf("/"));if(l&&u.baseURL.indexOf("://")==-1&&u.baseURL.indexOf("/")!==0){u.baseURL=l+u.baseURL}return u.baseURL}return null}f=r.getElementsByTagName("script");for(o=0;o<f.length;o++){if(j(f[o])){return}}m=r.getElementsByTagName("head")[0];if(m){f=m.getElementsByTagName("script");for(o=0;o<f.length;o++){if(j(f[o])){return}}}return},is:function(g,f){if(!f){return g!==e}if(f=="array"&&(g.hasOwnProperty&&g instanceof Array)){return true}return typeof(g)==f},each:function(j,f,i){var k,g;if(!j){return 0}i=i||j;if(j.length!==e){for(k=0,g=j.length;k<g;k++){if(f.call(i,j[k],k,j)===false){return 0}}}else{for(k in j){if(j.hasOwnProperty(k)){if(f.call(i,j[k],k,j)===false){return 0}}}}return 1},map:function(g,i){var j=[];b.each(g,function(f){j.push(i(f))});return j},grep:function(g,i){var j=[];b.each(g,function(f){if(!i||i(f)){j.push(f)}});return j},inArray:function(g,j){var k,f;if(g){for(k=0,f=g.length;k<f;k++){if(g[k]===j){return k}}}return -1},extend:function(m,k){var j,g,f=arguments;for(j=1,g=f.length;j<g;j++){k=f[j];b.each(k,function(i,l){if(i!==e){m[l]=i}})}return m},trim:function(f){return(f?""+f:"").replace(a,"")},create:function(o,f){var n=this,g,j,k,l,i,m=0;o=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(o);k=o[3].match(/(^|\.)(\w+)$/i)[2];j=n.createNS(o[3].replace(/\.\w+$/,""));if(j[k]){return}if(o[2]=="static"){j[k]=f;if(this.onCreate){this.onCreate(o[2],o[3],j[k])}return}if(!f[k]){f[k]=function(){};m=1}j[k]=f[k];n.extend(j[k].prototype,f);if(o[5]){g=n.resolve(o[5]).prototype;l=o[5].match(/\.(\w+)$/i)[1];i=j[k];if(m){j[k]=function(){return g[l].apply(this,arguments)}}else{j[k]=function(){this.parent=g[l];return i.apply(this,arguments)}}j[k].prototype[k]=j[k];n.each(g,function(p,q){j[k].prototype[q]=g[q]});n.each(f,function(p,q){if(g[q]){j[k].prototype[q]=function(){this.parent=g[q];return p.apply(this,arguments)}}else{if(q!=k){j[k].prototype[q]=p}}})}n.each(f["static"],function(p,q){j[k][q]=p});if(this.onCreate){this.onCreate(o[2],o[3],j[k].prototype)}},walk:function(j,i,k,g){g=g||this;if(j){if(k){j=j[k]}b.each(j,function(l,f){if(i.call(g,l,f,k)===false){return false}b.walk(l,i,k,g)})}},createNS:function(k,j){var g,f;j=j||d;k=k.split(".");for(g=0;g<k.length;g++){f=k[g];if(!j[f]){j[f]={}}j=j[f]}return j},resolve:function(k,j){var g,f;j=j||d;k=k.split(".");for(g=0,f=k.length;g<f;g++){j=j[k[g]];if(!j){break}}return j},addUnload:function(k,j){var i=this;k={func:k,scope:j||this};if(!i.unloads){function g(){var f=i.unloads,m,p;if(f){for(p in f){m=f[p];if(m&&m.func){m.func.call(m.scope,1)}}if(d.detachEvent){d.detachEvent("onbeforeunload",l);d.detachEvent("onunload",g)}else{if(d.removeEventListener){d.removeEventListener("unload",g,false)}}i.unloads=m=f=w=g=0;if(d.CollectGarbage){CollectGarbage()}}}function l(){var m=document;if(m.readyState=="interactive"){function f(){m.detachEvent("onstop",f);if(g){g()}m=0}if(m){m.attachEvent("onstop",f)}d.setTimeout(function(){if(m){m.detachEvent("onstop",f)}},0)}}if(d.attachEvent){d.attachEvent("onunload",g);d.attachEvent("onbeforeunload",l)}else{if(d.addEventListener){d.addEventListener("unload",g,false)}}i.unloads=[k]}else{i.unloads.push(k)}return k},removeUnload:function(j){var g=this.unloads,i=null;b.each(g,function(k,f){if(k&&k.func==j){g.splice(f,1);i=j;return false}});return i},explode:function(f,g){return f?b.map(f.split(g||","),b.trim):f},_addVer:function(g){var f;if(!this.query){return g}f=(g.indexOf("?")==-1?"?":"&")+this.query;if(g.indexOf("#")==-1){return g+f}return g.replace("#",f+"#")},_replace:function(i,f,g){if(c){return g.replace(i,function(){var l=f,j=arguments,k;for(k=0;k<j.length-2;k++){if(j[k]===e){l=l.replace(new RegExp("\\$"+k,"g"),"")}else{l=l.replace(new RegExp("\\$"+k,"g"),j[k])}}return l})}return g.replace(i,f)}};b._init();d.tinymce=d.tinyMCE=b})(window);(function(){if(!window.Prototype){return alert("Load prototype first!")}tinymce.extend(tinymce,{trim:function(b){return b?b.strip():""},inArray:function(b,c){return b&&b.indexOf?b.indexOf(c):-1}});var a={"tinymce.util.JSON":{},};tinymce.onCreate=function(b,e,d){tinymce.extend(d,a[e])}})();tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,Dispatcher:function(a){this.scope=a||this;this.listeners=[]},add:function(a,b){this.listeners.push({cb:a,scope:b||this.scope});return a},addToTop:function(a,b){this.listeners.unshift({cb:a,scope:b||this.scope});return a},remove:function(a){var b=this.listeners,c=null;tinymce.each(b,function(e,d){if(a==e.cb){c=a;b.splice(d,1);return false}});return c},dispatch:function(){var f,d=arguments,e,b=this.listeners,g;for(e=0;e<b.length;e++){g=b[e];f=g.cb.apply(g.scope,d);if(f===false){break}}return f}});(function(){var a=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(e,g){var f=this,i,d,c;e=tinymce.trim(e);g=f.settings=g||{};if(/^(mailto|tel|news|javascript|about|data):/i.test(e)||/^\s*#/.test(e)){f.source=e;return}if(e.indexOf("/")===0&&e.indexOf("//")!==0){e=(g.base_uri?g.base_uri.protocol||"http":"http")+"://mce_host"+e}if(!/^\w*:?\/\//.test(e)){e=(g.base_uri.protocol||"http")+"://mce_host"+f.toAbsPath(g.base_uri.path,e)}e=e.replace(/@@/g,"(mce_at)");e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);a(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(b,j){var k=e[j];if(k){k=k.replace(/\(mce_at\)/g,"@@")}f[b]=k});if(c=g.base_uri){if(!f.protocol){f.protocol=c.protocol}if(!f.userInfo){f.userInfo=c.userInfo}if(!f.port&&f.host=="mce_host"){f.port=c.port}if(!f.host||f.host=="mce_host"){f.host=c.host}f.source=""}},setPath:function(c){var b=this;c=/^(.*?)\/?(\w+)?$/.exec(c);b.path=c[0];b.directory=c[1];b.file=c[2];b.source="";b.getURI()},toRelative:function(b){var c=this,d;if(b==="./"){return b}b=new tinymce.util.URI(b,{base_uri:c});if((b.host!="mce_host"&&c.host!=b.host&&b.host)||c.port!=b.port||c.protocol!=b.protocol){return b.getURI()}d=c.toRelPath(c.path,b.path);if(b.query){d+="?"+b.query}if(b.anchor){d+="#"+b.anchor}return d},toAbsolute:function(b,c){var b=new tinymce.util.URI(b,{base_uri:this});return b.getURI(this.host==b.host&&this.protocol==b.protocol?c:0)},toRelPath:function(g,j){var c,f=0,d="",e,b;g=g.substring(0,g.lastIndexOf("/"));g=g.split("/");c=j.split("/");if(g.length>=c.length){for(e=0,b=g.length;e<b;e++){if(e>=c.length||g[e]!=c[e]){f=e+1;break}}}if(g.length<c.length){for(e=0,b=c.length;e<b;e++){if(e>=g.length||g[e]!=c[e]){f=e+1;break}}}if(f==1){return j}for(e=0,b=g.length-(f-1);e<b;e++){d+="../"}for(e=f-1,b=c.length;e<b;e++){if(e!=f-1){d+="/"+c[e]}else{d+=c[e]}}return d},toAbsPath:function(e,f){var c,b=0,j=[],d,g;d=/\/$/.test(f)?"/":"";e=e.split("/");f=f.split("/");a(e,function(i){if(i){j.push(i)}});e=j;for(c=f.length-1,j=[];c>=0;c--){if(f[c].length==0||f[c]=="."){continue}if(f[c]==".."){b++;continue}if(b>0){b--;continue}j.push(f[c])}c=e.length-b;if(c<=0){g=j.reverse().join("/")}else{g=e.slice(0,c).join("/")+"/"+j.reverse().join("/")}if(g.indexOf("/")!==0){g="/"+g}if(d&&g.lastIndexOf("/")!==g.length-1){g+=d}return g},getURI:function(d){var c,b=this;if(!b.source||d){c="";if(!d){if(b.protocol){c+=b.protocol+"://"}if(b.userInfo){c+=b.userInfo+"@"}if(b.host){c+=b.host}if(b.port){c+=":"+b.port}}if(b.path){c+=b.path}if(b.query){c+="?"+b.query}if(b.anchor){c+="#"+b.anchor}b.source=c}return b.source}})})();(function(){var a=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(d){var b=this.get(d),c;if(b){a(b.split("&"),function(e){e=e.split("=");c=c||{};c[unescape(e[0])]=unescape(e[1])})}return c},setHash:function(k,b,g,f,j,c){var i="";a(b,function(e,d){i+=(!i?"":"&")+escape(d)+"="+escape(e)});this.set(k,i,g,f,j,c)},get:function(j){var i=document.cookie,g,f=j+"=",d;if(!i){return}d=i.indexOf("; "+f);if(d==-1){d=i.indexOf(f);if(d!=0){return null}}else{d+=2}g=i.indexOf(";",d);if(g==-1){g=i.length}return unescape(i.substring(d+f.length,g))},set:function(j,b,g,f,i,c){document.cookie=j+"="+escape(b)+((g)?"; expires="+g.toGMTString():"")+((f)?"; path="+escape(f):"")+((i)?"; domain="+i:"")+((c)?"; secure":"")},remove:function(e,b){var c=new Date();c.setTime(c.getTime()-1000);this.set(e,"",c,b,c)}})})();tinymce.create("static tinymce.util.JSON",{serialize:function(e){var c,a,d=tinymce.util.JSON.serialize,b;if(e==null){return"null"}b=typeof e;if(b=="string"){a="\bb\tt\nn\ff\rr\"\"''\\\\";return'"'+e.replace(/([\u0080-\uFFFF\x00-\x1f\"])/g,function(g,f){c=a.indexOf(f);if(c+1){return"\\"+a.charAt(c+1)}g=f.charCodeAt().toString(16);return"\\u"+"0000".substring(g.length)+g})+'"'}if(b=="object"){if(e.hasOwnProperty&&e instanceof Array){for(c=0,a="[";c<e.length;c++){a+=(c>0?",":"")+d(e[c])}return a+"]"}a="{";for(c in e){a+=typeof e[c]!="function"?(a.length>1?',"':'"')+c+'":'+d(e[c]):""}return a+"}"}return""+e},parse:function(s){try{return eval("("+s+")")}catch(ex){}}});tinymce.create("static tinymce.util.XHR",{send:function(g){var a,e,b=window,i=0;g.scope=g.scope||this;g.success_scope=g.success_scope||g.scope;g.error_scope=g.error_scope||g.scope;g.async=g.async===false?false:true;g.data=g.data||"";function d(j){a=0;try{a=new ActiveXObject(j)}catch(c){}return a}a=b.XMLHttpRequest?new XMLHttpRequest():d("Microsoft.XMLHTTP")||d("Msxml2.XMLHTTP");if(a){if(a.overrideMimeType){a.overrideMimeType(g.content_type)}a.open(g.type||(g.data?"POST":"GET"),g.url,g.async);if(g.content_type){a.setRequestHeader("Content-Type",g.content_type)}a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.send(g.data);function f(){if(!g.async||a.readyState==4||i++>10000){if(g.success&&i<10000&&a.status==200){g.success.call(g.success_scope,""+a.responseText,a,g)}else{if(g.error){g.error.call(g.error_scope,i>10000?"TIMED_OUT":"GENERAL",a,g)}}a=null}else{b.setTimeout(f,10)}}if(!g.async){return f()}e=b.setTimeout(f,10)}}});(function(){var c=tinymce.extend,b=tinymce.util.JSON,a=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(d){this.settings=c({},d);this.count=0},send:function(f){var e=f.error,d=f.success;f=c(this.settings,f);f.success=function(i,g){i=b.parse(i);if(typeof(i)=="undefined"){i={error:"JSON Parse error."}}if(i.error){e.call(f.error_scope||f.scope,i.error,g)}else{d.call(f.success_scope||f.scope,i.result)}};f.error=function(i,g){e.call(f.error_scope||f.scope,i,g)};f.data=b.serialize({id:f.id||"c"+(this.count++),method:f.method,params:f.params});f.content_type="application/json";a.send(f)},"static":{sendRPC:function(d){return new tinymce.util.JSONRequest().send(d)}}})}());(function(n){var l=n.each,k=n.is,j=n.isWebKit,d=n.isIE,a=/^(H[1-6R]|P|DIV|ADDRESS|PRE|FORM|T(ABLE|BODY|HEAD|FOOT|H|R|D)|LI|OL|UL|CAPTION|BLOCKQUOTE|CENTER|DL|DT|DD|DIR|FIELDSET|NOSCRIPT|MENU|ISINDEX|SAMP)$/,e=g("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),f=g("src,href,style,coords,shape"),c={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"},o=/[<>&\"]/g,b=/^([a-z0-9],?)+$/i,i=/<(\w+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)(\s*\/?)>/g,m=/(\w+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;function g(r){var q={},p;r=r.split(",");for(p=r.length;p>=0;p--){q[r[p]]=1}return q}n.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(v,r){var q=this,p;q.doc=v;q.win=window;q.files={};q.cssFlicker=false;q.counter=0;q.boxModel=!n.isIE||v.compatMode=="CSS1Compat";q.stdMode=v.documentMode>=8;q.settings=r=n.extend({keep_values:false,hex_colors:1,process_html:1},r);if(n.isIE6){try{v.execCommand("BackgroundImageCache",false,true)}catch(u){q.cssFlicker=true}}if(r.valid_styles){q._styles={};l(r.valid_styles,function(t,s){q._styles[s]=n.explode(t)})}n.addUnload(q.destroy,q)},getRoot:function(){var p=this,q=p.settings;return(q&&p.get(q.root_element))||p.doc.body},getViewPort:function(q){var r,p;q=!q?this.win:q;r=q.document;p=this.boxModel?r.documentElement:r.body;return{x:q.pageXOffset||p.scrollLeft,y:q.pageYOffset||p.scrollTop,w:q.innerWidth||p.clientWidth,h:q.innerHeight||p.clientHeight}},getRect:function(u){var s,q=this,r;u=q.get(u);s=q.getPos(u);r=q.getSize(u);return{x:s.x,y:s.y,w:r.w,h:r.h}},getSize:function(s){var q=this,p,r;s=q.get(s);p=q.getStyle(s,"width");r=q.getStyle(s,"height");if(p.indexOf("px")===-1){p=0}if(r.indexOf("px")===-1){r=0}return{w:parseInt(p)||s.offsetWidth||s.clientWidth,h:parseInt(r)||s.offsetHeight||s.clientHeight}},getParent:function(s,q,p){return this.getParents(s,q,p,false)},getParents:function(z,v,s,y){var q=this,p,u=q.settings,x=[];z=q.get(z);y=y===undefined;if(u.strict_root){s=s||q.getRoot()}if(k(v,"string")){p=v;if(v==="*"){v=function(r){return r.nodeType==1}}else{v=function(r){return q.is(r,p)}}}while(z){if(z==s||!z.nodeType||z.nodeType===9){break}if(!v||v(z)){if(y){x.push(z)}else{return z}}z=z.parentNode}return y?x:null},get:function(p){var q;if(p&&this.doc&&typeof(p)=="string"){q=p;p=this.doc.getElementById(p);if(p&&p.id!==q){return this.doc.getElementsByName(q)[1]}}return p},getNext:function(q,p){return this._findSib(q,p,"nextSibling")},getPrev:function(q,p){return this._findSib(q,p,"previousSibling")},select:function(r,q){var p=this;return n.dom.Sizzle(r,p.get(q)||p.get(p.settings.root_element)||p.doc,[])},is:function(r,p){var q;if(r.length===undefined){if(p==="*"){return r.nodeType==1}if(b.test(p)){p=p.toLowerCase().split(/,/);r=r.nodeName.toLowerCase();for(q=p.length-1;q>=0;q--){if(p[q]==r){return true}}return false}}return n.dom.Sizzle.matches(p,r.nodeType?[r]:r).length>0},add:function(u,x,q,s,v){var r=this;return this.run(u,function(z){var y,t;y=k(x,"string")?r.doc.createElement(x):x;r.setAttribs(y,q);if(s){if(s.nodeType){y.appendChild(s)}else{r.setHTML(y,s)}}return !v?z.appendChild(y):y})},create:function(r,p,q){return this.add(this.doc.createElement(r),r,p,q,1)},createHTML:function(v,p,s){var u="",r=this,q;u+="<"+v;for(q in p){if(p.hasOwnProperty(q)){u+=" "+q+'="'+r.encode(p[q])+'"'}}if(typeof(s)!="undefined"){return u+">"+s+"</"+v+">"}return u+" />"},remove:function(p,q){return this.run(p,function(s){var r,t;r=s.parentNode;if(!r){return null}if(q){while(t=s.firstChild){if(!n.isIE||t.nodeType!==3||t.nodeValue){r.insertBefore(t,s)}else{s.removeChild(t)}}}return r.removeChild(s)})},setStyle:function(s,p,q){var r=this;return r.run(s,function(v){var u,t;u=v.style;p=p.replace(/-(\D)/g,function(y,x){return x.toUpperCase()});if(r.pixelStyles.test(p)&&(n.is(q,"number")||/^[\-0-9\.]+$/.test(q))){q+="px"}switch(p){case"opacity":if(d){u.filter=q===""?"":"alpha(opacity="+(q*100)+")";if(!s.currentStyle||!s.currentStyle.hasLayout){u.display="inline-block"}}u[p]=u["-moz-opacity"]=u["-khtml-opacity"]=q||"";break;case"float":d?u.styleFloat=q:u.cssFloat=q;break;default:u[p]=q||""}if(r.settings.update_styles){r.setAttrib(v,"_mce_style")}})},getStyle:function(s,p,r){s=this.get(s);if(!s){return false}if(this.doc.defaultView&&r){p=p.replace(/[A-Z]/g,function(t){return"-"+t});try{return this.doc.defaultView.getComputedStyle(s,null).getPropertyValue(p)}catch(q){return null}}p=p.replace(/-(\D)/g,function(u,t){return t.toUpperCase()});if(p=="float"){p=d?"styleFloat":"cssFloat"}if(s.currentStyle&&r){return s.currentStyle[p]}return s.style[p]},setStyles:function(u,v){var q=this,r=q.settings,p;p=r.update_styles;r.update_styles=0;l(v,function(s,t){q.setStyle(u,t,s)});r.update_styles=p;if(r.update_styles){q.setAttrib(u,r.cssText)}},setAttrib:function(r,s,p){var q=this;if(!r||!s){return}if(q.settings.strict){s=s.toLowerCase()}return this.run(r,function(u){var t=q.settings;switch(s){case"style":if(!k(p,"string")){l(p,function(x,y){q.setStyle(u,y,x)});return}if(t.keep_values){if(p&&!q._isRes(p)){u.setAttribute("_mce_style",p,2)}else{u.removeAttribute("_mce_style",2)}}u.style.cssText=p;break;case"class":u.className=p||"";break;case"src":case"href":if(t.keep_values){if(t.url_converter){p=t.url_converter.call(t.url_converter_scope||q,p,s,u)}q.setAttrib(u,"_mce_"+s,p,2)}break;case"shape":u.setAttribute("_mce_style",p);break}if(k(p)&&p!==null&&p.length!==0){u.setAttribute(s,""+p,2)}else{u.removeAttribute(s,2)}})},setAttribs:function(q,r){var p=this;return this.run(q,function(s){l(r,function(t,u){p.setAttrib(s,u,t)})})},getAttrib:function(s,u,r){var p,q=this;s=q.get(s);if(!s||s.nodeType!==1){return false}if(!k(r)){r=""}if(/^(src|href|style|coords|shape)$/.test(u)){p=s.getAttribute("_mce_"+u);if(p){return p}}if(d&&q.props[u]){p=s[q.props[u]];p=p&&p.nodeValue?p.nodeValue:p}if(!p){p=s.getAttribute(u,2)}if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(u)){if(s[q.props[u]]===true&&p===""){return u}return p?u:""}if(s.nodeName==="FORM"&&s.getAttributeNode(u)){return s.getAttributeNode(u).nodeValue}if(u==="style"){p=p||s.style.cssText;if(p){p=q.serializeStyle(q.parseStyle(p),s.nodeName);if(q.settings.keep_values&&!q._isRes(p)){s.setAttribute("_mce_style",p)}}}if(j&&u==="class"&&p){p=p.replace(/(apple|webkit)\-[a-z\-]+/gi,"")}if(d){switch(u){case"rowspan":case"colspan":if(p===1){p=""}break;case"size":if(p==="+0"||p===20||p===0){p=""}break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":if(p===0){p=""}break;case"hspace":if(p===-1){p=""}break;case"maxlength":case"tabindex":if(p===32768||p===2147483647||p==="32768"){p=""}break;case"multiple":case"compact":case"noshade":case"nowrap":if(p===65535){return u}return r;case"shape":p=p.toLowerCase();break;default:if(u.indexOf("on")===0&&p){p=n._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+p)}}}return(p!==undefined&&p!==null&&p!=="")?""+p:r},getPos:function(B,u){var q=this,p=0,A=0,v,z=q.doc,s;B=q.get(B);u=u||z.body;if(B){if(d&&!q.stdMode){B=B.getBoundingClientRect();v=q.boxModel?z.documentElement:z.body;p=q.getStyle(q.select("html")[0],"borderWidth");p=(p=="medium"||q.boxModel&&!q.isIE6)&&2||p;return{x:B.left+v.scrollLeft-p,y:B.top+v.scrollTop-p}}s=B;while(s&&s!=u&&s.nodeType){p+=s.offsetLeft||0;A+=s.offsetTop||0;s=s.offsetParent}s=B.parentNode;while(s&&s!=u&&s.nodeType){p-=s.scrollLeft||0;A-=s.scrollTop||0;s=s.parentNode}}return{x:p,y:A}},parseStyle:function(r){var u=this,v=u.settings,x={};if(!r){return x}function p(E,B,D){var A,C,y,z;A=x[E+"-top"+B];if(!A){return}C=x[E+"-right"+B];if(A!=C){return}y=x[E+"-bottom"+B];if(C!=y){return}z=x[E+"-left"+B];if(y!=z){return}x[D]=z;delete x[E+"-top"+B];delete x[E+"-right"+B];delete x[E+"-bottom"+B];delete x[E+"-left"+B]}function q(z,y,s,B){var A;A=x[y];if(!A){return}A=x[s];if(!A){return}A=x[B];if(!A){return}x[z]=x[y]+" "+x[s]+" "+x[B];delete x[y];delete x[s];delete x[B]}r=r.replace(/&(#?[a-z0-9]+);/g,"&$1_MCE_SEMI_");l(r.split(";"),function(t){var s,y=[];if(t){t=t.replace(/_MCE_SEMI_/g,";");t=t.replace(/url\([^\)]+\)/g,function(z){y.push(z);return"url("+y.length+")"});t=t.split(":");s=n.trim(t[1]);s=s.replace(/url\(([^\)]+)\)/g,function(A,z){return y[parseInt(z)-1]});s=s.replace(/rgb\([^\)]+\)/g,function(z){return u.toHex(z)});if(v.url_converter){s=s.replace(/url\([\'\"]?([^\)\'\"]+)[\'\"]?\)/g,function(z,A){return"url("+v.url_converter.call(v.url_converter_scope||u,u.decode(A),"style",null)+")"})}x[n.trim(t[0]).toLowerCase()]=s}});p("border","","border");p("border","-width","border-width");p("border","-color","border-color");p("border","-style","border-style");p("padding","","padding");p("margin","","margin");q("border","border-width","border-style","border-color");if(d){if(x.border=="medium none"){x.border=""}}return x},serializeStyle:function(v,p){var q=this,r="";function u(t,s){if(s&&t){if(s.indexOf("-")===0){return}switch(s){case"font-weight":if(t==700){t="bold"}break;case"color":case"background-color":t=t.toLowerCase();break}r+=(r?" ":"")+s+": "+t+";"}}if(p&&q._styles){l(q._styles["*"],function(s){u(v[s],s)});l(q._styles[p.toLowerCase()],function(s){u(v[s],s)})}else{l(v,u)}return r},loadCSS:function(p){var r=this,s=r.doc,q;if(!p){p=""}q=r.select("head")[0];l(p.split(","),function(t){var v;if(r.files[t]){return}r.files[t]=true;v=r.create("link",{rel:"stylesheet",href:n._addVer(t)});if(d&&s.documentMode&&s.recalc){v.onload=function(){s.recalc();v.onload=null}}q.appendChild(v)})},addClass:function(p,q){return this.run(p,function(r){var s;if(!q){return 0}if(this.hasClass(r,q)){return r.className}s=this.removeClass(r,q);return r.className=(s!=""?(s+" "):"")+q})},removeClass:function(r,s){var p=this,q;return p.run(r,function(u){var t;if(p.hasClass(u,s)){if(!q){q=new RegExp("(^|\\s+)"+s+"(\\s+|$)","g")}t=u.className.replace(q," ");t=n.trim(t!=" "?t:"");u.className=t;if(!t){u.removeAttribute("class");u.removeAttribute("className")}return t}return u.className})},hasClass:function(q,p){q=this.get(q);if(!q||!p){return false}return(" "+q.className+" ").indexOf(" "+p+" ")!==-1},show:function(p){return this.setStyle(p,"display","block")},hide:function(p){return this.setStyle(p,"display","none")},isHidden:function(p){p=this.get(p);return !p||p.style.display=="none"||this.getStyle(p,"display")=="none"},uniqueId:function(q){return(!q?"mce_":q)+(this.counter++)},setHTML:function(r,q){var p=this;return this.run(r,function(y){var s,u,t,A,v,s;q=p.processHTML(q);if(d){function z(){while(y.firstChild){y.firstChild.removeNode()}try{y.innerHTML="<br />"+q;y.removeChild(y.firstChild)}catch(x){s=p.create("div");s.innerHTML="<br />"+q;l(s.childNodes,function(C,B){if(B){y.appendChild(C)}})}}if(p.settings.fix_ie_paragraphs){q=q.replace(/<p><\/p>|<p([^>]+)><\/p>|<p[^\/+]\/>/gi,'<p$1 _mce_keep="true">&nbsp;</p>')}z();if(p.settings.fix_ie_paragraphs){t=y.getElementsByTagName("p");for(u=t.length-1,s=0;u>=0;u--){A=t[u];if(!A.hasChildNodes()){if(!A._mce_keep){s=1;break}A.removeAttribute("_mce_keep")}}}if(s){q=q.replace(/<p ([^>]+)>|<p>/ig,'<div $1 _mce_tmp="1">');q=q.replace(/<\/p>/gi,"</div>");z();if(p.settings.fix_ie_paragraphs){t=y.getElementsByTagName("DIV");for(u=t.length-1;u>=0;u--){A=t[u];if(A._mce_tmp){v=p.doc.createElement("p");A.cloneNode(false).outerHTML.replace(/([a-z0-9\-_]+)=/gi,function(B,x){var C;if(x!=="_mce_tmp"){C=A.getAttribute(x);if(!C&&x==="class"){C=A.className}v.setAttribute(x,C)}});for(s=0;s<A.childNodes.length;s++){v.appendChild(A.childNodes[s].cloneNode(true))}A.swapNode(v)}}}}}else{y.innerHTML=q}return q})},processHTML:function(u){var q=this,r=q.settings,x=[];if(!r.process_html){return u}if(d){u=u.replace(/&apos;/g,"&#39;");u=u.replace(/\s+(disabled|checked|readonly|selected)\s*=\s*[\"\']?(false|0)[\"\']?/gi,"")}u=n._replace(/<a( )([^>]+)\/>|<a\/>/gi,"<a$1$2></a>",u);if(r.keep_values){if(/<script|noscript|style/i.test(u)){function p(t){t=t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n");t=t.replace(/^[\r\n]*|[\r\n]*$/g,"");t=t.replace(/^\s*(\/\/\s*<!--|\/\/\s*<!\[CDATA\[|<!--|<!\[CDATA\[)[\r\n]*/g,"");t=t.replace(/\s*(\/\/\s*\]\]>|\/\/\s*-->|\]\]>|-->|\]\]-->)\s*$/g,"");return t}u=u.replace(/<script([^>]+|)>([\s\S]*?)<\/script>/gi,function(s,y,t){if(!y){y=' type="text/javascript"'}y=y.replace(/src=\"([^\"]+)\"?/i,function(z,A){if(r.url_converter){A=q.encode(r.url_converter.call(r.url_converter_scope||q,q.decode(A),"src","script"))}return'_mce_src="'+A+'"'});if(n.trim(t)){x.push(p(t));t="<!--\nMCE_SCRIPT:"+(x.length-1)+"\n// -->"}return"<mce:script"+y+">"+t+"</mce:script>"});u=u.replace(/<style([^>]+|)>([\s\S]*?)<\/style>/gi,function(s,y,t){if(t){x.push(p(t));t="<!--\nMCE_SCRIPT:"+(x.length-1)+"\n-->"}return"<mce:style"+y+">"+t+"</mce:style><style "+y+' _mce_bogus="1">'+t+"</style>"});u=u.replace(/<noscript([^>]+|)>([\s\S]*?)<\/noscript>/g,function(s,y,t){return"<mce:noscript"+y+"><!--"+q.encode(t).replace(/--/g,"&#45;&#45;")+"--></mce:noscript>"})}u=n._replace(/<!\[CDATA\[([\s\S]+)\]\]>/g,"<!--[CDATA[$1]]-->",u);function v(s){return s.replace(i,function(z,A,y,t){return"<"+A+y.replace(m,function(C,B,F,E,D){var G;B=B.toLowerCase();F=F||E||D||"";if(e[B]){if(F==="false"||F==="0"){return}return B+'="'+B+'"'}if(f[B]&&y.indexOf("_mce_"+B)==-1){G=q.decode(F);if(r.url_converter&&(B=="src"||B=="href")){G=r.url_converter.call(r.url_converter_scope||q,G,B,A)}if(B=="style"){G=q.serializeStyle(q.parseStyle(G),B)}return B+'="'+F+'" _mce_'+B+'="'+q.encode(G)+'"'}return C})+t+">"})}u=v(u);u=u.replace(/MCE_SCRIPT:([0-9]+)/g,function(t,s){return x[s]})}return u},getOuterHTML:function(p){var q;p=this.get(p);if(!p){return null}if(p.outerHTML!==undefined){return p.outerHTML}q=(p.ownerDocument||this.doc).createElement("body");q.appendChild(p.cloneNode(true));return q.innerHTML},setOuterHTML:function(s,q,u){var p=this;function r(v,t,y){var z,x;x=y.createElement("body");x.innerHTML=t;z=x.lastChild;while(z){p.insertAfter(z.cloneNode(true),v);z=z.previousSibling}p.remove(v)}return this.run(s,function(v){v=p.get(v);if(v.nodeType==1){u=u||v.ownerDocument||p.doc;if(d){try{if(d&&v.nodeType==1){v.outerHTML=q}else{r(v,q,u)}}catch(t){r(v,q,u)}}else{r(v,q,u)}}})},decode:function(q){var r,t,p;if(/&[\w#]+;/.test(q)){r=this.doc.createElement("div");r.innerHTML=q;t=r.firstChild;p="";if(t){do{p+=t.nodeValue}while(t=t.nextSibling)}return p||q}return q},encode:function(p){return(""+p).replace(o,function(q){return c[q]})},insertAfter:function(p,q){q=this.get(q);return this.run(p,function(s){var r,t;r=q.parentNode;t=q.nextSibling;if(t){r.insertBefore(s,t)}else{r.appendChild(s)}return s})},isBlock:function(p){if(p.nodeType&&p.nodeType!==1){return false}p=p.nodeName||p;return a.test(p)},replace:function(s,r,p){var q=this;if(k(r,"array")){s=s.cloneNode(true)}return q.run(r,function(t){if(p){l(n.grep(t.childNodes),function(u){s.appendChild(u)})}return t.parentNode.replaceChild(s,t)})},rename:function(s,p){var r=this,q;if(s.nodeName!=p.toUpperCase()){q=r.create(p);l(r.getAttribs(s),function(t){r.setAttrib(q,t.nodeName,r.getAttrib(s,t.nodeName))});r.replace(q,s,1)}return q||s},findCommonAncestor:function(r,p){var s=r,q;while(s){q=p;while(q&&s!=q){q=q.parentNode}if(s==q){break}s=s.parentNode}if(!s&&r.ownerDocument){return r.ownerDocument.documentElement}return s},toHex:function(p){var r=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(p);function q(t){t=parseInt(t).toString(16);return t.length>1?t:"0"+t}if(r){p="#"+q(r[1])+q(r[2])+q(r[3]);return p}return p},getClasses:function(){var u=this,p=[],s,v={},x=u.settings.class_filter,r;if(u.classes){return u.classes}function y(t){l(t.imports,function(z){y(z)});l(t.cssRules||t.rules,function(z){switch(z.type||1){case 1:if(z.selectorText){l(z.selectorText.split(","),function(A){A=A.replace(/^\s*|\s*$|^\s\./g,"");if(/\.mce/.test(A)||!/\.[\w\-]+$/.test(A)){return}r=A;A=n._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",h);if(x&&!(A=x(A,r))){return}if(!v[A]){p.push({"class":A});v[A]=1}})}break;case 3:y(z.styleSheet);break}})}try{l(u.doc.styleSheets,y)}catch(q){}if(p.length>0){u.classes=p}return p},run:function(u,r,q){var p=this,v;if(p.doc&&typeof(u)==="string"){u=p.get(u)}if(!u){return false}q=q||this;if(!u.nodeType&&(u.length||u.length===0)){v=[];l(u,function(t,s){if(t){if(typeof(t)=="string"){t=p.doc.getElementById(t)}v.push(r.call(q,t,s))}});return v}return r.call(q,u)},getAttribs:function(q){var p;q=this.get(q);if(!q){return[]}if(d){p=[];if(q.nodeName=="OBJECT"){return q.attributes}if(q.nodeName==="OPTION"&&this.getAttrib(q,"selected")){p.push({specified:1,nodeName:"selected"})}q.cloneNode(false).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(r){p.push({specified:1,nodeName:r})});return p}return q.attributes},destroy:function(q){var p=this;if(p.events){p.events.destroy()}p.win=p.doc=p.root=p.events=null;if(!q){n.removeUnload(p.destroy)}},createRng:function(){var p=this.doc;return p.createRange?p.createRange():new n.dom.Range(this)},nodeIndex:function(t,u){var p=0,r,s,q;if(t){for(r=t.nodeType,t=t.previousSibling,s=t;t;t=t.previousSibling){q=t.nodeType;if(u&&q==3){if(q==r||!t.nodeValue.length){continue}}p++;r=q}}return p},split:function(v,u,z){var A=this,p=A.createRng(),x,s,y;function q(B){var t,r=B.childNodes;if(B.nodeType==1&&B.getAttribute("_mce_type")=="bookmark"){return}for(t=r.length-1;t>=0;t--){q(r[t])}if(B.nodeType!=9){if(B.nodeType==3&&B.nodeValue.length>0){if(!A.isBlock(B.parentNode)||n.trim(B.nodeValue).length>0){return}}if(B.nodeType==1){r=B.childNodes;if(r.length==1&&r[0]&&r[0].nodeType==1&&r[0].getAttribute("_mce_type")=="bookmark"){B.parentNode.insertBefore(r[0],B)}if(r.length||/^(br|hr|input|img)$/i.test(B.nodeName)){return}}A.remove(B)}return B}if(v&&u){p.setStart(v.parentNode,A.nodeIndex(v));p.setEnd(u.parentNode,A.nodeIndex(u));x=p.extractContents();p=A.createRng();p.setStart(u.parentNode,A.nodeIndex(u)+1);p.setEnd(v.parentNode,A.nodeIndex(v)+1);s=p.extractContents();y=v.parentNode;y.insertBefore(q(x),v);if(z){y.replaceChild(z,u)}else{y.insertBefore(u,v)}y.insertBefore(q(s),v);A.remove(v);return z||u}},bind:function(u,p,s,r){var q=this;if(!q.events){q.events=new n.dom.EventUtils()}return q.events.add(u,p,s,r||this)},unbind:function(s,p,r){var q=this;if(!q.events){q.events=new n.dom.EventUtils()}return q.events.remove(s,p,r)},_findSib:function(s,p,q){var r=this,u=p;if(s){if(k(u,"string")){u=function(t){return r.is(t,p)}}for(s=s[q];s;s=s[q]){if(u(s)){return s}}}return null},_isRes:function(p){return/^(top|left|bottom|right|width|height)/i.test(p)||/;\s*(top|left|bottom|right|width|height)/i.test(p)}});n.DOM=new n.dom.DOMUtils(document,{process_html:0})})(tinymce);(function(a){function b(c){var O=this,e=c.doc,T=0,F=1,k=2,E=true,S=false,V="startOffset",i="startContainer",Q="endContainer",A="endOffset",l=tinymce.extend,o=c.nodeIndex;l(O,{startContainer:e,startOffset:0,endContainer:e,endOffset:0,collapsed:E,commonAncestorContainer:e,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:r,setEnd:u,setStartBefore:g,setStartAfter:J,setEndBefore:K,setEndAfter:v,collapse:B,selectNode:y,selectNodeContents:G,compareBoundaryPoints:x,deleteContents:q,extractContents:I,cloneContents:d,insertNode:D,surroundContents:N,cloneRange:L});function r(W,t){C(E,W,t)}function u(W,t){C(S,W,t)}function g(t){r(t.parentNode,o(t))}function J(t){r(t.parentNode,o(t)+1)}function K(t){u(t.parentNode,o(t))}function v(t){u(t.parentNode,o(t)+1)}function B(t){if(t){O[Q]=O[i];O[A]=O[V]}else{O[i]=O[Q];O[V]=O[A]}O.collapsed=E}function y(t){g(t);v(t)}function G(t){r(t,0);u(t,t.nodeType===1?t.childNodes.length:t.nodeValue.length)}function x(X,Y){var aa=O[i],Z=O[V],W=O[Q],t=O[A];if(X===0){return H(aa,Z,aa,Z)}if(X===1){return H(aa,Z,W,t)}if(X===2){return H(W,t,W,t)}if(X===3){return H(W,t,aa,Z)}}function q(){n(k)}function I(){return n(T)}function d(){return n(F)}function D(Z){var W=this[i],t=this[V],Y,X;if((W.nodeType===3||W.nodeType===4)&&W.nodeValue){if(!t){W.parentNode.insertBefore(Z,W)}else{if(t>=W.nodeValue.length){c.insertAfter(Z,W)}else{Y=W.splitText(t);W.parentNode.insertBefore(Z,Y)}}}else{if(W.childNodes.length>0){X=W.childNodes[t]}if(X){W.insertBefore(Z,X)}else{W.appendChild(Z)}}}function N(W){var t=O.extractContents();O.insertNode(W);W.appendChild(t);O.selectNode(W)}function L(){return l(new b(c),{startContainer:O[i],startOffset:O[V],endContainer:O[Q],endOffset:O[A],collapsed:O.collapsed,commonAncestorContainer:O.commonAncestorContainer})}function P(t,W){var X;if(t.nodeType==3){return t}if(W<0){return t}X=t.firstChild;while(X&&W>0){--W;X=X.nextSibling}if(X){return X}return t}function m(){return(O[i]==O[Q]&&O[V]==O[A])}function H(Y,aa,W,Z){var ab,X,t,ac,ae,ad;if(Y==W){if(aa==Z){return 0}if(aa<Z){return -1}return 1}ab=W;while(ab&&ab.parentNode!=Y){ab=ab.parentNode}if(ab){X=0;t=Y.firstChild;while(t!=ab&&X<aa){X++;t=t.nextSibling}if(aa<=X){return -1}return 1}ab=Y;while(ab&&ab.parentNode!=W){ab=ab.parentNode}if(ab){X=0;t=W.firstChild;while(t!=ab&&X<Z){X++;t=t.nextSibling}if(X<Z){return -1}return 1}ac=c.findCommonAncestor(Y,W);ae=Y;while(ae&&ae.parentNode!=ac){ae=ae.parentNode}if(!ae){ae=ac}ad=W;while(ad&&ad.parentNode!=ac){ad=ad.parentNode}if(!ad){ad=ac}if(ae==ad){return 0}t=ac.firstChild;while(t){if(t==ae){return -1}if(t==ad){return 1}t=t.nextSibling}}function C(W,Z,Y){var t,X;if(W){O[i]=Z;O[V]=Y}else{O[Q]=Z;O[A]=Y}t=O[Q];while(t.parentNode){t=t.parentNode}X=O[i];while(X.parentNode){X=X.parentNode}if(X==t){if(H(O[i],O[V],O[Q],O[A])>0){O.collapse(W)}}else{O.collapse(W)}O.collapsed=m();O.commonAncestorContainer=c.findCommonAncestor(O[i],O[Q])}function n(ac){var ab,Y=0,ae=0,W,aa,X,Z,t,ad;if(O[i]==O[Q]){return f(ac)}for(ab=O[Q],W=ab.parentNode;W;ab=W,W=W.parentNode){if(W==O[i]){return s(ab,ac)}++Y}for(ab=O[i],W=ab.parentNode;W;ab=W,W=W.parentNode){if(W==O[Q]){return U(ab,ac)}++ae}aa=ae-Y;X=O[i];while(aa>0){X=X.parentNode;aa--}Z=O[Q];while(aa<0){Z=Z.parentNode;aa++}for(t=X.parentNode,ad=Z.parentNode;t!=ad;t=t.parentNode,ad=ad.parentNode){X=t;Z=ad}return p(X,Z,ac)}function f(aa){var ac,Z,Y,ab,t,X,W;if(aa!=k){ac=e.createDocumentFragment()}if(O[V]==O[A]){return ac}if(O[i].nodeType==3){Z=O[i].nodeValue;Y=Z.substring(O[V],O[A]);if(aa!=F){O[i].deleteData(O[V],O[A]-O[V]);O.collapse(E)}if(aa==k){return}ac.appendChild(e.createTextNode(Y));return ac}ab=P(O[i],O[V]);t=O[A]-O[V];while(t>0){X=ab.nextSibling;W=z(ab,aa);if(ac){ac.appendChild(W)}--t;ab=X}if(aa!=F){O.collapse(E)}return ac}function s(ac,Z){var ab,aa,W,t,Y,X;if(Z!=k){ab=e.createDocumentFragment()}aa=j(ac,Z);if(ab){ab.appendChild(aa)}W=o(ac);t=W-O[V];if(t<=0){if(Z!=F){O.setEndBefore(ac);O.collapse(S)}return ab}aa=ac.previousSibling;while(t>0){Y=aa.previousSibling;X=z(aa,Z);if(ab){ab.insertBefore(X,ab.firstChild)}--t;aa=Y}if(Z!=F){O.setEndBefore(ac);O.collapse(S)}return ab}function U(aa,Z){var ac,W,ab,t,Y,X;if(Z!=k){ac=e.createDocumentFragment()}ab=R(aa,Z);if(ac){ac.appendChild(ab)}W=o(aa);++W;t=O[A]-W;ab=aa.nextSibling;while(t>0){Y=ab.nextSibling;X=z(ab,Z);if(ac){ac.appendChild(X)}--t;ab=Y}if(Z!=F){O.setStartAfter(aa);O.collapse(E)}return ac}function p(aa,t,ad){var X,af,Z,ab,ac,W,ae,Y;if(ad!=k){af=e.createDocumentFragment()}X=R(aa,ad);if(af){af.appendChild(X)}Z=aa.parentNode;ab=o(aa);ac=o(t);++ab;W=ac-ab;ae=aa.nextSibling;while(W>0){Y=ae.nextSibling;X=z(ae,ad);if(af){af.appendChild(X)}ae=Y;--W}X=j(t,ad);if(af){af.appendChild(X)}if(ad!=F){O.setStartAfter(aa);O.collapse(E)}return af}function j(ab,ac){var X=P(O[Q],O[A]-1),ad,aa,Z,t,W,Y=X!=O[Q];if(X==ab){return M(X,Y,S,ac)}ad=X.parentNode;aa=M(ad,S,S,ac);while(ad){while(X){Z=X.previousSibling;t=M(X,Y,S,ac);if(ac!=k){aa.insertBefore(t,aa.firstChild)}Y=E;X=Z}if(ad==ab){return aa}X=ad.previousSibling;ad=ad.parentNode;W=M(ad,S,S,ac);if(ac!=k){W.appendChild(aa)}aa=W}}function R(ab,ac){var Y=P(O[i],O[V]),Z=Y!=O[i],ad,aa,X,t,W;if(Y==ab){return M(Y,Z,E,ac)}ad=Y.parentNode;aa=M(ad,S,E,ac);while(ad){while(Y){X=Y.nextSibling;t=M(Y,Z,E,ac);if(ac!=k){aa.appendChild(t)}Z=E;Y=X}if(ad==ab){return aa}Y=ad.nextSibling;ad=ad.parentNode;W=M(ad,S,E,ac);if(ac!=k){W.appendChild(aa)}aa=W}}function M(t,Z,ac,ad){var Y,X,aa,W,ab;if(Z){return z(t,ad)}if(t.nodeType==3){Y=t.nodeValue;if(ac){W=O[V];X=Y.substring(W);aa=Y.substring(0,W)}else{W=O[A];X=Y.substring(0,W);aa=Y.substring(W)}if(ad!=F){t.nodeValue=aa}if(ad==k){return}ab=t.cloneNode(S);ab.nodeValue=X;return ab}if(ad==k){return}return t.cloneNode(S)}function z(W,t){if(t!=k){return t==F?W.cloneNode(E):W}W.parentNode.removeChild(W)}}a.Range=b})(tinymce.dom);(function(){function a(g){var j=this,k="\uFEFF",e,i,d=g.dom,c=true,f=false;function b(){var o=g.getRng(),l=d.createRng(),n,p;n=o.item?o.item(0):o.parentElement();if(n.ownerDocument!=d.doc){return l}if(o.item||!n.hasChildNodes()){l.setStart(n.parentNode,d.nodeIndex(n));l.setEnd(l.startContainer,l.startOffset+1);return l}p=g.isCollapsed();function m(t){var v,r,u,q,B=0,y,z,A,s,x;s=o.duplicate();s.collapse(t);v=d.create("a");A=s.parentElement();if(!A.hasChildNodes()){l[t?"setStart":"setEnd"](A,0);return}A.appendChild(v);s.moveToElementText(v);x=o.compareEndPoints(t?"StartToStart":"EndToEnd",s);if(x>0){l[t?"setStartAfter":"setEndAfter"](A);d.remove(v);return}q=tinymce.grep(A.childNodes);y=q.length-1;while(B<=y){z=Math.floor((B+y)/2);A.insertBefore(v,q[z]);s.moveToElementText(v);x=o.compareEndPoints(t?"StartToStart":"EndToEnd",s);if(x>0){B=z+1}else{if(x<0){y=z-1}else{found=true;break}}}r=x>0||z==0?v.nextSibling:v.previousSibling;if(r.nodeType==1){d.remove(v);u=d.nodeIndex(r);r=r.parentNode;if(!t||z>0){u++}}else{if(x>0||z==0){s.setEndPoint(t?"StartToStart":"EndToEnd",o);u=s.text.length}else{s.setEndPoint(t?"StartToStart":"EndToEnd",o);u=r.nodeValue.length-s.text.length}d.remove(v)}l[t?"setStart":"setEnd"](r,u)}m(true);if(!p){m()}return l}this.addRange=function(l){var q,o,n,s,v,t,u=g.dom.doc,p=u.body;function m(C){var y,B,x,A,z;x=d.create("a");y=C?n:v;B=C?s:t;A=q.duplicate();if(y==u){y=p;B=0}if(y.nodeType==3){y.parentNode.insertBefore(x,y);A.moveToElementText(x);A.moveStart("character",B);d.remove(x);q.setEndPoint(C?"StartToStart":"EndToEnd",A)}else{z=y.childNodes;if(z.length){if(B>=z.length){d.insertAfter(x,z[z.length-1])}else{y.insertBefore(x,z[B])}A.moveToElementText(x)}else{x=u.createTextNode(k);y.appendChild(x);A.moveToElementText(x.parentNode);A.collapse(c)}q.setEndPoint(C?"StartToStart":"EndToEnd",A);d.remove(x)}}this.destroy();n=l.startContainer;s=l.startOffset;v=l.endContainer;t=l.endOffset;q=p.createTextRange();if(n==v&&n.nodeType==1&&s==t-1){if(s==t-1){try{o=p.createControlRange();o.addElement(n.childNodes[s]);o.select();o.scrollIntoView();return}catch(r){}}}m(true);m();q.select();q.scrollIntoView()};this.getRangeAt=function(){if(!e||!tinymce.dom.RangeUtils.compareRanges(i,g.getRng())){e=b();i=g.getRng()}try{e.startContainer.nextSibling}catch(l){e=b();i=null}return e};this.destroy=function(){i=e=null};if(g.dom.boxModel){(function(){var r=d.doc,m=r.body,o,p;r.documentElement.unselectable=c;function q(s,v){var t=m.createTextRange();try{t.moveToPoint(s,v)}catch(u){t=null}return t}function n(t){var s;if(t.button){s=q(t.x,t.y);if(s){if(s.compareEndPoints("StartToStart",p)>0){s.setEndPoint("StartToStart",p)}else{s.setEndPoint("EndToEnd",p)}s.select()}}else{l()}}function l(){d.unbind(r,"mouseup",l);d.unbind(r,"mousemove",n);o=0}d.bind(r,"mousedown",function(s){if(s.target.nodeName==="HTML"){if(o){l()}o=1;p=q(s.x,s.y);if(p){d.bind(r,"mouseup",l);d.bind(r,"mousemove",n);p.select()}}})})()}}tinymce.dom.TridentSelection=a})();(function(){var q=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,k=0,d=Object.prototype.toString,p=false,j=true;[0,0].sort(function(){j=false;return 0});var b=function(x,e,A,B){A=A||[];e=e||document;var D=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!x||typeof x!=="string"){return A}var y=[],t,F,I,s,v=true,u=b.isXML(e),C=x,E,H,G,z;do{q.exec("");t=q.exec(C);if(t){C=t[3];y.push(t[1]);if(t[2]){s=t[3];break}}}while(t);if(y.length>1&&l.exec(x)){if(y.length===2&&f.relative[y[0]]){F=i(y[0]+y[1],e)}else{F=f.relative[y[0]]?[e]:b(y.shift(),e);while(y.length){x=y.shift();if(f.relative[x]){x+=y.shift()}F=i(x,F)}}}else{if(!B&&y.length>1&&e.nodeType===9&&!u&&f.match.ID.test(y[0])&&!f.match.ID.test(y[y.length-1])){E=b.find(y.shift(),e,u);e=E.expr?b.filter(E.expr,E.set)[0]:E.set[0]}if(e){E=B?{expr:y.pop(),set:a(B)}:b.find(y.pop(),y.length===1&&(y[0]==="~"||y[0]==="+")&&e.parentNode?e.parentNode:e,u);F=E.expr?b.filter(E.expr,E.set):E.set;if(y.length>0){I=a(F)}else{v=false}while(y.length){H=y.pop();G=H;if(!f.relative[H]){H=""}else{G=y.pop()}if(G==null){G=e}f.relative[H](I,G,u)}}else{I=y=[]}}if(!I){I=F}if(!I){b.error(H||x)}if(d.call(I)==="[object Array]"){if(!v){A.push.apply(A,I)}else{if(e&&e.nodeType===1){for(z=0;I[z]!=null;z++){if(I[z]&&(I[z]===true||I[z].nodeType===1&&b.contains(e,I[z]))){A.push(F[z])}}}else{for(z=0;I[z]!=null;z++){if(I[z]&&I[z].nodeType===1){A.push(F[z])}}}}}else{a(I,A)}if(s){b(s,D,A,B);b.uniqueSort(A)}return A};b.uniqueSort=function(s){if(c){p=j;s.sort(c);if(p){for(var e=1;e<s.length;e++){if(s[e]===s[e-1]){s.splice(e--,1)}}}}return s};b.matches=function(e,s){return b(e,null,null,s)};b.find=function(z,e,A){var y;if(!z){return[]}for(var u=0,t=f.order.length;u<t;u++){var x=f.order[u],v;if((v=f.leftMatch[x].exec(z))){var s=v[1];v.splice(1,1);if(s.substr(s.length-1)!=="\\"){v[1]=(v[1]||"").replace(/\\/g,"");y=f.find[x](v,e,A);if(y!=null){z=z.replace(f.match[x],"");break}}}}if(!y){y=e.getElementsByTagName("*")}return{set:y,expr:z}};b.filter=function(D,C,G,v){var t=D,I=[],A=C,y,e,z=C&&C[0]&&b.isXML(C[0]);while(D&&C.length){for(var B in f.filter){if((y=f.leftMatch[B].exec(D))!=null&&y[2]){var s=f.filter[B],H,F,u=y[1];e=false;y.splice(1,1);if(u.substr(u.length-1)==="\\"){continue}if(A===I){I=[]}if(f.preFilter[B]){y=f.preFilter[B](y,A,G,I,v,z);if(!y){e=H=true}else{if(y===true){continue}}}if(y){for(var x=0;(F=A[x])!=null;x++){if(F){H=s(F,y,x,A);var E=v^!!H;if(G&&H!=null){if(E){e=true}else{A[x]=false}}else{if(E){I.push(F);e=true}}}}}if(H!==undefined){if(!G){A=I}D=D.replace(f.match[B],"");if(!e){return[]}break}}}if(D===t){if(e==null){b.error(D)}else{break}}t=D}return A};b.error=function(e){throw"Syntax error, unrecognized expression: "+e};var f=b.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")}},relative:{"+":function(y,s){var u=typeof s==="string",x=u&&!/\W/.test(s),z=u&&!x;if(x){s=s.toLowerCase()}for(var t=0,e=y.length,v;t<e;t++){if((v=y[t])){while((v=v.previousSibling)&&v.nodeType!==1){}y[t]=z||v&&v.nodeName.toLowerCase()===s?v||false:v===s}}if(z){b.filter(s,y,true)}},">":function(y,s){var v=typeof s==="string",x,t=0,e=y.length;if(v&&!/\W/.test(s)){s=s.toLowerCase();for(;t<e;t++){x=y[t];if(x){var u=x.parentNode;y[t]=u.nodeName.toLowerCase()===s?u:false}}}else{for(;t<e;t++){x=y[t];if(x){y[t]=v?x.parentNode:x.parentNode===s}}if(v){b.filter(s,y,true)}}},"":function(u,s,x){var t=k++,e=r,v;if(typeof s==="string"&&!/\W/.test(s)){s=s.toLowerCase();v=s;e=o}e("parentNode",s,t,u,v,x)},"~":function(u,s,x){var t=k++,e=r,v;if(typeof s==="string"&&!/\W/.test(s)){s=s.toLowerCase();v=s;e=o}e("previousSibling",s,t,u,v,x)}},find:{ID:function(s,t,u){if(typeof t.getElementById!=="undefined"&&!u){var e=t.getElementById(s[1]);return e?[e]:[]}},NAME:function(t,x){if(typeof x.getElementsByName!=="undefined"){var s=[],v=x.getElementsByName(t[1]);for(var u=0,e=v.length;u<e;u++){if(v[u].getAttribute("name")===t[1]){s.push(v[u])}}return s.length===0?null:s}},TAG:function(e,s){return s.getElementsByTagName(e[1])}},preFilter:{CLASS:function(u,s,t,e,y,z){u=" "+u[1].replace(/\\/g,"")+" ";if(z){return u}for(var v=0,x;(x=s[v])!=null;v++){if(x){if(y^(x.className&&(" "+x.className+" ").replace(/[\t\n]/g," ").indexOf(u)>=0)){if(!t){e.push(x)}}else{if(t){s[v]=false}}}}return false},ID:function(e){return e[1].replace(/\\/g,"")},TAG:function(s,e){return s[1].toLowerCase()},CHILD:function(e){if(e[1]==="nth"){var s=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(s[1]+(s[2]||1))-0;e[3]=s[3]-0}e[0]=k++;return e},ATTR:function(v,s,t,e,x,y){var u=v[1].replace(/\\/g,"");if(!y&&f.attrMap[u]){v[1]=f.attrMap[u]}if(v[2]==="~="){v[4]=" "+v[4]+" "}return v},PSEUDO:function(v,s,t,e,x){if(v[1]==="not"){if((q.exec(v[3])||"").length>1||/^\w/.test(v[3])){v[3]=b(v[3],null,null,s)}else{var u=b.filter(v[3],s,t,true^x);if(!t){e.push.apply(e,u)}return false}}else{if(f.match.POS.test(v[0])||f.match.CHILD.test(v[0])){return true}}return v},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){e.parentNode.selectedIndex;return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(t,s,e){return !!b(e[3],t).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(e){return"text"===e.type},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||e.nodeName.toLowerCase()==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)}},setFilters:{first:function(s,e){return e===0},last:function(t,s,e,u){return s===u.length-1},even:function(s,e){return e%2===0},odd:function(s,e){return e%2===1},lt:function(t,s,e){return s<e[3]-0},gt:function(t,s,e){return s>e[3]-0},nth:function(t,s,e){return e[3]-0===s},eq:function(t,s,e){return e[3]-0===s}},filter:{PSEUDO:function(t,z,y,A){var e=z[1],s=f.filters[e];if(s){return s(t,y,z,A)}else{if(e==="contains"){return(t.textContent||t.innerText||b.getText([t])||"").indexOf(z[3])>=0}else{if(e==="not"){var u=z[3];for(var x=0,v=u.length;x<v;x++){if(u[x]===t){return false}}return true}else{b.error("Syntax error, unrecognized expression: "+e)}}}},CHILD:function(e,u){var y=u[1],s=e;switch(y){case"only":case"first":while((s=s.previousSibling)){if(s.nodeType===1){return false}}if(y==="first"){return true}s=e;case"last":while((s=s.nextSibling)){if(s.nodeType===1){return false}}return true;case"nth":var t=u[2],B=u[3];if(t===1&&B===0){return true}var x=u[0],A=e.parentNode;if(A&&(A.sizcache!==x||!e.nodeIndex)){var v=0;for(s=A.firstChild;s;s=s.nextSibling){if(s.nodeType===1){s.nodeIndex=++v}}A.sizcache=x}var z=e.nodeIndex-B;if(t===0){return z===0}else{return(z%t===0&&z/t>=0)}}},ID:function(s,e){return s.nodeType===1&&s.getAttribute("id")===e},TAG:function(s,e){return(e==="*"&&s.nodeType===1)||s.nodeName.toLowerCase()===e},CLASS:function(s,e){return(" "+(s.className||s.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(x,u){var t=u[1],e=f.attrHandle[t]?f.attrHandle[t](x):x[t]!=null?x[t]:x.getAttribute(t),y=e+"",v=u[2],s=u[4];return e==null?v==="!=":v==="="?y===s:v==="*="?y.indexOf(s)>=0:v==="~="?(" "+y+" ").indexOf(s)>=0:!s?y&&e!==false:v==="!="?y!==s:v==="^="?y.indexOf(s)===0:v==="$="?y.substr(y.length-s.length)===s:v==="|="?y===s||y.substr(0,s.length+1)===s+"-":false},POS:function(v,s,t,x){var e=s[2],u=f.setFilters[e];if(u){return u(v,t,s,x)}}}};var l=f.match.POS,g=function(s,e){return"\\"+(e-0+1)};for(var n in f.match){f.match[n]=new RegExp(f.match[n].source+(/(?![^\[]*\])(?![^\(]*\))/.source));f.leftMatch[n]=new RegExp(/(^(?:.|\r|\n)*?)/.source+f.match[n].source.replace(/\\(\d+)/g,g))}var a=function(s,e){s=Array.prototype.slice.call(s,0);if(e){e.push.apply(e,s);return e}return s};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(m){a=function(v,u){var s=u||[],t=0;if(d.call(v)==="[object Array]"){Array.prototype.push.apply(s,v)}else{if(typeof v.length==="number"){for(var e=v.length;t<e;t++){s.push(v[t])}}else{for(;v[t];t++){s.push(v[t])}}}return s}}var c;if(document.documentElement.compareDocumentPosition){c=function(s,e){if(!s.compareDocumentPosition||!e.compareDocumentPosition){if(s==e){p=true}return s.compareDocumentPosition?-1:1}var t=s.compareDocumentPosition(e)&4?-1:s===e?0:1;if(t===0){p=true}return t}}else{if("sourceIndex" in document.documentElement){c=function(s,e){if(!s.sourceIndex||!e.sourceIndex){if(s==e){p=true}return s.sourceIndex?-1:1}var t=s.sourceIndex-e.sourceIndex;if(t===0){p=true}return t}}else{if(document.createRange){c=function(u,s){if(!u.ownerDocument||!s.ownerDocument){if(u==s){p=true}return u.ownerDocument?-1:1}var t=u.ownerDocument.createRange(),e=s.ownerDocument.createRange();t.setStart(u,0);t.setEnd(u,0);e.setStart(s,0);e.setEnd(s,0);var v=t.compareBoundaryPoints(Range.START_TO_END,e);if(v===0){p=true}return v}}}}b.getText=function(e){var s="",u;for(var t=0;e[t];t++){u=e[t];if(u.nodeType===3||u.nodeType===4){s+=u.nodeValue}else{if(u.nodeType!==8){s+=b.getText(u.childNodes)}}}return s};(function(){var s=document.createElement("div"),t="script"+(new Date()).getTime();s.innerHTML="<a name='"+t+"'/>";var e=document.documentElement;e.insertBefore(s,e.firstChild);if(document.getElementById(t)){f.find.ID=function(v,x,y){if(typeof x.getElementById!=="undefined"&&!y){var u=x.getElementById(v[1]);return u?u.id===v[1]||typeof u.getAttributeNode!=="undefined"&&u.getAttributeNode("id").nodeValue===v[1]?[u]:undefined:[]}};f.filter.ID=function(x,u){var v=typeof x.getAttributeNode!=="undefined"&&x.getAttributeNode("id");return x.nodeType===1&&v&&v.nodeValue===u}}e.removeChild(s);e=s=null})();(function(){var e=document.createElement("div");e.appendChild(document.createComment(""));if(e.getElementsByTagName("*").length>0){f.find.TAG=function(s,x){var v=x.getElementsByTagName(s[1]);if(s[1]==="*"){var u=[];for(var t=0;v[t];t++){if(v[t].nodeType===1){u.push(v[t])}}v=u}return v}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){f.attrHandle.href=function(s){return s.getAttribute("href",2)}}e=null})();if(document.querySelectorAll){(function(){var e=b,t=document.createElement("div");t.innerHTML="<p class='TEST'></p>";if(t.querySelectorAll&&t.querySelectorAll(".TEST").length===0){return}b=function(y,x,u,v){x=x||document;if(!v&&x.nodeType===9&&!b.isXML(x)){try{return a(x.querySelectorAll(y),u)}catch(z){}}return e(y,x,u,v)};for(var s in e){b[s]=e[s]}t=null})()}(function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}f.order.splice(1,0,"CLASS");f.find.CLASS=function(s,t,u){if(typeof t.getElementsByClassName!=="undefined"&&!u){return t.getElementsByClassName(s[1])}};e=null})();function o(s,y,x,B,z,A){for(var u=0,t=B.length;u<t;u++){var e=B[u];if(e){e=e[s];var v=false;while(e){if(e.sizcache===x){v=B[e.sizset];break}if(e.nodeType===1&&!A){e.sizcache=x;e.sizset=u}if(e.nodeName.toLowerCase()===y){v=e;break}e=e[s]}B[u]=v}}}function r(s,y,x,B,z,A){for(var u=0,t=B.length;u<t;u++){var e=B[u];if(e){e=e[s];var v=false;while(e){if(e.sizcache===x){v=B[e.sizset];break}if(e.nodeType===1){if(!A){e.sizcache=x;e.sizset=u}if(typeof y!=="string"){if(e===y){v=true;break}}else{if(b.filter(y,[e]).length>0){v=e;break}}}e=e[s]}B[u]=v}}}b.contains=document.compareDocumentPosition?function(s,e){return !!(s.compareDocumentPosition(e)&16)}:function(s,e){return s!==e&&(s.contains?s.contains(e):true)};b.isXML=function(e){var s=(e?e.ownerDocument||e:0).documentElement;return s?s.nodeName!=="HTML":false};var i=function(e,z){var u=[],v="",x,t=z.nodeType?[z]:z;while((x=f.match.PSEUDO.exec(e))){v+=x[0];e=e.replace(f.match.PSEUDO,"")}e=f.relative[e]?e+"*":e;for(var y=0,s=t.length;y<s;y++){b(e,t[y],u)}return b.filter(v,u)};window.tinymce.dom.Sizzle=b})();(function(d){var f=d.each,c=d.DOM,b=d.isIE,e=d.isWebKit,a;d.create("tinymce.dom.EventUtils",{EventUtils:function(){this.inits=[];this.events=[]},add:function(p,q,m,k){var g,i=this,j=i.events,l;if(q instanceof Array){l=[];f(q,function(o){l.push(i.add(p,o,m,k))});return l}if(p&&p.hasOwnProperty&&p instanceof Array){l=[];f(p,function(n){n=c.get(n);l.push(i.add(n,q,m,k))});return l}p=c.get(p);if(!p){return}g=function(n){if(i.disabled){return}n=n||window.event;if(n&&b){if(!n.target){n.target=n.srcElement}d.extend(n,i._stoppers)}if(!k){return m(n)}return m.call(k,n)};if(q=="unload"){d.unloads.unshift({func:g});return g}if(q=="init"){if(i.domLoaded){g()}else{i.inits.push(g)}return g}j.push({obj:p,name:q,func:m,cfunc:g,scope:k});i._add(p,q,g);return m},remove:function(m,p,l){var i=this,g=i.events,j=false,k;if(m&&m.hasOwnProperty&&m instanceof Array){k=[];f(m,function(n){n=c.get(n);k.push(i.remove(n,p,l))});return k}m=c.get(m);f(g,function(o,n){if(o.obj==m&&o.name==p&&(!l||(o.func==l||o.cfunc==l))){g.splice(n,1);i._remove(m,p,o.cfunc);j=true;return false}});return j},clear:function(m){var k=this,g=k.events,j,l;if(m){m=c.get(m);for(j=g.length-1;j>=0;j--){l=g[j];if(l.obj===m){k._remove(l.obj,l.name,l.cfunc);l.obj=l.cfunc=null;g.splice(j,1)}}}},cancel:function(g){if(!g){return false}this.stop(g);return this.prevent(g)},stop:function(g){if(g.stopPropagation){g.stopPropagation()}else{g.cancelBubble=true}return false},prevent:function(g){if(g.preventDefault){g.preventDefault()}else{g.returnValue=false}return false},destroy:function(){var g=this;f(g.events,function(k,j){g._remove(k.obj,k.name,k.cfunc);k.obj=k.cfunc=null});g.events=[];g=null},_add:function(i,j,g){if(i.attachEvent){i.attachEvent("on"+j,g)}else{if(i.addEventListener){i.addEventListener(j,g,false)}else{i["on"+j]=g}}},_remove:function(j,k,i){if(j){try{if(j.detachEvent){j.detachEvent("on"+k,i)}else{if(j.removeEventListener){j.removeEventListener(k,i,false)}else{j["on"+k]=null}}}catch(g){}}},_pageInit:function(i){var g=this;if(g.domLoaded){return}g.domLoaded=true;f(g.inits,function(j){j()});g.inits=[]},_wait:function(j){var g=this,i=j.document;if(j.tinyMCE_GZ&&tinyMCE_GZ.loaded){g.domLoaded=1;return}if(i.attachEvent){i.attachEvent("onreadystatechange",function(){if(i.readyState==="complete"){i.detachEvent("onreadystatechange",arguments.callee);g._pageInit(j)}});if(i.documentElement.doScroll&&j==j.top){(function(){if(g.domLoaded){return}try{i.documentElement.doScroll("left")}catch(k){setTimeout(arguments.callee,0);return}g._pageInit(j)})()}}else{if(i.addEventListener){g._add(j,"DOMContentLoaded",function(){g._pageInit(j)})}}g._add(j,"load",function(){g._pageInit(j)})},_stoppers:{preventDefault:function(){this.returnValue=false},stopPropagation:function(){this.cancelBubble=true}}});a=d.dom.Event=new d.dom.EventUtils();a._wait(window);d.addUnload(function(){a.destroy()})})(tinymce);(function(a){a.dom.Element=function(f,d){var b=this,e,c;b.settings=d=d||{};b.id=f;b.dom=e=d.dom||a.DOM;if(!a.isIE){c=e.get(b.id)}a.each(("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get").split(/,/),function(g){b[g]=function(){var j=[f],k;for(k=0;k<arguments.length;k++){j.push(arguments[k])}j=e[g].apply(e,j);b.update(g);return j}});a.extend(b,{on:function(j,i,g){return a.dom.Event.add(b.id,j,i,g)},getXY:function(){return{x:parseInt(b.getStyle("left")),y:parseInt(b.getStyle("top"))}},getSize:function(){var g=e.get(b.id);return{w:parseInt(b.getStyle("width")||g.clientWidth),h:parseInt(b.getStyle("height")||g.clientHeight)}},moveTo:function(g,i){b.setStyles({left:g,top:i})},moveBy:function(g,j){var i=b.getXY();b.moveTo(i.x+g,i.y+j)},resizeTo:function(g,i){b.setStyles({width:g,height:i})},resizeBy:function(g,j){var i=b.getSize();b.resizeTo(i.w+g,i.h+j)},update:function(i){var g;if(a.isIE6&&d.blocker){i=i||"";if(i.indexOf("get")===0||i.indexOf("has")===0||i.indexOf("is")===0){return}if(i=="remove"){e.remove(b.blocker);return}if(!b.blocker){b.blocker=e.uniqueId();g=e.add(d.container||e.getRoot(),"iframe",{id:b.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'});e.setStyle(g,"opacity",0)}else{g=e.get(b.blocker)}e.setStyles(g,{left:b.getStyle("left",1),top:b.getStyle("top",1),width:b.getStyle("width",1),height:b.getStyle("height",1),display:b.getStyle("display",1),zIndex:parseInt(b.getStyle("zIndex",1)||0)-1})}}})}})(tinymce);(function(c){function e(f){return f.replace(/[\n\r]+/g,"")}var b=c.is,a=c.isIE,d=c.each;c.create("tinymce.dom.Selection",{Selection:function(j,i,g){var f=this;f.dom=j;f.win=i;f.serializer=g;d(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(k){f[k]=new c.util.Dispatcher(f)});if(!f.win.getSelection){f.tridentSel=new c.dom.TridentSelection(f)}c.addUnload(f.destroy,f)},getContent:function(g){var f=this,i=f.getRng(),m=f.dom.create("body"),k=f.getSel(),j,l,o;g=g||{};j=l="";g.get=true;g.format=g.format||"html";f.onBeforeGetContent.dispatch(f,g);if(g.format=="text"){return f.isCollapsed()?"":(i.text||(k.toString?k.toString():""))}if(i.cloneContents){o=i.cloneContents();if(o){m.appendChild(o)}}else{if(b(i.item)||b(i.htmlText)){m.innerHTML=i.item?i.item(0).outerHTML:i.htmlText}else{m.innerHTML=i.toString()}}if(/^\s/.test(m.innerHTML)){j=" "}if(/\s+$/.test(m.innerHTML)){l=" "}g.getInner=true;g.content=f.isCollapsed()?"":j+f.serializer.serialize(m,g)+l;f.onGetContent.dispatch(f,g);return g.content},setContent:function(j,i){var g=this,k=g.getRng(),n,l=g.win.document;i=i||{format:"html"};i.set=true;j=i.content=g.dom.processHTML(j);g.onBeforeSetContent.dispatch(g,i);j=i.content;if(k.insertNode){j+='<span id="__caret">_</span>';if(k.startContainer==l&&k.endContainer==l){l.body.innerHTML=j}else{k.deleteContents();if(l.body.childNodes.length==0){l.body.innerHTML=j}else{if(k.createContextualFragment){k.insertNode(k.createContextualFragment(j))}else{var m=l.createDocumentFragment(),f=l.createElement("div");m.appendChild(f);f.outerHTML=j;k.insertNode(m)}}}n=g.dom.get("__caret");k=l.createRange();k.setStartBefore(n);k.setEndBefore(n);g.setRng(k);g.dom.remove("__caret")}else{if(k.item){l.execCommand("Delete",false,null);k=g.getRng()}k.pasteHTML(j)}g.onSetContent.dispatch(g,i)},getStart:function(){var g=this.getRng(),i,f,k,j;if(g.duplicate||g.item){if(g.item){return g.item(0)}k=g.duplicate();k.collapse(1);i=k.parentElement();f=j=g.parentElement();while(j=j.parentNode){if(j==i){i=f;break}}if(i&&i.nodeName=="BODY"){return i.firstChild||i}return i}else{i=g.startContainer;if(i.nodeType==1&&i.hasChildNodes()){i=i.childNodes[Math.min(i.childNodes.length-1,g.startOffset)]}if(i&&i.nodeType==3){return i.parentNode}return i}},getEnd:function(){var g=this,i=g.getRng(),j,f;if(i.duplicate||i.item){if(i.item){return i.item(0)}i=i.duplicate();i.collapse(0);j=i.parentElement();if(j&&j.nodeName=="BODY"){return j.lastChild||j}return j}else{j=i.endContainer;f=i.endOffset;if(j.nodeType==1&&j.hasChildNodes()){j=j.childNodes[f>0?f-1:f]}if(j&&j.nodeType==3){return j.parentNode}return j}},getBookmark:function(r,s){var v=this,n=v.dom,g,k,j,o,i,p,q,m="\uFEFF",u;function f(x,y){var t=0;d(n.select(x),function(A,z){if(A==y){t=z}});return t}if(r==2){function l(){var x=v.getRng(true),t=n.getRoot(),y={};function z(C,H){var B=C[H?"startContainer":"endContainer"],G=C[H?"startOffset":"endOffset"],A=[],D,F,E=0;if(B.nodeType==3){if(s){for(D=B.previousSibling;D&&D.nodeType==3;D=D.previousSibling){G+=D.nodeValue.length}}A.push(G)}else{F=B.childNodes;if(G>=F.length&&F.length){E=1;G=Math.max(0,F.length-1)}A.push(v.dom.nodeIndex(F[G],s)+E)}for(;B&&B!=t;B=B.parentNode){A.push(v.dom.nodeIndex(B,s))}return A}y.start=z(x,true);if(!v.isCollapsed()){y.end=z(x)}return y}return l()}if(r){return{rng:v.getRng()}}g=v.getRng();j=n.uniqueId();o=tinyMCE.activeEditor.selection.isCollapsed();u="overflow:hidden;line-height:0px";if(g.duplicate||g.item){if(!g.item){k=g.duplicate();g.collapse();g.pasteHTML('<span _mce_type="bookmark" id="'+j+'_start" style="'+u+'">'+m+"</span>");if(!o){k.collapse(false);k.pasteHTML('<span _mce_type="bookmark" id="'+j+'_end" style="'+u+'">'+m+"</span>")}}else{p=g.item(0);i=p.nodeName;return{name:i,index:f(i,p)}}}else{p=v.getNode();i=p.nodeName;if(i=="IMG"){return{name:i,index:f(i,p)}}k=g.cloneRange();if(!o){k.collapse(false);k.insertNode(n.create("span",{_mce_type:"bookmark",id:j+"_end",style:u},m))}g.collapse(true);g.insertNode(n.create("span",{_mce_type:"bookmark",id:j+"_start",style:u},m))}v.moveToBookmark({id:j,keep:1});return{id:j}},moveToBookmark:function(o){var s=this,m=s.dom,j,i,f,r,k,u,p,q;if(s.tridentSel){s.tridentSel.destroy()}if(o){if(o.start){f=m.createRng();r=m.getRoot();function g(A){var t=o[A?"start":"end"],x,y,z,v;if(t){for(y=r,x=t.length-1;x>=1;x--){v=y.childNodes;if(v.length){y=v[t[x]]}}if(A){f.setStart(y,t[0])}else{f.setEnd(y,t[0])}}}g(true);g();s.setRng(f)}else{if(o.id){function l(B){var v=m.get(o.id+"_"+B),A,t,y,z,x=o.keep;if(v){A=v.parentNode;if(B=="start"){if(!x){t=m.nodeIndex(v)}else{A=v.firstChild;t=1}k=u=A;p=q=t}else{if(!x){t=m.nodeIndex(v)}else{A=v.firstChild;t=1}u=A;q=t}if(!x){z=v.previousSibling;y=v.nextSibling;d(c.grep(v.childNodes),function(C){if(C.nodeType==3){C.nodeValue=C.nodeValue.replace(/\uFEFF/g,"")}});while(v=m.get(o.id+"_"+B)){m.remove(v,1)}if(z&&y&&z.nodeType==y.nodeType&&z.nodeType==3&&!c.isOpera){t=z.nodeValue.length;z.appendData(y.nodeValue);m.remove(y);if(B=="start"){k=u=z;p=q=t}else{u=z;q=t}}}}}function n(t){if(!a&&m.isBlock(t)&&!t.innerHTML){t.innerHTML='<br _mce_bogus="1" />'}return t}l("start");l("end");if(k){f=m.createRng();f.setStart(n(k),p);f.setEnd(n(u),q);s.setRng(f)}}else{if(o.name){s.select(m.select(o.name)[o.index])}else{if(o.rng){s.setRng(o.rng)}}}}}},select:function(l,k){var j=this,m=j.dom,g=m.createRng(),f;f=m.nodeIndex(l);g.setStart(l.parentNode,f);g.setEnd(l.parentNode,f+1);if(k){function i(n,p){var o=new c.dom.TreeWalker(n,n);do{if(n.nodeType==3&&c.trim(n.nodeValue).length!=0){if(p){g.setStart(n,0)}else{g.setEnd(n,n.nodeValue.length)}return}if(n.nodeName=="BR"){if(p){g.setStartBefore(n)}else{g.setEndBefore(n)}return}}while(n=(p?o.next():o.prev()))}i(l,1);i(l)}j.setRng(g);return l},isCollapsed:function(){var f=this,i=f.getRng(),g=f.getSel();if(!i||i.item){return false}if(i.compareEndPoints){return i.compareEndPoints("StartToEnd",i)===0}return !g||i.collapsed},collapse:function(f){var g=this,i=g.getRng(),j;if(i.item){j=i.item(0);i=this.win.document.body.createTextRange();i.moveToElementText(j)}i.collapse(!!f);g.setRng(i)},getSel:function(){var g=this,f=this.win;return f.getSelection?f.getSelection():f.document.selection},getRng:function(m){var g=this,i,j,l,k=g.win.document;if(m&&g.tridentSel){return g.tridentSel.getRangeAt(0)}try{if(i=g.getSel()){j=i.rangeCount>0?i.getRangeAt(0):(i.createRange?i.createRange():k.createRange())}}catch(f){}if(j.setStart&&c.isIE&&k.selection.createRange().item){l=k.selection.createRange().item(0);j=k.createRange();j.setStartBefore(l);j.setEndAfter(l)}if(!j){j=k.createRange?k.createRange():k.body.createTextRange()}if(g.selectedRange&&g.explicitRange){if(j.compareBoundaryPoints(j.START_TO_START,g.selectedRange)===0&&j.compareBoundaryPoints(j.END_TO_END,g.selectedRange)===0){j=g.explicitRange}else{g.selectedRange=null;g.explicitRange=null}}return j},setRng:function(j){var i,g=this;if(!g.tridentSel){i=g.getSel();if(i){g.explicitRange=j;i.removeAllRanges();i.addRange(j);g.selectedRange=i.getRangeAt(0)}}else{if(j.cloneRange){g.tridentSel.addRange(j);return}try{j.select()}catch(f){}}},setNode:function(g){var f=this;f.setContent(f.dom.getOuterHTML(g));return g},getNode:function(){var g=this,f=g.getRng(),i=g.getSel(),j;if(f.setStart){if(!f){return g.dom.getRoot()}j=f.commonAncestorContainer;if(!f.collapsed){if(f.startContainer==f.endContainer){if(f.startOffset-f.endOffset<2){if(f.startContainer.hasChildNodes()){j=f.startContainer.childNodes[f.startOffset]}}}if(c.isWebKit&&i.anchorNode&&i.anchorNode.nodeType==1){return i.anchorNode.childNodes[i.anchorOffset]}}if(j&&j.nodeType==3){return j.parentNode}return j}return f.item?f.item(0):f.parentElement()},getSelectedBlocks:function(g,f){var j=this,k=j.dom,o,i,m,l=[];o=k.getParent(g||j.getStart(),k.isBlock);i=k.getParent(f||j.getEnd(),k.isBlock);if(o){l.push(o)}if(o&&i&&o!=i){m=o;while((m=m.nextSibling)&&m!=i){if(k.isBlock(m)){l.push(m)}}}if(i&&o!=i){l.push(i)}return l},destroy:function(g){var f=this;f.win=null;if(f.tridentSel){f.tridentSel.destroy()}if(!g){c.removeUnload(f.destroy)}}})})(tinymce);(function(a){a.create("tinymce.dom.XMLWriter",{node:null,XMLWriter:function(c){function b(){var e=document.implementation;if(!e||!e.createDocument){try{return new ActiveXObject("MSXML2.DOMDocument")}catch(d){}try{return new ActiveXObject("Microsoft.XmlDom")}catch(d){}}else{return e.createDocument("","",null)}}this.doc=b();this.valid=a.isOpera||a.isWebKit;this.reset()},reset:function(){var b=this,c=b.doc;if(c.firstChild){c.removeChild(c.firstChild)}b.node=c.appendChild(c.createElement("html"))},writeStartElement:function(c){var b=this;b.node=b.node.appendChild(b.doc.createElement(c))},writeAttribute:function(c,b){if(this.valid){b=b.replace(/>/g,"%MCGT%")}this.node.setAttribute(c,b)},writeEndElement:function(){this.node=this.node.parentNode},writeFullEndElement:function(){var b=this,c=b.node;c.appendChild(b.doc.createTextNode(""));b.node=c.parentNode},writeText:function(b){if(this.valid){b=b.replace(/>/g,"%MCGT%")}this.node.appendChild(this.doc.createTextNode(b))},writeCDATA:function(b){this.node.appendChild(this.doc.createCDATASection(b))},writeComment:function(b){if(a.isIE){b=b.replace(/^\-|\-$/g," ")}this.node.appendChild(this.doc.createComment(b.replace(/\-\-/g," ")))},getContent:function(){var b;b=this.doc.xml||new XMLSerializer().serializeToString(this.doc);b=b.replace(/<\?[^?]+\?>|<html[^>]*>|<\/html>|<html\/>|<!DOCTYPE[^>]+>/g,"");b=b.replace(/ ?\/>/g," />");if(this.valid){b=b.replace(/\%MCGT%/g,"&gt;")}return b}})})(tinymce);(function(c){var d=/[&\"<>]/g,b=/[<>&]/g,a={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};c.create("tinymce.dom.StringWriter",{str:null,tags:null,count:0,settings:null,indent:null,StringWriter:function(e){this.settings=c.extend({indent_char:" ",indentation:0},e);this.reset()},reset:function(){this.indent="";this.str="";this.tags=[];this.count=0},writeStartElement:function(e){this._writeAttributesEnd();this.writeRaw("<"+e);this.tags.push(e);this.inAttr=true;this.count++;this.elementCount=this.count;this.attrs={}},writeAttribute:function(g,e){var f=this;if(!f.attrs[g]){f.writeRaw(" "+f.encode(g,true)+'="'+f.encode(e,true)+'"');f.attrs[g]=e}},writeEndElement:function(){var e;if(this.tags.length>0){e=this.tags.pop();if(this._writeAttributesEnd(1)){this.writeRaw("</"+e+">")}if(this.settings.indentation>0){this.writeRaw("\n")}}},writeFullEndElement:function(){if(this.tags.length>0){this._writeAttributesEnd();this.writeRaw("</"+this.tags.pop()+">");if(this.settings.indentation>0){this.writeRaw("\n")}}},writeText:function(e){this._writeAttributesEnd();this.writeRaw(this.encode(e));this.count++},writeCDATA:function(e){this._writeAttributesEnd();this.writeRaw("<![CDATA["+e+"]]>");this.count++},writeComment:function(e){this._writeAttributesEnd();this.writeRaw("<!--"+e+"-->");this.count++},writeRaw:function(e){this.str+=e},encode:function(f,e){return f.replace(e?d:b,function(g){return a[g]})},getContent:function(){return this.str},_writeAttributesEnd:function(e){if(!this.inAttr){return}this.inAttr=false;if(e&&this.elementCount==this.count){this.writeRaw(" />");return false}this.writeRaw(">");return true}})})(tinymce);(function(e){var g=e.extend,f=e.each,b=e.util.Dispatcher,d=e.isIE,a=e.isGecko;function c(i){return i.replace(/([?+*])/g,".$1")}e.create("tinymce.dom.Serializer",{Serializer:function(k){var j=this;j.key=0;j.onPreProcess=new b(j);j.onPostProcess=new b(j);try{j.writer=new e.dom.XMLWriter()}catch(i){j.writer=new e.dom.StringWriter()}if(e.isIE&&document.documentMode>8){j.writer=new e.dom.StringWriter()}j.settings=k=g({dom:e.DOM,valid_nodes:0,node_filter:0,attr_filter:0,invalid_attrs:/^(_mce_|_moz_|sizset|sizcache)/,closed:/^(br|hr|input|meta|img|link|param|area)$/,entity_encoding:"named",entities:"160,nbsp,161,iexcl,162,cent,163,pound,164,curren,165,yen,166,brvbar,167,sect,168,uml,169,copy,170,ordf,171,laquo,172,not,173,shy,174,reg,175,macr,176,deg,177,plusmn,178,sup2,179,sup3,180,acute,181,micro,182,para,183,middot,184,cedil,185,sup1,186,ordm,187,raquo,188,frac14,189,frac12,190,frac34,191,iquest,192,Agrave,193,Aacute,194,Acirc,195,Atilde,196,Auml,197,Aring,198,AElig,199,Ccedil,200,Egrave,201,Eacute,202,Ecirc,203,Euml,204,Igrave,205,Iacute,206,Icirc,207,Iuml,208,ETH,209,Ntilde,210,Ograve,211,Oacute,212,Ocirc,213,Otilde,214,Ouml,215,times,216,Oslash,217,Ugrave,218,Uacute,219,Ucirc,220,Uuml,221,Yacute,222,THORN,223,szlig,224,agrave,225,aacute,226,acirc,227,atilde,228,auml,229,aring,230,aelig,231,ccedil,232,egrave,233,eacute,234,ecirc,235,euml,236,igrave,237,iacute,238,icirc,239,iuml,240,eth,241,ntilde,242,ograve,243,oacute,244,ocirc,245,otilde,246,ouml,247,divide,248,oslash,249,ugrave,250,uacute,251,ucirc,252,uuml,253,yacute,254,thorn,255,yuml,402,fnof,913,Alpha,914,Beta,915,Gamma,916,Delta,917,Epsilon,918,Zeta,919,Eta,920,Theta,921,Iota,922,Kappa,923,Lambda,924,Mu,925,Nu,926,Xi,927,Omicron,928,Pi,929,Rho,931,Sigma,932,Tau,933,Upsilon,934,Phi,935,Chi,936,Psi,937,Omega,945,alpha,946,beta,947,gamma,948,delta,949,epsilon,950,zeta,951,eta,952,theta,953,iota,954,kappa,955,lambda,956,mu,957,nu,958,xi,959,omicron,960,pi,961,rho,962,sigmaf,963,sigma,964,tau,965,upsilon,966,phi,967,chi,968,psi,969,omega,977,thetasym,978,upsih,982,piv,8226,bull,8230,hellip,8242,prime,8243,Prime,8254,oline,8260,frasl,8472,weierp,8465,image,8476,real,8482,trade,8501,alefsym,8592,larr,8593,uarr,8594,rarr,8595,darr,8596,harr,8629,crarr,8656,lArr,8657,uArr,8658,rArr,8659,dArr,8660,hArr,8704,forall,8706,part,8707,exist,8709,empty,8711,nabla,8712,isin,8713,notin,8715,ni,8719,prod,8721,sum,8722,minus,8727,lowast,8730,radic,8733,prop,8734,infin,8736,ang,8743,and,8744,or,8745,cap,8746,cup,8747,int,8756,there4,8764,sim,8773,cong,8776,asymp,8800,ne,8801,equiv,8804,le,8805,ge,8834,sub,8835,sup,8836,nsub,8838,sube,8839,supe,8853,oplus,8855,otimes,8869,perp,8901,sdot,8968,lceil,8969,rceil,8970,lfloor,8971,rfloor,9001,lang,9002,rang,9674,loz,9824,spades,9827,clubs,9829,hearts,9830,diams,338,OElig,339,oelig,352,Scaron,353,scaron,376,Yuml,710,circ,732,tilde,8194,ensp,8195,emsp,8201,thinsp,8204,zwnj,8205,zwj,8206,lrm,8207,rlm,8211,ndash,8212,mdash,8216,lsquo,8217,rsquo,8218,sbquo,8220,ldquo,8221,rdquo,8222,bdquo,8224,dagger,8225,Dagger,8240,permil,8249,lsaquo,8250,rsaquo,8364,euro",valid_elements:"*[*]",extended_valid_elements:0,invalid_elements:0,fix_table_elements:1,fix_list_elements:true,fix_content_duplication:true,convert_fonts_to_spans:false,font_size_classes:0,apply_source_formatting:0,indent_mode:"simple",indent_char:"\t",indent_levels:1,remove_linebreaks:1,remove_redundant_brs:1,element_format:"xhtml"},k);j.dom=k.dom;j.schema=k.schema;if(k.entity_encoding=="named"&&!k.entities){k.entity_encoding="raw"}if(k.remove_redundant_brs){j.onPostProcess.add(function(l,m){m.content=m.content.replace(/(<br \/>\s*)+<\/(p|h[1-6]|div|li)>/gi,function(o,n,p){if(/^<br \/>\s*<\//.test(o)){return"</"+p+">"}return o})})}if(k.element_format=="html"){j.onPostProcess.add(function(l,m){m.content=m.content.replace(/<([^>]+) \/>/g,"<$1>")})}if(k.fix_list_elements){j.onPreProcess.add(function(y,t){var m,A,z=["ol","ul"],v,u,s,l=/^(OL|UL)$/,B;function q(r,x){var o=x.split(","),p;while((r=r.previousSibling)!=null){for(p=0;p<o.length;p++){if(r.nodeName==o[p]){return r}}}return null}for(A=0;A<z.length;A++){m=j.dom.select(z[A],t.node);for(v=0;v<m.length;v++){u=m[v];s=u.parentNode;if(l.test(s.nodeName)){B=q(u,"LI");if(!B){B=j.dom.create("li");B.innerHTML="&nbsp;";B.appendChild(u);s.insertBefore(B,s.firstChild)}else{B.appendChild(u)}}}}})}if(k.fix_table_elements){j.onPreProcess.add(function(l,m){if(!e.isOpera||opera.buildNumber()>=1767){f(j.dom.select("p table",m.node).reverse(),function(q){var p=j.dom.getParent(q.parentNode,"table,p");if(p.nodeName!="TABLE"){try{j.dom.split(p,q)}catch(o){}}})}})}},setEntities:function(p){var o=this,k,n,j={},m;if(o.entityLookup){return}k=p.split(",");for(n=0;n<k.length;n+=2){m=k[n];if(m==34||m==38||m==60||m==62){continue}j[String.fromCharCode(k[n])]=k[n+1];m=parseInt(k[n]).toString(16)}o.entityLookup=j},setRules:function(j){var i=this;i._setup();i.rules={};i.wildRules=[];i.validElements={};return i.addRules(j)},addRules:function(j){var i=this,k;if(!j){return}i._setup();f(j.split(","),function(n){var r=n.split(/\[|\]/),m=r[0].split("/"),t,l,q,o=[];if(k){l=e.extend([],k.attribs)}if(r.length>1){f(r[1].split("|"),function(v){var p={},u;l=l||[];v=v.replace(/::/g,"~");v=/^([!\-])?([\w*.?~_\-]+|)([=:<])?(.+)?$/.exec(v);v[2]=v[2].replace(/~/g,":");if(v[1]=="!"){t=t||[];t.push(v[2])}if(v[1]=="-"){for(u=0;u<l.length;u++){if(l[u].name==v[2]){l.splice(u,1);return}}}switch(v[3]){case"=":p.defaultVal=v[4]||"";break;case":":p.forcedVal=v[4];break;case"<":p.validVals=v[4].split("?");break}if(/[*.?]/.test(v[2])){q=q||[];p.nameRE=new RegExp("^"+c(v[2])+"$");q.push(p)}else{p.name=v[2];l.push(p)}o.push(v[2])})}f(m,function(y,v){var z=y.charAt(0),u=1,p={};if(k){if(k.noEmpty){p.noEmpty=k.noEmpty}if(k.fullEnd){p.fullEnd=k.fullEnd}if(k.padd){p.padd=k.padd}}switch(z){case"-":p.noEmpty=true;break;case"+":p.fullEnd=true;break;case"#":p.padd=true;break;default:u=0}m[v]=y=y.substring(u);i.validElements[y]=1;if(/[*.?]/.test(m[0])){p.nameRE=new RegExp("^"+c(m[0])+"$");i.wildRules=i.wildRules||{};i.wildRules.push(p)}else{p.name=m[0];if(m[0]=="@"){k=p}i.rules[y]=p}p.attribs=l;if(t){p.requiredAttribs=t}if(q){y="";f(o,function(s){if(y){y+="|"}y+="("+c(s)+")"});p.validAttribsRE=new RegExp("^"+y.toLowerCase()+"$");p.wildAttribs=q}})});j="";f(i.validElements,function(m,l){if(j){j+="|"}if(l!="@"){j+=l}});i.validElementsRE=new RegExp("^("+c(j.toLowerCase())+")$")},findRule:function(o){var k=this,m=k.rules,j,l;k._setup();l=m[o];if(l){return l}m=k.wildRules;for(j=0;j<m.length;j++){if(m[j].nameRE.test(o)){return m[j]}}return null},findAttribRule:function(j,m){var k,l=j.wildAttribs;for(k=0;k<l.length;k++){if(l[k].nameRE.test(m)){return l[k]}}return null},serialize:function(r,q){var m,k=this,p,i,j,l;k._setup();q=q||{};q.format=q.format||"html";k.processObj=q;if(d){l=[];f(r.getElementsByTagName("option"),function(s){var o=k.dom.getAttrib(s,"selected");l.push(o?o:null)})}r=r.cloneNode(true);if(d){f(r.getElementsByTagName("option"),function(s,o){k.dom.setAttrib(s,"selected",l[o])})}j=r.ownerDocument.implementation;if(j.createHTMLDocument&&(e.isOpera&&opera.buildNumber()>=1767)){p=j.createHTMLDocument("");f(r.nodeName=="BODY"?r.childNodes:[r],function(n){p.body.appendChild(p.importNode(n,true))});if(r.nodeName!="BODY"){r=p.body.firstChild}else{r=p.body}i=k.dom.doc;k.dom.doc=p}k.key=""+(parseInt(k.key)+1);if(!q.no_events){q.node=r;k.onPreProcess.dispatch(k,q)}k.writer.reset();k._info=q;k._serializeNode(r,q.getInner);q.content=k.writer.getContent();if(i){k.dom.doc=i}if(!q.no_events){k.onPostProcess.dispatch(k,q)}k._postProcess(q);q.node=null;return e.trim(q.content)},_postProcess:function(n){var i=this,k=i.settings,j=n.content,m=[],l;if(n.format=="html"){l=i._protect({content:j,patterns:[{pattern:/(<script[^>]*>)(.*?)(<\/script>)/g},{pattern:/(<noscript[^>]*>)(.*?)(<\/noscript>)/g},{pattern:/(<style[^>]*>)(.*?)(<\/style>)/g},{pattern:/(<pre[^>]*>)(.*?)(<\/pre>)/g,encode:1},{pattern:/(<!--\[CDATA\[)(.*?)(\]\]-->)/g}]});j=l.content;if(k.entity_encoding!=="raw"){j=i._encode(j)}if(!n.set){j=e._replace(/<p>\s+<\/p>|<p([^>]+)>\s+<\/p>/g,k.entity_encoding=="numeric"?"<p$1>&#160;</p>":"<p$1>&nbsp;</p>",j);if(k.remove_linebreaks){j=j.replace(/\r?\n|\r/g," ");j=e._replace(/(<[^>]+>)\s+/g,"$1 ",j);j=e._replace(/\s+(<\/[^>]+>)/g," $1",j);j=e._replace(/<(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object) ([^>]+)>\s+/g,"<$1 $2>",j);j=e._replace(/<(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object)>\s+/g,"<$1>",j);j=e._replace(/\s+<\/(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object)>/g,"</$1>",j)}if(k.apply_source_formatting&&k.indent_mode=="simple"){j=e._replace(/<(\/?)(ul|hr|table|meta|link|tbody|tr|object|body|head|html|map)(|[^>]+)>\s*/g,"\n<$1$2$3>\n",j);j=e._replace(/\s*<(p|h[1-6]|blockquote|div|title|style|pre|script|td|li|area)(|[^>]+)>/g,"\n<$1$2>",j);j=e._replace(/<\/(p|h[1-6]|blockquote|div|title|style|pre|script|td|li)>\s*/g,"</$1>\n",j);j=j.replace(/\n\n/g,"\n")}}j=i._unprotect(j,l);j=e._replace(/<!--\[CDATA\[([\s\S]+)\]\]-->/g,"<![CDATA[$1]]>",j);if(k.entity_encoding=="raw"){j=e._replace(/<p>&nbsp;<\/p>|<p([^>]+)>&nbsp;<\/p>/g,"<p$1>\u00a0</p>",j)}j=j.replace(/<noscript([^>]+|)>([\s\S]*?)<\/noscript>/g,function(o,q,p){return"<noscript"+q+">"+i.dom.decode(p.replace(/<!--|-->/g,""))+"</noscript>"})}n.content=j},_serializeNode:function(F,K){var B=this,C=B.settings,z=B.writer,r,k,x,H,G,J,D,j,A,m,u,E,q,o,I,p,y;if(!C.node_filter||C.node_filter(F)){switch(F.nodeType){case 1:if(F.hasAttribute?F.hasAttribute("_mce_bogus"):F.getAttribute("_mce_bogus")){return}q=I=false;r=F.hasChildNodes();m=F.getAttribute("_mce_name")||F.nodeName.toLowerCase();p=F.getAttribute("_mce_type");if(p){if(!B._info.cleanup){q=true;return}else{I=1}}if(d){y=F.scopeName;if(y&&y!=="HTML"&&y!=="html"){m=y+":"+m}}if(m.indexOf("mce:")===0){m=m.substring(4)}if(!I){if(!B.validElementsRE||!B.validElementsRE.test(m)||(B.invalidElementsRE&&B.invalidElementsRE.test(m))||K){q=true;break}}if(d){if(C.fix_content_duplication){if(F._mce_serialized==B.key){return}F._mce_serialized=B.key}if(m.charAt(0)=="/"){m=m.substring(1)}}else{if(a){if(F.nodeName==="BR"&&F.getAttribute("type")=="_moz"){return}}}if(C.validate_children){if(B.elementName&&!B.schema.isValid(B.elementName,m)){q=true;break}B.elementName=m}u=B.findRule(m);if(!u){q=true;break}m=u.name||m;o=C.closed.test(m);if((!r&&u.noEmpty)||(d&&!m)){q=true;break}if(u.requiredAttribs){J=u.requiredAttribs;for(H=J.length-1;H>=0;H--){if(this.dom.getAttrib(F,J[H])!==""){break}}if(H==-1){q=true;break}}z.writeStartElement(m);if(u.attribs){for(H=0,D=u.attribs,G=D.length;H<G;H++){J=D[H];A=B._getAttrib(F,J);if(A!==null){z.writeAttribute(J.name,A)}}}if(u.validAttribsRE){D=B.dom.getAttribs(F);for(H=D.length-1;H>-1;H--){j=D[H];if(j.specified){J=j.nodeName.toLowerCase();if(C.invalid_attrs.test(J)||!u.validAttribsRE.test(J)){continue}E=B.findAttribRule(u,J);A=B._getAttrib(F,E,J);if(A!==null){z.writeAttribute(J,A)}}}}if(p&&I){z.writeAttribute("_mce_type",p)}if(m==="script"&&e.trim(F.innerHTML)){z.writeText("// ");z.writeCDATA(F.innerHTML.replace(/<!--|-->|<\[CDATA\[|\]\]>/g,""));r=false;break}if(u.padd){if(r&&(x=F.firstChild)&&x.nodeType===1&&F.childNodes.length===1){if(x.hasAttribute?x.hasAttribute("_mce_bogus"):x.getAttribute("_mce_bogus")){z.writeText("\u00a0")}}else{if(!r){z.writeText("\u00a0")}}}break;case 3:if(C.validate_children&&B.elementName&&!B.schema.isValid(B.elementName,"#text")){return}return z.writeText(F.nodeValue);case 4:return z.writeCDATA(F.nodeValue);case 8:return z.writeComment(F.nodeValue)}}else{if(F.nodeType==1){r=F.hasChildNodes()}}if(r&&!o){x=F.firstChild;while(x){B._serializeNode(x);B.elementName=m;x=x.nextSibling}}if(!q){if(!o){z.writeFullEndElement()}else{z.writeEndElement()}}},_protect:function(k){var j=this;k.items=k.items||[];function i(m){return m.replace(/[\r\n\\]/g,function(n){if(n==="\n"){return"\\n"}else{if(n==="\\"){return"\\\\"}}return"\\r"})}function l(m){return m.replace(/\\[\\rn]/g,function(n){if(n==="\\n"){return"\n"}else{if(n==="\\\\"){return"\\"}}return"\r"})}f(k.patterns,function(m){k.content=l(i(k.content).replace(m.pattern,function(o,p,n,q){n=l(n);if(m.encode){n=j._encode(n)}k.items.push(n);return p+"<!--mce:"+(k.items.length-1)+"-->"+q}))});return k},_unprotect:function(i,j){i=i.replace(/\<!--mce:([0-9]+)--\>/g,function(l,k){return j.items[parseInt(k)]});j.items=[];return i},_encode:function(m){var j=this,k=j.settings,i;if(k.entity_encoding!=="raw"){if(k.entity_encoding.indexOf("named")!=-1){j.setEntities(k.entities);i=j.entityLookup;m=m.replace(/[\u007E-\uFFFF]/g,function(l){var n;if(n=i[l]){l="&"+n+";"}return l})}if(k.entity_encoding.indexOf("numeric")!=-1){m=m.replace(/[\u007E-\uFFFF]/g,function(l){return"&#"+l.charCodeAt(0)+";"})}}return m},_setup:function(){var i=this,j=this.settings;if(i.done){return}i.done=1;i.setRules(j.valid_elements);i.addRules(j.extended_valid_elements);if(j.invalid_elements){i.invalidElementsRE=new RegExp("^("+c(j.invalid_elements.replace(/,/g,"|").toLowerCase())+")$")}if(j.attrib_value_filter){i.attribValueFilter=j.attribValueFilter}},_getAttrib:function(o,k,j){var m,l;j=j||k.name;if(k.forcedVal&&(l=k.forcedVal)){if(l==="{$uid}"){return this.dom.uniqueId()}return l}l=this.dom.getAttrib(o,j);switch(j){case"rowspan":case"colspan":if(l=="1"){l=""}break}if(this.attribValueFilter){l=this.attribValueFilter(j,l,o)}if(k.validVals){for(m=k.validVals.length-1;m>=0;m--){if(l==k.validVals[m]){break}}if(m==-1){return null}}if(l===""&&typeof(k.defaultVal)!="undefined"){l=k.defaultVal;if(l==="{$uid}"){return this.dom.uniqueId()}return l}else{if(j=="class"&&this.processObj.get){l=l.replace(/\s?mceItem\w+\s?/g,"")}}if(l===""){return null}return l}})})(tinymce);(function(a){a.dom.ScriptLoader=function(i){var c=0,l=1,j=2,m={},k=[],f={},d=[],g=0,e;function b(n,v){var x=this,r=a.DOM,u,p,s,o;function q(){r.remove(o);if(u){u.onreadystatechange=u.onload=u=null}v()}o=r.uniqueId();if(a.isIE6){p=new a.util.URI(n);s=location;if(p.host==s.hostname&&p.port==s.port&&(p.protocol+":")==s.protocol){a.util.XHR.send({url:a._addVer(p.getURI()),success:function(y){var t=r.create("script",{type:"text/javascript"});t.text=y;document.getElementsByTagName("head")[0].appendChild(t);r.remove(t);q()}});return}}u=r.create("script",{id:o,type:"text/javascript",src:a._addVer(n)});if(!a.isIE){u.onload=q}u.onreadystatechange=function(){var t=u.readyState;if(t=="complete"||t=="loaded"){q()}};(document.getElementsByTagName("head")[0]||document.body).appendChild(u)}this.isDone=function(n){return m[n]==j};this.markDone=function(n){m[n]=j};this.add=this.load=function(n,r,o){var p,q=m[n];if(q==e){k.push(n);m[n]=c}if(r){if(!f[n]){f[n]=[]}f[n].push({func:r,scope:o||this})}};this.loadQueue=function(o,n){this.loadScripts(k,o,n)};this.loadScripts=function(n,r,q){var p;function o(s){a.each(f[s],function(t){t.func.call(t.scope)});f[s]=e}d.push({func:r,scope:q||this});p=function(){var s=a.grep(n);n.length=0;a.each(s,function(t){if(m[t]==j){o(t);return}if(m[t]!=l){m[t]=l;g++;b(t,function(){m[t]=j;g--;o(t);p()})}});if(!g){a.each(d,function(t){t.func.call(t.scope)});d.length=0}};p()}};a.ScriptLoader=new a.dom.ScriptLoader()})(tinymce);tinymce.dom.TreeWalker=function(a,c){var b=a;function d(j,f,e,k){var i,g;if(j){if(!k&&j[f]){return j[f]}if(j!=c){i=j[e];if(i){return i}for(g=j.parentNode;g&&g!=c;g=g.parentNode){i=g[e];if(i){return i}}}}}this.current=function(){return b};this.next=function(e){return(b=d(b,"firstChild","nextSibling",e))};this.prev=function(e){return(b=d(b,"lastChild","lastSibling",e))}};(function(){var a={};function b(f,e){var d;function c(g){return g.replace(/[A-Z]+/g,function(i){return c(f[i])})}for(d in f){if(f.hasOwnProperty(d)){f[d]=c(f[d])}}c(e).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]/g,function(m,g,k){var j,l={};k=k.split(/\|/);for(j=k.length-1;j>=0;j--){l[k[j]]=1}a[g]=l})}b({Z:"#|H|K|N|O|P",Y:"#|X|form|R|Q",X:"p|T|div|U|W|isindex|fieldset|table",W:"pre|hr|blockquote|address|center|noframes",U:"ul|ol|dl|menu|dir",ZC:"#|p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"#|X|S|Q",S:"R|P",ZA:"#|a|G|J|M|O|P",R:"#|a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe"},"script[]style[]object[#|param|X|form|a|H|K|N|O|Q]param[]p[S]a[Z]br[]span[S]bdo[S]applet[#|param|X|form|a|H|K|N|O|Q]h1[S]img[]map[X|form|Q|area]h2[S]iframe[#|X|form|a|H|K|N|O|Q]h3[S]tt[S]i[S]b[S]u[S]s[S]strike[S]big[S]small[S]font[S]basefont[]em[S]strong[S]dfn[S]code[S]q[S]samp[S]kbd[S]var[S]cite[S]abbr[S]acronym[S]sub[S]sup[S]input[]select[optgroup|option]optgroup[option]option[]textarea[]label[S]button[#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[S]ins[#|X|form|a|H|K|N|O|Q]h5[S]del[#|X|form|a|H|K|N|O|Q]h6[S]div[#|X|form|a|H|K|N|O|Q]ul[li]li[#|X|form|a|H|K|N|O|Q]ol[li]dl[dt|dd]dt[S]dd[#|X|form|a|H|K|N|O|Q]menu[li]dir[li]pre[ZA]hr[]blockquote[#|X|form|a|H|K|N|O|Q]address[S|p]center[#|X|form|a|H|K|N|O|Q]noframes[#|X|form|a|H|K|N|O|Q]isindex[]fieldset[#|legend|X|form|a|H|K|N|O|Q]legend[S]table[caption|col|colgroup|thead|tfoot|tbody|tr]caption[S]col[]colgroup[col]thead[tr]tr[th|td]th[#|X|form|a|H|K|N|O|Q]form[#|X|a|H|K|N|O|Q]noscript[#|X|form|a|H|K|N|O|Q]td[#|X|form|a|H|K|N|O|Q]tfoot[tr]tbody[tr]area[]base[]body[#|X|form|a|H|K|N|O|Q]");tinymce.dom.Schema=function(){var c=this,d=a;c.isValid=function(f,e){var g=d[f];return !!(g&&(!e||g[e]))}}})();(function(a){a.dom.RangeUtils=function(c){var b="\uFEFF";this.walk=function(d,s){var i=d.startContainer,l=d.startOffset,t=d.endContainer,m=d.endOffset,j,f,o,g,r,q,e;e=c.select("td.mceSelected,th.mceSelected");if(e.length>0){a.each(e,function(u){s([u])});return}function p(x,v,u){var y=[];for(;x&&x!=u;x=x[v]){y.push(x)}return y}function n(v,u){do{if(v.parentNode==u){return v}v=v.parentNode}while(v)}function k(x,v,y){var u=y?"nextSibling":"previousSibling";for(g=x,r=g.parentNode;g&&g!=v;g=r){r=g.parentNode;q=p(g==x?g:g[u],u);if(q.length){if(!y){q.reverse()}s(q)}}}if(i.nodeType==1&&i.hasChildNodes()){i=i.childNodes[l]}if(t.nodeType==1&&t.hasChildNodes()){t=t.childNodes[Math.min(l==m?m:m-1,t.childNodes.length-1)]}j=c.findCommonAncestor(i,t);if(i==t){return s([i])}for(g=i;g;g=g.parentNode){if(g==t){return k(i,j,true)}if(g==j){break}}for(g=t;g;g=g.parentNode){if(g==i){return k(t,j)}if(g==j){break}}f=n(i,j)||i;o=n(t,j)||t;k(i,f,true);q=p(f==i?f:f.nextSibling,"nextSibling",o==t?o.nextSibling:o);if(q.length){s(q)}k(t,o)}};a.dom.RangeUtils.compareRanges=function(c,b){if(c&&b){if(c.item||c.duplicate){if(c.item&&b.item&&c.item(0)===b.item(0)){return true}if(c.isEqual&&b.isEqual&&b.isEqual(c)){return true}}else{return c.startContainer==b.startContainer&&c.startOffset==b.startOffset}}return false}})(tinymce);(function(c){var b=c.DOM,a=c.is;c.create("tinymce.ui.Control",{Control:function(e,d){this.id=e;this.settings=d=d||{};this.rendered=false;this.onRender=new c.util.Dispatcher(this);this.classPrefix="";this.scope=d.scope||this;this.disabled=0;this.active=0},setDisabled:function(d){var f;if(d!=this.disabled){f=b.get(this.id);if(f&&this.settings.unavailable_prefix){if(d){this.prevTitle=f.title;f.title=this.settings.unavailable_prefix+": "+f.title}else{f.title=this.prevTitle}}this.setState("Disabled",d);this.setState("Enabled",!d);this.disabled=d}},isDisabled:function(){return this.disabled},setActive:function(d){if(d!=this.active){this.setState("Active",d);this.active=d}},isActive:function(){return this.active},setState:function(f,d){var e=b.get(this.id);f=this.classPrefix+f;if(d){b.addClass(e,f)}else{b.removeClass(e,f)}},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(d){b.setHTML(d,this.renderHTML())},postRender:function(){var e=this,d;if(a(e.disabled)){d=e.disabled;e.disabled=-1;e.setDisabled(d)}if(a(e.active)){d=e.active;e.active=-1;e.setActive(d)}},remove:function(){b.remove(this.id);this.destroy()},destroy:function(){c.dom.Event.clear(this.id)}})})(tinymce);tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(b,a){this.parent(b,a);this.controls=[];this.lookup={}},add:function(a){this.lookup[a.id]=a;this.controls.push(a);return a},get:function(a){return this.lookup[a]}});tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(b,a){this.parent(b,a);this.classPrefix="mceSeparator"},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix})}});(function(d){var c=d.is,b=d.DOM,e=d.each,a=d.walk;d.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(g,f){this.parent(g,f);this.classPrefix="mceMenuItem"},setSelected:function(f){this.setState("Selected",f);this.selected=f},isSelected:function(){return this.selected},postRender:function(){var f=this;f.parent();if(c(f.selected)){f.setSelected(f.selected)}}})})(tinymce);(function(d){var c=d.is,b=d.DOM,e=d.each,a=d.walk;d.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(i,g){var f=this;f.parent(i,g);f.items={};f.collapsed=false;f.menuCount=0;f.onAddItem=new d.util.Dispatcher(this)},expand:function(g){var f=this;if(g){a(f,function(i){if(i.expand){i.expand()}},"items",f)}f.collapsed=false},collapse:function(g){var f=this;if(g){a(f,function(i){if(i.collapse){i.collapse()}},"items",f)}f.collapsed=true},isCollapsed:function(){return this.collapsed},add:function(f){if(!f.settings){f=new d.ui.MenuItem(f.id||b.uniqueId(),f)}this.onAddItem.dispatch(this,f);return this.items[f.id]=f},addSeparator:function(){return this.add({separator:true})},addMenu:function(f){if(!f.collapse){f=this.createMenu(f)}this.menuCount++;return this.add(f)},hasMenus:function(){return this.menuCount!==0},remove:function(f){delete this.items[f.id]},removeAll:function(){var f=this;a(f,function(g){if(g.removeAll){g.removeAll()}else{g.remove()}g.destroy()},"items",f);f.items={}},createMenu:function(g){var f=new d.ui.Menu(g.id||b.uniqueId(),g);f.onAddItem.add(this.onAddItem.dispatch,this.onAddItem);return f}})})(tinymce);(function(e){var d=e.is,c=e.DOM,f=e.each,a=e.dom.Event,b=e.dom.Element;e.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(i,g){g=g||{};g.container=g.container||c.doc.body;g.offset_x=g.offset_x||0;g.offset_y=g.offset_y||0;g.vp_offset_x=g.vp_offset_x||0;g.vp_offset_y=g.vp_offset_y||0;if(d(g.icons)&&!g.icons){g["class"]+=" mceNoIcons"}this.parent(i,g);this.onShowMenu=new e.util.Dispatcher(this);this.onHideMenu=new e.util.Dispatcher(this);this.classPrefix="mceMenu"},createMenu:function(k){var i=this,j=i.settings,g;k.container=k.container||j.container;k.parent=i;k.constrain=k.constrain||j.constrain;k["class"]=k["class"]||j["class"];k.vp_offset_x=k.vp_offset_x||j.vp_offset_x;k.vp_offset_y=k.vp_offset_y||j.vp_offset_y;g=new e.ui.DropMenu(k.id||c.uniqueId(),k);g.onAddItem.add(i.onAddItem.dispatch,i.onAddItem);return g},update:function(){var j=this,k=j.settings,g=c.get("menu_"+j.id+"_tbl"),m=c.get("menu_"+j.id+"_co"),i,l;i=k.max_width?Math.min(g.clientWidth,k.max_width):g.clientWidth;l=k.max_height?Math.min(g.clientHeight,k.max_height):g.clientHeight;if(!c.boxModel){j.element.setStyles({width:i+2,height:l+2})}else{j.element.setStyles({width:i,height:l})}if(k.max_width){c.setStyle(m,"width",i)}if(k.max_height){c.setStyle(m,"height",l);if(g.clientHeight<k.max_height){c.setStyle(m,"overflow","hidden")}}},showMenu:function(p,n,r){var z=this,A=z.settings,o,g=c.getViewPort(),u,l,v,q,i=2,k,j,m=z.classPrefix;z.collapse(1);if(z.isMenuVisible){return}if(!z.rendered){o=c.add(z.settings.container,z.renderNode());f(z.items,function(s){s.postRender()});z.element=new b("menu_"+z.id,{blocker:1,container:A.container})}else{o=c.get("menu_"+z.id)}if(!e.isOpera){c.setStyles(o,{left:-65535,top:-65535})}c.show(o);z.update();p+=A.offset_x||0;n+=A.offset_y||0;g.w-=4;g.h-=4;if(A.constrain){u=o.clientWidth-i;l=o.clientHeight-i;v=g.x+g.w;q=g.y+g.h;if((p+A.vp_offset_x+u)>v){p=r?r-u:Math.max(0,(v-A.vp_offset_x)-u)}if((n+A.vp_offset_y+l)>q){n=Math.max(0,(q-A.vp_offset_y)-l)}}c.setStyles(o,{left:p,top:n});z.element.update();z.isMenuVisible=1;z.mouseClickFunc=a.add(o,"click",function(t){var s;t=t.target;if(t&&(t=c.getParent(t,"tr"))&&!c.hasClass(t,m+"ItemSub")){s=z.items[t.id];if(s.isDisabled()){return}k=z;while(k){if(k.hideMenu){k.hideMenu()}k=k.settings.parent}if(s.settings.onclick){s.settings.onclick(t)}return a.cancel(t)}});if(z.hasMenus()){z.mouseOverFunc=a.add(o,"mouseover",function(y){var s,x,t;y=y.target;if(y&&(y=c.getParent(y,"tr"))){s=z.items[y.id];if(z.lastMenu){z.lastMenu.collapse(1)}if(s.isDisabled()){return}if(y&&c.hasClass(y,m+"ItemSub")){x=c.getRect(y);s.showMenu((x.x+x.w-i),x.y-i,x.x);z.lastMenu=s;c.addClass(c.get(s.id).firstChild,m+"ItemActive")}}})}z.onShowMenu.dispatch(z);if(A.keyboard_focus){a.add(o,"keydown",z._keyHandler,z);c.select("a","menu_"+z.id)[0].focus();z._focusIdx=0}},hideMenu:function(k){var g=this,j=c.get("menu_"+g.id),i;if(!g.isMenuVisible){return}a.remove(j,"mouseover",g.mouseOverFunc);a.remove(j,"click",g.mouseClickFunc);a.remove(j,"keydown",g._keyHandler);c.hide(j);g.isMenuVisible=0;if(!k){g.collapse(1)}if(g.element){g.element.hide()}if(i=c.get(g.id)){c.removeClass(i.firstChild,g.classPrefix+"ItemActive")}g.onHideMenu.dispatch(g)},add:function(j){var g=this,i;j=g.parent(j);if(g.isRendered&&(i=c.get("menu_"+g.id))){g._add(c.select("tbody",i)[0],j)}return j},collapse:function(g){this.parent(g);this.hideMenu(1)},remove:function(g){c.remove(g.id);this.destroy();return this.parent(g)},destroy:function(){var g=this,i=c.get("menu_"+g.id);a.remove(i,"mouseover",g.mouseOverFunc);a.remove(i,"click",g.mouseClickFunc);if(g.element){g.element.remove()}c.remove(i)},renderNode:function(){var j=this,k=j.settings,m,i,l,g;g=c.create("div",{id:"menu_"+j.id,"class":k["class"],style:"position:absolute;left:0;top:0;z-index:200000"});l=c.add(g,"div",{id:"menu_"+j.id+"_co","class":j.classPrefix+(k["class"]?" "+k["class"]:"")});j.element=new b("menu_"+j.id,{blocker:1,container:k.container});if(k.menu_line){c.add(l,"span",{"class":j.classPrefix+"Line"})}m=c.add(l,"table",{id:"menu_"+j.id+"_tbl",border:0,cellPadding:0,cellSpacing:0});i=c.add(m,"tbody");f(j.items,function(n){j._add(i,n)});j.rendered=true;return g},_keyHandler:function(k){var j=this,i=k.keyCode;function g(n){var l=j._focusIdx+n,m=c.select("a","menu_"+j.id)[l];if(m){j._focusIdx=l;m.focus()}}switch(i){case 38:g(-1);return;case 40:g(1);return;case 13:return;case 27:return this.hideMenu()}},_add:function(k,i){var j,r=i.settings,q,m,l,p=this.classPrefix,g;if(r.separator){m=c.add(k,"tr",{id:i.id,"class":p+"ItemSeparator"});c.add(m,"td",{"class":p+"ItemSeparator"});if(j=m.previousSibling){c.addClass(j,"mceLast")}return}j=m=c.add(k,"tr",{id:i.id,"class":p+"Item "+p+"ItemEnabled"});j=l=c.add(j,"td");j=q=c.add(j,"a",{href:"javascript:;",onclick:"return false;",onmousedown:"return false;"});c.addClass(l,r["class"]);g=c.add(j,"span",{"class":"mceIcon"+(r.icon?" mce_"+r.icon:"")});if(r.icon_src){c.add(g,"img",{src:r.icon_src})}j=c.add(j,r.element||"span",{"class":"mceText",title:i.settings.title},i.settings.title);if(i.settings.style){c.setAttrib(j,"style",i.settings.style)}if(k.childNodes.length==1){c.addClass(m,"mceFirst")}if((j=m.previousSibling)&&c.hasClass(j,p+"ItemSeparator")){c.addClass(m,"mceFirst")}if(i.collapse){c.addClass(m,p+"ItemSub")}if(j=m.previousSibling){c.removeClass(j,"mceLast")}c.addClass(m,"mceLast")}})})(tinymce);(function(b){var a=b.DOM;b.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(d,c){this.parent(d,c);this.classPrefix="mceButton"},renderHTML:function(){var f=this.classPrefix,e=this.settings,d,c;c=a.encode(e.label||"");d='<a id="'+this.id+'" href="javascript:;" class="'+f+" "+f+"Enabled "+e["class"]+(c?" "+f+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" title="'+a.encode(e.title)+'">';if(e.image){d+='<img class="mceIcon" src="'+e.image+'" />'+c+"</a>"}else{d+='<span class="mceIcon '+e["class"]+'"></span>'+(c?'<span class="'+f+'Label">'+c+"</span>":"")+"</a>"}return d},postRender:function(){var c=this,d=c.settings;b.dom.Event.add(c.id,"click",function(f){if(!c.isDisabled()){return d.onclick.call(d.scope,f)}})}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each,a=d.util.Dispatcher;d.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(i,g){var f=this;f.parent(i,g);f.items=[];f.onChange=new a(f);f.onPostRender=new a(f);f.onAdd=new a(f);f.onRenderMenu=new d.util.Dispatcher(this);f.classPrefix="mceListBox"},select:function(i){var g=this,k,j;if(i==undefined){return g.selectByIndex(-1)}if(i&&i.call){j=i}else{j=function(f){return f==i}}if(i!=g.selectedValue){e(g.items,function(l,f){if(j(l.value)){k=1;g.selectByIndex(f);return false}});if(!k){g.selectByIndex(-1)}}},selectByIndex:function(f){var g=this,i,j;if(f!=g.selectedIndex){i=c.get(g.id+"_text");j=g.items[f];if(j){g.selectedValue=j.value;g.selectedIndex=f;c.setHTML(i,c.encode(j.title));c.removeClass(i,"mceTitle")}else{c.setHTML(i,c.encode(g.settings.title));c.addClass(i,"mceTitle");g.selectedValue=g.selectedIndex=null}i=0}},add:function(j,f,i){var g=this;i=i||{};i=d.extend(i,{title:j,value:f});g.items.push(i);g.onAdd.dispatch(g,i)},getLength:function(){return this.items.length},renderHTML:function(){var i="",f=this,g=f.settings,j=f.classPrefix;i='<table id="'+f.id+'" cellpadding="0" cellspacing="0" class="'+j+" "+j+"Enabled"+(g["class"]?(" "+g["class"]):"")+'"><tbody><tr>';i+="<td>"+c.createHTML("a",{id:f.id+"_text",href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},c.encode(f.settings.title))+"</td>";i+="<td>"+c.createHTML("a",{id:f.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},"<span></span>")+"</td>";i+="</tr></tbody></table>";return i},showMenu:function(){var g=this,k,j,i=c.get(this.id),f;if(g.isDisabled()||g.items.length==0){return}if(g.menu&&g.menu.isMenuVisible){return g.hideMenu()}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}k=c.getPos(this.settings.menu_container);j=c.getPos(i);f=g.menu;f.settings.offset_x=j.x;f.settings.offset_y=j.y;f.settings.keyboard_focus=!d.isOpera;if(g.oldID){f.items[g.oldID].setSelected(0)}e(g.items,function(l){if(l.value===g.selectedValue){f.items[l.id].setSelected(1);g.oldID=l.id}});f.showMenu(0,i.clientHeight);b.add(c.doc,"mousedown",g.hideMenu,g);c.addClass(g.id,g.classPrefix+"Selected")},hideMenu:function(g){var f=this;if(f.menu&&f.menu.isMenuVisible){if(g&&g.type=="mousedown"&&(g.target.id==f.id+"_text"||g.target.id==f.id+"_open")){return}if(!g||!c.getParent(g.target,".mceMenu")){c.removeClass(f.id,f.classPrefix+"Selected");b.remove(c.doc,"mousedown",f.hideMenu,f);f.menu.hideMenu()}}},renderMenu:function(){var g=this,f;f=g.settings.control_manager.createDropMenu(g.id+"_menu",{menu_line:1,"class":g.classPrefix+"Menu mceNoIcons",max_width:150,max_height:150});f.onHideMenu.add(g.hideMenu,g);f.add({title:g.settings.title,"class":"mceMenuItemTitle",onclick:function(){if(g.settings.onselect("")!==false){g.select("")}}});e(g.items,function(i){if(i.value===undefined){f.add({title:i.title,"class":"mceMenuItemTitle",onclick:function(){if(g.settings.onselect("")!==false){g.select("")}}})}else{i.id=c.uniqueId();i.onclick=function(){if(g.settings.onselect(i.value)!==false){g.select(i.value)}};f.add(i)}});g.onRenderMenu.dispatch(g,f);g.menu=f},postRender:function(){var f=this,g=f.classPrefix;b.add(f.id,"click",f.showMenu,f);b.add(f.id+"_text","focus",function(){if(!f._focused){f.keyDownHandler=b.add(f.id+"_text","keydown",function(l){var i=-1,j,k=l.keyCode;e(f.items,function(m,n){if(f.selectedValue==m.value){i=n}});if(k==38){j=f.items[i-1]}else{if(k==40){j=f.items[i+1]}else{if(k==13){j=f.selectedValue;f.selectedValue=null;f.settings.onselect(j);return b.cancel(l)}}}if(j){f.hideMenu();f.select(j.value)}})}f._focused=1});b.add(f.id+"_text","blur",function(){b.remove(f.id+"_text","keydown",f.keyDownHandler);f._focused=0});if(d.isIE6||!c.boxModel){b.add(f.id,"mouseover",function(){if(!c.hasClass(f.id,g+"Disabled")){c.addClass(f.id,g+"Hover")}});b.add(f.id,"mouseout",function(){if(!c.hasClass(f.id,g+"Disabled")){c.removeClass(f.id,g+"Hover")}})}f.onPostRender.dispatch(f,c.get(f.id))},destroy:function(){this.parent();b.clear(this.id+"_text");b.clear(this.id+"_open")}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each,a=d.util.Dispatcher;d.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(g,f){this.parent(g,f);this.classPrefix="mceNativeListBox"},setDisabled:function(f){c.get(this.id).disabled=f},isDisabled:function(){return c.get(this.id).disabled},select:function(i){var g=this,k,j;if(i==undefined){return g.selectByIndex(-1)}if(i&&i.call){j=i}else{j=function(f){return f==i}}if(i!=g.selectedValue){e(g.items,function(l,f){if(j(l.value)){k=1;g.selectByIndex(f);return false}});if(!k){g.selectByIndex(-1)}}},selectByIndex:function(f){c.get(this.id).selectedIndex=f+1;this.selectedValue=this.items[f]?this.items[f].value:null},add:function(k,g,f){var j,i=this;f=f||{};f.value=g;if(i.isRendered()){c.add(c.get(this.id),"option",f,k)}j={title:k,value:g,attribs:f};i.items.push(j);i.onAdd.dispatch(i,j)},getLength:function(){return this.items.length},renderHTML:function(){var g,f=this;g=c.createHTML("option",{value:""},"-- "+f.settings.title+" --");e(f.items,function(i){g+=c.createHTML("option",{value:i.value},i.title)});g=c.createHTML("select",{id:f.id,"class":"mceNativeListBox"},g);return g},postRender:function(){var g=this,i;g.rendered=true;function f(k){var j=g.items[k.target.selectedIndex-1];if(j&&(j=j.value)){g.onChange.dispatch(g,j);if(g.settings.onselect){g.settings.onselect(j)}}}b.add(g.id,"change",f);b.add(g.id,"keydown",function(k){var j;b.remove(g.id,"change",i);j=b.add(g.id,"blur",function(){b.add(g.id,"change",f);b.remove(g.id,"blur",j)});if(k.keyCode==13||k.keyCode==32){f(k);return b.cancel(k)}});g.onPostRender.dispatch(g,c.get(g.id))}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each;c.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(f,e){this.parent(f,e);this.onRenderMenu=new c.util.Dispatcher(this);e.menu_container=e.menu_container||b.doc.body},showMenu:function(){var g=this,k,j,i=b.get(g.id),f;if(g.isDisabled()){return}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}if(g.isMenuVisible){return g.hideMenu()}k=b.getPos(g.settings.menu_container);j=b.getPos(i);f=g.menu;f.settings.offset_x=j.x;f.settings.offset_y=j.y;f.settings.vp_offset_x=j.x;f.settings.vp_offset_y=j.y;f.settings.keyboard_focus=g._focused;f.showMenu(0,i.clientHeight);a.add(b.doc,"mousedown",g.hideMenu,g);g.setState("Selected",1);g.isMenuVisible=1},renderMenu:function(){var f=this,e;e=f.settings.control_manager.createDropMenu(f.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:f.settings.icons});e.onHideMenu.add(f.hideMenu,f);f.onRenderMenu.dispatch(f,e);f.menu=e},hideMenu:function(g){var f=this;if(g&&g.type=="mousedown"&&b.getParent(g.target,function(i){return i.id===f.id||i.id===f.id+"_open"})){return}if(!g||!b.getParent(g.target,".mceMenu")){f.setState("Selected",0);a.remove(b.doc,"mousedown",f.hideMenu,f);if(f.menu){f.menu.hideMenu()}}f.isMenuVisible=0},postRender:function(){var e=this,f=e.settings;a.add(e.id,"click",function(){if(!e.isDisabled()){if(f.onclick){f.onclick(e.value)}e.showMenu()}})}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each;c.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(f,e){this.parent(f,e);this.classPrefix="mceSplitButton"},renderHTML:function(){var i,f=this,g=f.settings,e;i="<tbody><tr>";if(g.image){e=b.createHTML("img ",{src:g.image,"class":"mceAction "+g["class"]})}else{e=b.createHTML("span",{"class":"mceAction "+g["class"]},"")}i+="<td>"+b.createHTML("a",{id:f.id+"_action",href:"javascript:;","class":"mceAction "+g["class"],onclick:"return false;",onmousedown:"return false;",title:g.title},e)+"</td>";e=b.createHTML("span",{"class":"mceOpen "+g["class"]});i+="<td>"+b.createHTML("a",{id:f.id+"_open",href:"javascript:;","class":"mceOpen "+g["class"],onclick:"return false;",onmousedown:"return false;",title:g.title},e)+"</td>";i+="</tr></tbody>";return b.createHTML("table",{id:f.id,"class":"mceSplitButton mceSplitButtonEnabled "+g["class"],cellpadding:"0",cellspacing:"0",onmousedown:"return false;",title:g.title},i)},postRender:function(){var e=this,f=e.settings;if(f.onclick){a.add(e.id+"_action","click",function(){if(!e.isDisabled()){f.onclick(e.value)}})}a.add(e.id+"_open","click",e.showMenu,e);a.add(e.id+"_open","focus",function(){e._focused=1});a.add(e.id+"_open","blur",function(){e._focused=0});if(c.isIE6||!b.boxModel){a.add(e.id,"mouseover",function(){if(!b.hasClass(e.id,"mceSplitButtonDisabled")){b.addClass(e.id,"mceSplitButtonHover")}});a.add(e.id,"mouseout",function(){if(!b.hasClass(e.id,"mceSplitButtonDisabled")){b.removeClass(e.id,"mceSplitButtonHover")}})}},destroy:function(){this.parent();a.clear(this.id+"_action");a.clear(this.id+"_open")}})})(tinymce);(function(d){var c=d.DOM,a=d.dom.Event,b=d.is,e=d.each;d.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(i,g){var f=this;f.parent(i,g);f.settings=g=d.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},f.settings);f.onShowMenu=new d.util.Dispatcher(f);f.onHideMenu=new d.util.Dispatcher(f);f.value=g.default_color},showMenu:function(){var f=this,g,k,j,i;if(f.isDisabled()){return}if(!f.isMenuRendered){f.renderMenu();f.isMenuRendered=true}if(f.isMenuVisible){return f.hideMenu()}j=c.get(f.id);c.show(f.id+"_menu");c.addClass(j,"mceSplitButtonSelected");i=c.getPos(j);c.setStyles(f.id+"_menu",{left:i.x,top:i.y+j.clientHeight,zIndex:200000});j=0;a.add(c.doc,"mousedown",f.hideMenu,f);f.onShowMenu.dispatch(f);if(f._focused){f._keyHandler=a.add(f.id+"_menu","keydown",function(l){if(l.keyCode==27){f.hideMenu()}});c.select("a",f.id+"_menu")[0].focus()}f.isMenuVisible=1},hideMenu:function(g){var f=this;if(g&&g.type=="mousedown"&&c.getParent(g.target,function(i){return i.id===f.id+"_open"})){return}if(!g||!c.getParent(g.target,".mceSplitButtonMenu")){c.removeClass(f.id,"mceSplitButtonSelected");a.remove(c.doc,"mousedown",f.hideMenu,f);a.remove(f.id+"_menu","keydown",f._keyHandler);c.hide(f.id+"_menu")}f.onHideMenu.dispatch(f);f.isMenuVisible=0},renderMenu:function(){var l=this,f,k=0,o=l.settings,q,j,p,g;g=c.add(o.menu_container,"div",{id:l.id+"_menu","class":o.menu_class+" "+o["class"],style:"position:absolute;left:0;top:-1000px;"});f=c.add(g,"div",{"class":o["class"]+" mceSplitButtonMenu"});c.add(f,"span",{"class":"mceMenuLine"});q=c.add(f,"table",{"class":"mceColorSplitMenu"});j=c.add(q,"tbody");k=0;e(b(o.colors,"array")?o.colors:o.colors.split(","),function(i){i=i.replace(/^#/,"");if(!k--){p=c.add(j,"tr");k=o.grid_width-1}q=c.add(p,"td");q=c.add(q,"a",{href:"javascript:;",style:{backgroundColor:"#"+i},_mce_color:"#"+i})});if(o.more_colors_func){q=c.add(j,"tr");q=c.add(q,"td",{colspan:o.grid_width,"class":"mceMoreColors"});q=c.add(q,"a",{id:l.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},o.more_colors_title);a.add(q,"click",function(i){o.more_colors_func.call(o.more_colors_scope||this);return a.cancel(i)})}c.addClass(f,"mceColorSplitMenu");a.add(l.id+"_menu","click",function(i){var m;i=i.target;if(i.nodeName=="A"&&(m=i.getAttribute("_mce_color"))){l.setColor(m)}return a.cancel(i)});return g},setColor:function(g){var f=this;c.setStyle(f.id+"_preview","backgroundColor",g);f.value=g;f.hideMenu();f.settings.onselect(g)},postRender:function(){var f=this,g=f.id;f.parent();c.add(g+"_action","div",{id:g+"_preview","class":"mceColorPreview"});c.setStyle(f.id+"_preview","backgroundColor",f.value)},destroy:function(){this.parent();a.clear(this.id+"_menu");a.clear(this.id+"_more");c.remove(this.id+"_menu")}})})(tinymce);tinymce.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var l=this,e="",g,j,b=tinymce.DOM,m=l.settings,d,a,f,k;k=l.controls;for(d=0;d<k.length;d++){j=k[d];a=k[d-1];f=k[d+1];if(d===0){g="mceToolbarStart";if(j.Button){g+=" mceToolbarStartButton"}else{if(j.SplitButton){g+=" mceToolbarStartSplitButton"}else{if(j.ListBox){g+=" mceToolbarStartListBox"}}}e+=b.createHTML("td",{"class":g},b.createHTML("span",null,"<!-- IE -->"))}if(a&&j.ListBox){if(a.Button||a.SplitButton){e+=b.createHTML("td",{"class":"mceToolbarEnd"},b.createHTML("span",null,"<!-- IE -->"))}}if(b.stdMode){e+='<td style="position: relative">'+j.renderHTML()+"</td>"}else{e+="<td>"+j.renderHTML()+"</td>"}if(f&&j.ListBox){if(f.Button||f.SplitButton){e+=b.createHTML("td",{"class":"mceToolbarStart"},b.createHTML("span",null,"<!-- IE -->"))}}}g="mceToolbarEnd";if(j.Button){g+=" mceToolbarEndButton"}else{if(j.SplitButton){g+=" mceToolbarEndSplitButton"}else{if(j.ListBox){g+=" mceToolbarEndListBox"}}}e+=b.createHTML("td",{"class":g},b.createHTML("span",null,"<!-- IE -->"));return b.createHTML("table",{id:l.id,"class":"mceToolbar"+(m["class"]?" "+m["class"]:""),cellpadding:"0",cellspacing:"0",align:l.settings.align||""},"<tbody><tr>"+e+"</tr></tbody>")}});(function(b){var a=b.util.Dispatcher,c=b.each;b.create("tinymce.AddOnManager",{AddOnManager:function(){var d=this;d.items=[];d.urls={};d.lookup={};d.onAdd=new a(d)},get:function(d){return this.lookup[d]},requireLangPack:function(e){return;var d=b.settings;if(d&&d.language){b.ScriptLoader.add(this.urls[e]+"/langs/"+d.language+".js")}},add:function(e,d){this.items.push(d);this.lookup[e]=d;this.onAdd.dispatch(this,e,d);return d},load:function(i,e,d,g){var f=this;if(f.urls[i]){return}if(e.indexOf("/")!=0&&e.indexOf("://")==-1){e=b.baseURL+"/"+e}f.urls[i]=e.substring(0,e.lastIndexOf("/"));if(!f.lookup[i]){b.ScriptLoader.add(e,d,g)}}});b.PluginManager=new b.AddOnManager();b.ThemeManager=new b.AddOnManager()}(tinymce));(function(k){var g=k.each,d=k.extend,l=k.DOM,j=k.dom.Event,f=k.ThemeManager,b=k.PluginManager,e=k.explode,i=k.util.Dispatcher,a,c=0;k.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(k.documentBaseURL)){k.documentBaseURL+="/"}k.baseURL=new k.util.URI(k.documentBaseURL).toAbsolute(k.baseURL);k.baseURI=new k.util.URI(k.baseURL);k.onBeforeUnload=new i(k);j.add(window,"beforeunload",function(m){k.onBeforeUnload.dispatch(k,m)});k.onAddEditor=new i(k);k.onRemoveEditor=new i(k);k.EditorManager=d(k,{editors:[],i18n:{},activeEditor:null,init:function(r){var o=this,q,m=k.ScriptLoader,v,p=[],n;function u(y,z,t){var x=y[z];if(!x){return}if(k.is(x,"string")){t=x.replace(/\.\w+$/,"");t=t?k.resolve(t):0;x=k.resolve(x)}return x.apply(t||this,Array.prototype.slice.call(arguments,2))}r=d({theme:"simple",language:"en"},r);o.settings=r;j.add(document,"init",function(){var s,x;u(r,"onpageload");switch(r.mode){case"exact":s=r.elements||"";if(s.length>0){g(e(s),function(y){if(l.get(y)){n=new k.Editor(y,r);p.push(n);n.render(1)}else{g(document.forms,function(z){g(z.elements,function(A){if(A.name===y){y="mce_editor_"+c++;l.setAttrib(A,"id",y);n=new k.Editor(y,r);p.push(n);n.render(1)}})})}})}break;case"textareas":case"specific_textareas":function t(z,y){return y.constructor===RegExp?y.test(z.className):l.hasClass(z,y)}g(l.select("textarea"),function(y){if(r.editor_deselector&&t(y,r.editor_deselector)){return}if(!r.editor_selector||t(y,r.editor_selector)){v=l.get(y.name);if(!y.id&&!v){y.id=y.name}if(!y.id||o.get(y.id)){y.id=l.uniqueId()}n=new k.Editor(y.id,r);p.push(n);n.render(1)}});break}if(r.oninit){s=x=0;g(p,function(y){x++;if(!y.initialized){y.onInit.add(function(){s++;if(s==x){u(r,"oninit")}})}else{s++}if(s==x){u(r,"oninit")}})}})},get:function(m){if(m===a){return this.editors}return this.editors[m]},getInstanceById:function(m){return this.get(m)},add:function(n){var m=this,o=m.editors;o[n.id]=n;o.push(n);m._setActive(n);m.onAddEditor.dispatch(m,n);return n},remove:function(o){var n=this,m,p=n.editors;if(!p[o.id]){return null}delete p[o.id];for(m=0;m<p.length;m++){if(p[m]==o){p.splice(m,1);break}}if(n.activeEditor==o){n._setActive(p[0])}o.destroy();n.onRemoveEditor.dispatch(n,o);return o},execCommand:function(s,q,p){var r=this,o=r.get(p),m;switch(s){case"mceFocus":o.focus();return true;case"mceAddEditor":case"mceAddControl":if(!r.get(p)){new k.Editor(p,r.settings).render()}return true;case"mceAddFrameControl":m=p.window;m.tinyMCE=tinyMCE;m.tinymce=k;k.DOM.doc=m.document;k.DOM.win=m;o=new k.Editor(p.element_id,p);o.render();if(k.isIE){function n(){o.destroy();m.detachEvent("onunload",n);m=m.tinyMCE=m.tinymce=null}m.attachEvent("onunload",n)}p.page_window=null;return true;case"mceRemoveEditor":case"mceRemoveControl":if(o){o.remove()}return true;case"mceToggleEditor":if(!o){r.execCommand("mceAddControl",0,p);return true}if(o.isHidden()){o.show()}else{o.hide()}return true}if(r.activeEditor){return r.activeEditor.execCommand(s,q,p)}return false},execInstanceCommand:function(q,p,o,n){var m=this.get(q);if(m){return m.execCommand(p,o,n)}return false},triggerSave:function(){g(this.editors,function(m){m.save()})},addI18n:function(q,r){var m,n=this.i18n;if(!k.is(q,"string")){g(q,function(s,p){g(s,function(u,t){g(u,function(x,v){if(t==="common"){n[p+"."+v]=x}else{n[p+"."+t+"."+v]=x}})})})}else{g(r,function(s,p){n[q+"."+p]=s})}},_setActive:function(m){this.selectedInstance=this.activeEditor=m}})})(tinymce);(function(n){var o=n.DOM,k=n.dom.Event,f=n.extend,l=n.util.Dispatcher,j=n.each,a=n.isGecko,b=n.isIE,e=n.isWebKit,d=n.is,i=n.ThemeManager,c=n.PluginManager,p=n.inArray,m=n.grep,g=n.explode;n.create("tinymce.Editor",{Editor:function(u,r){var q=this;q.id=q.editorId=u;q.execCommands={};q.queryStateCommands={};q.queryValueCommands={};q.isNotDirty=false;q.plugins={};j(["onPreInit","onBeforeRenderUI","onPostRender","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState"],function(s){q[s]=new l(q)});q.settings=r=f({id:u,language:"en",docs_language:"en",theme:"simple",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:n.documentBaseURL,add_form_submit_trigger:1,submit_patch:1,add_unload_trigger:1,convert_urls:1,relative_urls:1,remove_script_host:1,table_inline_editing:0,object_resizing:1,cleanup:1,accessibility_focus:1,custom_shortcuts:1,custom_undo_redo_keyboard_shortcuts:1,custom_undo_redo_restore_selection:1,custom_undo_redo:1,doctype:n.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual_table_class:"mceItemTable",visual:1,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",apply_source_formatting:1,directionality:"ltr",forced_root_block:"p",valid_elements:"@[id|class|style|title|dir<ltr?rtl|lang|xml::lang|onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup],a[rel|rev|charset|hreflang|tabindex|accesskey|type|name|href|target|title|class|onfocus|onblur],strong/b,em/i,strike,u,#p,-ol[type|compact],-ul[type|compact],-li,br,img[longdesc|usemap|src|border|alt=|title|hspace|vspace|width|height|align],-sub,-sup,-blockquote[cite],-table[border|cellspacing|cellpadding|width|frame|rules|height|align|summary|bgcolor|background|bordercolor],-tr[rowspan|width|height|align|valign|bgcolor|background|bordercolor],tbody,thead,tfoot,#td[colspan|rowspan|width|height|align|valign|bgcolor|background|bordercolor|scope],#th[colspan|rowspan|width|height|align|valign|scope],caption,-div,-span,-code,-pre,address,-h1,-h2,-h3,-h4,-h5,-h6,hr[size|noshade],-font[face|size|color],dd,dl,dt,cite,abbr,acronym,del[datetime|cite],ins[datetime|cite],object[classid|width|height|codebase|*],param[name|value],embed[type|width|height|src|*],script[src|type],map[name],area[shape|coords|href|alt|target],bdo,button,col[align|char|charoff|span|valign|width],colgroup[align|char|charoff|span|valign|width],dfn,fieldset,form[action|accept|accept-charset|enctype|method],input[accept|alt|checked|disabled|maxlength|name|readonly|size|src|type|value|tabindex|accesskey],kbd,label[for],legend,noscript,optgroup[label|disabled],option[disabled|label|selected|value],q[cite],samp,select[disabled|multiple|name|size],small,textarea[cols|rows|disabled|name|readonly],tt,var,big",hidden_input:1,padd_empty_editor:1,render_ui:1,init_theme:1,force_p_newlines:1,indentation:"30px",keep_styles:1,fix_table_elements:1,inline_styles:1,convert_fonts_to_spans:true},r);q.documentBaseURI=new n.util.URI(r.document_base_url||n.documentBaseURL,{base_uri:tinyMCE.baseURI});q.baseURI=n.baseURI;q.execCallback("setup",q)},render:function(u){var v=this,x=v.settings,y=v.id,q=n.ScriptLoader;if(!k.domLoaded){k.add(document,"init",function(){v.render()});return}tinyMCE.settings=x;if(!v.getElement()){return}if(n.isIDevice){return}if(!/TEXTAREA|INPUT/i.test(v.getElement().nodeName)&&x.hidden_input&&o.getParent(y,"form")){o.insertAfter(o.create("input",{type:"hidden",name:y}),y)}if(n.WindowManager){v.windowManager=new n.WindowManager(v)}if(x.encoding=="xml"){v.onGetContent.add(function(s,t){if(t.save){t.content=o.encode(t.content)}})}if(x.add_form_submit_trigger){v.onSubmit.addToTop(function(){if(v.initialized){v.save();v.isNotDirty=1}})}if(x.add_unload_trigger){v._beforeUnload=tinyMCE.onBeforeUnload.add(function(){if(v.initialized&&!v.destroyed&&!v.isHidden()){v.save({format:"raw",no_events:true})}})}n.addUnload(v.destroy,v);if(x.submit_patch){v.onBeforeRenderUI.add(function(){var s=v.getElement().form;if(!s){return}if(s._mceOldSubmit){return}if(!s.submit.nodeType&&!s.submit.length){v.formElement=s;s._mceOldSubmit=s.submit;s.submit=function(){n.triggerSave();v.isNotDirty=1;return v.formElement._mceOldSubmit(v.formElement)}}s=null})}function r(){if(x.language){q.add(n.baseURL+"/../../extra/strings.php?elanguage="+x.language+"&etheme="+x.theme)}if(x.theme&&x.theme.charAt(0)!="-"&&!i.urls[x.theme]){i.load(x.theme,"themes/"+x.theme+"/editor_template"+n.suffix+".js")}j(g(x.plugins),function(s){if(s&&s.charAt(0)!="-"&&!c.urls[s]){if(s=="safari"){return}c.load(s,"plugins/"+s+"/editor_plugin"+n.suffix+".js")}});q.loadQueue(function(){if(!v.removed){v.init()}})}r()},init:function(){var v,F=this,G=F.settings,C,z,B=F.getElement(),r,q,D,y,A,E;n.add(F);if(G.theme){G.theme=G.theme.replace(/-/,"");r=i.get(G.theme);F.theme=new r();if(F.theme.init&&G.init_theme){F.theme.init(F,i.urls[G.theme]||n.documentBaseURL.replace(/\/$/,""))}}j(g(G.plugins.replace(/\-/g,"")),function(H){var I=c.get(H),t=c.urls[H]||n.documentBaseURL.replace(/\/$/,""),s;if(I){s=new I(F,t);F.plugins[H]=s;if(s.init){s.init(F,t)}}});if(G.popup_css!==false){if(G.popup_css){G.popup_css=F.documentBaseURI.toAbsolute(G.popup_css)}else{G.popup_css=F.baseURI.toAbsolute("themes/"+G.theme+"/skins/"+G.skin+"/dialog.css")}}if(G.popup_css_add){G.popup_css+=","+F.documentBaseURI.toAbsolute(G.popup_css_add)}F.controlManager=new n.ControlManager(F);if(G.custom_undo_redo){F.onBeforeExecCommand.add(function(t,H,u,I,s){if(H!="Undo"&&H!="Redo"&&H!="mceRepaint"&&(!s||!s.skip_undo)){if(!F.undoManager.hasUndo()){F.undoManager.add()}}});F.onExecCommand.add(function(t,H,u,I,s){if(H!="Undo"&&H!="Redo"&&H!="mceRepaint"&&(!s||!s.skip_undo)){F.undoManager.add()}})}F.onExecCommand.add(function(s,t){if(!/^(FontName|FontSize)$/.test(t)){F.nodeChanged()}});if(a){function x(s,t){if(!t||!t.initial){F.execCommand("mceRepaint")}}F.onUndo.add(x);F.onRedo.add(x);F.onSetContent.add(x)}F.onBeforeRenderUI.dispatch(F,F.controlManager);if(G.render_ui){C=G.width||B.style.width||B.offsetWidth;z=G.height||B.style.height||B.offsetHeight;F.orgDisplay=B.style.display;E=/^[0-9\.]+(|px)$/i;if(E.test(""+C)){C=Math.max(parseInt(C)+(r.deltaWidth||0),100)}if(E.test(""+z)){z=Math.max(parseInt(z)+(r.deltaHeight||0),100)}r=F.theme.renderUI({targetNode:B,width:C,height:z,deltaWidth:G.delta_width,deltaHeight:G.delta_height});F.editorContainer=r.editorContainer}if(document.domain&&location.hostname!=document.domain){n.relaxedDomain=document.domain}o.setStyles(r.sizeContainer||r.editorContainer,{width:C,height:z});z=(r.iframeHeight||z)+(typeof(z)=="number"?(r.deltaHeight||0):"");if(z<100){z=100}F.iframeHTML=G.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">';if(G.document_base_url!=n.documentBaseURL){F.iframeHTML+='<base href="'+F.documentBaseURI.getURI()+'" />'}F.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';if(n.relaxedDomain){F.iframeHTML+='<script type="text/javascript">document.domain = "'+n.relaxedDomain+'";<\/script>'}y=G.body_id||"tinymce";if(y.indexOf("=")!=-1){y=F.getParam("body_id","","hash");y=y[F.id]||y}A=G.body_class||"";if(A.indexOf("=")!=-1){A=F.getParam("body_class","","hash");A=A[F.id]||""}F.iframeHTML+='</head><body id="'+y+'" class="mceContentBody '+A+'"></body></html>';if(n.relaxedDomain){if(b||(n.isOpera&&parseFloat(opera.version())>=9.5)){D='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+F.id+'");document.write(ed.iframeHTML);document.close();ed.setupIframe();})()'}else{if(n.isOpera){D='javascript:(function(){document.open();document.domain="'+document.domain+'";document.close();ed.setupIframe();})()'}}}v=o.add(r.iframeContainer,"iframe",{id:F.id+"_ifr",src:D||'javascript:""',frameBorder:"0",style:{width:"100%",height:z}});F.contentAreaContainer=r.iframeContainer;o.get(r.editorContainer).style.display=F.orgDisplay;o.get(F.id).style.display="none";if(!b||!n.relaxedDomain){F.setupIframe()}B=v=r=null},setupIframe:function(){var A=this,B=A.settings,u=o.get(A.id),v=A.getDoc(),r,y;if(!b||!n.relaxedDomain){v.open();v.write(A.iframeHTML);v.close()}if(!b){try{if(!B.readonly){v.designMode="On"}}catch(x){}}if(b){y=A.getBody();o.hide(y);if(!B.readonly){y.contentEditable=true}o.show(y)}A.dom=new n.dom.DOMUtils(A.getDoc(),{keep_values:true,url_converter:A.convertURL,url_converter_scope:A,hex_colors:B.force_hex_style_colors,class_filter:B.class_filter,update_styles:1,fix_ie_paragraphs:1,valid_styles:B.valid_styles});A.schema=new n.dom.Schema();A.serializer=new n.dom.Serializer(f(B,{valid_elements:B.verify_html===false?"*[*]":B.valid_elements,dom:A.dom,schema:A.schema}));A.selection=new n.dom.Selection(A.dom,A.getWin(),A.serializer);A.formatter=new n.Formatter(this);A.formatter.register({alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table",styles:{"float":"left"}}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"}},{selector:"img",styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table",styles:{"float":"right"}}],alignfull:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"}}],bold:[{inline:"strong"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b"}],italic:[{inline:"em"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"u"}],forecolor:{inline:"span",styles:{color:"%value"}},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"}},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]});j("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(s){A.formatter.register(s,{block:s,remove:"all"})});A.formatter.register(A.settings.formats);A.undoManager=new n.UndoManager(A);A.undoManager.onAdd.add(function(t,s){if(!s.initial){return A.onChange.dispatch(A,s,t)}});A.undoManager.onUndo.add(function(t,s){return A.onUndo.dispatch(A,s,t)});A.undoManager.onRedo.add(function(t,s){return A.onRedo.dispatch(A,s,t)});A.forceBlocks=new n.ForceBlocks(A,{forced_root_block:B.forced_root_block});A.editorCommands=new n.EditorCommands(A);A.serializer.onPreProcess.add(function(s,t){return A.onPreProcess.dispatch(A,t,s)});A.serializer.onPostProcess.add(function(s,t){return A.onPostProcess.dispatch(A,t,s)});A.onPreInit.dispatch(A);if(!B.gecko_spellcheck){A.getBody().spellcheck=0}if(!B.readonly){A._addEvents()}A.controlManager.onPostRender.dispatch(A,A.controlManager);A.onPostRender.dispatch(A);if(B.directionality){A.getBody().dir=B.directionality}if(B.nowrap){A.getBody().style.whiteSpace="nowrap"}if(B.custom_elements){function z(s,t){j(g(B.custom_elements),function(C){var D;if(C.indexOf("~")===0){C=C.substring(1);D="span"}else{D="div"}t.content=t.content.replace(new RegExp("<("+C+")([^>]*)>","g"),"<"+D+' _mce_name="$1"$2>');t.content=t.content.replace(new RegExp("</("+C+")>","g"),"</"+D+">")})}A.onBeforeSetContent.add(z);A.onPostProcess.add(function(s,t){if(t.set){z(s,t)}})}if(B.handle_node_change_callback){A.onNodeChange.add(function(t,s,C){A.execCallback("handle_node_change_callback",A.id,C,-1,-1,true,A.selection.isCollapsed())})}if(B.save_callback){A.onSaveContent.add(function(s,C){var t=A.execCallback("save_callback",A.id,C.content,A.getBody());if(t){C.content=t}})}if(B.onchange_callback){A.onChange.add(function(t,s){A.execCallback("onchange_callback",A,s)})}if(B.convert_newlines_to_brs){A.onBeforeSetContent.add(function(s,t){if(t.initial){t.content=t.content.replace(/\r?\n/g,"<br />")}})}if(B.fix_nesting&&b){A.onBeforeSetContent.add(function(s,t){t.content=A._fixNesting(t.content)})}if(B.preformatted){A.onPostProcess.add(function(s,t){t.content=t.content.replace(/^\s*<pre.*?>/,"");t.content=t.content.replace(/<\/pre>\s*$/,"");if(t.set){t.content='<pre class="mceItemHidden">'+t.content+"</pre>"}})}if(B.verify_css_classes){A.serializer.attribValueFilter=function(E,C){var D,t;if(E=="class"){if(!A.classesRE){t=A.dom.getClasses();if(t.length>0){D="";j(t,function(s){D+=(D?"|":"")+s["class"]});A.classesRE=new RegExp("("+D+")","gi")}}return !A.classesRE||/(\bmceItem\w+\b|\bmceTemp\w+\b)/g.test(C)||A.classesRE.test(C)?C:""}return C}}if(B.cleanup_callback){A.onBeforeSetContent.add(function(s,t){t.content=A.execCallback("cleanup_callback","insert_to_editor",t.content,t)});A.onPreProcess.add(function(s,t){if(t.set){A.execCallback("cleanup_callback","insert_to_editor_dom",t.node,t)}if(t.get){A.execCallback("cleanup_callback","get_from_editor_dom",t.node,t)}});A.onPostProcess.add(function(s,t){if(t.set){t.content=A.execCallback("cleanup_callback","insert_to_editor",t.content,t)}if(t.get){t.content=A.execCallback("cleanup_callback","get_from_editor",t.content,t)}})}if(B.save_callback){A.onGetContent.add(function(s,t){if(t.save){t.content=A.execCallback("save_callback",A.id,t.content,A.getBody())}})}if(B.handle_event_callback){A.onEvent.add(function(s,t,C){if(A.execCallback("handle_event_callback",t,s,C)===false){k.cancel(t)}})}A.onSetContent.add(function(){A.addVisual(A.getBody())});if(B.padd_empty_editor){A.onPostProcess.add(function(s,t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}if(a){function q(s,t){j(s.dom.select("a"),function(D){var C=D.parentNode;if(s.dom.isBlock(C)&&C.lastChild===D){s.dom.add(C,"br",{_mce_bogus:1})}})}A.onExecCommand.add(function(s,t){if(t==="CreateLink"){q(s)}});A.onSetContent.add(A.selection.onSetContent.add(q));if(!B.readonly){try{v.designMode="Off";v.designMode="On"}catch(x){}}}setTimeout(function(){if(A.removed){return}A.load({initial:true,format:(B.cleanup_on_startup?"html":"raw")});A.startContent=A.getContent({format:"raw"});A.initialized=true;A.onInit.dispatch(A);A.execCallback("setupcontent_callback",A.id,A.getBody(),A.getDoc());A.execCallback("init_instance_callback",A);A.focus(true);A.nodeChanged({initial:1});if(B.content_css){n.each(g(B.content_css),function(s){A.dom.loadCSS(A.documentBaseURI.toAbsolute(s))})}if(B.auto_focus){setTimeout(function(){var s=n.get(B.auto_focus);s.selection.select(s.getBody(),1);s.selection.collapse(1);s.getWin().focus()},100)}},1);u=null},focus:function(u){var y,r=this,x=r.settings.content_editable,s,q,v=r.getDoc();if(!u){s=r.selection.getRng();if(s.item){q=s.item(0)}if(!x){r.getWin().focus()}if(q&&q.ownerDocument==v){s=v.body.createControlRange();s.addElement(q);s.select()}}if(n.activeEditor!=r){if((y=n.activeEditor)!=null){y.onDeactivate.dispatch(y,r)}r.onActivate.dispatch(r,y)}n._setActive(r)},execCallback:function(v){var q=this,u=q.settings[v],r;if(!u){return}if(q.callbackLookup&&(r=q.callbackLookup[v])){u=r.func;r=r.scope}if(d(u,"string")){r=u.replace(/\.\w+$/,"");r=r?n.resolve(r):0;u=n.resolve(u);q.callbackLookup=q.callbackLookup||{};q.callbackLookup[v]={func:u,scope:r}}return u.apply(r||q,Array.prototype.slice.call(arguments,1))},translate:function(q){var t=this.settings.language||"en",r=n.i18n;if(!q){return""}return r[t+"."+q]||q.replace(/{\#([^}]+)\}/g,function(u,s){return r[t+"."+s]||"{#"+s+"}"})},getLang:function(r,q){return n.i18n[(this.settings.language||"en")+"."+r]||(d(q)?q:"{#"+r+"}")},getParam:function(x,s,q){var t=n.trim,r=d(this.settings[x])?this.settings[x]:s,u;if(q==="hash"){u={};if(d(r,"string")){j(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(y){y=y.split("=");if(y.length>1){u[t(y[0])]=t(y[1])}else{u[t(y[0])]=t(y)}})}else{u=r}return u}return r},nodeChanged:function(u){var q=this,r=q.selection,v=(b?r.getNode():r.getStart())||q.getBody();if(q.initialized){u=u||{};v=b&&v.ownerDocument!=q.getDoc()?q.getBody():v;u.parents=[];q.dom.getParent(v,function(s){if(s.nodeName=="BODY"){return true}u.parents.push(s)});q.onNodeChange.dispatch(q,u?u.controlManager||q.controlManager:q.controlManager,v,r.isCollapsed(),u)}},addButton:function(u,r){var q=this;q.buttons=q.buttons||{};q.buttons[u]=r},addCommand:function(t,r,q){this.execCommands[t]={func:r,scope:q||this}},addQueryStateHandler:function(t,r,q){this.queryStateCommands[t]={func:r,scope:q||this}},addQueryValueHandler:function(t,r,q){this.queryValueCommands[t]={func:r,scope:q||this}},addShortcut:function(s,v,q,u){var r=this,x;if(!r.settings.custom_shortcuts){return false}r.shortcuts=r.shortcuts||{};if(d(q,"string")){x=q;q=function(){r.execCommand(x,false,null)}}if(d(q,"object")){x=q;q=function(){r.execCommand(x[0],x[1],x[2])}}j(g(s),function(t){var y={func:q,scope:u||this,desc:v,alt:false,ctrl:false,shift:false};j(g(t,"+"),function(z){switch(z){case"alt":case"ctrl":case"shift":y[z]=true;break;default:y.charCode=z.charCodeAt(0);y.keyCode=z.toUpperCase().charCodeAt(0)}});r.shortcuts[(y.ctrl?"ctrl":"")+","+(y.alt?"alt":"")+","+(y.shift?"shift":"")+","+y.keyCode]=y});return true},execCommand:function(y,x,A,q){var u=this,v=0,z,r;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(y)&&(!q||!q.skip_focus)){u.focus()}z={};u.onBeforeExecCommand.dispatch(u,y,x,A,z);if(z.terminate){return false}if(u.execCallback("execcommand_callback",u.id,u.selection.getNode(),y,x,A)){u.onExecCommand.dispatch(u,y,x,A,q);return true}if(z=u.execCommands[y]){r=z.func.call(z.scope,x,A);if(r!==true){u.onExecCommand.dispatch(u,y,x,A,q);return r}}j(u.plugins,function(s){if(s.execCommand&&s.execCommand(y,x,A)){u.onExecCommand.dispatch(u,y,x,A,q);v=1;return false}});if(v){return true}if(u.theme&&u.theme.execCommand&&u.theme.execCommand(y,x,A)){u.onExecCommand.dispatch(u,y,x,A,q);return true}if(n.GlobalCommands.execCommand(u,y,x,A)){u.onExecCommand.dispatch(u,y,x,A,q);return true}if(u.editorCommands.execCommand(y,x,A)){u.onExecCommand.dispatch(u,y,x,A,q);return true}u.getDoc().execCommand(y,x,A);u.onExecCommand.dispatch(u,y,x,A,q)},queryCommandState:function(v){var r=this,x,u;if(r._isHidden()){return}if(x=r.queryStateCommands[v]){u=x.func.call(x.scope);if(u!==true){return u}}x=r.editorCommands.queryCommandState(v);if(x!==-1){return x}try{return this.getDoc().queryCommandState(v)}catch(q){}},queryCommandValue:function(x){var r=this,v,u;if(r._isHidden()){return}if(v=r.queryValueCommands[x]){u=v.func.call(v.scope);if(u!==true){return u}}v=r.editorCommands.queryCommandValue(x);if(d(v)){return v}try{return this.getDoc().queryCommandValue(x)}catch(q){}},show:function(){var q=this;o.show(q.getContainer());o.hide(q.id);q.load()},hide:function(){var q=this,r=q.getDoc();if(b&&r){r.execCommand("SelectAll")}q.save();o.hide(q.getContainer());o.setStyle(q.id,"display",q.orgDisplay)},isHidden:function(){return !o.isHidden(this.id)},setProgressState:function(q,r,s){this.onSetProgressState.dispatch(this,q,r,s);return q},load:function(u){var q=this,s=q.getElement(),r;if(s){u=u||{};u.load=true;r=q.setContent(d(s.value)?s.value:s.innerHTML,u);u.element=s;if(!u.no_events){q.onLoadContent.dispatch(q,u)}u.element=s=null;return r}},save:function(v){var q=this,u=q.getElement(),r,s;if(!u||!q.initialized){return}v=v||{};v.save=true;if(!v.no_events){q.undoManager.typing=0;q.undoManager.add()}v.element=u;r=v.content=q.getContent(v);if(!v.no_events){q.onSaveContent.dispatch(q,v)}r=v.content;if(!/TEXTAREA|INPUT/i.test(u.nodeName)){u.innerHTML=r;if(s=o.getParent(q.id,"form")){j(s.elements,function(t){if(t.name==q.id){t.value=r;return false}})}}else{u.value=r}v.element=u=null;return r},setContent:function(r,s){var q=this;s=s||{};s.format=s.format||"html";s.set=true;s.content=r;if(!s.no_events){q.onBeforeSetContent.dispatch(q,s)}if(!n.isIE&&(r.length===0||/^\s+$/.test(r))){s.content=q.dom.setHTML(q.getBody(),'<br _mce_bogus="1" />');s.format="raw"}s.content=q.dom.setHTML(q.getBody(),n.trim(s.content));if(s.format!="raw"&&q.settings.cleanup){s.getInner=true;s.content=q.dom.setHTML(q.getBody(),q.serializer.serialize(q.getBody(),s))}if(!s.no_events){q.onSetContent.dispatch(q,s)}return s.content},getContent:function(s){var q=this,r;s=s||{};s.format=s.format||"html";s.get=true;if(!s.no_events){q.onBeforeGetContent.dispatch(q,s)}if(s.format!="raw"&&q.settings.cleanup){s.getInner=true;r=q.serializer.serialize(q.getBody(),s)}else{r=q.getBody().innerHTML}r=r.replace(/^\s*|\s*$/g,"");s.content=r;if(!s.no_events){q.onGetContent.dispatch(q,s)}return s.content},isDirty:function(){var q=this;return n.trim(q.startContent)!=n.trim(q.getContent({format:"raw",no_events:1}))&&!q.isNotDirty},getContainer:function(){var q=this;if(!q.container){q.container=o.get(q.editorContainer||q.id+"_parent")}return q.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return o.get(this.settings.content_element||this.id)},getWin:function(){var q=this,r;if(!q.contentWindow){r=o.get(q.id+"_ifr");if(r){q.contentWindow=r.contentWindow}}return q.contentWindow},getDoc:function(){var r=this,q;if(!r.contentDocument){q=r.getWin();if(q){r.contentDocument=q.document}}return r.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(q,y,x){var r=this,v=r.settings;if(v.urlconverter_callback){return r.execCallback("urlconverter_callback",q,x,true,y)}if(!v.convert_urls||(x&&x.nodeName=="LINK")||q.indexOf("file:")===0){return q}if(v.relative_urls){return r.documentBaseURI.toRelative(q)}q=r.documentBaseURI.toAbsolute(q,v.remove_script_host);return q},addVisual:function(u){var q=this,r=q.settings;u=u||q.getBody();if(!d(q.hasVisual)){q.hasVisual=r.visual}j(q.dom.select("table,a",u),function(t){var s;switch(t.nodeName){case"TABLE":s=q.dom.getAttrib(t,"border");if(!s||s=="0"){if(q.hasVisual){q.dom.addClass(t,r.visual_table_class)}else{q.dom.removeClass(t,r.visual_table_class)}}return;case"A":s=q.dom.getAttrib(t,"name");if(s){if(q.hasVisual){q.dom.addClass(t,"mceItemAnchor")}else{q.dom.removeClass(t,"mceItemAnchor")}}return}});q.onVisualAid.dispatch(q,u,q.hasVisual)},remove:function(){var q=this,r=q.getContainer();q.removed=1;q.hide();q.execCallback("remove_instance_callback",q);q.onRemove.dispatch(q);q.onExecCommand.listeners=[];n.remove(q);o.remove(r)},destroy:function(r){var q=this;if(q.destroyed){return}if(!r){n.removeUnload(q.destroy);tinyMCE.onBeforeUnload.remove(q._beforeUnload);if(q.theme&&q.theme.destroy){q.theme.destroy()}q.controlManager.destroy();q.selection.destroy();q.dom.destroy();if(!q.settings.content_editable){k.clear(q.getWin());k.clear(q.getDoc())}k.clear(q.getBody());k.clear(q.formElement)}if(q.formElement){q.formElement.submit=q.formElement._mceOldSubmit;q.formElement._mceOldSubmit=null}q.contentAreaContainer=q.formElement=q.container=q.settings.content_element=q.bodyElement=q.contentDocument=q.contentWindow=null;if(q.selection){q.selection=q.selection.win=q.selection.dom=q.selection.dom.doc=null}q.destroyed=1},_addEvents:function(){var x=this,v,z=x.settings,y={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"};function u(t,B){var s=t.type;if(x.removed){return}if(x.onEvent.dispatch(x,t,B)!==false){x[y[t.fakeType||t.type]].dispatch(x,t,B)}}j(y,function(t,s){switch(s){case"contextmenu":if(n.isOpera){x.dom.bind(x.getBody(),"mousedown",function(B){if(B.ctrlKey){B.fakeType="contextmenu";u(B)}})}else{x.dom.bind(x.getBody(),s,u)}break;case"paste":x.dom.bind(x.getBody(),s,function(B){u(B)});break;case"submit":case"reset":x.dom.bind(x.getElement().form||o.getParent(x.id,"form"),s,u);break;default:x.dom.bind(z.content_editable?x.getBody():x.getDoc(),s,u)}});x.dom.bind(z.content_editable?x.getBody():(a?x.getDoc():x.getWin()),"focus",function(s){x.focus(true)});if(n.isGecko){x.dom.bind(x.getDoc(),"DOMNodeInserted",function(t){var s;t=t.target;if(t.nodeType===1&&t.nodeName==="IMG"&&(s=t.getAttribute("_mce_src"))){t.src=x.documentBaseURI.toAbsolute(s)}})}if(a){function q(){var C=this,E=C.getDoc(),D=C.settings;if(a&&!D.readonly){if(C._isHidden()){try{if(!D.content_editable){E.designMode="On"}}catch(B){}}try{E.execCommand("styleWithCSS",0,false)}catch(B){if(!C._isHidden()){try{E.execCommand("useCSS",0,true)}catch(B){}}}if(!D.table_inline_editing){try{E.execCommand("enableInlineTableEditing",false,false)}catch(B){}}if(!D.object_resizing){try{E.execCommand("enableObjectResizing",false,false)}catch(B){}}}}x.onBeforeExecCommand.add(q);x.onMouseDown.add(q)}if(n.isWebKit){x.onClick.add(function(s,t){t=t.target;if(t.nodeName=="IMG"||(t.nodeName=="A"&&x.dom.hasClass(t,"mceItemAnchor"))){x.selection.getSel().setBaseAndExtent(t,0,t,1);x.nodeChanged()}})}x.onMouseUp.add(x.nodeChanged);x.onKeyUp.add(function(s,t){var B=t.keyCode;if((B>=33&&B<=36)||(B>=37&&B<=40)||B==13||B==45||B==46||B==8||(n.isMac&&(B==91||B==93))||t.ctrlKey){x.nodeChanged()}});x.onReset.add(function(){x.setContent(x.startContent,{format:"raw"})});if(z.custom_shortcuts){if(z.custom_undo_redo_keyboard_shortcuts){x.addShortcut("ctrl+z",x.getLang("undo_desc"),"Undo");x.addShortcut("ctrl+y",x.getLang("redo_desc"),"Redo")}x.addShortcut("ctrl+b",x.getLang("bold_desc"),"Bold");x.addShortcut("ctrl+i",x.getLang("italic_desc"),"Italic");x.addShortcut("ctrl+u",x.getLang("underline_desc"),"Underline");for(v=1;v<=6;v++){x.addShortcut("ctrl+"+v,"",["FormatBlock",false,"h"+v])}x.addShortcut("ctrl+7","",["FormatBlock",false,"<p>"]);x.addShortcut("ctrl+8","",["FormatBlock",false,"<div>"]);x.addShortcut("ctrl+9","",["FormatBlock",false,"<address>"]);function A(t){var s=null;if(!t.altKey&&!t.ctrlKey&&!t.metaKey){return s}j(x.shortcuts,function(B){if(n.isMac&&B.ctrl!=t.metaKey){return}else{if(!n.isMac&&B.ctrl!=t.ctrlKey){return}}if(B.alt!=t.altKey){return}if(B.shift!=t.shiftKey){return}if(t.keyCode==B.keyCode||(t.charCode&&t.charCode==B.charCode)){s=B;return false}});return s}x.onKeyUp.add(function(s,t){var B=A(t);if(B){return k.cancel(t)}});x.onKeyPress.add(function(s,t){var B=A(t);if(B){return k.cancel(t)}});x.onKeyDown.add(function(s,t){var B=A(t);if(B){B.func.call(B.scope);return k.cancel(t)}})}if(n.isIE){x.dom.bind(x.getDoc(),"controlselect",function(B){var t=x.resizeInfo,s;B=B.target;if(B.nodeName!=="IMG"){return}if(t){x.dom.unbind(t.node,t.ev,t.cb)}if(!x.dom.hasClass(B,"mceItemNoResize")){ev="resizeend";s=x.dom.bind(B,ev,function(D){var C;D=D.target;if(C=x.dom.getStyle(D,"width")){x.dom.setAttrib(D,"width",C.replace(/[^0-9%]+/g,""));x.dom.setStyle(D,"width","")}if(C=x.dom.getStyle(D,"height")){x.dom.setAttrib(D,"height",C.replace(/[^0-9%]+/g,""));x.dom.setStyle(D,"height","")}})}else{ev="resizestart";s=x.dom.bind(B,"resizestart",k.cancel,k)}t=x.resizeInfo={node:B,ev:ev,cb:s}});x.onKeyDown.add(function(s,t){switch(t.keyCode){case 8:if(x.selection.getRng().item){s.dom.remove(x.selection.getRng().item(0));return k.cancel(t)}}})}if(n.isOpera){x.onClick.add(function(s,t){k.prevent(t)})}if(z.custom_undo_redo){function r(){x.undoManager.typing=0;x.undoManager.add()}x.dom.bind(x.getDoc(),"focusout",function(s){if(!x.removed&&x.undoManager.typing){r()}});x.onKeyUp.add(function(s,t){if((t.keyCode>=33&&t.keyCode<=36)||(t.keyCode>=37&&t.keyCode<=40)||t.keyCode==13||t.keyCode==45||t.ctrlKey){r()}});x.onKeyDown.add(function(t,E){var s,D,C;if(b&&E.keyCode==46){s=x.selection.getRng();if(s.parentElement){D=s.parentElement();if(E.ctrlKey){s.moveEnd("word",1);s.select()}x.selection.getSel().clear();if(s.parentElement()==D){C=x.selection.getBookmark();try{D.innerHTML=D.innerHTML}catch(B){}x.selection.moveToBookmark(C)}E.preventDefault();return}}if((E.keyCode>=33&&E.keyCode<=36)||(E.keyCode>=37&&E.keyCode<=40)||E.keyCode==13||E.keyCode==45){if(x.undoManager.typing){r()}return}if(!x.undoManager.typing){x.undoManager.add();x.undoManager.typing=1}});x.onMouseDown.add(function(){if(x.undoManager.typing){r()}})}},_isHidden:function(){var q;if(!a){return 0}q=this.selection.getSel();return(!q||!q.rangeCount||q.rangeCount==0)},_fixNesting:function(r){var t=[],q;r=r.replace(/<(\/)?([^\s>]+)[^>]*?>/g,function(u,s,x){var v;if(s==="/"){if(!t.length){return""}if(x!==t[t.length-1].tag){for(q=t.length-1;q>=0;q--){if(t[q].tag===x){t[q].close=1;break}}return""}else{t.pop();if(t.length&&t[t.length-1].close){u=u+"</"+t[t.length-1].tag+">";t.pop()}}}else{if(/^(br|hr|input|meta|img|link|param)$/i.test(x)){return u}if(/\/>$/.test(u)){return u}t.push({tag:x})}return u});for(q=t.length-1;q>=0;q--){r+="</"+t[q].tag+">"}return r}})})(tinymce);(function(c){var d=c.each,e,a=true,b=false;c.EditorCommands=function(o){var m=o.dom,q=o.selection,k={state:{},exec:{},value:{}},l=o.settings,p;function r(z,y,x){var v;z=z.toLowerCase();if(v=k.exec[z]){v(z,y,x);return a}return b}function n(x){var v;x=x.toLowerCase();if(v=k.state[x]){return v(x)}return -1}function i(x){var v;x=x.toLowerCase();if(v=k.value[x]){return v(x)}return b}function u(v,x){x=x||"exec";d(v,function(z,y){d(y.toLowerCase().split(","),function(A){k[x][A]=z})})}c.extend(this,{execCommand:r,queryCommandState:n,queryCommandValue:i,addCommands:u});function f(y,x,v){if(x===e){x=b}if(v===e){v=null}return o.getDoc().execCommand(y,x,v)}function t(v){return o.formatter.match(v)}function s(v,x){o.formatter.toggle(v,x?{value:x}:e)}function j(v){p=q.getBookmark(v)}function g(){q.moveToBookmark(p)}u({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){o.undoManager.add()},"Cut,Copy,Paste":function(z){var y=o.getDoc(),v;try{f(z)}catch(x){v=a}if(v||!y.queryCommandSupported(z)){if(c.isGecko){o.windowManager.confirm(o.getLang("clipboard_msg"),function(A){if(A){open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}})}else{o.windowManager.alert(o.getLang("clipboard_no_support"))}}},unlink:function(v){if(q.isCollapsed()){q.select(q.getNode())}f(v);q.collapse(b)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(v){var x=v.substring(7);d("left,center,right,full".split(","),function(y){if(x!=y){o.formatter.remove("align"+y)}});s("align"+x)},"InsertUnorderedList,InsertOrderedList":function(y){var v,x;f(y);v=m.getParent(q.getNode(),"ol,ul");if(v){x=v.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(x.nodeName)){j();m.split(x,v);g()}}},"Bold,Italic,Underline,Strikethrough":function(v){s(v)},"ForeColor,HiliteColor,FontName":function(y,x,v){s(y,v)},FontSize:function(z,y,x){var v,A;if(x>=1&&x<=7){A=c.explode(l.font_size_style_values);v=c.explode(l.font_size_classes);if(v){x=v[x-1]||x}else{x=A[x-1]||x}}s(z,x)},RemoveFormat:function(v){o.formatter.remove(v)},mceBlockQuote:function(v){s("blockquote")},FormatBlock:function(y,x,v){return s(v||"p")},mceCleanup:function(){var v=q.getBookmark();o.setContent(o.getContent({cleanup:a}),{cleanup:a});q.moveToBookmark(v)},mceRemoveNode:function(z,y,x){var v=x||q.getNode();if(v!=o.getBody()){j();o.dom.remove(v,a);g()}},mceSelectNodeDepth:function(z,y,x){var v=0;m.getParent(q.getNode(),function(A){if(A.nodeType==1&&v++==x){q.select(A);return b}},o.getBody())},mceSelectNode:function(y,x,v){q.select(v)},mceInsertContent:function(y,x,v){q.setContent(v)},mceInsertRawHTML:function(y,x,v){q.setContent("tiny_mce_marker");o.setContent(o.getContent().replace(/tiny_mce_marker/g,function(){return v}))},mceSetContent:function(y,x,v){o.setContent(v)},"Indent,Outdent":function(z){var x,v,y;x=l.indentation;v=/[a-z%]+$/i.exec(x);x=parseInt(x);if(!n("InsertUnorderedList")&&!n("InsertOrderedList")){d(q.getSelectedBlocks(),function(A){if(z=="outdent"){y=Math.max(0,parseInt(A.style.paddingLeft||0)-x);m.setStyle(A,"paddingLeft",y?y+v:"")}else{m.setStyle(A,"paddingLeft",(parseInt(A.style.paddingLeft||0)+x)+v)}})}else{f(z)}},mceRepaint:function(){var x;if(c.isGecko){try{j(a);if(q.getSel()){q.getSel().selectAllChildren(o.getBody())}q.collapse(a);g()}catch(v){}}},mceToggleFormat:function(y,x,v){o.formatter.toggle(v)},InsertHorizontalRule:function(){q.setContent("<hr />")},mceToggleVisualAid:function(){o.hasVisual=!o.hasVisual;o.addVisual()},mceReplaceContent:function(y,x,v){q.setContent(v.replace(/\{\$selection\}/g,q.getContent({format:"text"})))},mceInsertLink:function(z,y,x){var v=m.getParent(q.getNode(),"a");if(c.is(x,"string")){x={href:x}}if(!v){f("CreateLink",b,"javascript:mctmp(0);");d(m.select("a[href=javascript:mctmp(0);]"),function(A){m.setAttribs(A,x)})}else{if(x.href){m.setAttribs(v,x)}else{o.dom.remove(v,a)}}},selectAll:function(){var x=m.getRoot(),v=m.createRng();v.setStart(x,0);v.setEnd(x,x.childNodes.length);o.selection.setRng(v)}});u({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(v){return t("align"+v.substring(7))},"Bold,Italic,Underline,Strikethrough":function(v){return t(v)},mceBlockQuote:function(){return t("blockquote")},Outdent:function(){var v;if(l.inline_styles){if((v=m.getParent(q.getStart(),m.isBlock))&&parseInt(v.style.paddingLeft)>0){return a}if((v=m.getParent(q.getEnd(),m.isBlock))&&parseInt(v.style.paddingLeft)>0){return a}}return n("InsertUnorderedList")||n("InsertOrderedList")||(!l.inline_styles&&!!m.getParent(q.getNode(),"BLOCKQUOTE"))},"InsertUnorderedList,InsertOrderedList":function(v){return m.getParent(q.getNode(),v=="insertunorderedlist"?"UL":"OL")}},"state");u({"FontSize,FontName":function(y){var x=0,v;if(v=m.getParent(q.getNode(),"span")){if(y=="fontsize"){x=v.style.fontSize}else{x=v.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()}}return x}},"value");if(l.custom_undo_redo){u({Undo:function(){o.undoManager.undo()},Redo:function(){o.undoManager.redo()}})}}})(tinymce);(function(b){var a=b.util.Dispatcher;b.UndoManager=function(e){var c,d=0,g=[];function f(){return b.trim(e.getContent({format:"raw",no_events:1}))}return c={typing:0,onAdd:new a(c),onUndo:new a(c),onRedo:new a(c),add:function(m){var j,k=e.settings,l;m=m||{};m.content=f();l=g[d];if(l&&l.content==m.content){if(d>0||g.length==1){return null}}if(k.custom_undo_redo_levels){if(g.length>k.custom_undo_redo_levels){for(j=0;j<g.length-1;j++){g[j]=g[j+1]}g.length--;d=g.length}}m.bookmark=e.selection.getBookmark(2,true);if(d<g.length-1){if(d==0){g=[]}else{g.length=d+1}}g.push(m);d=g.length-1;c.onAdd.dispatch(c,m);e.isNotDirty=0;return m},undo:function(){var k,j;if(c.typing){c.add();c.typing=0}if(d>0){k=g[--d];e.setContent(k.content,{format:"raw"});e.selection.moveToBookmark(k.bookmark);c.onUndo.dispatch(c,k)}return k},redo:function(){var i;if(d<g.length-1){i=g[++d];e.setContent(i.content,{format:"raw"});e.selection.moveToBookmark(i.bookmark);c.onRedo.dispatch(c,i)}return i},clear:function(){g=[];d=c.typing=0},hasUndo:function(){return d>0||c.typing},hasRedo:function(){return d<g.length-1}}}})(tinymce);(function(n){var l=n.dom.Event,c=n.isIE,a=n.isGecko,b=n.isOpera,k=n.each,j=n.extend,d=true,i=false;function m(q){var r,p,o;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(q.nodeName)){if(r){p=q.cloneNode(false);p.appendChild(r);r=p}else{r=o=q.cloneNode(false)}r.removeAttribute("id")}}while(q=q.parentNode);if(r){return{wrapper:r,inner:o}}}function g(p,q){var o=q.ownerDocument.createRange();o.setStart(p.endContainer,p.endOffset);o.setEndAfter(q);return o.cloneContents().textContent.length==0}function f(o){o=o.innerHTML;o=o.replace(/<(img|hr|table|input|select|textarea)[ \>]/gi,"-");o=o.replace(/<[^>]+>/g,"");return o.replace(/[ \u00a0\t\r\n]+/g,"")==""}function e(q,s,o){var p,r;if(f(o)){p=s.getParent(o,"ul,ol");if(!s.getParent(p.parentNode,"ul,ol")){s.split(p,o);r=s.create("p",0,'<br _mce_bogus="1" />');s.replace(r,o);q.select(r,1)}return i}return d}n.create("tinymce.ForceBlocks",{ForceBlocks:function(p){var q=this,r=p.settings,u;q.editor=p;q.dom=p.dom;u=(r.forced_root_block||"p").toLowerCase();r.element=u.toUpperCase();p.onPreInit.add(q.setup,q);q.reOpera=new RegExp("(\\u00a0|&#160;|&nbsp;)</"+u+">","gi");q.rePadd=new RegExp("<p( )([^>]+)><\\/p>|<p( )([^>]+)\\/>|<p( )([^>]+)>\\s+<\\/p>|<p><\\/p>|<p\\/>|<p>\\s+<\\/p>".replace(/p/g,u),"gi");q.reNbsp2BR1=new RegExp("<p( )([^>]+)>[\\s\\u00a0]+<\\/p>|<p>[\\s\\u00a0]+<\\/p>".replace(/p/g,u),"gi");q.reNbsp2BR2=new RegExp("<%p()([^>]+)>(&nbsp;|&#160;)<\\/%p>|<%p>(&nbsp;|&#160;)<\\/%p>".replace(/%p/g,u),"gi");q.reBR2Nbsp=new RegExp("<p( )([^>]+)>\\s*<br \\/>\\s*<\\/p>|<p>\\s*<br \\/>\\s*<\\/p>".replace(/p/g,u),"gi");function o(s,t){if(b){t.content=t.content.replace(q.reOpera,"</"+u+">")}t.content=n._replace(q.rePadd,"<"+u+"$1$2$3$4$5$6>\u00a0</"+u+">",t.content);if(!c&&!b&&t.set){t.content=t.content.replace(q.reNbsp2BR1,"<"+u+"$1$2><br /></"+u+">");t.content=t.content.replace(q.reNbsp2BR2,"<"+u+"$1$2><br /></"+u+">")}else{t.content=n._replace(q.reBR2Nbsp,"<"+u+"$1$2>\u00a0</"+u+">",t.content)}}p.onBeforeSetContent.add(o);p.onPostProcess.add(o);if(r.forced_root_block){p.onInit.add(q.forceRoots,q);p.onSetContent.add(q.forceRoots,q);p.onBeforeGetContent.add(q.forceRoots,q)}},setup:function(){var p=this,o=p.editor,r=o.settings,v=o.dom,q=o.selection;if(r.forced_root_block){o.onBeforeExecCommand.add(p.forceRoots,p);o.onKeyUp.add(p.forceRoots,p);o.onPreProcess.add(p.forceRoots,p)}if(r.force_br_newlines){if(c){o.onKeyPress.add(function(s,t){var x;if(t.keyCode==13&&q.getNode().nodeName!="LI"){q.setContent('<br id="__" /> ',{format:"raw"});x=v.get("__");x.removeAttribute("id");q.select(x);q.collapse();return l.cancel(t)}})}}if(r.force_p_newlines){if(!c){o.onKeyPress.add(function(s,t){if(t.keyCode==13&&!t.shiftKey&&!p.insertPara(t)){l.cancel(t)}})}else{n.addUnload(function(){p._previousFormats=0});o.onKeyPress.add(function(s,t){p._previousFormats=0;if(t.keyCode==13&&!t.shiftKey&&s.selection.isCollapsed()&&r.keep_styles){p._previousFormats=m(s.selection.getStart())}});o.onKeyUp.add(function(t,y){if(y.keyCode==13&&!y.shiftKey){var x=t.selection.getStart(),s=p._previousFormats;if(!x.hasChildNodes()&&s){x=v.getParent(x,v.isBlock);if(x&&x.nodeName!="LI"){x.innerHTML="";if(p._previousFormats){x.appendChild(s.wrapper);s.inner.innerHTML="\uFEFF"}else{x.innerHTML="\uFEFF"}q.select(x,1);t.getDoc().execCommand("Delete",false,null);p._previousFormats=0}}}})}if(a){o.onKeyDown.add(function(s,t){if((t.keyCode==8||t.keyCode==46)&&!t.shiftKey){p.backspaceDelete(t,t.keyCode==8)}})}}if(n.isWebKit){function u(t){var s=q.getRng(),x,A=v.create("div",null," "),z,y=v.getViewPort(t.getWin()).h;s.insertNode(x=v.create("br"));s.setStartAfter(x);s.setEndAfter(x);q.setRng(s);if(q.getSel().focusNode==x.previousSibling){q.select(v.insertAfter(v.doc.createTextNode("\u00a0"),x));q.collapse(d)}v.insertAfter(A,x);z=v.getPos(A).y;v.remove(A);if(z>y){t.getWin().scrollTo(0,z)}}o.onKeyPress.add(function(s,t){if(t.keyCode==13&&(t.shiftKey||(r.force_br_newlines&&!v.getParent(q.getNode(),"h1,h2,h3,h4,h5,h6,ol,ul")))){u(s);l.cancel(t)}})}o.onPreProcess.add(function(s,t){k(v.select("p,h1,h2,h3,h4,h5,h6,div",t.node),function(x){if(f(x)){k(v.select("span,em,strong,b,i",t.node),function(y){if(!y.hasChildNodes()){y.appendChild(s.getDoc().createTextNode("\u00a0"));return i}})}})});if(c){if(r.element!="P"){o.onKeyPress.add(function(s,t){p.lastElm=q.getNode().nodeName});o.onKeyUp.add(function(t,x){var z,y=q.getNode(),s=t.getBody();if(s.childNodes.length===1&&y.nodeName=="P"){y=v.rename(y,r.element);q.select(y);q.collapse();t.nodeChanged()}else{if(x.keyCode==13&&!x.shiftKey&&p.lastElm!="P"){z=v.getParent(y,"p");if(z){v.rename(z,r.element);t.nodeChanged()}}}})}}},find:function(v,q,r){var p=this.editor,o=p.getDoc().createTreeWalker(v,4,null,i),u=-1;while(v=o.nextNode()){u++;if(q==0&&v==r){return u}if(q==1&&u==r){return v}}return -1},forceRoots:function(x,I){var z=this,x=z.editor,M=x.getBody(),J=x.getDoc(),P=x.selection,A=P.getSel(),B=P.getRng(),N=-2,v,G,o,p,K=-16777215;var L,q,O,F,C,u=M.childNodes,E,D,y;for(E=u.length-1;E>=0;E--){L=u[E];if(L.nodeType===1&&L.getAttribute("_mce_type")){q=null;continue}if(L.nodeType===3||(!z.dom.isBlock(L)&&L.nodeType!==8&&!/^(script|mce:script|style|mce:style)$/i.test(L.nodeName))){if(!q){if(L.nodeType!=3||/[^\s]/g.test(L.nodeValue)){if(N==-2&&B){if(!c||B.setStart){if(B.startContainer.nodeType==1&&(D=B.startContainer.childNodes[B.startOffset])&&D.nodeType==1){y=D.getAttribute("id");D.setAttribute("id","__mce")}else{if(x.dom.getParent(B.startContainer,function(r){return r===M})){G=B.startOffset;o=B.endOffset;N=z.find(M,0,B.startContainer);v=z.find(M,0,B.endContainer)}}}else{if(B.item){p=J.body.createTextRange();p.moveToElementText(B.item(0));B=p}p=J.body.createTextRange();p.moveToElementText(M);p.collapse(1);O=p.move("character",K)*-1;p=B.duplicate();p.collapse(1);F=p.move("character",K)*-1;p=B.duplicate();p.collapse(0);C=(p.move("character",K)*-1)-F;N=F-O;v=C}}q=x.dom.create(x.settings.forced_root_block);L.parentNode.replaceChild(q,L);q.appendChild(L)}}else{if(q.hasChildNodes()){q.insertBefore(L,q.firstChild)}else{q.appendChild(L)}}}else{q=null}}if(N!=-2){if(!c||B.setStart){q=M.getElementsByTagName(x.settings.element)[0];B=J.createRange();if(N!=-1){B.setStart(z.find(M,1,N),G)}else{B.setStart(q,0)}if(v!=-1){B.setEnd(z.find(M,1,v),o)}else{B.setEnd(q,0)}if(A){A.removeAllRanges();A.addRange(B)}}else{try{B=A.createRange();B.moveToElementText(M);B.collapse(1);B.moveStart("character",N);B.moveEnd("character",v);B.select()}catch(H){}}}else{if((!c||B.setStart)&&(D=x.dom.get("__mce"))){if(y){D.setAttribute("id",y)}else{D.removeAttribute("id")}B=J.createRange();B.setStartBefore(D);B.setEndBefore(D);P.setRng(B)}}},getParentBlock:function(p){var o=this.dom;return o.getParent(p,o.isBlock)},insertPara:function(S){var G=this,x=G.editor,O=x.dom,T=x.getDoc(),X=x.settings,H=x.selection.getSel(),I=H.getRangeAt(0),W=T.body;var L,M,J,Q,P,u,p,v,A,o,E,V,q,z,K,N=O.getViewPort(x.getWin()),D,F,C;L=T.createRange();L.setStart(H.anchorNode,H.anchorOffset);L.collapse(d);M=T.createRange();M.setStart(H.focusNode,H.focusOffset);M.collapse(d);J=L.compareBoundaryPoints(L.START_TO_END,M)<0;Q=J?H.anchorNode:H.focusNode;P=J?H.anchorOffset:H.focusOffset;u=J?H.focusNode:H.anchorNode;p=J?H.focusOffset:H.anchorOffset;if(Q===u&&/^(TD|TH)$/.test(Q.nodeName)){if(Q.firstChild.nodeName=="BR"){O.remove(Q.firstChild)}if(Q.childNodes.length==0){x.dom.add(Q,X.element,null,"<br />");V=x.dom.add(Q,X.element,null,"<br />")}else{K=Q.innerHTML;Q.innerHTML="";x.dom.add(Q,X.element,null,K);V=x.dom.add(Q,X.element,null,"<br />")}I=T.createRange();I.selectNodeContents(V);I.collapse(1);x.selection.setRng(I);return i}if(Q==W&&u==W&&W.firstChild&&x.dom.isBlock(W.firstChild)){Q=u=Q.firstChild;P=p=0;L=T.createRange();L.setStart(Q,0);M=T.createRange();M.setStart(u,0)}Q=Q.nodeName=="HTML"?T.body:Q;Q=Q.nodeName=="BODY"?Q.firstChild:Q;u=u.nodeName=="HTML"?T.body:u;u=u.nodeName=="BODY"?u.firstChild:u;v=G.getParentBlock(Q);A=G.getParentBlock(u);o=v?v.nodeName:X.element;if(K=G.dom.getParent(v,"li,pre")){if(K.nodeName=="LI"){return e(x.selection,G.dom,K)}return d}if(v&&(v.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(O.getStyle(v,"position",1)))){o=X.element;v=null}if(A&&(A.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(O.getStyle(v,"position",1)))){o=X.element;A=null}if(/(TD|TABLE|TH|CAPTION)/.test(o)||(v&&o=="DIV"&&/left|right/gi.test(O.getStyle(v,"float",1)))){o=X.element;v=A=null}E=(v&&v.nodeName==o)?v.cloneNode(0):x.dom.create(o);V=(A&&A.nodeName==o)?A.cloneNode(0):x.dom.create(o);V.removeAttribute("id");if(/^(H[1-6])$/.test(o)&&g(I,v)){V=x.dom.create(X.element)}K=q=Q;do{if(K==W||K.nodeType==9||G.dom.isBlock(K)||/(TD|TABLE|TH|CAPTION)/.test(K.nodeName)){break}q=K}while((K=K.previousSibling?K.previousSibling:K.parentNode));K=z=u;do{if(K==W||K.nodeType==9||G.dom.isBlock(K)||/(TD|TABLE|TH|CAPTION)/.test(K.nodeName)){break}z=K}while((K=K.nextSibling?K.nextSibling:K.parentNode));if(q.nodeName==o){L.setStart(q,0)}else{L.setStartBefore(q)}L.setEnd(Q,P);E.appendChild(L.cloneContents()||T.createTextNode(""));try{M.setEndAfter(z)}catch(R){}M.setStart(u,p);V.appendChild(M.cloneContents()||T.createTextNode(""));I=T.createRange();if(!q.previousSibling&&q.parentNode.nodeName==o){I.setStartBefore(q.parentNode)}else{if(L.startContainer.nodeName==o&&L.startOffset==0){I.setStartBefore(L.startContainer)}else{I.setStart(L.startContainer,L.startOffset)}}if(!z.nextSibling&&z.parentNode.nodeName==o){I.setEndAfter(z.parentNode)}else{I.setEnd(M.endContainer,M.endOffset)}I.deleteContents();if(b){x.getWin().scrollTo(0,N.y)}if(E.firstChild&&E.firstChild.nodeName==o){E.innerHTML=E.firstChild.innerHTML}if(V.firstChild&&V.firstChild.nodeName==o){V.innerHTML=V.firstChild.innerHTML}if(f(E)){E.innerHTML="<br />"}function U(y,s){var r=[],Z,Y,t;y.innerHTML="";if(X.keep_styles){Y=s;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(Y.nodeName)){Z=Y.cloneNode(i);O.setAttrib(Z,"id","");r.push(Z)}}while(Y=Y.parentNode)}if(r.length>0){for(t=r.length-1,Z=y;t>=0;t--){Z=Z.appendChild(r[t])}r[0].innerHTML=b?"&nbsp;":"<br />";return r[0]}else{y.innerHTML=b?"&nbsp;":"<br />"}}if(f(V)){C=U(V,u)}if(b&&parseFloat(opera.version())<9.5){I.insertNode(E);I.insertNode(V)}else{I.insertNode(V);I.insertNode(E)}V.normalize();E.normalize();function B(r){return T.createTreeWalker(r,NodeFilter.SHOW_TEXT,null,i).nextNode()||r}I=T.createRange();I.selectNodeContents(a?B(C||V):C||V);I.collapse(1);H.removeAllRanges();H.addRange(I);D=x.dom.getPos(V).y;F=V.clientHeight;if(D<N.y||D+F>N.y+N.h){x.getWin().scrollTo(0,D<N.y?D:D-N.h+25)}return i},backspaceDelete:function(v,C){var D=this,u=D.editor,z=u.getBody(),s=u.dom,q,x=u.selection,p=x.getRng(),y=p.startContainer,q,A,B,o;if(!C&&p.collapsed&&y.nodeType==1&&p.startOffset==y.childNodes.length){o=new n.dom.TreeWalker(y.lastChild,y);for(q=y.lastChild;q;q=o.prev()){if(q.nodeType==3){p.setStart(q,q.nodeValue.length);p.collapse(true);x.setRng(p);return}}}if(y&&u.dom.isBlock(y)&&!/^(TD|TH)$/.test(y.nodeName)&&C){if(y.childNodes.length==0||(y.childNodes.length==1&&y.firstChild.nodeName=="BR")){q=y;while((q=q.previousSibling)&&!u.dom.isBlock(q)){}if(q){if(y!=z.firstChild){A=u.dom.doc.createTreeWalker(q,NodeFilter.SHOW_TEXT,null,i);while(B=A.nextNode()){q=B}p=u.getDoc().createRange();p.setStart(q,q.nodeValue?q.nodeValue.length:0);p.setEnd(q,q.nodeValue?q.nodeValue.length:0);x.setRng(p);u.dom.remove(y)}return l.cancel(v)}}}}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each,e=c.extend;c.create("tinymce.ControlManager",{ControlManager:function(f,k){var j=this,g;k=k||{};j.editor=f;j.controls={};j.onAdd=new c.util.Dispatcher(j);j.onPostRender=new c.util.Dispatcher(j);j.prefix=k.prefix||f.id+"_";j._cls={};j.onPostRender.add(function(){d(j.controls,function(i){i.postRender()})})},get:function(f){return this.controls[this.prefix+f]||this.controls[f]},setActive:function(i,f){var g=null;if(g=this.get(i)){g.setActive(f)}return g},setDisabled:function(i,f){var g=null;if(g=this.get(i)){g.setDisabled(f)}return g},add:function(g){var f=this;if(g){f.controls[g.id]=g;f.onAdd.dispatch(g,f)}return g},createControl:function(j){var i,g=this,f=g.editor;d(f.plugins,function(k){if(k.createControl){i=k.createControl(j,g);if(i){return false}}});switch(j){case"|":case"separator":return g.createSeparator()}if(!i&&f.buttons&&(i=f.buttons[j])){return g.createButton(j,i)}return g.add(i)},createDropMenu:function(f,o,i){var n=this,j=n.editor,k,g,l,m;o=e({"class":"mceDropDown",constrain:j.settings.constrain_menus},o);o["class"]=o["class"]+" "+j.getParam("skin")+"Skin";if(l=j.getParam("skin_variant")){o["class"]+=" "+j.getParam("skin")+"Skin"+l.substring(0,1).toUpperCase()+l.substring(1)}f=n.prefix+f;m=i||n._cls.dropmenu||c.ui.DropMenu;k=n.controls[f]=new m(f,o);k.onAddItem.add(function(r,q){var p=q.settings;p.title=j.getLang(p.title,p.title);if(!p.onclick){p.onclick=function(s){if(p.cmd){j.execCommand(p.cmd,p.ui||false,p.value)}}}});j.onRemove.add(function(){k.destroy()});if(c.isIE){k.onShowMenu.add(function(){j.focus();g=j.selection.getBookmark(1)});k.onHideMenu.add(function(){if(g){j.selection.moveToBookmark(g);g=0}})}return n.add(k)},createListBox:function(n,j,m){var i=this,g=i.editor,k,l,f;if(i.get(n)){return null}j.title=g.translate(j.title);j.scope=j.scope||g;if(!j.onselect){j.onselect=function(o){g.execCommand(j.cmd,j.ui||false,o||j.value)}}j=e({title:j.title,"class":"mce_"+n,scope:j.scope,control_manager:i},j);n=i.prefix+n;if(g.settings.use_native_selects){l=new c.ui.NativeListBox(n,j)}else{f=m||i._cls.listbox||c.ui.ListBox;l=new f(n,j)}i.controls[n]=l;if(c.isWebKit){l.onPostRender.add(function(p,o){a.add(o,"mousedown",function(){g.bookmark=g.selection.getBookmark(1)});a.add(o,"focus",function(){g.selection.moveToBookmark(g.bookmark);g.bookmark=null})})}if(l.hideMenu){g.onMouseDown.add(l.hideMenu,l)}return i.add(l)},createButton:function(n,j,m){var i=this,g=i.editor,k,l,f;if(i.get(n)){return null}j.title=g.translate(j.title);j.label=g.translate(j.label);j.scope=j.scope||g;if(!j.onclick&&!j.menu_button){j.onclick=function(){g.execCommand(j.cmd,j.ui||false,j.value)}}j=e({title:j.title,"class":"mce_"+n,unavailable_prefix:g.getLang("unavailable",""),scope:j.scope,control_manager:i},j);n=i.prefix+n;if(j.menu_button){f=m||i._cls.menubutton||c.ui.MenuButton;l=new f(n,j);g.onMouseDown.add(l.hideMenu,l)}else{f=i._cls.button||c.ui.Button;l=new f(n,j)}return i.add(l)},createMenuButton:function(i,f,g){f=f||{};f.menu_button=1;return this.createButton(i,f,g)},createSplitButton:function(n,j,m){var i=this,g=i.editor,k,l,f;if(i.get(n)){return null}j.title=g.translate(j.title);j.scope=j.scope||g;if(!j.onclick){j.onclick=function(o){g.execCommand(j.cmd,j.ui||false,o||j.value)}}if(!j.onselect){j.onselect=function(o){g.execCommand(j.cmd,j.ui||false,o||j.value)}}j=e({title:j.title,"class":"mce_"+n,scope:j.scope,control_manager:i},j);n=i.prefix+n;f=m||i._cls.splitbutton||c.ui.SplitButton;l=i.add(new f(n,j));g.onMouseDown.add(l.hideMenu,l);return l},createColorSplitButton:function(f,o,i){var m=this,k=m.editor,j,l,n,g;if(m.get(f)){return null}o.title=k.translate(o.title);o.scope=o.scope||k;if(!o.onclick){o.onclick=function(p){if(c.isIE){g=k.selection.getBookmark(1)}k.execCommand(o.cmd,o.ui||false,p||o.value)}}if(!o.onselect){o.onselect=function(p){k.execCommand(o.cmd,o.ui||false,p||o.value)}}o=e({title:o.title,"class":"mce_"+f,menu_class:k.getParam("skin")+"Skin",scope:o.scope,more_colors_title:k.getLang("more_colors")},o);f=m.prefix+f;n=i||m._cls.colorsplitbutton||c.ui.ColorSplitButton;l=new n(f,o);k.onMouseDown.add(l.hideMenu,l);k.onRemove.add(function(){l.destroy()});if(c.isIE){l.onShowMenu.add(function(){k.focus();g=k.selection.getBookmark(1)});l.onHideMenu.add(function(){if(g){k.selection.moveToBookmark(g);g=0}})}return m.add(l)},createToolbar:function(l,i,k){var j,g=this,f;l=g.prefix+l;f=k||g._cls.toolbar||c.ui.Toolbar;j=new f(l,i);if(g.get(l)){return null}return g.add(j)},createSeparator:function(g){var f=g||this._cls.separator||c.ui.Separator;return new f()},setControlType:function(g,f){return this._cls[g.toLowerCase()]=f},destroy:function(){d(this.controls,function(f){f.destroy()});this.controls=null}})})(tinymce);(function(d){var a=d.util.Dispatcher,e=d.each,c=d.isIE,b=d.isOpera;d.create("tinymce.WindowManager",{WindowManager:function(f){var g=this;g.editor=f;g.onOpen=new a(g);g.onClose=new a(g);g.params={};g.features={}},open:function(A,i){var z=this,l="",o,n,j=z.editor.settings.dialog_type=="modal",r,q,k,g=d.DOM.getViewPort(),v;A=A||{};i=i||{};q=b?g.w:screen.width;k=b?g.h:screen.height;A.name=A.name||"mc_"+new Date().getTime();A.width=parseInt(A.width||320);A.height=parseInt(A.height||240);A.resizable=true;A.left=A.left||parseInt(q/2)-(A.width/2);A.top=A.top||parseInt(k/2)-(A.height/2);i.inline=false;i.mce_width=A.width;i.mce_height=A.height;i.mce_auto_focus=A.auto_focus;if(j){if(c){A.center=true;A.help=false;A.dialogWidth=A.width+"px";A.dialogHeight=A.height+"px";A.scroll=A.scrollbars||false}}e(A,function(p,f){if(d.is(p,"boolean")){p=p?"yes":"no"}if(!/^(name|url)$/.test(f)){if(c&&j){l+=(l?";":"")+f+":"+p}else{l+=(l?",":"")+f+"="+p}}});z.features=A;z.params=i;z.onOpen.dispatch(z,A,i);v=A.url||A.file;v=d._addVer(v);try{if(c&&j){r=1;window.showModalDialog(v,window,l)}else{r=window.open(v,A.name,l)}}catch(m){}if(!r){alert(z.editor.getLang("popup_blocked"))}},close:function(f){f.close();this.onClose.dispatch(this)},createInstance:function(j,i,g,n,m,l){var k=d.resolve(j);return new k(i,g,n,m,l)},confirm:function(i,f,j,g){g=g||window;f.call(j||this,g.confirm(this._decode(this.editor.getLang(i,i))))},alert:function(i,f,k,g){var j=this;g=g||window;g.alert(j._decode(j.editor.getLang(i,i)));if(f){f.call(k||j)}},resizeBy:function(f,g,i){i.resizeBy(f,g)},_decode:function(f){return d.DOM.decode(f).replace(/\\n/g,"\n")}})}(tinymce));(function(a){function b(){var d={},c={},e={};function f(k,j,i,g){if(typeof(j)=="string"){j=[j]}a.each(j,function(l){k[l.toLowerCase()]={func:i,scope:g}})}a.extend(this,{add:function(j,i,g){f(d,j,i,g)},addQueryStateHandler:function(j,i,g){f(c,j,i,g)},addQueryValueHandler:function(j,i,g){f(e,j,i,g)},execCommand:function(i,l,k,j,g){if(l=d[l.toLowerCase()]){if(l.func.call(i||l.scope,k,j,g)!==false){return true}}},queryCommandValue:function(){if(cmd=e[cmd.toLowerCase()]){return cmd.func.call(scope||cmd.scope,ui,value,args)}},queryCommandState:function(){if(cmd=c[cmd.toLowerCase()]){return cmd.func.call(scope||cmd.scope,ui,value,args)}}})}a.GlobalCommands=new b()})(tinymce);(function(a){a.Formatter=function(U){var L={},N=a.each,c=U.dom,q=U.selection,t=a.dom.TreeWalker,J=new a.dom.RangeUtils(c),d=U.schema.isValid,F=c.isBlock,l=U.settings.forced_root_block,s=c.nodeIndex,E="\uFEFF",e=/^(src|href|style)$/,R=false,B=true,p,O={apply:[],remove:[]};function z(V){return V instanceof Array}function m(W,V){return c.getParents(W,V,c.getRoot())}function b(V){return V.nodeType===1&&(V.face==="mceinline"||V.style.fontFamily==="mceinline")}function Q(V){return V?L[V]:L}function k(V,W){if(V){if(typeof(V)!=="string"){N(V,function(Y,X){k(X,Y)})}else{W=W.length?W:[W];N(W,function(X){if(X.deep===p){X.deep=!X.selector}if(X.split===p){X.split=!X.selector||X.inline}if(X.remove===p&&X.selector&&!X.inline){X.remove="none"}if(X.selector&&X.inline){X.mixed=true;X.block_expand=true}if(typeof(X.classes)==="string"){X.classes=X.classes.split(/\s+/)}});L[V]=W}}}function S(X,ad,Z){var aa=Q(X),ae=aa[0],ac,W,ab;function Y(ah){var ag=ah.startContainer,ak=ah.startOffset,aj,ai;if(ag.nodeType==1||ag.nodeValue===""){ag=ag.nodeType==1?ag.childNodes[ak]:ag;if(ag){aj=new t(ag,ag.parentNode);for(ai=aj.current();ai;ai=aj.next()){if(ai.nodeType==3&&!f(ai)){ah.setStart(ai,0);break}}}}return ah}function V(ah,ag){ag=ag||ae;if(ah){N(ag.styles,function(aj,ai){c.setStyle(ah,ai,r(aj,ad))});N(ag.attributes,function(aj,ai){c.setAttrib(ah,ai,r(aj,ad))});N(ag.classes,function(ai){ai=r(ai,ad);if(!c.hasClass(ah,ai)){c.addClass(ah,ai)}})}}function af(ah){var ag=[],aj,ai;aj=ae.inline||ae.block;ai=c.create(aj);V(ai);J.walk(ah,function(ak){var al;function am(an){var aq=an.nodeName.toLowerCase(),ap=an.parentNode.nodeName.toLowerCase(),ao;if(g(aq,"br")){al=0;if(ae.block){c.remove(an)}return}if(ae.wrapper&&x(an,X,ad)){al=0;return}if(ae.block&&!ae.wrapper&&G(aq)){an=c.rename(an,aj);V(an);ag.push(an);al=0;return}if(ae.selector){N(aa,function(ar){if(c.is(an,ar.selector)&&!b(an)){V(an,ar);ao=true}});if(!ae.inline||ao){al=0;return}}if(d(aj,aq)&&d(ap,aj)){if(!al){al=ai.cloneNode(R);an.parentNode.insertBefore(al,an);ag.push(al)}al.appendChild(an)}else{al=0;N(a.grep(an.childNodes),am);al=0}}N(ak,am)});N(ag,function(am){var ak;function an(ap){var ao=0;N(ap.childNodes,function(aq){if(!f(aq)&&!H(aq)){ao++}});return ao}function al(ao){var aq,ap;N(ao.childNodes,function(ar){if(ar.nodeType==1&&!H(ar)&&!b(ar)){aq=ar;return R}});if(aq&&i(aq,ae)){ap=aq.cloneNode(R);V(ap);c.replace(ap,ao,B);c.remove(aq,1)}return ap||ao}ak=an(am);if(ak===0){c.remove(am,1);return}if(ae.inline||ae.wrapper){if(!ae.exact&&ak===1){am=al(am)}N(aa,function(ao){N(c.select(ao.inline,am),function(ap){T(ao,ad,ap,ao.exact?ap:null)})});if(x(am.parentNode,X,ad)){c.remove(am,1);am=0;return B}if(ae.merge_with_parents){c.getParent(am.parentNode,function(ao){if(x(ao,X,ad)){c.remove(am,1);am=0;return B}})}if(am){am=u(C(am),am);am=u(am,C(am,B))}}})}if(ae){if(Z){W=c.createRng();W.setStartBefore(Z);W.setEndAfter(Z);af(o(W,aa))}else{if(!q.isCollapsed()||!ae.inline){ac=q.getBookmark();af(o(q.getRng(B),aa));q.moveToBookmark(ac);q.setRng(Y(q.getRng(B)));U.nodeChanged()}else{P("apply",X,ad)}}}}function A(X,ag,aa){var ab=Q(X),ai=ab[0],af,ae,W;function Z(al){var ak=al.startContainer,aq=al.startOffset,ap,ao,am,an;if(ak.nodeType==3&&aq>=ak.nodeValue.length-1){ak=ak.parentNode;aq=s(ak)+1}if(ak.nodeType==1){am=ak.childNodes;ak=am[Math.min(aq,am.length-1)];ap=new t(ak);if(aq>am.length-1){ap.next()}for(ao=ap.current();ao;ao=ap.next()){if(ao.nodeType==3&&!f(ao)){an=c.create("a",null,E);ao.parentNode.insertBefore(an,ao);al.setStart(ao,0);q.setRng(al);c.remove(an);return}}}}function Y(an){var am,al,ak;am=a.grep(an.childNodes);for(al=0,ak=ab.length;al<ak;al++){if(T(ab[al],ag,an,an)){break}}if(ai.deep){for(al=0,ak=am.length;al<ak;al++){Y(am[al])}}}function ac(ak){var al;N(m(ak.parentNode).reverse(),function(am){var an;if(!al&&am.id!="_start"&&am.id!="_end"){an=x(am,X,ag);if(an&&an.split!==false){al=am}}});return al}function V(an,ak,ap,at){var au,ar,aq,am,ao,al;if(an){al=an.parentNode;for(au=ak.parentNode;au&&au!=al;au=au.parentNode){ar=au.cloneNode(R);for(ao=0;ao<ab.length;ao++){if(T(ab[ao],ag,ar,ar)){ar=0;break}}if(ar){if(aq){ar.appendChild(aq)}if(!am){am=ar}aq=ar}}if(at&&(!ai.mixed||!F(an))){ak=c.split(an,ak)}if(aq){ap.parentNode.insertBefore(aq,ap);am.appendChild(ap)}}return ak}function ah(ak){return V(ac(ak),ak,ak,true)}function ad(am){var al=c.get(am?"_start":"_end"),ak=al[am?"firstChild":"lastChild"];if(H(ak)){ak=ak[am?"firstChild":"lastChild"]}c.remove(al,true);return ak}function aj(ak){var al,am;ak=o(ak,ab,B);if(ai.split){al=I(ak,B);am=I(ak);if(al!=am){al=M(al,"span",{id:"_start",_mce_type:"bookmark"});am=M(am,"span",{id:"_end",_mce_type:"bookmark"});ah(al);ah(am);al=ad(B);am=ad()}else{al=am=ah(al)}ak.startContainer=al.parentNode;ak.startOffset=s(al);ak.endContainer=am.parentNode;ak.endOffset=s(am)+1}J.walk(ak,function(an){N(an,function(ao){Y(ao)})})}if(aa){W=c.createRng();W.setStartBefore(aa);W.setEndAfter(aa);aj(W);return}if(!q.isCollapsed()||!ai.inline){af=q.getBookmark();aj(q.getRng(B));q.moveToBookmark(af);if(j(X,ag,q.getStart())){Z(q.getRng(true))}U.nodeChanged()}else{P("remove",X,ag)}}function D(V,X,W){if(j(V,X,W)){A(V,X,W)}else{S(V,X,W)}}function x(W,V,ab,Z){var X=Q(V),ac,aa,Y;function ad(ah,aj,ak){var ag,ai,ae=aj[ak],af;if(ae){if(ae.length===p){for(ag in ae){if(ae.hasOwnProperty(ag)){if(ak==="attributes"){ai=c.getAttrib(ah,ag)}else{ai=K(ah,ag)}if(Z&&!ai&&!aj.exact){return}if((!Z||aj.exact)&&!g(ai,r(ae[ag],ab))){return}}}}else{for(af=0;af<ae.length;af++){if(ak==="attributes"?c.getAttrib(ah,ae[af]):K(ah,ae[af])){return aj}}}}return aj}if(X&&W){for(aa=0;aa<X.length;aa++){ac=X[aa];if(i(W,ac)&&ad(W,ac,"attributes")&&ad(W,ac,"styles")){if(Y=ac.classes){for(aa=0;aa<Y.length;aa++){if(!c.hasClass(W,Y[aa])){return}}}return ac}}}}function j(X,aa,Z){var W,Y;function V(ab){ab=c.getParent(ab,function(ac){return !!x(ac,X,aa,true)});return x(ab,X,aa)}if(Z){return V(Z)}if(q.isCollapsed()){for(Y=O.apply.length-1;Y>=0;Y--){if(O.apply[Y].name==X){return true}}for(Y=O.remove.length-1;Y>=0;Y--){if(O.remove[Y].name==X){return false}}return V(q.getNode())}Z=q.getNode();if(V(Z)){return B}W=q.getStart();if(W!=Z){if(V(W)){return B}}return R}function v(ac,ab){var Z,aa=[],Y={},X,W,V;if(q.isCollapsed()){for(W=0;W<ac.length;W++){for(X=O.remove.length-1;X>=0;X--){V=ac[W];if(O.remove[X].name==V){Y[V]=true;break}}}for(X=O.apply.length-1;X>=0;X--){for(W=0;W<ac.length;W++){V=ac[W];if(!Y[V]&&O.apply[X].name==V){Y[V]=true;aa.push(V)}}}}Z=q.getStart();c.getParent(Z,function(af){var ae,ad;for(ae=0;ae<ac.length;ae++){ad=ac[ae];if(!Y[ad]&&x(af,ad,ab)){Y[ad]=true;aa.push(ad)}}});return aa}function y(Z){var ab=Q(Z),Y,X,aa,W,V;if(ab){Y=q.getStart();X=m(Y);for(W=ab.length-1;W>=0;W--){V=ab[W].selector;if(!V){return B}for(aa=X.length-1;aa>=0;aa--){if(c.is(X[aa],V)){return B}}}}return R}a.extend(this,{get:Q,register:k,apply:S,remove:A,toggle:D,match:j,matchAll:v,matchNode:x,canApply:y});function i(V,W){if(g(V,W.inline)){return B}if(g(V,W.block)){return B}if(W.selector){return c.is(V,W.selector)}}function g(W,V){W=W||"";V=V||"";W=""+(W.nodeName||W);V=""+(V.nodeName||V);return W.toLowerCase()==V.toLowerCase()}function K(W,V){var X=c.getStyle(W,V);if(V=="color"||V=="backgroundColor"){X=c.toHex(X)}if(V=="fontWeight"&&X==700){X="bold"}return""+X}function r(V,W){if(typeof(V)!="string"){V=V(W)}else{if(W){V=V.replace(/%(\w+)/g,function(Y,X){return W[X]||Y})}}return V}function f(V){return V&&V.nodeType===3&&/^([\s\r\n]+|)$/.test(V.nodeValue)}function M(X,W,V){var Y=c.create(W,V);X.parentNode.insertBefore(Y,X);Y.appendChild(X);return Y}function o(V,ad,Y){var X=V.startContainer,aa=V.startOffset,ag=V.endContainer,ab=V.endOffset,af,ac;function ae(aj,ak,ah,ai){var al,am;ai=ai||c.getRoot();for(;;){al=aj.parentNode;if(al==ai||(!ad[0].block_expand&&F(al))){return aj}for(af=al[ak];af&&af!=aj;af=af[ah]){if(af.nodeType==1&&!H(af)){return aj}if(af.nodeType==3&&!f(af)){return aj}}aj=aj.parentNode}return aj}if(X.nodeType==1&&X.hasChildNodes()){ac=X.childNodes.length-1;X=X.childNodes[aa>ac?ac:aa];if(X.nodeType==3){aa=0}}if(ag.nodeType==1&&ag.hasChildNodes()){ac=ag.childNodes.length-1;ag=ag.childNodes[ab>ac?ac:ab-1];if(ag.nodeType==3){ab=ag.nodeValue.length}}if(H(X.parentNode)){X=X.parentNode}if(H(X)){X=X.nextSibling||X}if(H(ag.parentNode)){ag=ag.parentNode}if(H(ag)){ag=ag.previousSibling||ag}if(ad[0].inline||ad[0].block_expand){X=ae(X,"firstChild","nextSibling");ag=ae(ag,"lastChild","previousSibling")}if(ad[0].selector&&ad[0].expand!==R&&!ad[0].inline){function Z(ai,ah){var aj,ak,al;if(ai.nodeType==3&&ai.nodeValue.length==0&&ai[ah]){ai=ai[ah]}aj=m(ai);for(ak=0;ak<aj.length;ak++){for(al=0;al<ad.length;al++){if(c.is(aj[ak],ad[al].selector)){return aj[ak]}}}return ai}X=Z(X,"previousSibling");ag=Z(ag,"nextSibling")}if(ad[0].block||ad[0].selector){function W(ai,ah,ak){var aj;if(!ad[0].wrapper){aj=c.getParent(ai,ad[0].block)}if(!aj){aj=c.getParent(ai.nodeType==3?ai.parentNode:ai,F)}if(aj&&ad[0].wrapper){aj=m(aj,"ul,ol").reverse()[0]||aj}if(!aj){aj=ai;while(aj[ah]&&!F(aj[ah])){aj=aj[ah];if(g(aj,"br")){break}}}return aj||ai}X=W(X,"previousSibling");ag=W(ag,"nextSibling");if(ad[0].block){if(!F(X)){X=ae(X,"firstChild","nextSibling")}if(!F(ag)){ag=ae(ag,"lastChild","previousSibling")}}}if(X.nodeType==1){aa=s(X);X=X.parentNode}if(ag.nodeType==1){ab=s(ag)+1;ag=ag.parentNode}return{startContainer:X,startOffset:aa,endContainer:ag,endOffset:ab}}function T(ab,aa,Y,V){var X,W,Z;if(!i(Y,ab)){return R}if(ab.remove!="all"){N(ab.styles,function(ad,ac){ad=r(ad,aa);if(typeof(ac)==="number"){ac=ad;V=0}if(!V||g(K(V,ac),ad)){c.setStyle(Y,ac,"")}Z=1});if(Z&&c.getAttrib(Y,"style")==""){Y.removeAttribute("style");Y.removeAttribute("_mce_style")}N(ab.attributes,function(ae,ac){var ad;ae=r(ae,aa);if(typeof(ac)==="number"){ac=ae;V=0}if(!V||g(c.getAttrib(V,ac),ae)){if(ac=="class"){ae=c.getAttrib(Y,ac);if(ae){ad="";N(ae.split(/\s+/),function(af){if(/mce\w+/.test(af)){ad+=(ad?" ":"")+af}});if(ad){c.setAttrib(Y,ac,ad);return}}}if(ac=="class"){Y.removeAttribute("className")}if(e.test(ac)){Y.removeAttribute("_mce_"+ac)}Y.removeAttribute(ac)}});N(ab.classes,function(ac){ac=r(ac,aa);if(!V||c.hasClass(V,ac)){c.removeClass(Y,ac)}});W=c.getAttribs(Y);for(X=0;X<W.length;X++){if(W[X].nodeName.indexOf("_")!==0){return R}}}if(ab.remove!="none"){n(Y,ab);return B}}function n(X,Y){var V=X.parentNode,W;if(Y.block){if(!l){function Z(ab,aa,ac){ab=C(ab,aa,ac);return !ab||(ab.nodeName=="BR"||F(ab))}if(F(X)&&!F(V)){if(!Z(X,R)&&!Z(X.firstChild,B,1)){X.insertBefore(c.create("br"),X.firstChild)}if(!Z(X,B)&&!Z(X.lastChild,R,1)){X.appendChild(c.create("br"))}}}else{if(V==c.getRoot()){if(!Y.list_block||!g(X,Y.list_block)){N(a.grep(X.childNodes),function(aa){if(d(l,aa.nodeName.toLowerCase())){if(!W){W=M(aa,l)}else{W.appendChild(aa)}}else{W=0}})}}}}if(Y.selector&&Y.inline&&!g(Y.inline,X)){return}c.remove(X,1)}function C(W,V,X){if(W){V=V?"nextSibling":"previousSibling";for(W=X?W:W[V];W;W=W[V]){if(W.nodeType==1||!f(W)){return W}}}}function H(V){return V&&V.nodeType==1&&V.getAttribute("_mce_type")=="bookmark"}function u(Z,Y){var V,X,W;function ab(ae,ad){if(ae.nodeName!=ad.nodeName){return R}function ac(ag){var ah={};N(c.getAttribs(ag),function(ai){var aj=ai.nodeName.toLowerCase();if(aj.indexOf("_")!==0&&aj!=="style"){ah[aj]=c.getAttrib(ag,aj)}});return ah}function af(aj,ai){var ah,ag;for(ag in aj){if(aj.hasOwnProperty(ag)){ah=ai[ag];if(ah===p){return R}if(aj[ag]!=ah){return R}delete ai[ag]}}for(ag in ai){if(ai.hasOwnProperty(ag)){return R}}return B}if(!af(ac(ae),ac(ad))){return R}if(!af(c.parseStyle(c.getAttrib(ae,"style")),c.parseStyle(c.getAttrib(ad,"style")))){return R}return B}if(Z&&Y){function aa(ad,ac){for(X=ad;X;X=X[ac]){if(X.nodeType==3&&!f(X)){return ad}if(X.nodeType==1&&!H(X)){return X}}return ad}Z=aa(Z,"previousSibling");Y=aa(Y,"nextSibling");if(ab(Z,Y)){for(X=Z.nextSibling;X&&X!=Y;){W=X;X=X.nextSibling;Z.appendChild(W)}c.remove(Y);N(a.grep(Y.childNodes),function(ac){Z.appendChild(ac)});return Z}}return Y}function G(V){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(V)}function I(W,Z){var V,Y,X;V=W[Z?"startContainer":"endContainer"];Y=W[Z?"startOffset":"endOffset"];if(V.nodeType==1){X=V.childNodes.length-1;if(!Z&&Y){Y--}V=V.childNodes[Y>X?X:Y]}return V}function P(aa,W,Z){var X,V=O[aa],ab=O[aa=="apply"?"remove":"apply"];function ac(){return O.apply.length||O.remove.length}function Y(){O.apply=[];O.remove=[]}function ad(ae){N(O.apply.reverse(),function(af){S(af.name,af.vars,ae)});N(O.remove.reverse(),function(af){A(af.name,af.vars,ae)});c.remove(ae,1);Y()}for(X=V.length-1;X>=0;X--){if(V[X].name==W){return}}V.push({name:W,vars:Z});for(X=ab.length-1;X>=0;X--){if(ab[X].name==W){ab.splice(X,1)}}if(ac()){U.getDoc().execCommand("FontName",false,"mceinline");O.lastRng=q.getRng();N(c.select("font,span"),function(af){var ae;if(b(af)){ae=q.getBookmark();ad(af);q.moveToBookmark(ae);U.nodeChanged()}});if(!O.isListening&&ac()){O.isListening=true;N("onKeyDown,onKeyUp,onKeyPress,onMouseUp".split(","),function(ae){U[ae].addToTop(function(af,ag){if(ac()&&!a.dom.RangeUtils.compareRanges(O.lastRng,q.getRng())){N(c.select("font,span"),function(ai){var aj,ah;if(b(ai)){aj=ai.firstChild;if(aj){ad(ai);ah=c.createRng();ah.setStart(aj,aj.nodeValue.length);ah.setEnd(aj,aj.nodeValue.length);q.setRng(ah);af.nodeChanged()}else{c.remove(ai)}}});if(ag.type=="keyup"||ag.type=="mouseup"){Y()}}})})}}}}})(tinymce);tinymce.onAddEditor.add(function(e,a){var d,i,g,c=a.settings;if(c.inline_styles){i=e.explode(c.font_size_style_values);function b(k,j){e.each(j,function(m,l){if(m){g.setStyle(k,l,m)}});g.rename(k,"span")}d={font:function(k,j){b(j,{backgroundColor:j.style.backgroundColor,color:j.color,fontFamily:j.face,fontSize:i[parseInt(j.size)-1]})},u:function(k,j){b(j,{textDecoration:"underline"})},strike:function(k,j){b(j,{textDecoration:"line-through"})}};function f(j,k){g=j.dom;if(c.convert_fonts_to_spans){e.each(g.select("font,u,strike",k.node),function(l){d[l.nodeName.toLowerCase()](a.dom,l)})}}a.onPreProcess.add(f);a.onInit.add(function(){a.selection.onSetContent.add(f)})}});