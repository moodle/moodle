define("report_lsusql/userselector",["exports","core/ajax","core/templates"],(function(_exports,_ajax,_templates){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * JavaScript module to work with the auto-complete of users.
   *
   * @module     report_lsusql/userselector
   * @copyright  2020 The Open University
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.processResults=function(selector,results){return results.map((function(user){return{value:user.id,label:user._label}}))},_exports.transport=function(selector,query,success,failure){_ajax.default.call([{methodname:"report_lsusql_get_users",args:{query:query,capability:document.getElementById("id_capability").value}}])[0].then((function(results){return Promise.all(results.map((function(user){return _templates.default.render("report_lsusql/form-user-selector-suggestion",user).then((function(html){return user._label=html,user}))})))})).then(success).catch(failure)},_ajax=_interopRequireDefault(_ajax),_templates=_interopRequireDefault(_templates)}));

//# sourceMappingURL=userselector.min.js.map